<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />

    <!-- MVP.css is really good: https://github.com/andybrewer/mvp/ -->
    <link rel="stylesheet" href="/mvp.css" />

    <meta
      name="description"
      content="A fast monorepo build tool for Javascript, Typescript and more"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:wght@700&family=IBM+Plex+Serif:ital,wght@0,400;0,700;1,400&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="/asciinema-player.css" />
    <title>
      yarn.BUILD | A fast monorepo build tool for Javascript, Typescript and
      more
    </title>
  </head>

  <body>
    <header>
      <h1 style="color: var(--color); font-size: 4rem; margin: 0.1em">
        <span style="font-family: var(--font-family); font-weight: 100"
          >yarn</span
        ><span
          style="
            color: var(--color-secondary);
            font-size: 0.8em;
            font-family: var(--font-family-alt);
          "
          >.BUILD</span
        >
      </h1>
      <br />
      <p>
        <a href="#build" style="font-family: var(--font-family-alt)">BUILD</a>
        and
        <a href="#bundle" style="font-family: var(--font-family-alt)">BUNDLE</a>
        your local workspaces.<br />
        It's like Bazel, Buck and Pants <em>but for Yarn</em>.
      </p>
      <br />
      <section id="asciicinema" style="min-height: 220px">
        <asciinema-player
          src="/build.cast"
          cols="99"
          rows="12"
          autoplay
          preload
          loop
          idle-time-limit="1"
        ></asciinema-player>
      </section>
      <br />
      <p><a href="#how">How it works.</a></p>
    </header>
    <hr />
    <main>
      <section id="install">
        <header>
          <h2>Install</h2>
          <p>
            Run this command in your Yarn project<br />to install (or upgrade
            to) versions.
          </p>
        </header>

        <article style="text-align: center; min-width: 50%">
          <small style="text-transform: uppercase">Yarn 3</small><br />
          <input
            readonly
            class="code"
            onclick="this.setSelectionRange(0, this.value.length)"
            value="yarn plugin import https://yarn.build/latest"
            style="font-weight: bold; text-shadow: 1px 1px 0 var(--color)"
          />
          <p>Or install just the commands you want:</p>
          <input
            readonly
            class="code-subtle"
            onclick="this.setSelectionRange(0, this.value.length)"
            value="yarn plugin import https://yarn.build/latest/build"
          />
          <input
            readonly
            class="code-subtle"
            onclick="this.setSelectionRange(0, this.value.length)"
            value="yarn plugin import https://yarn.build/latest/test"
          />
          <input
            readonly
            class="code-subtle"
            onclick="this.setSelectionRange(0, this.value.length)"
            value="yarn plugin import https://yarn.build/latest/bundle"
          />

          <hr />

          <small style="text-transform: uppercase">Yarn 2</small><br />
          <input
            readonly
            class="code-subtle"
            onclick="this.setSelectionRange(0, this.value.length)"
            value="yarn plugin import https://yarn.build/v2"
          />
        </article>
      </section>
      <hr />
      <section id="about">
        <header>
          <h2>What is this?</h2>
          <p>
            <a href="https://yarn.build"
              ><span style="font-family: var(--font-family); font-weight: 100"
                >yarn</span
              ><span
                style="
                  color: var(--color-secondary);
                  font-size: 0.8em;
                  font-family: var(--font-family-alt);
                "
                >.BUILD</span
              ></a
            >
            is a plugin for <a href="https://yarnpkg.com">Yarn v2 and v3</a>
            <small>(berry)</small>.
          </p>
        </header>

        <aside>
          <h3>Built for Monorepo's</h3>
          <a href="https://yarn.build"
            ><span style="font-family: var(--font-family); font-weight: 100"
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            ></a
          >
          is designed for monorepo's that use
          <a href="https://yarnpkg.com/features/workspaces" target="_blank"
            >yarn workspaces</a
          >.
        </aside>
        <aside>
          <h3>Uses your Dependency Graph</h3>
          <a href="https://yarn.build"
            ><span style="font-family: var(--font-family); font-weight: 100"
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            ></a
          >
          uses the dependency graph you have already defined between your local
          packages.
        </aside>

        <aside>
          <h3>Super Fast Builds</h3>
          With
          <a href="https://yarn.build"
            ><span style="font-family: var(--font-family); font-weight: 100"
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            ></a
          >, builds are run in parallel just like other modern build tools.
        </aside>

        <aside>
          <h3>Only Builds What's Changed</h3>
          <a href="https://yarn.build"
            ><span style="font-family: var(--font-family); font-weight: 100"
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            ></a
          >
          keeps track of whats changed, and will only rebuild packages with
          changes, that are also dependencies.
        </aside>

        <aside>
          <h3>Built in Bundler</h3>
          <a href="https://yarn.build"
            ><span style="font-family: var(--font-family); font-weight: 100"
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            ></a
          >
          also includes a powerful bundle command that can create zips ready for
          <em>AWS Lambda</em>, <em>Kubernetes</em>, <em>Docker</em> or really
          anywhere you can run node.
        </aside>
        <aside>
          <h3>Yarn Plugin</h3>
          <p>
            <span
              style="
                font-family: var(--font-family);
                font-weight: 100;
                color: var(--color);
              "
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            >
            is installed as a Yarn plugin. It is vendored with your repository,
            so that you always have a copy of it.
          </p>
        </aside>
        <aside>
          <h3>Works with any language</h3>
          <p>
            <span
              style="
                font-family: var(--font-family);
                font-weight: 100;
                color: var(--color);
              "
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            >
            runs the build command you put in <code>package.json</code>. If you
            have a polyglot repository you can build your other packages too.
          </p>
        </aside>
      </section>

      <hr />
      <section id="testimonials">
        <blockquote>
          <div
            style="
              font-size: 15rem;
              line-height: 3rem;
              margin: 4rem auto 0 auto;
              color: var(--color-accent);
            "
          >
            &ldquo;
          </div>
          &ldquo;This is by far <strong>my favourite way</strong> to build
          Javascript and Typescript applications.&rdquo;
          <footer>
            Owen Kelly,<br />
            <em>Creator</em>
            <span
              style="
                font-family: var(--font-family);
                font-weight: 100;
                color: var(--color);
              "
              >yarn</span
            ><span
              style="
                color: var(--color-secondary);
                font-size: 0.8em;
                font-family: var(--font-family-alt);
              "
              >.BUILD</span
            >
          </footer>
        </blockquote>
      </section>
      <hr />
      <article id="how">
        <h2>How it works</h2>
        <p>
          <span
            style="
              font-family: var(--font-family);
              font-weight: 100;
              color: var(--color);
            "
            >yarn</span
          ><span
            style="
              color: var(--color-secondary);
              font-size: 0.8em;
              font-family: var(--font-family-alt);
            "
            >.BUILD</span
          >
          doesn't build anything itself. It keeps track of what has been built,
          and what order packages need to be built in.
        </p>
        <p>
          When you run <code>yarn build</code> in the directory of a package, it
          will call the <code>build</code> script in <code>package.json</code>.
        </p>
        <p>
          If you run <code>yarn build</code> from any other directory in your
          yarn workspaces, your whole project will be built.
        </p>
        <p>
          Or run <code>yarn build path/to/package</code> to build just that
          package (or packages in that folder), and their dependencies.
        </p>
        <p>
          Because of this, it's easy to integrate into your existing yarn
          workspaces. And to build packages in langauges other than Javascript.
        </p>
        <p>
          At any time you can add <code>--ignore-cache</code> to force a re-run.
        </p>
      </article>
      <hr />
      <article id="build">
        <h2>Build</h2>
        <p>
          Build a single package (and its dependencies) or all packages in your
          project.
        </p>
        <p>Run <code>yarn build</code></p>
        <asciinema-player
          src="/build.cast"
          cols="99"
          rows="16"
          autoplay
          preload
          loop
          idle-time-limit="1"
        ></asciinema-player>
      </article>
      <hr />
      <article id="bundle">
        <h2>Bundle</h2>
        <p>
          Create a zip file of your package, bundled up ready to be deployed.
        </p>
        <p>
          Run <code>yarn bundle</code> in the directory of the package you want
          to bundle
        </p>

        <asciinema-player
          src="/bundle.cast"
          cols="99"
          rows="16"
          autoplay
          preload
          loop
          idle-time-limit="1"
        ></asciinema-player>
        <p>
          Everything not required (as described in
          <code>package.json#dependencies</code>) is removed, and bundled node
          modules are trimmed to just what's required.
        </p>
        <p>
          A new file is added to the root directory <code>entrypoint.js</code>.
          Running this file will automatically link up Yarn PnP and point to
          your main file in the package that was bundled.
        </p>
        <p>
          This has been specifically designed to allow easy bundling of packages
          for AWS Lambda, but works equally well with Kubernetes and Docker and
          other deployment systems where you can run node.
        </p>
      </article>
      <hr />
      <article id="test">
        <h2>Test</h2>
        <p>Test your packages and their dependencies.</p>
        <p>
          Run <code>yarn test</code> in the directory of the package you want to
          test or run <code>yarn test path/to/package</code>.
        </p>
      </article>
      <hr />
      <footer>
        <p style="text-align: center">
          Made by <a href="https://owenkelly.com.au">Owen Kelly</a> <br />
          MIT License <br />
          <a href="https://github.com/ojkelly/yarn.build">Source</a>
        </p>
      </footer>
    </main>
    <script src="/asciinema-player.js"></script>
  </body>
</html>
