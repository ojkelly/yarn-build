/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-test",
factory: function (require) {
"use strict";var plugin=(()=>{var oN=Object.create;var wo=Object.defineProperty;var aN=Object.getOwnPropertyDescriptor;var uN=Object.getOwnPropertyNames;var cN=Object.getPrototypeOf,lN=Object.prototype.hasOwnProperty;var v=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),dN=(e,t)=>{for(var r in t)wo(e,r,{get:t[r],enumerable:!0})},Im=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of uN(t))!lN.call(e,i)&&i!==r&&wo(e,i,{get:()=>t[i],enumerable:!(n=aN(t,i))||n.enumerable});return e};var te=(e,t,r)=>(r=e!=null?oN(cN(e)):{},Im(t||!e||!e.__esModule?wo(r,"default",{value:e,enumerable:!0}):r,e)),_N=e=>Im(wo({},"__esModule",{value:!0}),e);var Do=c(st=>{"use strict";st.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;st.find=(e,t)=>e.nodes.find(r=>r.type===t);st.exceedsLimit=(e,t,r=1,n)=>n===!1||!st.isInteger(e)||!st.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;st.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};st.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;st.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;st.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;st.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);st.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var xo=c((y5,Lm)=>{"use strict";var Nm=Do();Lm.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&Nm.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Nm.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var wm=c((b5,Mm)=>{"use strict";Mm.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var km=c((v5,Fm)=>{"use strict";var Dm=wm(),Nr=(e,t,r)=>{if(Dm(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Dm(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(Nr.cache.hasOwnProperty(u))return Nr.cache[u].result;let l=Math.min(e,t),d=Math.max(e,t);if(Math.abs(l-d)===1){let E=e+"|"+t;return n.capture?`(${E})`:n.wrap===!1?E:`(?:${E})`}let _=qm(e)||qm(t),f={min:e,max:t,a:l,b:d},p=[],h=[];if(_&&(f.isPadded=_,f.maxLen=String(f.max).length),l<0){let E=d<0?Math.abs(d):1;h=xm(E,Math.abs(l),f,n),l=f.a=0}return d>=0&&(p=xm(l,d,f,n)),f.negatives=h,f.positives=p,f.result=fN(h,p,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&p.length+h.length>1&&(f.result=`(?:${f.result})`),Nr.cache[u]=f,f.result};function fN(e,t,r){let n=Cd(e,t,"-",!1,r)||[],i=Cd(t,e,"",!1,r)||[],s=Cd(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function pN(e,t){let r=1,n=1,i=Um(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=Um(e,r);for(i=Gm(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=Gm(t+1,n)-1;return s=[...s],s.sort(gN),s}function hN(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=EN(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,l]=n[a];u===l?s+=u:u!=="0"||l!=="9"?s+=mN(u,l,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function xm(e,t,r,n){let i=pN(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let l=i[u],d=hN(String(o),String(l),n),_="";if(!r.isPadded&&a&&a.pattern===d.pattern){a.count.length>1&&a.count.pop(),a.count.push(d.count[0]),a.string=a.pattern+jm(a.count),o=l+1;continue}r.isPadded&&(_=SN(l,r,n)),d.string=_+d.pattern+jm(d.count),s.push(d),o=l+1,a=d}return s}function Cd(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Bm(t,"string",a)&&s.push(r+a),n&&Bm(t,"string",a)&&s.push(r+a)}return s}function EN(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function gN(e,t){return e>t?1:t>e?-1:0}function Bm(e,t,r){return e.some(n=>n[t]===r)}function Um(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Gm(e,t){return e-e%Math.pow(10,t)}function jm(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function mN(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function qm(e){return/^-?(0+)\d/.test(e)}function SN(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Nr.cache={};Nr.clearCache=()=>Nr.cache={};Fm.exports=Nr});var Ld=c((P5,zm)=>{"use strict";var AN=v("util"),$m=km(),Hm=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),TN=e=>t=>e===!0?Number(t):String(t),Id=e=>typeof e=="number"||typeof e=="string"&&e!=="",os=e=>Number.isInteger(+e),Nd=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},ON=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,RN=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Vm=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},yN=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},Ym=(e,t,r,n)=>{if(r)return $m(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Km=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return $m(e,t,r)},Wm=(...e)=>new RangeError("Invalid range arguments: "+AN.inspect(...e)),Xm=(e,t,r)=>{if(r.strictRanges===!0)throw Wm([e,t]);return[]},bN=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},vN=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Wm([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),l=String(r);r=Math.max(Math.abs(r),1);let d=Nd(a)||Nd(u)||Nd(l),_=d?Math.max(a.length,u.length,l.length):0,f=d===!1&&ON(e,t,n)===!1,p=n.transform||TN(f);if(n.toRegex&&r===1)return Ym(Vm(e,_),Vm(t,_),!0,n);let h={negatives:[],positives:[]},E=O=>h[O<0?"negatives":"positives"].push(Math.abs(O)),A=[],T=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?E(i):A.push(RN(p(i,T),_,f)),i=o?i-r:i+r,T++;return n.toRegex===!0?r>1?yN(h,n):Km(A,null,{wrap:!1,...n}):A},PN=(e,t,r=1,n={})=>{if(!os(e)&&e.length>1||!os(t)&&t.length>1)return Xm(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),l=Math.max(s,o);if(n.toRegex&&r===1)return Ym(u,l,!1,n);let d=[],_=0;for(;a?s>=o:s<=o;)d.push(i(s,_)),s=a?s-r:s+r,_++;return n.toRegex===!0?Km(d,null,{wrap:!1,options:n}):d},Bo=(e,t,r,n={})=>{if(t==null&&Id(e))return[e];if(!Id(e)||!Id(t))return Xm(e,t,n);if(typeof r=="function")return Bo(e,t,1,{transform:r});if(Hm(r))return Bo(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,os(r)?os(e)&&os(t)?vN(e,t,r,i):PN(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Hm(r)?bN(r,i):Bo(e,t,1,r)};zm.exports=Bo});var Jm=c((C5,Zm)=>{"use strict";var CN=Ld(),Qm=Do(),IN=(e,t={})=>{let r=(n,i={})=>{let s=Qm.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=Qm.reduce(n.nodes),_=CN(...d,{...t,wrap:!1,toRegex:!0});if(_.length!==0)return d.length>1&&_.length>1?`(${_})`:_}if(n.nodes)for(let d of n.nodes)l+=r(d,n);return l};return r(e)};Zm.exports=IN});var rS=c((I5,tS)=>{"use strict";var NN=Ld(),eS=xo(),Un=Do(),Lr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Un.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(Lr(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Lr(i,s,r):i+s);return Un.flatten(n)},LN=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Lr(a.pop(),eS(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Lr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let _=Un.reduce(i.nodes);if(Un.exceedsLimit(..._,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=NN(..._,t);f.length===0&&(f=eS(i,t)),a.push(Lr(a.pop(),f)),i.nodes=[];return}let u=Un.encloseBrace(i),l=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,l=d.queue;for(let _=0;_<i.nodes.length;_++){let f=i.nodes[_];if(f.type==="comma"&&i.type==="brace"){_===1&&l.push(""),l.push("");continue}if(f.type==="close"){a.push(Lr(a.pop(),l,u));continue}if(f.value&&f.type!=="open"){l.push(Lr(l.pop(),f.value));continue}f.nodes&&n(f,i)}return l};return Un.flatten(n(e))};tS.exports=LN});var iS=c((N5,nS)=>{"use strict";nS.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var cS=c((L5,uS)=>{"use strict";var MN=xo(),{MAX_LENGTH:sS,CHAR_BACKSLASH:Md,CHAR_BACKTICK:wN,CHAR_COMMA:DN,CHAR_DOT:xN,CHAR_LEFT_PARENTHESES:BN,CHAR_RIGHT_PARENTHESES:UN,CHAR_LEFT_CURLY_BRACE:GN,CHAR_RIGHT_CURLY_BRACE:jN,CHAR_LEFT_SQUARE_BRACKET:oS,CHAR_RIGHT_SQUARE_BRACKET:aS,CHAR_DOUBLE_QUOTE:qN,CHAR_SINGLE_QUOTE:FN,CHAR_NO_BREAK_SPACE:kN,CHAR_ZERO_WIDTH_NOBREAK_SPACE:HN}=iS(),VN=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(sS,r.maxLength):sS;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,l=e.length,d=0,_=0,f,p={},h=()=>e[d++],E=A=>{if(A.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&A.type==="text"){a.value+=A.value;return}return o.nodes.push(A),A.parent=o,A.prev=a,a=A,A};for(E({type:"bos"});d<l;)if(o=s[s.length-1],f=h(),!(f===HN||f===kN)){if(f===Md){E({type:"text",value:(t.keepEscaping?f:"")+h()});continue}if(f===aS){E({type:"text",value:"\\"+f});continue}if(f===oS){u++;let A=!0,T;for(;d<l&&(T=h());){if(f+=T,T===oS){u++;continue}if(T===Md){f+=h();continue}if(T===aS&&(u--,u===0))break}E({type:"text",value:f});continue}if(f===BN){o=E({type:"paren",nodes:[]}),s.push(o),E({type:"text",value:f});continue}if(f===UN){if(o.type!=="paren"){E({type:"text",value:f});continue}o=s.pop(),E({type:"text",value:f}),o=s[s.length-1];continue}if(f===qN||f===FN||f===wN){let A=f,T;for(t.keepQuotes!==!0&&(f="");d<l&&(T=h());){if(T===Md){f+=T+h();continue}if(T===A){t.keepQuotes===!0&&(f+=T);break}f+=T}E({type:"text",value:f});continue}if(f===GN){_++;let T={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:_,commas:0,ranges:0,nodes:[]};o=E(T),s.push(o),E({type:"open",value:f});continue}if(f===jN){if(o.type!=="brace"){E({type:"text",value:f});continue}let A="close";o=s.pop(),o.close=!0,E({type:A,value:f}),_--,o=s[s.length-1];continue}if(f===DN&&_>0){if(o.ranges>0){o.ranges=0;let A=o.nodes.shift();o.nodes=[A,{type:"text",value:MN(o)}]}E({type:"comma",value:f}),o.commas++;continue}if(f===xN&&_>0&&o.commas===0){let A=o.nodes;if(_===0||A.length===0){E({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){A.pop();let T=A[A.length-1];T.value+=a.value+f,a=T,o.ranges--;continue}E({type:"dot",value:f});continue}E({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let A=s[s.length-1],T=A.nodes.indexOf(o);A.nodes.splice(T,1,...o.nodes)}while(s.length>0);return E({type:"eos"}),i};uS.exports=VN});var _S=c((M5,dS)=>{"use strict";var lS=xo(),$N=Jm(),YN=rS(),KN=cS(),Qe=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Qe.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Qe.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Qe.parse=(e,t={})=>KN(e,t);Qe.stringify=(e,t={})=>lS(typeof e=="string"?Qe.parse(e,t):e,t);Qe.compile=(e,t={})=>(typeof e=="string"&&(e=Qe.parse(e,t)),$N(e,t));Qe.expand=(e,t={})=>{typeof e=="string"&&(e=Qe.parse(e,t));let r=YN(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Qe.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Qe.compile(e,t):Qe.expand(e,t);dS.exports=Qe});var as=c((w5,gS)=>{"use strict";var WN=v("path"),Tt="\\\\/",fS=`[^${Tt}]`,Ht="\\.",XN="\\+",zN="\\?",Uo="\\/",QN="(?=.)",pS="[^/]",wd=`(?:${Uo}|$)`,hS=`(?:^|${Uo})`,Dd=`${Ht}{1,2}${wd}`,ZN=`(?!${Ht})`,JN=`(?!${hS}${Dd})`,eL=`(?!${Ht}{0,1}${wd})`,tL=`(?!${Dd})`,rL=`[^.${Uo}]`,nL=`${pS}*?`,ES={DOT_LITERAL:Ht,PLUS_LITERAL:XN,QMARK_LITERAL:zN,SLASH_LITERAL:Uo,ONE_CHAR:QN,QMARK:pS,END_ANCHOR:wd,DOTS_SLASH:Dd,NO_DOT:ZN,NO_DOTS:JN,NO_DOT_SLASH:eL,NO_DOTS_SLASH:tL,QMARK_NO_DOT:rL,STAR:nL,START_ANCHOR:hS},iL={...ES,SLASH_LITERAL:`[${Tt}]`,QMARK:fS,STAR:`${fS}*?`,DOTS_SLASH:`${Ht}{1,2}(?:[${Tt}]|$)`,NO_DOT:`(?!${Ht})`,NO_DOTS:`(?!(?:^|[${Tt}])${Ht}{1,2}(?:[${Tt}]|$))`,NO_DOT_SLASH:`(?!${Ht}{0,1}(?:[${Tt}]|$))`,NO_DOTS_SLASH:`(?!${Ht}{1,2}(?:[${Tt}]|$))`,QMARK_NO_DOT:`[^.${Tt}]`,START_ANCHOR:`(?:^|[${Tt}])`,END_ANCHOR:`(?:[${Tt}]|$)`},sL={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};gS.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:sL,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:WN.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?iL:ES}}});var us=c(Fe=>{"use strict";var oL=v("path"),aL=process.platform==="win32",{REGEX_BACKSLASH:uL,REGEX_REMOVE_BACKSLASH:cL,REGEX_SPECIAL_CHARS:lL,REGEX_SPECIAL_CHARS_GLOBAL:dL}=as();Fe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Fe.hasRegexChars=e=>lL.test(e);Fe.isRegexChar=e=>e.length===1&&Fe.hasRegexChars(e);Fe.escapeRegex=e=>e.replace(dL,"\\$1");Fe.toPosixSlashes=e=>e.replace(uL,"/");Fe.removeBackslashes=e=>e.replace(cL,t=>t==="\\"?"":t);Fe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Fe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:aL===!0||oL.sep==="\\";Fe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Fe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Fe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Fe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var bS=c((x5,yS)=>{"use strict";var mS=us(),{CHAR_ASTERISK:xd,CHAR_AT:_L,CHAR_BACKWARD_SLASH:cs,CHAR_COMMA:fL,CHAR_DOT:Bd,CHAR_EXCLAMATION_MARK:Ud,CHAR_FORWARD_SLASH:RS,CHAR_LEFT_CURLY_BRACE:Gd,CHAR_LEFT_PARENTHESES:jd,CHAR_LEFT_SQUARE_BRACKET:pL,CHAR_PLUS:hL,CHAR_QUESTION_MARK:SS,CHAR_RIGHT_CURLY_BRACE:EL,CHAR_RIGHT_PARENTHESES:AS,CHAR_RIGHT_SQUARE_BRACKET:gL}=as(),TS=e=>e===RS||e===cs,OS=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},mL=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,l=-1,d=0,_=0,f=!1,p=!1,h=!1,E=!1,A=!1,T=!1,O=!1,R=!1,q=!1,y=!1,B=0,w,x,K={value:"",depth:0,isGlob:!1},ue=()=>l>=n,m=()=>u.charCodeAt(l+1),N=()=>(w=x,u.charCodeAt(++l));for(;l<n;){x=N();let Be;if(x===cs){O=K.backslashes=!0,x=N(),x===Gd&&(T=!0);continue}if(T===!0||x===Gd){for(B++;ue()!==!0&&(x=N());){if(x===cs){O=K.backslashes=!0,N();continue}if(x===Gd){B++;continue}if(T!==!0&&x===Bd&&(x=N())===Bd){if(f=K.isBrace=!0,h=K.isGlob=!0,y=!0,i===!0)continue;break}if(T!==!0&&x===fL){if(f=K.isBrace=!0,h=K.isGlob=!0,y=!0,i===!0)continue;break}if(x===EL&&(B--,B===0)){T=!1,f=K.isBrace=!0,y=!0;break}}if(i===!0)continue;break}if(x===RS){if(s.push(l),o.push(K),K={value:"",depth:0,isGlob:!1},y===!0)continue;if(w===Bd&&l===d+1){d+=2;continue}_=l+1;continue}if(r.noext!==!0&&(x===hL||x===_L||x===xd||x===SS||x===Ud)===!0&&m()===jd){if(h=K.isGlob=!0,E=K.isExtglob=!0,y=!0,x===Ud&&l===d&&(q=!0),i===!0){for(;ue()!==!0&&(x=N());){if(x===cs){O=K.backslashes=!0,x=N();continue}if(x===AS){h=K.isGlob=!0,y=!0;break}}continue}break}if(x===xd){if(w===xd&&(A=K.isGlobstar=!0),h=K.isGlob=!0,y=!0,i===!0)continue;break}if(x===SS){if(h=K.isGlob=!0,y=!0,i===!0)continue;break}if(x===pL){for(;ue()!==!0&&(Be=N());){if(Be===cs){O=K.backslashes=!0,N();continue}if(Be===gL){p=K.isBracket=!0,h=K.isGlob=!0,y=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&x===Ud&&l===d){R=K.negated=!0,d++;continue}if(r.noparen!==!0&&x===jd){if(h=K.isGlob=!0,i===!0){for(;ue()!==!0&&(x=N());){if(x===jd){O=K.backslashes=!0,x=N();continue}if(x===AS){y=!0;break}}continue}break}if(h===!0){if(y=!0,i===!0)continue;break}}r.noext===!0&&(E=!1,h=!1);let L=u,_t="",g="";d>0&&(_t=u.slice(0,d),u=u.slice(d),_-=d),L&&h===!0&&_>0?(L=u.slice(0,_),g=u.slice(_)):h===!0?(L="",g=u):L=u,L&&L!==""&&L!=="/"&&L!==u&&TS(L.charCodeAt(L.length-1))&&(L=L.slice(0,-1)),r.unescape===!0&&(g&&(g=mS.removeBackslashes(g)),L&&O===!0&&(L=mS.removeBackslashes(L)));let S={prefix:_t,input:e,start:d,base:L,glob:g,isBrace:f,isBracket:p,isGlob:h,isExtglob:E,isGlobstar:A,negated:R,negatedExtglob:q};if(r.tokens===!0&&(S.maxDepth=0,TS(x)||o.push(K),S.tokens=o),r.parts===!0||r.tokens===!0){let Be;for(let X=0;X<s.length;X++){let St=Be?Be+1:d,At=s[X],ze=e.slice(St,At);r.tokens&&(X===0&&d!==0?(o[X].isPrefix=!0,o[X].value=_t):o[X].value=ze,OS(o[X]),S.maxDepth+=o[X].depth),(X!==0||ze!=="")&&a.push(ze),Be=At}if(Be&&Be+1<e.length){let X=e.slice(Be+1);a.push(X),r.tokens&&(o[o.length-1].value=X,OS(o[o.length-1]),S.maxDepth+=o[o.length-1].depth)}S.slashes=s,S.parts=a}return S};yS.exports=mL});var IS=c((B5,CS)=>{"use strict";var Go=as(),Ze=us(),{MAX_LENGTH:jo,POSIX_REGEX_SOURCE:SL,REGEX_NON_SPECIAL_CHARS:AL,REGEX_SPECIAL_CHARS_BACKREF:TL,REPLACEMENTS:vS}=Go,OL=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>Ze.escapeRegex(i)).join("..")}return r},Gn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,PS=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=vS[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(jo,r.maxLength):jo,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=Ze.isWindows(t),l=Go.globChars(u),d=Go.extglobChars(l),{DOT_LITERAL:_,PLUS_LITERAL:f,SLASH_LITERAL:p,ONE_CHAR:h,DOTS_SLASH:E,NO_DOT:A,NO_DOT_SLASH:T,NO_DOTS_SLASH:O,QMARK:R,QMARK_NO_DOT:q,STAR:y,START_ANCHOR:B}=l,w=C=>`(${a}(?:(?!${B}${C.dot?E:_}).)*?)`,x=r.dot?"":A,K=r.dot?R:q,ue=r.bash===!0?w(r):y;r.capture&&(ue=`(${ue})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Ze.removePrefix(e,m),i=e.length;let N=[],L=[],_t=[],g=s,S,Be=()=>m.index===i-1,X=m.peek=(C=1)=>e[m.index+C],St=m.advance=()=>e[++m.index]||"",At=()=>e.slice(m.index+1),ze=(C="",ie=0)=>{m.consumed+=C,m.index+=ie},Io=C=>{m.output+=C.output!=null?C.output:C.value,ze(C.value)},iN=()=>{let C=1;for(;X()==="!"&&(X(2)!=="("||X(3)==="?");)St(),m.start++,C++;return C%2===0?!1:(m.negated=!0,m.start++,!0)},No=C=>{m[C]++,_t.push(C)},Ir=C=>{m[C]--,_t.pop()},$=C=>{if(g.type==="globstar"){let ie=m.braces>0&&(C.type==="comma"||C.type==="brace"),b=C.extglob===!0||N.length&&(C.type==="pipe"||C.type==="paren");C.type!=="slash"&&C.type!=="paren"&&!ie&&!b&&(m.output=m.output.slice(0,-g.output.length),g.type="star",g.value="*",g.output=ue,m.output+=g.output)}if(N.length&&C.type!=="paren"&&(N[N.length-1].inner+=C.value),(C.value||C.output)&&Io(C),g&&g.type==="text"&&C.type==="text"){g.value+=C.value,g.output=(g.output||"")+C.value;return}C.prev=g,o.push(C),g=C},Lo=(C,ie)=>{let b={...d[ie],conditions:1,inner:""};b.prev=g,b.parens=m.parens,b.output=m.output;let k=(r.capture?"(":"")+b.open;No("parens"),$({type:C,value:ie,output:m.output?"":h}),$({type:"paren",extglob:!0,value:St(),output:k}),N.push(b)},sN=C=>{let ie=C.close+(r.capture?")":""),b;if(C.type==="negate"){let k=ue;C.inner&&C.inner.length>1&&C.inner.includes("/")&&(k=w(r)),(k!==ue||Be()||/^\)+$/.test(At()))&&(ie=C.close=`)$))${k}`),C.inner.includes("*")&&(b=At())&&/^\.[^\\/.]+$/.test(b)&&(ie=C.close=`)${b})${k})`),C.prev.type==="bos"&&(m.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:S,output:ie}),Ir("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let C=!1,ie=e.replace(TL,(b,k,ce,Ue,ge,Pd)=>Ue==="\\"?(C=!0,b):Ue==="?"?k?k+Ue+(ge?R.repeat(ge.length):""):Pd===0?K+(ge?R.repeat(ge.length):""):R.repeat(ce.length):Ue==="."?_.repeat(ce.length):Ue==="*"?k?k+Ue+(ge?ue:""):ue:k?b:`\\${b}`);return C===!0&&(r.unescape===!0?ie=ie.replace(/\\/g,""):ie=ie.replace(/\\+/g,b=>b.length%2===0?"\\\\":b?"\\":"")),ie===e&&r.contains===!0?(m.output=e,m):(m.output=Ze.wrapOutput(ie,m,t),m)}for(;!Be();){if(S=St(),S==="\0")continue;if(S==="\\"){let b=X();if(b==="/"&&r.bash!==!0||b==="."||b===";")continue;if(!b){S+="\\",$({type:"text",value:S});continue}let k=/^\\+/.exec(At()),ce=0;if(k&&k[0].length>2&&(ce=k[0].length,m.index+=ce,ce%2!==0&&(S+="\\")),r.unescape===!0?S=St():S+=St(),m.brackets===0){$({type:"text",value:S});continue}}if(m.brackets>0&&(S!=="]"||g.value==="["||g.value==="[^")){if(r.posix!==!1&&S===":"){let b=g.value.slice(1);if(b.includes("[")&&(g.posix=!0,b.includes(":"))){let k=g.value.lastIndexOf("["),ce=g.value.slice(0,k),Ue=g.value.slice(k+2),ge=SL[Ue];if(ge){g.value=ce+ge,m.backtrack=!0,St(),!s.output&&o.indexOf(g)===1&&(s.output=h);continue}}}(S==="["&&X()!==":"||S==="-"&&X()==="]")&&(S=`\\${S}`),S==="]"&&(g.value==="["||g.value==="[^")&&(S=`\\${S}`),r.posix===!0&&S==="!"&&g.value==="["&&(S="^"),g.value+=S,Io({value:S});continue}if(m.quotes===1&&S!=='"'){S=Ze.escapeRegex(S),g.value+=S,Io({value:S});continue}if(S==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:S});continue}if(S==="("){No("parens"),$({type:"paren",value:S});continue}if(S===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Gn("opening","("));let b=N[N.length-1];if(b&&m.parens===b.parens+1){sN(N.pop());continue}$({type:"paren",value:S,output:m.parens?")":"\\)"}),Ir("parens");continue}if(S==="["){if(r.nobracket===!0||!At().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Gn("closing","]"));S=`\\${S}`}else No("brackets");$({type:"bracket",value:S});continue}if(S==="]"){if(r.nobracket===!0||g&&g.type==="bracket"&&g.value.length===1){$({type:"text",value:S,output:`\\${S}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Gn("opening","["));$({type:"text",value:S,output:`\\${S}`});continue}Ir("brackets");let b=g.value.slice(1);if(g.posix!==!0&&b[0]==="^"&&!b.includes("/")&&(S=`/${S}`),g.value+=S,Io({value:S}),r.literalBrackets===!1||Ze.hasRegexChars(b))continue;let k=Ze.escapeRegex(g.value);if(m.output=m.output.slice(0,-g.value.length),r.literalBrackets===!0){m.output+=k,g.value=k;continue}g.value=`(${a}${k}|${g.value})`,m.output+=g.value;continue}if(S==="{"&&r.nobrace!==!0){No("braces");let b={type:"brace",value:S,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};L.push(b),$(b);continue}if(S==="}"){let b=L[L.length-1];if(r.nobrace===!0||!b){$({type:"text",value:S,output:S});continue}let k=")";if(b.dots===!0){let ce=o.slice(),Ue=[];for(let ge=ce.length-1;ge>=0&&(o.pop(),ce[ge].type!=="brace");ge--)ce[ge].type!=="dots"&&Ue.unshift(ce[ge].value);k=OL(Ue,r),m.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){let ce=m.output.slice(0,b.outputIndex),Ue=m.tokens.slice(b.tokensIndex);b.value=b.output="\\{",S=k="\\}",m.output=ce;for(let ge of Ue)m.output+=ge.output||ge.value}$({type:"brace",value:S,output:k}),Ir("braces"),L.pop();continue}if(S==="|"){N.length>0&&N[N.length-1].conditions++,$({type:"text",value:S});continue}if(S===","){let b=S,k=L[L.length-1];k&&_t[_t.length-1]==="braces"&&(k.comma=!0,b="|"),$({type:"comma",value:S,output:b});continue}if(S==="/"){if(g.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",o.pop(),g=s;continue}$({type:"slash",value:S,output:p});continue}if(S==="."){if(m.braces>0&&g.type==="dot"){g.value==="."&&(g.output=_);let b=L[L.length-1];g.type="dots",g.output+=S,g.value+=S,b.dots=!0;continue}if(m.braces+m.parens===0&&g.type!=="bos"&&g.type!=="slash"){$({type:"text",value:S,output:_});continue}$({type:"dot",value:S,output:_});continue}if(S==="?"){if(!(g&&g.value==="(")&&r.noextglob!==!0&&X()==="("&&X(2)!=="?"){Lo("qmark",S);continue}if(g&&g.type==="paren"){let k=X(),ce=S;if(k==="<"&&!Ze.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(g.value==="("&&!/[!=<:]/.test(k)||k==="<"&&!/<([!=]|\w+>)/.test(At()))&&(ce=`\\${S}`),$({type:"text",value:S,output:ce});continue}if(r.dot!==!0&&(g.type==="slash"||g.type==="bos")){$({type:"qmark",value:S,output:q});continue}$({type:"qmark",value:S,output:R});continue}if(S==="!"){if(r.noextglob!==!0&&X()==="("&&(X(2)!=="?"||!/[!=<:]/.test(X(3)))){Lo("negate",S);continue}if(r.nonegate!==!0&&m.index===0){iN();continue}}if(S==="+"){if(r.noextglob!==!0&&X()==="("&&X(2)!=="?"){Lo("plus",S);continue}if(g&&g.value==="("||r.regex===!1){$({type:"plus",value:S,output:f});continue}if(g&&(g.type==="bracket"||g.type==="paren"||g.type==="brace")||m.parens>0){$({type:"plus",value:S});continue}$({type:"plus",value:f});continue}if(S==="@"){if(r.noextglob!==!0&&X()==="("&&X(2)!=="?"){$({type:"at",extglob:!0,value:S,output:""});continue}$({type:"text",value:S});continue}if(S!=="*"){(S==="$"||S==="^")&&(S=`\\${S}`);let b=AL.exec(At());b&&(S+=b[0],m.index+=b[0].length),$({type:"text",value:S});continue}if(g&&(g.type==="globstar"||g.star===!0)){g.type="star",g.star=!0,g.value+=S,g.output=ue,m.backtrack=!0,m.globstar=!0,ze(S);continue}let C=At();if(r.noextglob!==!0&&/^\([^?]/.test(C)){Lo("star",S);continue}if(g.type==="star"){if(r.noglobstar===!0){ze(S);continue}let b=g.prev,k=b.prev,ce=b.type==="slash"||b.type==="bos",Ue=k&&(k.type==="star"||k.type==="globstar");if(r.bash===!0&&(!ce||C[0]&&C[0]!=="/")){$({type:"star",value:S,output:""});continue}let ge=m.braces>0&&(b.type==="comma"||b.type==="brace"),Pd=N.length&&(b.type==="pipe"||b.type==="paren");if(!ce&&b.type!=="paren"&&!ge&&!Pd){$({type:"star",value:S,output:""});continue}for(;C.slice(0,3)==="/**";){let Mo=e[m.index+4];if(Mo&&Mo!=="/")break;C=C.slice(3),ze("/**",3)}if(b.type==="bos"&&Be()){g.type="globstar",g.value+=S,g.output=w(r),m.output=g.output,m.globstar=!0,ze(S);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!Ue&&Be()){m.output=m.output.slice(0,-(b.output+g.output).length),b.output=`(?:${b.output}`,g.type="globstar",g.output=w(r)+(r.strictSlashes?")":"|$)"),g.value+=S,m.globstar=!0,m.output+=b.output+g.output,ze(S);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&C[0]==="/"){let Mo=C[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(b.output+g.output).length),b.output=`(?:${b.output}`,g.type="globstar",g.output=`${w(r)}${p}|${p}${Mo})`,g.value+=S,m.output+=b.output+g.output,m.globstar=!0,ze(S+St()),$({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&C[0]==="/"){g.type="globstar",g.value+=S,g.output=`(?:^|${p}|${w(r)}${p})`,m.output=g.output,m.globstar=!0,ze(S+St()),$({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-g.output.length),g.type="globstar",g.output=w(r),g.value+=S,m.output+=g.output,m.globstar=!0,ze(S);continue}let ie={type:"star",value:S,output:ue};if(r.bash===!0){ie.output=".*?",(g.type==="bos"||g.type==="slash")&&(ie.output=x+ie.output),$(ie);continue}if(g&&(g.type==="bracket"||g.type==="paren")&&r.regex===!0){ie.output=S,$(ie);continue}(m.index===m.start||g.type==="slash"||g.type==="dot")&&(g.type==="dot"?(m.output+=T,g.output+=T):r.dot===!0?(m.output+=O,g.output+=O):(m.output+=x,g.output+=x),X()!=="*"&&(m.output+=h,g.output+=h)),$(ie)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gn("closing","]"));m.output=Ze.escapeLast(m.output,"["),Ir("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gn("closing",")"));m.output=Ze.escapeLast(m.output,"("),Ir("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gn("closing","}"));m.output=Ze.escapeLast(m.output,"{"),Ir("braces")}if(r.strictSlashes!==!0&&(g.type==="star"||g.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${p}?`}),m.backtrack===!0){m.output="";for(let C of m.tokens)m.output+=C.output!=null?C.output:C.value,C.suffix&&(m.output+=C.suffix)}return m};PS.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(jo,r.maxLength):jo,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=vS[e]||e;let s=Ze.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:h}=Go.globChars(s),E=r.dot?_:d,A=r.dot?f:d,T=r.capture?"":"?:",O={negated:!1,prefix:""},R=r.bash===!0?".*?":p;r.capture&&(R=`(${R})`);let q=x=>x.noglobstar===!0?R:`(${T}(?:(?!${h}${x.dot?l:o}).)*?)`,y=x=>{switch(x){case"*":return`${E}${u}${R}`;case".*":return`${o}${u}${R}`;case"*.*":return`${E}${R}${o}${u}${R}`;case"*/*":return`${E}${R}${a}${u}${A}${R}`;case"**":return E+q(r);case"**/*":return`(?:${E}${q(r)}${a})?${A}${u}${R}`;case"**/*.*":return`(?:${E}${q(r)}${a})?${A}${R}${o}${u}${R}`;case"**/.*":return`(?:${E}${q(r)}${a})?${o}${u}${R}`;default:{let K=/^(.*?)\.(\w+)$/.exec(x);if(!K)return;let ue=y(K[1]);return ue?ue+o+K[2]:void 0}}},B=Ze.removePrefix(e,O),w=y(B);return w&&r.strictSlashes!==!0&&(w+=`${a}?`),w};CS.exports=PS});var LS=c((U5,NS)=>{"use strict";var RL=v("path"),yL=bS(),qd=IS(),Fd=us(),bL=as(),vL=e=>e&&typeof e=="object"&&!Array.isArray(e),le=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(f=>le(f,t,r));return f=>{for(let p of d){let h=p(f);if(h)return h}return!1}}let n=vL(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=Fd.isWindows(t),o=n?le.compileRe(e,t):le.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let d={...t,ignore:null,onMatch:null,onResult:null};u=le(i.ignore,d,r)}let l=(d,_=!1)=>{let{isMatch:f,match:p,output:h}=le.test(d,o,t,{glob:e,posix:s}),E={glob:e,state:a,regex:o,posix:s,input:d,output:h,match:p,isMatch:f};return typeof i.onResult=="function"&&i.onResult(E),f===!1?(E.isMatch=!1,_?E:!1):u(d)?(typeof i.onIgnore=="function"&&i.onIgnore(E),E.isMatch=!1,_?E:!1):(typeof i.onMatch=="function"&&i.onMatch(E),_?E:!0)};return r&&(l.state=a),l};le.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Fd.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=le.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};le.matchBase=(e,t,r,n=Fd.isWindows(r))=>(t instanceof RegExp?t:le.makeRe(t,r)).test(RL.basename(e));le.isMatch=(e,t,r)=>le(t,r)(e);le.parse=(e,t)=>Array.isArray(e)?e.map(r=>le.parse(r,t)):qd(e,{...t,fastpaths:!1});le.scan=(e,t)=>yL(e,t);le.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=le.toRegex(a,t);return n===!0&&(u.state=e),u};le.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=qd.fastpaths(e,t)),i.output||(i=qd(e,t)),le.compileRe(i,t,r,n)};le.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};le.constants=bL;NS.exports=le});var wS=c((G5,MS)=>{"use strict";MS.exports=LS()});var Hd=c((j5,US)=>{"use strict";var xS=v("util"),BS=_S(),Ot=wS(),kd=us(),DS=e=>e===""||e==="./",ae=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=d=>{s.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let _=Ot(String(t[d]),{...r,onResult:a},!0),f=_.state.negated||_.state.negatedExtglob;f&&o++;for(let p of e){let h=_(p,!0);!(f?!h.isMatch:h.isMatch)||(f?n.add(h.output):(n.delete(h.output),i.add(h.output)))}}let l=(o===t.length?[...s]:[...i]).filter(d=>!n.has(d));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return l};ae.match=ae;ae.matcher=(e,t)=>Ot(e,t);ae.isMatch=(e,t,r)=>Ot(t,r)(e);ae.any=ae.isMatch;ae.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=ae(e,t,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)o.includes(a)||n.add(a);return[...n]};ae.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${xS.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ae.contains(e,n,r));if(typeof t=="string"){if(DS(e)||DS(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ae.isMatch(e,t,{...r,contains:!0})};ae.matchKeys=(e,t,r)=>{if(!kd.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ae(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};ae.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Ot(String(i),r);if(n.some(o=>s(o)))return!0}return!1};ae.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Ot(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};ae.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${xS.inspect(e)}"`);return[].concat(t).every(n=>Ot(n,r)(e))};ae.capture=(e,t,r)=>{let n=kd.isWindows(r),s=Ot.makeRe(String(e),{...r,capture:!0}).exec(n?kd.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};ae.makeRe=(...e)=>Ot.makeRe(...e);ae.scan=(...e)=>Ot.scan(...e);ae.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of BS(String(n),t))r.push(Ot.parse(i,t));return r};ae.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:BS(e,t)};ae.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ae.braces(e,{...t,expand:!0})};US.exports=ae});var IA=c((z5,Jw)=>{Jw.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var MA=c(Je=>{"use strict";var LA=IA(),yt=process.env;Object.defineProperty(Je,"_vendors",{value:LA.map(function(e){return e.constant})});Je.name=null;Je.isPR=null;LA.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return NA(n)});if(Je[e.constant]=r,r)switch(Je.name=e.name,typeof e.pr){case"string":Je.isPR=!!yt[e.pr];break;case"object":"env"in e.pr?Je.isPR=e.pr.env in yt&&yt[e.pr.env]!==e.pr.ne:"any"in e.pr?Je.isPR=e.pr.any.some(function(n){return!!yt[n]}):Je.isPR=NA(e.pr);break;default:Je.isPR=null}});Je.isCI=!!(yt.CI||yt.CONTINUOUS_INTEGRATION||yt.BUILD_NUMBER||yt.RUN_ID||Je.name);function NA(e){return typeof e=="string"?!!yt[e]:Object.keys(e).every(function(t){return yt[t]===e[t]})}});var DA=c((Z5,wA)=>{"use strict";wA.exports=MA().isCI});var BA=c((J5,xA)=>{"use strict";xA.exports=(...e)=>[...new Set([].concat(...e))]});var i_=c((eY,jA)=>{"use strict";var e1=v("stream"),UA=e1.PassThrough,t1=Array.prototype.slice;jA.exports=r1;function r1(){let e=[],t=t1.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=UA(n);function a(){for(let d=0,_=arguments.length;d<_;d++)e.push(GA(arguments[d],n));return u(),this}function u(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(l);return}Array.isArray(d)||(d=[d]);let _=d.length+1;function f(){--_>0||(r=!1,u())}function p(h){function E(){h.removeListener("merge2UnpipeEnd",E),h.removeListener("end",E),s&&h.removeListener("error",A),f()}function A(T){o.emit("error",T)}if(h._readableState.endEmitted)return f();h.on("merge2UnpipeEnd",E),h.on("end",E),s&&h.on("error",A),h.pipe(o,{end:!1}),h.resume()}for(let h=0;h<d.length;h++)p(d[h]);f()}function l(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function GA(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=GA(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(UA(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var qA=c(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.splitWhen=Hn.flatten=void 0;function n1(e){return e.reduce((t,r)=>[].concat(t,r),[])}Hn.flatten=n1;function i1(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}Hn.splitWhen=i1});var FA=c(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.isEnoentCodeError=void 0;function s1(e){return e.code==="ENOENT"}Yo.isEnoentCodeError=s1});var kA=c(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.createDirentFromStats=void 0;var s_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function o1(e,t){return new s_(e,t)}Ko.createDirentFromStats=o1});var HA=c(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.removeLeadingDotSegment=bt.escape=bt.makeAbsolute=bt.unixify=void 0;var a1=v("path"),u1=2,c1=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function l1(e){return e.replace(/\\/g,"/")}bt.unixify=l1;function d1(e,t){return a1.resolve(e,t)}bt.makeAbsolute=d1;function _1(e){return e.replace(c1,"\\$2")}bt.escape=_1;function f1(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(u1)}return e}bt.removeLeadingDotSegment=f1});var $A=c((sY,VA)=>{VA.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var KA=c((oY,YA)=>{var p1=$A(),h1={"{":"}","(":")","[":"]"},E1=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,g1=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;YA.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(p1(t))return!0;var n=E1,i;for(r&&r.strict===!1&&(n=g1);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?h1[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var XA=c((aY,WA)=>{"use strict";var m1=KA(),S1=v("path").posix.dirname,A1=v("os").platform()==="win32",o_="/",T1=/\\/g,O1=/[\{\[].*[\}\]]$/,R1=/(^|[^\\])([\{\[]|\([^\)]+$)/,y1=/\\([\!\*\?\|\[\]\(\)\{\}])/g;WA.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&A1&&t.indexOf(o_)<0&&(t=t.replace(T1,o_)),O1.test(t)&&(t+=o_),t+="a";do t=S1(t);while(m1(t)||R1.test(t));return t.replace(y1,"$1")}});var nT=c(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.matchAny=U.convertPatternsToRe=U.makeRe=U.getPatternParts=U.expandBraceExpansion=U.expandPatternsWithBraceExpansion=U.isAffectDepthOfReadingPattern=U.endsWithSlashGlobStar=U.hasGlobStar=U.getBaseDirectory=U.isPatternRelatedToParentDirectory=U.getPatternsOutsideCurrentDirectory=U.getPatternsInsideCurrentDirectory=U.getPositivePatterns=U.getNegativePatterns=U.isPositivePattern=U.isNegativePattern=U.convertToNegativePattern=U.convertToPositivePattern=U.isDynamicPattern=U.isStaticPattern=void 0;var b1=v("path"),v1=XA(),a_=Hd(),zA="**",P1="\\",C1=/[*?]|^!/,I1=/\[[^[]*]/,N1=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,L1=/[!*+?@]\([^(]*\)/,M1=/,|\.\./;function QA(e,t={}){return!ZA(e,t)}U.isStaticPattern=QA;function ZA(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(P1)||C1.test(e)||I1.test(e)||N1.test(e)||t.extglob!==!1&&L1.test(e)||t.braceExpansion!==!1&&w1(e))}U.isDynamicPattern=ZA;function w1(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return M1.test(n)}function D1(e){return Wo(e)?e.slice(1):e}U.convertToPositivePattern=D1;function x1(e){return"!"+e}U.convertToNegativePattern=x1;function Wo(e){return e.startsWith("!")&&e[1]!=="("}U.isNegativePattern=Wo;function JA(e){return!Wo(e)}U.isPositivePattern=JA;function B1(e){return e.filter(Wo)}U.getNegativePatterns=B1;function U1(e){return e.filter(JA)}U.getPositivePatterns=U1;function G1(e){return e.filter(t=>!u_(t))}U.getPatternsInsideCurrentDirectory=G1;function j1(e){return e.filter(u_)}U.getPatternsOutsideCurrentDirectory=j1;function u_(e){return e.startsWith("..")||e.startsWith("./..")}U.isPatternRelatedToParentDirectory=u_;function q1(e){return v1(e,{flipBackslashes:!1})}U.getBaseDirectory=q1;function F1(e){return e.includes(zA)}U.hasGlobStar=F1;function eT(e){return e.endsWith("/"+zA)}U.endsWithSlashGlobStar=eT;function k1(e){let t=b1.basename(e);return eT(e)||QA(t)}U.isAffectDepthOfReadingPattern=k1;function H1(e){return e.reduce((t,r)=>t.concat(tT(r)),[])}U.expandPatternsWithBraceExpansion=H1;function tT(e){return a_.braces(e,{expand:!0,nodupes:!0})}U.expandBraceExpansion=tT;function V1(e,t){let{parts:r}=a_.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}U.getPatternParts=V1;function rT(e,t){return a_.makeRe(e,t)}U.makeRe=rT;function $1(e,t){return e.map(r=>rT(r,t))}U.convertPatternsToRe=$1;function Y1(e,t){return t.some(r=>r.test(e))}U.matchAny=Y1});var sT=c(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.merge=void 0;var K1=i_();function W1(e){let t=K1(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>iT(e)),t.once("end",()=>iT(e)),t}Xo.merge=W1;function iT(e){e.forEach(t=>t.emit("close"))}});var oT=c(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.isEmpty=Vn.isString=void 0;function X1(e){return typeof e=="string"}Vn.isString=X1;function z1(e){return e===""}Vn.isEmpty=z1});var $t=c(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.string=be.stream=be.pattern=be.path=be.fs=be.errno=be.array=void 0;var Q1=qA();be.array=Q1;var Z1=FA();be.errno=Z1;var J1=kA();be.fs=J1;var eD=HA();be.path=eD;var tD=nT();be.pattern=tD;var rD=sT();be.stream=rD;var nD=oT();be.string=nD});var cT=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.convertPatternGroupToTask=ve.convertPatternGroupsToTasks=ve.groupPatternsByBaseDirectory=ve.getNegativePatternsAsPositive=ve.getPositivePatterns=ve.convertPatternsToTasks=ve.generate=void 0;var Yt=$t();function iD(e,t){let r=aT(e),n=uT(e,t.ignore),i=r.filter(u=>Yt.pattern.isStaticPattern(u,t)),s=r.filter(u=>Yt.pattern.isDynamicPattern(u,t)),o=c_(i,n,!1),a=c_(s,n,!0);return o.concat(a)}ve.generate=iD;function c_(e,t,r){let n=[],i=Yt.pattern.getPatternsOutsideCurrentDirectory(e),s=Yt.pattern.getPatternsInsideCurrentDirectory(e),o=l_(i),a=l_(s);return n.push(...d_(o,t,r)),"."in a?n.push(__(".",s,t,r)):n.push(...d_(a,t,r)),n}ve.convertPatternsToTasks=c_;function aT(e){return Yt.pattern.getPositivePatterns(e)}ve.getPositivePatterns=aT;function uT(e,t){return Yt.pattern.getNegativePatterns(e).concat(t).map(Yt.pattern.convertToPositivePattern)}ve.getNegativePatternsAsPositive=uT;function l_(e){let t={};return e.reduce((r,n)=>{let i=Yt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}ve.groupPatternsByBaseDirectory=l_;function d_(e,t,r){return Object.keys(e).map(n=>__(n,e[n],t,r))}ve.convertPatternGroupsToTasks=d_;function __(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Yt.pattern.convertToNegativePattern))}}ve.convertPatternGroupToTask=__});var dT=c($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.removeDuplicateSlashes=$n.transform=void 0;var sD=/(?!^)\/{2,}/g;function oD(e){return e.map(t=>lT(t))}$n.transform=oD;function lT(e){return e.replace(sD,"/")}$n.removeDuplicateSlashes=lT});var fT=c(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.read=void 0;function aD(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){_T(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){f_(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){_T(r,s);return}f_(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),f_(r,o)})})}zo.read=aD;function _T(e,t){e(t)}function f_(e,t){e(null,t)}});var pT=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.read=void 0;function uD(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Qo.read=uD});var hT=c(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.createFileSystemAdapter=ar.FILE_SYSTEM_ADAPTER=void 0;var Zo=v("fs");ar.FILE_SYSTEM_ADAPTER={lstat:Zo.lstat,stat:Zo.stat,lstatSync:Zo.lstatSync,statSync:Zo.statSync};function cD(e){return e===void 0?ar.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},ar.FILE_SYSTEM_ADAPTER),e)}ar.createFileSystemAdapter=cD});var ET=c(h_=>{"use strict";Object.defineProperty(h_,"__esModule",{value:!0});var lD=hT(),p_=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=lD.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};h_.default=p_});var Dr=c(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.statSync=ur.stat=ur.Settings=void 0;var gT=fT(),dD=pT(),E_=ET();ur.Settings=E_.default;function _D(e,t,r){if(typeof t=="function"){gT.read(e,g_(),t);return}gT.read(e,g_(t),r)}ur.stat=_D;function fD(e,t){let r=g_(t);return dD.read(e,r)}ur.statSync=fD;function g_(e={}){return e instanceof E_.default?e:new E_.default(e)}});var AT=c((SY,ST)=>{var mT;ST.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(mT||(mT=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var OT=c((AY,TT)=>{TT.exports=hD;var pD=AT();function hD(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function l(){t&&t(u,r),t=null}s?pD(l):l()}function a(u,l,d){r[u]=d,(--n===0||l)&&o(l)}n?i?i.forEach(function(u){e[u](function(l,d){a(u,l,d)})}):e.forEach(function(u,l){u(function(d,_){a(l,d,_)})}):o(null),s=!1}});var m_=c(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Jo=process.versions.node.split(".");if(Jo[0]===void 0||Jo[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var RT=Number.parseInt(Jo[0],10),ED=Number.parseInt(Jo[1],10),yT=10,gD=10,mD=RT>yT,SD=RT===yT&&ED>=gD;ea.IS_SUPPORT_READDIR_WITH_FILE_TYPES=mD||SD});var bT=c(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.createDirentFromStats=void 0;var S_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function AD(e,t){return new S_(e,t)}ta.createDirentFromStats=AD});var A_=c(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.fs=void 0;var TD=bT();ra.fs=TD});var T_=c(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.joinPathSegments=void 0;function OD(e,t,r){return e.endsWith(r)?e+t:e+r+t}na.joinPathSegments=OD});var LT=c(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.readdir=cr.readdirWithFileTypes=cr.read=void 0;var RD=Dr(),vT=OT(),yD=m_(),PT=A_(),CT=T_();function bD(e,t,r){if(!t.stats&&yD.IS_SUPPORT_READDIR_WITH_FILE_TYPES){IT(e,t,r);return}NT(e,t,r)}cr.read=bD;function IT(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){ia(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:CT.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){O_(r,s);return}let o=s.map(a=>vD(a,t));vT(o,(a,u)=>{if(a!==null){ia(r,a);return}O_(r,u)})})}cr.readdirWithFileTypes=IT;function vD(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=PT.fs.createDirentFromStats(e.name,i),r(null,e)})}}function NT(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){ia(r,n);return}let s=i.map(o=>{let a=CT.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{RD.stat(a,t.fsStatSettings,(l,d)=>{if(l!==null){u(l);return}let _={name:o,path:a,dirent:PT.fs.createDirentFromStats(o,d)};t.stats&&(_.stats=d),u(null,_)})}});vT(s,(o,a)=>{if(o!==null){ia(r,o);return}O_(r,a)})})}cr.readdir=NT;function ia(e,t){e(t)}function O_(e,t){e(null,t)}});var BT=c(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.readdir=lr.readdirWithFileTypes=lr.read=void 0;var PD=Dr(),CD=m_(),MT=A_(),wT=T_();function ID(e,t){return!t.stats&&CD.IS_SUPPORT_READDIR_WITH_FILE_TYPES?DT(e,t):xT(e,t)}lr.read=ID;function DT(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:wT.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=MT.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}lr.readdirWithFileTypes=DT;function xT(e,t){return t.fs.readdirSync(e).map(n=>{let i=wT.joinPathSegments(e,n,t.pathSegmentSeparator),s=PD.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:MT.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}lr.readdir=xT});var UT=c(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.createFileSystemAdapter=dr.FILE_SYSTEM_ADAPTER=void 0;var Yn=v("fs");dr.FILE_SYSTEM_ADAPTER={lstat:Yn.lstat,stat:Yn.stat,lstatSync:Yn.lstatSync,statSync:Yn.statSync,readdir:Yn.readdir,readdirSync:Yn.readdirSync};function ND(e){return e===void 0?dr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},dr.FILE_SYSTEM_ADAPTER),e)}dr.createFileSystemAdapter=ND});var GT=c(y_=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});var LD=v("path"),MD=Dr(),wD=UT(),R_=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=wD.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,LD.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new MD.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};y_.default=R_});var sa=c(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.Settings=_r.scandirSync=_r.scandir=void 0;var jT=LT(),DD=BT(),b_=GT();_r.Settings=b_.default;function xD(e,t,r){if(typeof t=="function"){jT.read(e,v_(),t);return}jT.read(e,v_(t),r)}_r.scandir=xD;function BD(e,t){let r=v_(t);return DD.read(e,r)}_r.scandirSync=BD;function v_(e={}){return e instanceof b_.default?e:new b_.default(e)}});var FT=c((NY,qT)=>{"use strict";function UD(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}qT.exports=UD});var HT=c((LY,P_)=>{"use strict";var GD=FT();function kT(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=GD(jD),i=null,s=null,o=0,a=null,u={push:E,drain:vt,saturated:vt,pause:d,paused:!1,concurrency:r,running:l,resume:p,idle:h,length:_,getQueue:f,unshift:A,empty:vt,kill:O,killAndDrain:R,error:q};return u;function l(){return o}function d(){u.paused=!0}function _(){for(var y=i,B=0;y;)y=y.next,B++;return B}function f(){for(var y=i,B=[];y;)B.push(y.value),y=y.next;return B}function p(){if(!!u.paused){u.paused=!1;for(var y=0;y<u.concurrency;y++)o++,T()}}function h(){return o===0&&u.length()===0}function E(y,B){var w=n.get();w.context=e,w.release=T,w.value=y,w.callback=B||vt,w.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=w,s=w):(i=w,s=w,u.saturated()):(o++,t.call(e,w.value,w.worked))}function A(y,B){var w=n.get();w.context=e,w.release=T,w.value=y,w.callback=B||vt,o===u.concurrency||u.paused?i?(w.next=i,i=w):(i=w,s=w,u.saturated()):(o++,t.call(e,w.value,w.worked))}function T(y){y&&n.release(y);var B=i;B?u.paused?o--:(s===i&&(s=null),i=B.next,B.next=null,t.call(e,B.value,B.worked),s===null&&u.empty()):--o===0&&u.drain()}function O(){i=null,s=null,u.drain=vt}function R(){i=null,s=null,u.drain(),u.drain=vt}function q(y){a=y}}function vt(){}function jD(){this.value=null,this.callback=vt,this.next=null,this.release=vt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=vt,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function qD(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,d){t.call(this,l).then(function(_){d(null,_)},d)}var i=kT(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(l){return new Promise(function(d,_){s(l,function(f,p){if(f){_(f);return}d(p)})})}function u(l){return new Promise(function(d,_){o(l,function(f,p){if(f){_(f);return}d(p)})})}}P_.exports=kT;P_.exports.promise=qD});var oa=c(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.joinPathSegments=Pt.replacePathSegmentSeparator=Pt.isAppliedFilter=Pt.isFatalError=void 0;function FD(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Pt.isFatalError=FD;function kD(e,t){return e===null||e(t)}Pt.isAppliedFilter=kD;function HD(e,t){return e.split(/[/\\]/).join(t)}Pt.replacePathSegmentSeparator=HD;function VD(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Pt.joinPathSegments=VD});var N_=c(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});var $D=oa(),C_=class{constructor(t,r){this._root=t,this._settings=r,this._root=$D.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};I_.default=C_});var w_=c(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0});var YD=v("events"),KD=sa(),WD=HT(),aa=oa(),XD=N_(),L_=class extends XD.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=KD.scandir,this._emitter=new YD.EventEmitter,this._queue=WD(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!aa.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=aa.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),aa.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&aa.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};M_.default=L_});var VT=c(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});var zD=w_(),D_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new zD.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{QD(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{ZD(t,this._storage)}),this._reader.read()}};x_.default=D_;function QD(e,t){e(t)}function ZD(e,t){e(null,t)}});var $T=c(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});var JD=v("stream"),ex=w_(),B_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new ex.default(this._root,this._settings),this._stream=new JD.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};U_.default=B_});var YT=c(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});var tx=sa(),ua=oa(),rx=N_(),G_=class extends rx.default{constructor(){super(...arguments),this._scandir=tx.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!ua.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=ua.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),ua.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&ua.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};j_.default=G_});var KT=c(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});var nx=YT(),q_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new nx.default(this._root,this._settings)}read(){return this._reader.read()}};F_.default=q_});var WT=c(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});var ix=v("path"),sx=sa(),k_=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,ix.sep),this.fsScandirSettings=new sx.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};H_.default=k_});var $_=c(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.Settings=Ct.walkStream=Ct.walkSync=Ct.walk=void 0;var XT=VT(),ox=$T(),ax=KT(),V_=WT();Ct.Settings=V_.default;function ux(e,t,r){if(typeof t=="function"){new XT.default(e,ca()).read(t);return}new XT.default(e,ca(t)).read(r)}Ct.walk=ux;function cx(e,t){let r=ca(t);return new ax.default(e,r).read()}Ct.walkSync=cx;function lx(e,t){let r=ca(t);return new ox.default(e,r).read()}Ct.walkStream=lx;function ca(e={}){return e instanceof V_.default?e:new V_.default(e)}});var W_=c(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});var dx=v("path"),_x=Dr(),zT=$t(),Y_=class{constructor(t){this._settings=t,this._fsStatSettings=new _x.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return dx.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:zT.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!zT.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};K_.default=Y_});var Q_=c(z_=>{"use strict";Object.defineProperty(z_,"__esModule",{value:!0});var fx=v("stream"),px=Dr(),hx=$_(),Ex=W_(),X_=class extends Ex.default{constructor(){super(...arguments),this._walkStream=hx.walkStream,this._stat=px.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new fx.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};z_.default=X_});var QT=c(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});var Kn=$t(),Z_=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=Kn.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return Kn.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Kn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Kn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Kn.array.splitWhen(t,r=>r.dynamic&&Kn.pattern.hasGlobStar(r.pattern))}};J_.default=Z_});var ZT=c(tf=>{"use strict";Object.defineProperty(tf,"__esModule",{value:!0});var gx=QT(),ef=class extends gx.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,l)=>{let d=s.segments[l];return!!(d.dynamic&&d.patternRe.test(u)||!d.dynamic&&d.pattern===u)}))return!0}return!1}};tf.default=ef});var JT=c(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});var la=$t(),mx=ZT(),rf=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new mx.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(la.pattern.isAffectDepthOfReadingPattern);return la.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=la.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!la.pattern.matchAny(t,r)}};nf.default=rf});var eO=c(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var xr=$t(),sf=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=xr.pattern.convertPatternsToRe(t,this._micromatchOptions),i=xr.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=xr.path.makeAbsolute(this._settings.cwd,t);return xr.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=xr.path.removeLeadingDotSegment(t);return xr.pattern.matchAny(n,r)||xr.pattern.matchAny(n+"/",r)}};of.default=sf});var tO=c(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});var Sx=$t(),af=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Sx.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};uf.default=af});var nO=c(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var rO=$t(),cf=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=rO.path.makeAbsolute(this._settings.cwd,r),r=rO.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};lf.default=cf});var da=c(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var Ax=v("path"),Tx=JT(),Ox=eO(),Rx=tO(),yx=nO(),df=class{constructor(t){this._settings=t,this.errorFilter=new Rx.default(this._settings),this.entryFilter=new Ox.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Tx.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new yx.default(this._settings)}_getRootDirectory(t){return Ax.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};_f.default=df});var iO=c(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});var bx=Q_(),vx=da(),ff=class extends vx.default{constructor(){super(...arguments),this._reader=new bx.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};pf.default=ff});var sO=c(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});var Px=v("stream"),Cx=Q_(),Ix=da(),hf=class extends Ix.default{constructor(){super(...arguments),this._reader=new Cx.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new Px.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Ef.default=hf});var oO=c(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});var Nx=Dr(),Lx=$_(),Mx=W_(),gf=class extends Mx.default{constructor(){super(...arguments),this._walkSync=Lx.walkSync,this._statSync=Nx.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};mf.default=gf});var aO=c(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var wx=oO(),Dx=da(),Sf=class extends Dx.default{constructor(){super(...arguments),this._reader=new wx.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Af.default=Sf});var uO=c(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Wn=v("fs"),xx=v("os"),Bx=Math.max(xx.cpus().length,1);Xn.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Wn.lstat,lstatSync:Wn.lstatSync,stat:Wn.stat,statSync:Wn.statSync,readdir:Wn.readdir,readdirSync:Wn.readdirSync};var Tf=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Bx),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Xn.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Xn.default=Tf});var bf=c((tK,dO)=>{"use strict";var cO=cT(),lO=dT(),Ux=iO(),Gx=sO(),jx=aO(),Of=uO(),Br=$t();async function Rf(e,t){zn(e);let r=yf(e,Ux.default,t),n=await Promise.all(r);return Br.array.flatten(n)}(function(e){function t(o,a){zn(o);let u=yf(o,jx.default,a);return Br.array.flatten(u)}e.sync=t;function r(o,a){zn(o);let u=yf(o,Gx.default,a);return Br.stream.merge(u)}e.stream=r;function n(o,a){zn(o);let u=lO.transform([].concat(o)),l=new Of.default(a);return cO.generate(u,l)}e.generateTasks=n;function i(o,a){zn(o);let u=new Of.default(a);return Br.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return zn(o),Br.path.escape(o)}e.escapePath=s})(Rf||(Rf={}));function yf(e,t,r){let n=lO.transform([].concat(e)),i=new Of.default(r),s=cO.generate(n,i),o=new t(i);return s.map(o.read,o)}function zn(e){if(![].concat(e).every(n=>Br.string.isString(n)&&!Br.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}dO.exports=Rf});var fO=c(Ur=>{"use strict";var{promisify:qx}=v("util"),_O=v("fs");async function vf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await qx(_O[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Pf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return _O[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}Ur.isFile=vf.bind(null,"stat","isFile");Ur.isDirectory=vf.bind(null,"stat","isDirectory");Ur.isSymlink=vf.bind(null,"lstat","isSymbolicLink");Ur.isFileSync=Pf.bind(null,"statSync","isFile");Ur.isDirectorySync=Pf.bind(null,"statSync","isDirectory");Ur.isSymlinkSync=Pf.bind(null,"lstatSync","isSymbolicLink")});var mO=c((nK,Cf)=>{"use strict";var Gr=v("path"),pO=fO(),hO=e=>e.length>1?`{${e.join(",")}}`:e[0],EO=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return Gr.isAbsolute(r)?r:Gr.join(t,r)},Fx=(e,t)=>Gr.extname(e)?`**/${e}`:`**/${e}.${hO(t)}`,gO=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>Gr.posix.join(e,Fx(r,t.extensions))):t.files?t.files.map(r=>Gr.posix.join(e,`**/${r}`)):t.extensions?[Gr.posix.join(e,`**/*.${hO(t.extensions)}`)]:[Gr.posix.join(e,"**")]};Cf.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await pO.isDirectory(EO(n,t.cwd))?gO(n,t):n));return[].concat.apply([],r)};Cf.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>pO.isDirectorySync(EO(n,t.cwd))?gO(n,t):n);return[].concat.apply([],r)}});var PO=c((iK,vO)=>{function SO(e){return Array.isArray(e)?e:[e]}var RO="",AO=" ",If="\\",kx=/^\s+$/,Hx=/^\\!/,Vx=/^\\#/,$x=/\r?\n/g,Yx=/^\.*\/|^\.+$/,Nf="/",TO=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",Kx=(e,t,r)=>Object.defineProperty(e,t,{value:r}),Wx=/([0-z])-([0-z])/g,yO=()=>!1,Xx=e=>e.replace(Wx,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:RO),zx=e=>{let{length:t}=e;return e.slice(0,t-t%2)},Qx=[[/\\?\s+$/,e=>e.indexOf("\\")===0?AO:RO],[/\\\s/g,()=>AO],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>If],[/\\\\/g,()=>If],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===If?`\\[${r}${zx(n)}${i}`:i==="]"&&n.length%2===0?`[${Xx(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],OO=Object.create(null),Zx=(e,t)=>{let r=OO[e];return r||(r=Qx.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),OO[e]=r),t?new RegExp(r,"i"):new RegExp(r)},wf=e=>typeof e=="string",Jx=e=>e&&wf(e)&&!kx.test(e)&&e.indexOf("#")!==0,eB=e=>e.split($x),Lf=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},tB=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(Hx,"!").replace(Vx,"#");let i=Zx(e,t);return new Lf(r,e,n,i)},rB=(e,t)=>{throw new t(e)},Kt=(e,t,r)=>wf(e)?e?Kt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),bO=e=>Yx.test(e);Kt.isNotRelative=bO;Kt.convert=e=>e;var Mf=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){Kx(this,TO,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[TO]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(Jx(t)){let r=tB(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,SO(wf(t)?eB(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Kt.convert(t);return Kt(s,t,this._allowRelativePaths?yO:rB),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Nf)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(Nf)+Nf,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return SO(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},_a=e=>new Mf(e),nB=e=>Kt(e&&Kt.convert(e),e,yO);_a.isPathValid=nB;_a.default=_a;vO.exports=_a;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Kt.convert=e;let t=/^[a-z]:\//i;Kt.isNotRelative=r=>t.test(r)||bO(r)}});var IO=c((sK,CO)=>{"use strict";CO.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var BO=c((oK,Df)=>{"use strict";var{promisify:iB}=v("util"),NO=v("fs"),Wt=v("path"),LO=bf(),sB=PO(),Es=IO(),MO=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],oB=iB(NO.readFile),aB=e=>t=>t.startsWith("!")?"!"+Wt.posix.join(e,t.slice(1)):Wt.posix.join(e,t),uB=(e,t)=>{let r=Es(Wt.relative(t.cwd,Wt.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(aB(r))},wO=e=>{let t=sB();for(let r of e)t.add(uB(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},cB=(e,t)=>{if(e=Es(e),Wt.isAbsolute(t)){if(Es(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return Wt.join(e,t)},DO=(e,t)=>r=>e.ignores(Es(Wt.relative(t,cB(t,r.path||r)))),lB=async(e,t)=>{let r=Wt.join(t,e),n=await oB(r,"utf8");return{cwd:t,filePath:r,content:n}},dB=(e,t)=>{let r=Wt.join(t,e),n=NO.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},xO=({ignore:e=[],cwd:t=Es(process.cwd())}={})=>({ignore:e,cwd:t});Df.exports=async e=>{e=xO(e);let t=await LO("**/.gitignore",{ignore:MO.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>lB(i,e.cwd))),n=wO(r);return DO(n,e.cwd)};Df.exports.sync=e=>{e=xO(e);let r=LO.sync("**/.gitignore",{ignore:MO.concat(e.ignore),cwd:e.cwd}).map(i=>dB(i,e.cwd)),n=wO(r);return DO(n,e.cwd)}});var GO=c((aK,UO)=>{"use strict";var{Transform:_B}=v("stream"),fa=class extends _B{constructor(){super({objectMode:!0})}},xf=class extends fa{constructor(t){super(),this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},Bf=class extends fa{constructor(){super(),this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};UO.exports={FilterStream:xf,UniqueStream:Bf}});var HO=c((uK,jr)=>{"use strict";var qO=v("fs"),pa=BA(),fB=i_(),ha=bf(),Ea=mO(),Uf=BO(),{FilterStream:pB,UniqueStream:hB}=GO(),FO=()=>!1,jO=e=>e[0]==="!",EB=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},gB=(e={})=>{if(!e.cwd)return;let t;try{t=qO.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},mB=e=>e.stats instanceof qO.Stats?e.path:e,ga=(e,t)=>{e=pa([].concat(e)),EB(e),gB(t);let r=[];t={ignore:[],expandDirectories:!0,...t};for(let[n,i]of e.entries()){if(jO(i))continue;let s=e.slice(n).filter(a=>jO(a)).map(a=>a.slice(1)),o={...t,ignore:t.ignore.concat(s)};r.push({pattern:i,options:o})}return r},SB=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)},Gf=(e,t)=>e.options.expandDirectories?SB(e,t):[e.pattern],kO=e=>e&&e.gitignore?Uf.sync({cwd:e.cwd,ignore:e.ignore}):FO,jf=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Ea.sync(r.ignore)),{pattern:t,options:r}};jr.exports=async(e,t)=>{let r=ga(e,t),n=async()=>t&&t.gitignore?Uf({cwd:t.cwd,ignore:t.ignore}):FO,i=async()=>{let u=await Promise.all(r.map(async l=>{let d=await Gf(l,Ea);return Promise.all(d.map(jf(l)))}));return pa(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>ha(u.pattern,u.options)));return pa(...a).filter(u=>!s(mB(u)))};jr.exports.sync=(e,t)=>{let r=ga(e,t),n=[];for(let o of r){let a=Gf(o,Ea.sync).map(jf(o));n.push(...a)}let i=kO(t),s=[];for(let o of n)s=pa(s,ha.sync(o.pattern,o.options));return s.filter(o=>!i(o))};jr.exports.stream=(e,t)=>{let r=ga(e,t),n=[];for(let a of r){let u=Gf(a,Ea.sync).map(jf(a));n.push(...u)}let i=kO(t),s=new pB(a=>!i(a)),o=new hB;return fB(n.map(a=>ha.stream(a.pattern,a.options))).pipe(s).pipe(o)};jr.exports.generateGlobTasks=ga;jr.exports.hasMagic=(e,t)=>[].concat(e).some(r=>ha.isDynamicPattern(r,t));jr.exports.gitignore=Uf});var $O=c((cK,qf)=>{"use strict";var AB=Object.prototype.hasOwnProperty,Ge="~";function gs(){}Object.create&&(gs.prototype=Object.create(null),new gs().__proto__||(Ge=!1));function TB(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function VO(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new TB(r,n||e,i),o=Ge?Ge+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function ma(e,t){--e._eventsCount===0?e._events=new gs:delete e._events[t]}function Pe(){this._events=new gs,this._eventsCount=0}Pe.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)AB.call(r,n)&&t.push(Ge?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Pe.prototype.listeners=function(t){var r=Ge?Ge+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Pe.prototype.listenerCount=function(t){var r=Ge?Ge+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Pe.prototype.emit=function(t,r,n,i,s,o){var a=Ge?Ge+t:t;if(!this._events[a])return!1;var u=this._events[a],l=arguments.length,d,_;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,o),!0}for(_=1,d=new Array(l-1);_<l;_++)d[_-1]=arguments[_];u.fn.apply(u.context,d)}else{var f=u.length,p;for(_=0;_<f;_++)switch(u[_].once&&this.removeListener(t,u[_].fn,void 0,!0),l){case 1:u[_].fn.call(u[_].context);break;case 2:u[_].fn.call(u[_].context,r);break;case 3:u[_].fn.call(u[_].context,r,n);break;case 4:u[_].fn.call(u[_].context,r,n,i);break;default:if(!d)for(p=1,d=new Array(l-1);p<l;p++)d[p-1]=arguments[p];u[_].fn.apply(u[_].context,d)}}return!0};Pe.prototype.on=function(t,r,n){return VO(this,t,r,n,!1)};Pe.prototype.once=function(t,r,n){return VO(this,t,r,n,!0)};Pe.prototype.removeListener=function(t,r,n,i){var s=Ge?Ge+t:t;if(!this._events[s])return this;if(!r)return ma(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&ma(this,s);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[s]=u.length===1?u[0]:u:ma(this,s)}return this};Pe.prototype.removeAllListeners=function(t){var r;return t?(r=Ge?Ge+t:t,this._events[r]&&ma(this,r)):(this._events=new gs,this._eventsCount=0),this};Pe.prototype.off=Pe.prototype.removeListener;Pe.prototype.addListener=Pe.prototype.on;Pe.prefixed=Ge;Pe.EventEmitter=Pe;typeof qf<"u"&&(qf.exports=Pe)});var KO=c((lK,YO)=>{"use strict";YO.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var XO=c((dK,Aa)=>{"use strict";var OB=KO(),Sa=class extends Error{constructor(t){super(t),this.name="TimeoutError"}},WO=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Sa(o);typeof e.cancel=="function"&&e.cancel(),i(a)},t);OB(e.then(n,i),()=>{clearTimeout(s)})});Aa.exports=WO;Aa.exports.default=WO;Aa.exports.TimeoutError=Sa});var zO=c(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});function RB(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}Ff.default=RB});var QO=c(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});var yB=zO(),kf=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=yB.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t?.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};Hf.default=kf});var JO=c($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});var bB=$O(),ZO=XO(),vB=QO(),Ta=()=>{},PB=new ZO.TimeoutError,Vf=class extends bB{constructor(t){var r,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Ta,this._resolveIdle=Ta,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:vB.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Ta,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Ta,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():ZO.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(PB)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};$f.default=Vf});var tR=c((hK,Yf)=>{"use strict";var eR=(e,...t)=>new Promise(r=>{r(e(...t))});Yf.exports=eR;Yf.exports.default=eR});var nR=c((EK,Kf)=>{"use strict";var CB=tR(),rR=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...l)=>{r++;let d=CB(a,...l);u(d),d.then(n,n)},s=(a,u,...l)=>{r<e?i(a,u,...l):t.push(i.bind(null,a,u,...l))},o=(a,...u)=>new Promise(l=>s(a,l,...u));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};Kf.exports=rR;Kf.exports.default=rR});var iR=c(Xf=>{"use strict";var Oa=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Xf.Semaphore=Oa;var Wf=class extends Oa{constructor(){super(1)}};Xf.Mutex=Wf});var oR=c((mK,sR)=>{"use strict";sR.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var zf=c((SK,aR)=>{"use strict";var IB=oR();aR.exports=e=>typeof e=="string"?e.replace(IB(),""):e});var cR=c((AK,Qf)=>{"use strict";var uR=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);Qf.exports=uR;Qf.exports.default=uR});var _R=c((TK,dR)=>{"use strict";var lR="[\uD800-\uDBFF][\uDC00-\uDFFF]",NB=e=>e&&e.exact?new RegExp(`^${lR}$`):new RegExp(lR,"g");dR.exports=NB});var pR=c((OK,fR)=>{"use strict";fR.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Zf=c((RK,ER)=>{var ms=pR(),hR={};for(let e of Object.keys(ms))hR[ms[e]]=e;var I={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ER.exports=I;for(let e of Object.keys(I)){if(!("channels"in I[e]))throw new Error("missing channels property: "+e);if(!("labels"in I[e]))throw new Error("missing channel labels property: "+e);if(I[e].labels.length!==I[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=I[e];delete I[e].channels,delete I[e].labels,Object.defineProperty(I[e],"channels",{value:t}),Object.defineProperty(I[e],"labels",{value:r})}I.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let l=(i+s)/2;return s===i?u=0:l<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,l*100]};I.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,l=Math.max(o,a,u),d=l-Math.min(o,a,u),_=function(f){return(l-f)/6/d+1/2};return d===0?(i=0,s=0):(s=d/l,t=_(o),r=_(a),n=_(u),o===l?i=n-r:a===l?i=1/3+t-n:u===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,l*100]};I.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=I.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};I.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function LB(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}I.rgb.keyword=function(e){let t=hR[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(ms)){let s=ms[i],o=LB(e,s);o<r&&(r=o,n=i)}return n};I.keyword.rgb=function(e){return ms[e]};I.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};I.rgb.lab=function(e){let t=I.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};I.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let l=0;l<3;l++)s=t+1/3*-(l-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[l]=o*255;return u};I.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};I.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};I.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};I.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),l,d,_;switch(o){default:case 6:case 0:l=a,d=u,_=r;break;case 1:l=u,d=a,_=r;break;case 2:l=r,d=a,_=u;break;case 3:l=r,d=u,_=a;break;case 4:l=u,d=r,_=a;break;case 5:l=a,d=r,_=u;break}return[l*255,d*255,_*255]};I.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};I.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};I.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};I.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,l=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};I.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};I.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};I.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?I.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};I.hsv.ansi16=function(e){return I.rgb.ansi16(I.hsv.rgb(e),e[2])};I.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};I.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};I.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};I.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};I.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};I.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};I.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};I.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};I.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};I.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};I.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};I.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};I.hwb.hcg=function(e){let t=e[1]/100,n=1-e[2]/100,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};I.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};I.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};I.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};I.gray.hsl=function(e){return[0,0,e[0]]};I.gray.hsv=I.gray.hsl;I.gray.hwb=function(e){return[0,100,e[0]]};I.gray.cmyk=function(e){return[0,0,0,e[0]]};I.gray.lab=function(e){return[e[0],0,0]};I.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};I.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var mR=c((yK,gR)=>{var Ra=Zf();function MB(){let e={},t=Object.keys(Ra);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function wB(e){let t=MB(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(Ra[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function DB(e,t){return function(r){return t(e(r))}}function xB(e,t){let r=[t[e].parent,e],n=Ra[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=DB(Ra[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}gR.exports=function(e){let t=wB(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=xB(o,t))}return r}});var AR=c((bK,SR)=>{var Jf=Zf(),BB=mR(),Qn={},UB=Object.keys(Jf);function GB(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function jB(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}UB.forEach(e=>{Qn[e]={},Object.defineProperty(Qn[e],"channels",{value:Jf[e].channels}),Object.defineProperty(Qn[e],"labels",{value:Jf[e].labels});let t=BB(e);Object.keys(t).forEach(n=>{let i=t[n];Qn[e][n]=jB(i),Qn[e][n].raw=GB(i)})});SR.exports=Qn});var vR=c((vK,bR)=>{"use strict";var TR=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,OR=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};5;${n}m`},RR=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},ya=e=>e,yR=(e,t,r)=>[e,t,r],Zn=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},ep,Jn=(e,t,r,n)=>{ep===void 0&&(ep=AR());let i=n?10:0,s={};for(let[o,a]of Object.entries(ep)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function qB(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",Zn(t.color,"ansi",()=>Jn(TR,"ansi16",ya,!1)),Zn(t.color,"ansi256",()=>Jn(OR,"ansi256",ya,!1)),Zn(t.color,"ansi16m",()=>Jn(RR,"rgb",yR,!1)),Zn(t.bgColor,"ansi",()=>Jn(TR,"ansi16",ya,!0)),Zn(t.bgColor,"ansi256",()=>Jn(OR,"ansi256",ya,!0)),Zn(t.bgColor,"ansi16m",()=>Jn(RR,"rgb",yR,!0)),t}Object.defineProperty(bR,"exports",{enumerable:!0,get:qB})});var LR=c((PK,NR)=>{"use strict";var FB=cR(),kB=_R(),PR=vR(),IR=["\x1B","\x9B"],ba=e=>`${IR[0]}[${e}m`,CR=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let s=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let o=PR.codes.get(Number.parseInt(i,10));if(o){let a=e.indexOf(o.toString());a===-1?n.push(ba(t?o:s)):e.splice(a,1)}else if(t){n.push(ba(0));break}else n.push(ba(s))}if(t&&(n=n.filter((i,s)=>n.indexOf(i)===s),r!==void 0)){let i=ba(PR.codes.get(Number.parseInt(r,10)));n=n.reduce((s,o)=>o===i?[o,...s]:[...s,o],[])}return n.join("")};NR.exports=(e,t,r)=>{let n=[...e],i=[],s=typeof r=="number"?r:n.length,o=!1,a,u=0,l="";for(let[d,_]of n.entries()){let f=!1;if(IR.includes(_)){let p=/\d[^m]*/.exec(e.slice(d,d+18));a=p&&p.length>0?p[0]:void 0,u<s&&(o=!0,a!==void 0&&i.push(a))}else o&&_==="m"&&(o=!1,f=!0);if(!o&&!f&&u++,!kB({exact:!0}).test(_)&&FB(_.codePointAt())&&(u++,typeof r!="number"&&s++),u>t&&u<=s)l+=_;else if(u===t&&!o&&a!==void 0)l=CR(i);else if(u>=s){l+=CR(i,!0,a);break}}return l}});var MR=c(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va._globalThis=void 0;va._globalThis=typeof globalThis=="object"?globalThis:global});var wR=c(qr=>{"use strict";var HB=qr&&qr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VB=qr&&qr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HB(t,e,r)};Object.defineProperty(qr,"__esModule",{value:!0});VB(MR(),qr)});var DR=c(Fr=>{"use strict";var $B=Fr&&Fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YB=Fr&&Fr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&$B(t,e,r)};Object.defineProperty(Fr,"__esModule",{value:!0});YB(wR(),Fr)});var tp=c(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.VERSION=void 0;Pa.VERSION="1.7.0"});var UR=c(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.isCompatible=ei._makeCompatibilityCheck=void 0;var KB=tp(),xR=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function BR(e){let t=new Set([e]),r=new Set,n=e.match(xR);if(!n)return()=>!1;let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;let l=u.match(xR);if(!l)return s(u);let d={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return d.prerelease!=null||i.major!==d.major?s(u):i.major===0?i.minor===d.minor&&i.patch<=d.patch?o(u):s(u):i.minor<=d.minor?o(u):s(u)}}ei._makeCompatibilityCheck=BR;ei.isCompatible=BR(KB.VERSION)});var kr=c(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.unregisterGlobal=fr.getGlobal=fr.registerGlobal=void 0;var WB=DR(),ti=tp(),XB=UR(),zB=ti.VERSION.split(".")[0],Ss=Symbol.for(`opentelemetry.js.api.${zB}`),As=WB._globalThis;function QB(e,t,r,n=!1){var i;let s=As[Ss]=(i=As[Ss])!==null&&i!==void 0?i:{version:ti.VERSION};if(!n&&s[e]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(o.stack||o.message),!1}if(s.version!==ti.VERSION){let o=new Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${ti.VERSION}`);return r.error(o.stack||o.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${ti.VERSION}.`),!0}fr.registerGlobal=QB;function ZB(e){var t,r;let n=(t=As[Ss])===null||t===void 0?void 0:t.version;if(!(!n||!(0,XB.isCompatible)(n)))return(r=As[Ss])===null||r===void 0?void 0:r[e]}fr.getGlobal=ZB;function JB(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${ti.VERSION}.`);let r=As[Ss];r&&delete r[e]}fr.unregisterGlobal=JB});var GR=c(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.DiagComponentLogger=void 0;var eU=kr(),rp=class{constructor(t){this._namespace=t.namespace||"DiagComponentLogger"}debug(...t){return Ts("debug",this._namespace,t)}error(...t){return Ts("error",this._namespace,t)}info(...t){return Ts("info",this._namespace,t)}warn(...t){return Ts("warn",this._namespace,t)}verbose(...t){return Ts("verbose",this._namespace,t)}};Ca.DiagComponentLogger=rp;function Ts(e,t,r){let n=(0,eU.getGlobal)("diag");if(!!n)return r.unshift(t),n[e](...r)}});var Ia=c(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.DiagLogLevel=void 0;var tU;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(tU=Os.DiagLogLevel||(Os.DiagLogLevel={}))});var jR=c(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.createLogLevelDiagLogger=void 0;var Xt=Ia();function rU(e,t){e<Xt.DiagLogLevel.NONE?e=Xt.DiagLogLevel.NONE:e>Xt.DiagLogLevel.ALL&&(e=Xt.DiagLogLevel.ALL),t=t||{};function r(n,i){let s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",Xt.DiagLogLevel.ERROR),warn:r("warn",Xt.DiagLogLevel.WARN),info:r("info",Xt.DiagLogLevel.INFO),debug:r("debug",Xt.DiagLogLevel.DEBUG),verbose:r("verbose",Xt.DiagLogLevel.VERBOSE)}}Na.createLogLevelDiagLogger=rU});var Hr=c(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.DiagAPI=void 0;var nU=GR(),iU=jR(),qR=Ia(),La=kr(),sU="diag",Rs=class{constructor(){function t(i){return function(...s){let o=(0,La.getGlobal)("diag");if(!!o)return o[i](...s)}}let r=this,n=(i,s={logLevel:qR.DiagLogLevel.INFO})=>{var o,a,u;if(i===r){let _=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=_.stack)!==null&&o!==void 0?o:_.message),!1}typeof s=="number"&&(s={logLevel:s});let l=(0,La.getGlobal)("diag"),d=(0,iU.createLogLevelDiagLogger)((a=s.logLevel)!==null&&a!==void 0?a:qR.DiagLogLevel.INFO,i);if(l&&!s.suppressOverrideMessage){let _=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${_}`),d.warn(`Current logger will overwrite one already registered from ${_}`)}return(0,La.registerGlobal)("diag",d,r,!0)};r.setLogger=n,r.disable=()=>{(0,La.unregisterGlobal)(sU,r)},r.createComponentLogger=i=>new nU.DiagComponentLogger(i),r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}static instance(){return this._instance||(this._instance=new Rs),this._instance}};Ma.DiagAPI=Rs});var FR=c(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.BaggageImpl=void 0;var pr=class{constructor(t){this._entries=t?new Map(t):new Map}getEntry(t){let r=this._entries.get(t);if(!!r)return Object.assign({},r)}getAllEntries(){return Array.from(this._entries.entries()).map(([t,r])=>[t,r])}setEntry(t,r){let n=new pr(this._entries);return n._entries.set(t,r),n}removeEntry(t){let r=new pr(this._entries);return r._entries.delete(t),r}removeEntries(...t){let r=new pr(this._entries);for(let n of t)r._entries.delete(n);return r}clear(){return new pr}};wa.BaggageImpl=pr});var kR=c(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.baggageEntryMetadataSymbol=void 0;Da.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var np=c(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.baggageEntryMetadataFromString=ri.createBaggage=void 0;var oU=Hr(),aU=FR(),uU=kR(),cU=oU.DiagAPI.instance();function lU(e={}){return new aU.BaggageImpl(new Map(Object.entries(e)))}ri.createBaggage=lU;function dU(e){return typeof e!="string"&&(cU.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:uU.baggageEntryMetadataSymbol,toString(){return e}}}ri.baggageEntryMetadataFromString=dU});var ys=c(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.ROOT_CONTEXT=ii.createContextKey=void 0;function _U(e){return Symbol.for(e)}ii.createContextKey=_U;var ni=class{constructor(t){let r=this;r._currentContext=t?new Map(t):new Map,r.getValue=n=>r._currentContext.get(n),r.setValue=(n,i)=>{let s=new ni(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=n=>{let i=new ni(r._currentContext);return i._currentContext.delete(n),i}}};ii.ROOT_CONTEXT=new ni});var HR=c(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.DiagConsoleLogger=void 0;var ip=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],sp=class{constructor(){function t(r){return function(...n){if(console){let i=console[r];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,n)}}}for(let r=0;r<ip.length;r++)this[ip[r].n]=t(ip[r].c)}};xa.DiagConsoleLogger=sp});var op=c(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.createNoopMeter=G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=G.NOOP_OBSERVABLE_GAUGE_METRIC=G.NOOP_OBSERVABLE_COUNTER_METRIC=G.NOOP_UP_DOWN_COUNTER_METRIC=G.NOOP_HISTOGRAM_METRIC=G.NOOP_COUNTER_METRIC=G.NOOP_METER=G.NoopObservableUpDownCounterMetric=G.NoopObservableGaugeMetric=G.NoopObservableCounterMetric=G.NoopObservableMetric=G.NoopHistogramMetric=G.NoopUpDownCounterMetric=G.NoopCounterMetric=G.NoopMetric=G.NoopMeter=void 0;var Ba=class{constructor(){}createHistogram(t,r){return G.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return G.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return G.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return G.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return G.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};G.NoopMeter=Ba;var si=class{};G.NoopMetric=si;var Ua=class extends si{add(t,r){}};G.NoopCounterMetric=Ua;var Ga=class extends si{add(t,r){}};G.NoopUpDownCounterMetric=Ga;var ja=class extends si{record(t,r){}};G.NoopHistogramMetric=ja;var oi=class{addCallback(t){}removeCallback(t){}};G.NoopObservableMetric=oi;var qa=class extends oi{};G.NoopObservableCounterMetric=qa;var Fa=class extends oi{};G.NoopObservableGaugeMetric=Fa;var ka=class extends oi{};G.NoopObservableUpDownCounterMetric=ka;G.NOOP_METER=new Ba;G.NOOP_COUNTER_METRIC=new Ua;G.NOOP_HISTOGRAM_METRIC=new ja;G.NOOP_UP_DOWN_COUNTER_METRIC=new Ga;G.NOOP_OBSERVABLE_COUNTER_METRIC=new qa;G.NOOP_OBSERVABLE_GAUGE_METRIC=new Fa;G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new ka;function fU(){return G.NOOP_METER}G.createNoopMeter=fU});var VR=c(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.ValueType=void 0;var pU;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(pU=bs.ValueType||(bs.ValueType={}))});var ap=c(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.defaultTextMapSetter=ai.defaultTextMapGetter=void 0;ai.defaultTextMapGetter={get(e,t){if(e!=null)return e[t]},keys(e){return e==null?[]:Object.keys(e)}};ai.defaultTextMapSetter={set(e,t,r){e!=null&&(e[t]=r)}}});var $R=c(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.NoopContextManager=void 0;var hU=ys(),up=class{active(){return hU.ROOT_CONTEXT}with(t,r,n,...i){return r.call(n,...i)}bind(t,r){return r}enable(){return this}disable(){return this}};Ha.NoopContextManager=up});var Ps=c(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.ContextAPI=void 0;var EU=$R(),cp=kr(),YR=Hr(),lp="context",gU=new EU.NoopContextManager,vs=class{constructor(){}static getInstance(){return this._instance||(this._instance=new vs),this._instance}setGlobalContextManager(t){return(0,cp.registerGlobal)(lp,t,YR.DiagAPI.instance())}active(){return this._getContextManager().active()}with(t,r,n,...i){return this._getContextManager().with(t,r,n,...i)}bind(t,r){return this._getContextManager().bind(t,r)}_getContextManager(){return(0,cp.getGlobal)(lp)||gU}disable(){this._getContextManager().disable(),(0,cp.unregisterGlobal)(lp,YR.DiagAPI.instance())}};Va.ContextAPI=vs});var dp=c(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.TraceFlags=void 0;var mU;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(mU=Cs.TraceFlags||(Cs.TraceFlags={}))});var $a=c(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.INVALID_SPAN_CONTEXT=It.INVALID_TRACEID=It.INVALID_SPANID=void 0;var SU=dp();It.INVALID_SPANID="0000000000000000";It.INVALID_TRACEID="00000000000000000000000000000000";It.INVALID_SPAN_CONTEXT={traceId:It.INVALID_TRACEID,spanId:It.INVALID_SPANID,traceFlags:SU.TraceFlags.NONE}});var Ka=c(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.NonRecordingSpan=void 0;var AU=$a(),_p=class{constructor(t=AU.INVALID_SPAN_CONTEXT){this._spanContext=t}spanContext(){return this._spanContext}setAttribute(t,r){return this}setAttributes(t){return this}addEvent(t,r){return this}setStatus(t){return this}updateName(t){return this}end(t){}isRecording(){return!1}recordException(t,r){}};Ya.NonRecordingSpan=_p});var hp=c(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getSpanContext=Ve.setSpanContext=Ve.deleteSpan=Ve.setSpan=Ve.getActiveSpan=Ve.getSpan=void 0;var TU=ys(),OU=Ka(),RU=Ps(),fp=(0,TU.createContextKey)("OpenTelemetry Context Key SPAN");function pp(e){return e.getValue(fp)||void 0}Ve.getSpan=pp;function yU(){return pp(RU.ContextAPI.getInstance().active())}Ve.getActiveSpan=yU;function KR(e,t){return e.setValue(fp,t)}Ve.setSpan=KR;function bU(e){return e.deleteValue(fp)}Ve.deleteSpan=bU;function vU(e,t){return KR(e,new OU.NonRecordingSpan(t))}Ve.setSpanContext=vU;function PU(e){var t;return(t=pp(e))===null||t===void 0?void 0:t.spanContext()}Ve.getSpanContext=PU});var Wa=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.wrapSpanContext=Nt.isSpanContextValid=Nt.isValidSpanId=Nt.isValidTraceId=void 0;var WR=$a(),CU=Ka(),IU=/^([0-9a-f]{32})$/i,NU=/^[0-9a-f]{16}$/i;function XR(e){return IU.test(e)&&e!==WR.INVALID_TRACEID}Nt.isValidTraceId=XR;function zR(e){return NU.test(e)&&e!==WR.INVALID_SPANID}Nt.isValidSpanId=zR;function LU(e){return XR(e.traceId)&&zR(e.spanId)}Nt.isSpanContextValid=LU;function MU(e){return new CU.NonRecordingSpan(e)}Nt.wrapSpanContext=MU});var Sp=c(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.NoopTracer=void 0;var wU=Ps(),QR=hp(),Ep=Ka(),DU=Wa(),gp=wU.ContextAPI.getInstance(),mp=class{startSpan(t,r,n=gp.active()){if(Boolean(r?.root))return new Ep.NonRecordingSpan;let s=n&&(0,QR.getSpanContext)(n);return xU(s)&&(0,DU.isSpanContextValid)(s)?new Ep.NonRecordingSpan(s):new Ep.NonRecordingSpan}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??gp.active(),l=this.startSpan(t,s,u),d=(0,QR.setSpan)(u,l);return gp.with(d,a,void 0,l)}};Xa.NoopTracer=mp;function xU(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Tp=c(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.ProxyTracer=void 0;var BU=Sp(),UU=new BU.NoopTracer,Ap=class{constructor(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}startSpan(t,r,n){return this._getTracer().startSpan(t,r,n)}startActiveSpan(t,r,n,i){let s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)}_getTracer(){if(this._delegate)return this._delegate;let t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):UU}};za.ProxyTracer=Ap});var ZR=c(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.NoopTracerProvider=void 0;var GU=Sp(),Op=class{getTracer(t,r,n){return new GU.NoopTracer}};Qa.NoopTracerProvider=Op});var yp=c(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.ProxyTracerProvider=void 0;var jU=Tp(),qU=ZR(),FU=new qU.NoopTracerProvider,Rp=class{getTracer(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new jU.ProxyTracer(this,t,r,n)}getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:FU}setDelegate(t){this._delegate=t}getDelegateTracer(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)}};Za.ProxyTracerProvider=Rp});var JR=c(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.SamplingDecision=void 0;var kU;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(kU=Is.SamplingDecision||(Is.SamplingDecision={}))});var ey=c(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.SpanKind=void 0;var HU;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(HU=Ns.SpanKind||(Ns.SpanKind={}))});var ty=c(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.SpanStatusCode=void 0;var VU;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(VU=Ls.SpanStatusCode||(Ls.SpanStatusCode={}))});var ry=c(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.validateValue=ui.validateKey=void 0;var bp="[_0-9a-z-*/]",$U=`[a-z]${bp}{0,255}`,YU=`[a-z0-9]${bp}{0,240}@[a-z]${bp}{0,13}`,KU=new RegExp(`^(?:${$U}|${YU})$`),WU=/^[ -~]{0,255}[!-~]$/,XU=/,|=/;function zU(e){return KU.test(e)}ui.validateKey=zU;function QU(e){return WU.test(e)&&!XU.test(e)}ui.validateValue=QU});var ay=c(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.TraceStateImpl=void 0;var ny=ry(),iy=32,ZU=512,sy=",",oy="=",Ms=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+oy+this.get(r)),t),[]).join(sy)}_parse(t){t.length>ZU||(this._internalState=t.split(sy).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(oy);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,ny.validateKey)(o)&&(0,ny.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>iy&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,iy))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Ms;return t._internalState=new Map(this._internalState),t}};Ja.TraceStateImpl=Ms});var uy=c(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.createTraceState=void 0;var JU=ay();function eG(e){return new JU.TraceStateImpl(e)}eu.createTraceState=eG});var cy=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.context=void 0;var tG=Ps();tu.context=tG.ContextAPI.getInstance()});var ly=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.diag=void 0;var rG=Hr();ru.diag=rG.DiagAPI.instance()});var dy=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.NOOP_METER_PROVIDER=ci.NoopMeterProvider=void 0;var nG=op(),nu=class{getMeter(t,r,n){return nG.NOOP_METER}};ci.NoopMeterProvider=nu;ci.NOOP_METER_PROVIDER=new nu});var fy=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.MetricsAPI=void 0;var iG=dy(),vp=kr(),_y=Hr(),Pp="metrics",ws=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ws),this._instance}setGlobalMeterProvider(t){return(0,vp.registerGlobal)(Pp,t,_y.DiagAPI.instance())}getMeterProvider(){return(0,vp.getGlobal)(Pp)||iG.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){(0,vp.unregisterGlobal)(Pp,_y.DiagAPI.instance())}};iu.MetricsAPI=ws});var py=c(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.metrics=void 0;var sG=fy();su.metrics=sG.MetricsAPI.getInstance()});var hy=c(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.NoopTextMapPropagator=void 0;var Cp=class{inject(t,r){}extract(t,r){return t}fields(){return[]}};ou.NoopTextMapPropagator=Cp});var gy=c(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.deleteBaggage=Lt.setBaggage=Lt.getActiveBaggage=Lt.getBaggage=void 0;var oG=Ps(),aG=ys(),Ip=(0,aG.createContextKey)("OpenTelemetry Baggage Key");function Ey(e){return e.getValue(Ip)||void 0}Lt.getBaggage=Ey;function uG(){return Ey(oG.ContextAPI.getInstance().active())}Lt.getActiveBaggage=uG;function cG(e,t){return e.setValue(Ip,t)}Lt.setBaggage=cG;function lG(e){return e.deleteValue(Ip)}Lt.deleteBaggage=lG});var Ay=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.PropagationAPI=void 0;var Np=kr(),dG=hy(),my=ap(),au=gy(),_G=np(),Sy=Hr(),Lp="propagation",fG=new dG.NoopTextMapPropagator,Ds=class{constructor(){this.createBaggage=_G.createBaggage,this.getBaggage=au.getBaggage,this.getActiveBaggage=au.getActiveBaggage,this.setBaggage=au.setBaggage,this.deleteBaggage=au.deleteBaggage}static getInstance(){return this._instance||(this._instance=new Ds),this._instance}setGlobalPropagator(t){return(0,Np.registerGlobal)(Lp,t,Sy.DiagAPI.instance())}inject(t,r,n=my.defaultTextMapSetter){return this._getGlobalPropagator().inject(t,r,n)}extract(t,r,n=my.defaultTextMapGetter){return this._getGlobalPropagator().extract(t,r,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,Np.unregisterGlobal)(Lp,Sy.DiagAPI.instance())}_getGlobalPropagator(){return(0,Np.getGlobal)(Lp)||fG}};uu.PropagationAPI=Ds});var Ty=c(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.propagation=void 0;var pG=Ay();cu.propagation=pG.PropagationAPI.getInstance()});var by=c(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.TraceAPI=void 0;var Mp=kr(),Oy=yp(),Ry=Wa(),li=hp(),yy=Hr(),wp="trace",xs=class{constructor(){this._proxyTracerProvider=new Oy.ProxyTracerProvider,this.wrapSpanContext=Ry.wrapSpanContext,this.isSpanContextValid=Ry.isSpanContextValid,this.deleteSpan=li.deleteSpan,this.getSpan=li.getSpan,this.getActiveSpan=li.getActiveSpan,this.getSpanContext=li.getSpanContext,this.setSpan=li.setSpan,this.setSpanContext=li.setSpanContext}static getInstance(){return this._instance||(this._instance=new xs),this._instance}setGlobalTracerProvider(t){let r=(0,Mp.registerGlobal)(wp,this._proxyTracerProvider,yy.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r}getTracerProvider(){return(0,Mp.getGlobal)(wp)||this._proxyTracerProvider}getTracer(t,r){return this.getTracerProvider().getTracer(t,r)}disable(){(0,Mp.unregisterGlobal)(wp,yy.DiagAPI.instance()),this._proxyTracerProvider=new Oy.ProxyTracerProvider}};lu.TraceAPI=xs});var vy=c(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.trace=void 0;var hG=by();du.trace=hG.TraceAPI.getInstance()});var P=c(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.trace=M.propagation=M.metrics=M.diag=M.context=M.INVALID_SPAN_CONTEXT=M.INVALID_TRACEID=M.INVALID_SPANID=M.isValidSpanId=M.isValidTraceId=M.isSpanContextValid=M.createTraceState=M.TraceFlags=M.SpanStatusCode=M.SpanKind=M.SamplingDecision=M.ProxyTracerProvider=M.ProxyTracer=M.defaultTextMapSetter=M.defaultTextMapGetter=M.ValueType=M.createNoopMeter=M.DiagLogLevel=M.DiagConsoleLogger=M.ROOT_CONTEXT=M.createContextKey=M.baggageEntryMetadataFromString=void 0;var EG=np();Object.defineProperty(M,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return EG.baggageEntryMetadataFromString}});var Py=ys();Object.defineProperty(M,"createContextKey",{enumerable:!0,get:function(){return Py.createContextKey}});Object.defineProperty(M,"ROOT_CONTEXT",{enumerable:!0,get:function(){return Py.ROOT_CONTEXT}});var gG=HR();Object.defineProperty(M,"DiagConsoleLogger",{enumerable:!0,get:function(){return gG.DiagConsoleLogger}});var mG=Ia();Object.defineProperty(M,"DiagLogLevel",{enumerable:!0,get:function(){return mG.DiagLogLevel}});var SG=op();Object.defineProperty(M,"createNoopMeter",{enumerable:!0,get:function(){return SG.createNoopMeter}});var AG=VR();Object.defineProperty(M,"ValueType",{enumerable:!0,get:function(){return AG.ValueType}});var Cy=ap();Object.defineProperty(M,"defaultTextMapGetter",{enumerable:!0,get:function(){return Cy.defaultTextMapGetter}});Object.defineProperty(M,"defaultTextMapSetter",{enumerable:!0,get:function(){return Cy.defaultTextMapSetter}});var TG=Tp();Object.defineProperty(M,"ProxyTracer",{enumerable:!0,get:function(){return TG.ProxyTracer}});var OG=yp();Object.defineProperty(M,"ProxyTracerProvider",{enumerable:!0,get:function(){return OG.ProxyTracerProvider}});var RG=JR();Object.defineProperty(M,"SamplingDecision",{enumerable:!0,get:function(){return RG.SamplingDecision}});var yG=ey();Object.defineProperty(M,"SpanKind",{enumerable:!0,get:function(){return yG.SpanKind}});var bG=ty();Object.defineProperty(M,"SpanStatusCode",{enumerable:!0,get:function(){return bG.SpanStatusCode}});var vG=dp();Object.defineProperty(M,"TraceFlags",{enumerable:!0,get:function(){return vG.TraceFlags}});var PG=uy();Object.defineProperty(M,"createTraceState",{enumerable:!0,get:function(){return PG.createTraceState}});var Dp=Wa();Object.defineProperty(M,"isSpanContextValid",{enumerable:!0,get:function(){return Dp.isSpanContextValid}});Object.defineProperty(M,"isValidTraceId",{enumerable:!0,get:function(){return Dp.isValidTraceId}});Object.defineProperty(M,"isValidSpanId",{enumerable:!0,get:function(){return Dp.isValidSpanId}});var xp=$a();Object.defineProperty(M,"INVALID_SPANID",{enumerable:!0,get:function(){return xp.INVALID_SPANID}});Object.defineProperty(M,"INVALID_TRACEID",{enumerable:!0,get:function(){return xp.INVALID_TRACEID}});Object.defineProperty(M,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return xp.INVALID_SPAN_CONTEXT}});var Iy=cy();Object.defineProperty(M,"context",{enumerable:!0,get:function(){return Iy.context}});var Ny=ly();Object.defineProperty(M,"diag",{enumerable:!0,get:function(){return Ny.diag}});var Ly=py();Object.defineProperty(M,"metrics",{enumerable:!0,get:function(){return Ly.metrics}});var My=Ty();Object.defineProperty(M,"propagation",{enumerable:!0,get:function(){return My.propagation}});var wy=vy();Object.defineProperty(M,"trace",{enumerable:!0,get:function(){return wy.trace}});M.default={context:Iy.context,diag:Ny.diag,metrics:Ly.metrics,propagation:My.propagation,trace:wy.trace}});var Bs=c(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.isTracingSuppressed=hr.unsuppressTracing=hr.suppressTracing=void 0;var CG=P(),Bp=(0,CG.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function IG(e){return e.setValue(Bp,!0)}hr.suppressTracing=IG;function NG(e){return e.deleteValue(Bp)}hr.unsuppressTracing=NG;function LG(e){return e.getValue(Bp)===!0}hr.isTracingSuppressed=LG});var Dy=c(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});di.validateValue=di.validateKey=void 0;var Up="[_0-9a-z-*/]",MG=`[a-z]${Up}{0,255}`,wG=`[a-z0-9]${Up}{0,240}@[a-z]${Up}{0,13}`,DG=new RegExp(`^(?:${MG}|${wG})$`),xG=/^[ -~]{0,255}[!-~]$/,BG=/,|=/;function UG(e){return DG.test(e)}di.validateKey=UG;function GG(e){return xG.test(e)&&!BG.test(e)}di.validateValue=GG});var Gp=c(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.TraceState=void 0;var xy=Dy(),By=32,jG=512,Uy=",",Gy="=",Us=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+Gy+this.get(r)),t),[]).join(Uy)}_parse(t){t.length>jG||(this._internalState=t.split(Uy).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(Gy);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,xy.validateKey)(o)&&(0,xy.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>By&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,By))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Us;return t._internalState=new Map(this._internalState),t}};_u.TraceState=Us});var qp=c(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.W3CTraceContextPropagator=Ce.parseTraceParent=Ce.TRACE_STATE_HEADER=Ce.TRACE_PARENT_HEADER=void 0;var fu=P(),qG=Bs(),FG=Gp();Ce.TRACE_PARENT_HEADER="traceparent";Ce.TRACE_STATE_HEADER="tracestate";var kG="00",HG="(?!ff)[\\da-f]{2}",VG="(?![0]{32})[\\da-f]{32}",$G="(?![0]{16})[\\da-f]{16}",YG="[\\da-f]{2}",KG=new RegExp(`^\\s?(${HG})-(${VG})-(${$G})-(${YG})(-.*)?\\s?$`);function jy(e){let t=KG.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ce.parseTraceParent=jy;var jp=class{inject(t,r,n){let i=fu.trace.getSpanContext(t);if(!i||(0,qG.isTracingSuppressed)(t)||!(0,fu.isSpanContextValid)(i))return;let s=`${kG}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||fu.TraceFlags.NONE).toString(16)}`;n.set(r,Ce.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Ce.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ce.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=jy(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Ce.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new FG.TraceState(typeof u=="string"?u:void 0)}return fu.trace.setSpanContext(t,o)}fields(){return[Ce.TRACE_PARENT_HEADER,Ce.TRACE_STATE_HEADER]}};Ce.W3CTraceContextPropagator=jp});var Fp=c(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.BAGGAGE_MAX_TOTAL_LENGTH=Ie.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ie.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ie.BAGGAGE_HEADER=Ie.BAGGAGE_ITEMS_SEPARATOR=Ie.BAGGAGE_PROPERTIES_SEPARATOR=Ie.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ie.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ie.BAGGAGE_PROPERTIES_SEPARATOR=";";Ie.BAGGAGE_ITEMS_SEPARATOR=",";Ie.BAGGAGE_HEADER="baggage";Ie.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ie.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ie.BAGGAGE_MAX_TOTAL_LENGTH=8192});var kp=c(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.parseKeyPairsIntoRecord=Mt.parsePairKeyValue=Mt.getKeyPairs=Mt.serializeKeyPairs=void 0;var WG=P(),Vr=Fp();function XG(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?Vr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>Vr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}Mt.serializeKeyPairs=XG;function zG(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=Vr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}Mt.getKeyPairs=zG;function qy(e){let t=e.split(Vr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.indexOf(Vr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;let i=decodeURIComponent(r.substring(0,n).trim()),s=decodeURIComponent(r.substring(n+1).trim()),o;return t.length>0&&(o=(0,WG.baggageEntryMetadataFromString)(t.join(Vr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Mt.parsePairKeyValue=qy;function QG(e){return typeof e!="string"||e.length===0?{}:e.split(Vr.BAGGAGE_ITEMS_SEPARATOR).map(t=>qy(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}Mt.parseKeyPairsIntoRecord=QG});var Fy=c(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.W3CBaggagePropagator=void 0;var Hp=P(),ZG=Bs(),$r=Fp(),Vp=kp(),$p=class{inject(t,r,n){let i=Hp.propagation.getBaggage(t);if(!i||(0,ZG.isTracingSuppressed)(t))return;let s=(0,Vp.getKeyPairs)(i).filter(a=>a.length<=$r.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,$r.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Vp.serializeKeyPairs)(s);o.length>0&&n.set(r,$r.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,$r.BAGGAGE_HEADER),s=Array.isArray(i)?i.join($r.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split($r.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,Vp.parsePairKeyValue)(u);if(l){let d={value:l.value};l.metadata&&(d.metadata=l.metadata),o[l.key]=d}}),Object.entries(o).length===0)?t:Hp.propagation.setBaggage(t,Hp.propagation.createBaggage(o))}fields(){return[$r.BAGGAGE_HEADER]}};pu.W3CBaggagePropagator=$p});var ky=c(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.AnchoredClock=void 0;var Yp=class{constructor(t,r){this._monotonicClock=r,this._epochMillis=t.now(),this._performanceMillis=r.now()}now(){let t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t}};hu.AnchoredClock=Yp});var Ky=c(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.isAttributeValue=Er.isAttributeKey=Er.sanitizeAttributes=void 0;var Hy=P();function JG(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!Vy(r)){Hy.diag.warn(`Invalid attribute key: ${r}`);continue}if(!$y(n)){Hy.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Er.sanitizeAttributes=JG;function Vy(e){return typeof e=="string"&&e.length>0}Er.isAttributeKey=Vy;function $y(e){return e==null?!0:Array.isArray(e)?ej(e):Yy(e)}Er.isAttributeValue=$y;function ej(e){let t;for(let r of e)if(r!=null){if(!t){if(Yy(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function Yy(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var Kp=c(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.loggingErrorHandler=void 0;var tj=P();function rj(){return e=>{tj.diag.error(nj(e))}}Eu.loggingErrorHandler=rj;function nj(e){return typeof e=="string"?e:JSON.stringify(ij(e))}function ij(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var Wp=c(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.globalErrorHandler=_i.setGlobalErrorHandler=void 0;var sj=Kp(),Wy=(0,sj.loggingErrorHandler)();function oj(e){Wy=e}_i.setGlobalErrorHandler=oj;function aj(e){try{Wy(e)}catch{}}_i.globalErrorHandler=aj});var Xp=c(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.TracesSamplerValues=void 0;var uj;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(uj=Gs.TracesSamplerValues||(Gs.TracesSamplerValues={}))});var Xy=c(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu._globalThis=void 0;gu._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var Qp=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.getEnvWithoutDefaults=se.parseEnvironment=se.DEFAULT_ENVIRONMENT=se.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=se.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=se.DEFAULT_ATTRIBUTE_COUNT_LIMIT=se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var gr=P(),cj=Xp(),lj=Xy(),dj=",",_j=["OTEL_SDK_DISABLED"];function fj(e){return _j.indexOf(e)>-1}var pj=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function hj(e){return pj.indexOf(e)>-1}var Ej=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function gj(e){return Ej.indexOf(e)>-1}se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;se.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;se.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;se.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;se.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:gr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:se.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:se.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:se.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:se.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:se.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:cj.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function mj(e,t,r){if(typeof r[e]>"u")return;let n=String(r[e]);t[e]=n.toLowerCase()==="true"}function Sj(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function Aj(e,t,r,n=dj){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var Tj={ALL:gr.DiagLogLevel.ALL,VERBOSE:gr.DiagLogLevel.VERBOSE,DEBUG:gr.DiagLogLevel.DEBUG,INFO:gr.DiagLogLevel.INFO,WARN:gr.DiagLogLevel.WARN,ERROR:gr.DiagLogLevel.ERROR,NONE:gr.DiagLogLevel.NONE};function Oj(e,t,r){let n=r[e];if(typeof n=="string"){let i=Tj[n.toUpperCase()];i!=null&&(t[e]=i)}}function zp(e){let t={};for(let r in se.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":Oj(n,t,e);break;default:if(fj(n))mj(n,t,e);else if(hj(n))Sj(n,t,e);else if(gj(n))Aj(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}se.parseEnvironment=zp;function Rj(){return typeof process<"u"&&process&&process.env?zp(process.env):zp(lj._globalThis)}se.getEnvWithoutDefaults=Rj});var Qy=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.getEnv=void 0;var zy=Qp();function yj(){let e=(0,zy.parseEnvironment)(process.env);return Object.assign({},zy.DEFAULT_ENVIRONMENT,e)}mu.getEnv=yj});var Zy=c(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su._globalThis=void 0;Su._globalThis=typeof globalThis=="object"?globalThis:global});var Zp=c(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.hexToBinary=void 0;function Jy(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function bj(e){let t=new Uint8Array(e.length/2),r=0;for(let n=0;n<e.length;n+=2){let i=Jy(e.charCodeAt(n)),s=Jy(e.charCodeAt(n+1));t[r++]=i<<4|s}return t}Au.hexToBinary=bj});var eb=c(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.hexToBase64=void 0;var vj=Zp();function Pj(e){return Buffer.from((0,vj.hexToBinary)(e)).toString("base64")}Tu.hexToBase64=Pj});var nb=c(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.RandomIdGenerator=void 0;var Cj=8,rb=16,Jp=class{constructor(){this.generateTraceId=tb(rb),this.generateSpanId=tb(Cj)}};Ru.RandomIdGenerator=Jp;var Ou=Buffer.allocUnsafe(rb);function tb(e){return function(){for(let r=0;r<e/4;r++)Ou.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(Ou[r]>0);r++)r===e-1&&(Ou[e-1]=1);return Ou.toString("hex",0,e)}}});var ib=c(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.otperformance=void 0;var Ij=v("perf_hooks");yu.otperformance=Ij.performance});var eh=c(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.VERSION=void 0;bu.VERSION="1.21.0"});var sb=c(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.MessageTypeValues=Q.RpcGrpcStatusCodeValues=Q.MessagingOperationValues=Q.MessagingDestinationKindValues=Q.HttpFlavorValues=Q.NetHostConnectionSubtypeValues=Q.NetHostConnectionTypeValues=Q.NetTransportValues=Q.FaasInvokedProviderValues=Q.FaasDocumentOperationValues=Q.FaasTriggerValues=Q.DbCassandraConsistencyLevelValues=Q.DbSystemValues=Q.SemanticAttributes=void 0;Q.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Q.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Q.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Q.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Q.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Q.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Q.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Q.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Q.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Q.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Q.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Q.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Q.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Q.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var ob=c(Yr=>{"use strict";var Nj=Yr&&Yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lj=Yr&&Yr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nj(t,e,r)};Object.defineProperty(Yr,"__esModule",{value:!0});Lj(sb(),Yr)});var ab=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.TelemetrySdkLanguageValues=Ne.OsTypeValues=Ne.HostArchValues=Ne.AwsEcsLaunchtypeValues=Ne.CloudPlatformValues=Ne.CloudProviderValues=Ne.SemanticResourceAttributes=void 0;Ne.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ne.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ne.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ne.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ne.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ne.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ne.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var ub=c(Kr=>{"use strict";var Mj=Kr&&Kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wj=Kr&&Kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mj(t,e,r)};Object.defineProperty(Kr,"__esModule",{value:!0});wj(ab(),Kr)});var wt=c(mr=>{"use strict";var Dj=mr&&mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cb=mr&&mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Dj(t,e,r)};Object.defineProperty(mr,"__esModule",{value:!0});cb(ob(),mr);cb(ub(),mr)});var lb=c(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.SDK_INFO=void 0;var xj=eh(),js=wt();vu.SDK_INFO={[js.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[js.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[js.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:js.TelemetrySdkLanguageValues.NODEJS,[js.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:xj.VERSION}});var db=c(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.unrefTimer=void 0;function Bj(e){e.unref()}Pu.unrefTimer=Bj});var _b=c(et=>{"use strict";var Uj=et&&et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wr=et&&et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uj(t,e,r)};Object.defineProperty(et,"__esModule",{value:!0});Wr(Qy(),et);Wr(Zy(),et);Wr(eb(),et);Wr(nb(),et);Wr(ib(),et);Wr(lb(),et);Wr(db(),et)});var th=c(Xr=>{"use strict";var Gj=Xr&&Xr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jj=Xr&&Xr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Gj(t,e,r)};Object.defineProperty(Xr,"__esModule",{value:!0});jj(_b(),Xr)});var Eb=c(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.addHrTimes=re.isTimeInput=re.isTimeInputHrTime=re.hrTimeToMicroseconds=re.hrTimeToMilliseconds=re.hrTimeToNanoseconds=re.hrTimeToTimeStamp=re.hrTimeDuration=re.timeInputToHrTime=re.hrTime=re.getTimeOrigin=re.millisToHrTime=void 0;var rh=th(),fb=9,qj=6,Fj=Math.pow(10,qj),Cu=Math.pow(10,fb);function qs(e){let t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*Fj);return[r,n]}re.millisToHrTime=qs;function nh(){let e=rh.otperformance.timeOrigin;if(typeof e!="number"){let t=rh.otperformance;e=t.timing&&t.timing.fetchStart}return e}re.getTimeOrigin=nh;function pb(e){let t=qs(nh()),r=qs(typeof e=="number"?e:rh.otperformance.now());return hb(t,r)}re.hrTime=pb;function kj(e){if(ih(e))return e;if(typeof e=="number")return e<nh()?pb(e):qs(e);if(e instanceof Date)return qs(e.getTime());throw TypeError("Invalid input type")}re.timeInputToHrTime=kj;function Hj(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Cu),[r,n]}re.hrTimeDuration=Hj;function Vj(e){let t=fb,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}re.hrTimeToTimeStamp=Vj;function $j(e){return e[0]*Cu+e[1]}re.hrTimeToNanoseconds=$j;function Yj(e){return e[0]*1e3+e[1]/1e6}re.hrTimeToMilliseconds=Yj;function Kj(e){return e[0]*1e6+e[1]/1e3}re.hrTimeToMicroseconds=Kj;function ih(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}re.isTimeInputHrTime=ih;function Wj(e){return ih(e)||typeof e=="number"||e instanceof Date}re.isTimeInput=Wj;function hb(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=Cu&&(r[1]-=Cu,r[0]+=1),r}re.addHrTimes=hb});var mb=c(gb=>{"use strict";Object.defineProperty(gb,"__esModule",{value:!0})});var Sb=c(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ExportResultCode=void 0;var Xj;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Xj=Fs.ExportResultCode||(Fs.ExportResultCode={}))});var Tb=c(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.CompositePropagator=void 0;var Ab=P(),sh=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){Ab.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){Ab.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};Iu.CompositePropagator=sh});var Rb=c(Ob=>{"use strict";Object.defineProperty(Ob,"__esModule",{value:!0})});var yb=c(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.getRPCMetadata=ft.deleteRPCMetadata=ft.setRPCMetadata=ft.RPCType=void 0;var zj=P(),oh=(0,zj.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Qj;(function(e){e.HTTP="http"})(Qj=ft.RPCType||(ft.RPCType={}));function Zj(e,t){return e.setValue(oh,t)}ft.setRPCMetadata=Zj;function Jj(e){return e.deleteValue(oh)}ft.deleteRPCMetadata=Jj;function eq(e){return e.getValue(oh)}ft.getRPCMetadata=eq});var uh=c(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.AlwaysOffSampler=void 0;var tq=P(),ah=class{shouldSample(){return{decision:tq.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Nu.AlwaysOffSampler=ah});var lh=c(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.AlwaysOnSampler=void 0;var rq=P(),ch=class{shouldSample(){return{decision:rq.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Lu.AlwaysOnSampler=ch});var vb=c(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.ParentBasedSampler=void 0;var Mu=P(),nq=Wp(),bb=uh(),dh=lh(),_h=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,nq.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new dh.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new dh.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new bb.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new dh.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new bb.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=Mu.trace.getSpanContext(t);return!a||!(0,Mu.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&Mu.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&Mu.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};wu.ParentBasedSampler=_h});var Pb=c(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.TraceIdRatioBasedSampler=void 0;var fh=P(),ph=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,fh.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?fh.SamplingDecision.RECORD_AND_SAMPLED:fh.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Du.TraceIdRatioBasedSampler=ph});var Mb=c(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.isPlainObject=void 0;var iq="[object Object]",sq="[object Null]",oq="[object Undefined]",aq=Function.prototype,Cb=aq.toString,uq=Cb.call(Object),cq=lq(Object.getPrototypeOf,Object),Ib=Object.prototype,Nb=Ib.hasOwnProperty,zr=Symbol?Symbol.toStringTag:void 0,Lb=Ib.toString;function lq(e,t){return function(r){return e(t(r))}}function dq(e){if(!_q(e)||fq(e)!==iq)return!1;let t=cq(e);if(t===null)return!0;let r=Nb.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Cb.call(r)===uq}xu.isPlainObject=dq;function _q(e){return e!=null&&typeof e=="object"}function fq(e){return e==null?e===void 0?oq:sq:zr&&zr in Object(e)?pq(e):hq(e)}function pq(e){let t=Nb.call(e,zr),r=e[zr],n=!1;try{e[zr]=void 0,n=!0}catch{}let i=Lb.call(e);return n&&(t?e[zr]=r:delete e[zr]),i}function hq(e){return Lb.call(e)}});var Ub=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.merge=void 0;var wb=Mb(),Eq=20;function gq(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=xb(t,e.shift(),0,r);return t}Gu.merge=gq;function hh(e){return Uu(e)?e.slice():e}function xb(e,t,r=0,n){let i;if(!(r>Eq)){if(r++,Bu(e)||Bu(t)||Bb(t))i=hh(t);else if(Uu(e)){if(i=e.slice(),Uu(t))for(let s=0,o=t.length;s<o;s++)i.push(hh(t[s]));else if(ks(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=hh(t[u])}}}else if(ks(e))if(ks(t)){if(!mq(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(Bu(l))typeof l>"u"?delete i[u]:i[u]=l;else{let d=i[u],_=l;if(Db(e,u,n)||Db(t,u,n))delete i[u];else{if(ks(d)&&ks(_)){let f=n.get(d)||[],p=n.get(_)||[];f.push({obj:e,key:u}),p.push({obj:t,key:u}),n.set(d,f),n.set(_,p)}i[u]=xb(i[u],l,r,n)}}}}else i=t;return i}}function Db(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function Uu(e){return Array.isArray(e)}function Bb(e){return typeof e=="function"}function ks(e){return!Bu(e)&&!Uu(e)&&!Bb(e)&&typeof e=="object"}function Bu(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function mq(e,t){return!(!(0,wb.isPlainObject)(e)||!(0,wb.isPlainObject)(t))}});var Gb=c(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.callWithTimeout=pi.TimeoutError=void 0;var fi=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,fi.prototype)}};pi.TimeoutError=fi;function Sq(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new fi("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}pi.callWithTimeout=Sq});var qb=c(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.isUrlIgnored=hi.urlMatches=void 0;function jb(e,t){return typeof t=="string"?e===t:!!e.match(t)}hi.urlMatches=jb;function Aq(e,t){if(!t)return!1;for(let r of t)if(jb(e,r))return!0;return!1}hi.isUrlIgnored=Aq});var Fb=c(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.isWrapped=void 0;function Tq(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}ju.isWrapped=Tq});var kb=c(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.Deferred=void 0;var Eh=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};qu.Deferred=Eh});var Hb=c(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.BindOnceFuture=void 0;var Oq=kb(),gh=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new Oq.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Fu.BindOnceFuture=gh});var $b=c(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku._export=void 0;var Vb=P(),Rq=Bs();function yq(e,t){return new Promise(r=>{Vb.context.with((0,Rq.suppressTracing)(Vb.context.active()),()=>{e.export(t,n=>{r(n)})})})}ku._export=yq});var $e=c(H=>{"use strict";var bq=H&&H.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J=H&&H.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bq(t,e,r)};Object.defineProperty(H,"__esModule",{value:!0});H.internal=H.baggageUtils=void 0;J(Fy(),H);J(ky(),H);J(Ky(),H);J(Wp(),H);J(Kp(),H);J(Eb(),H);J(mb(),H);J(Zp(),H);J(Sb(),H);H.baggageUtils=kp();J(th(),H);J(Tb(),H);J(qp(),H);J(Rb(),H);J(yb(),H);J(uh(),H);J(lh(),H);J(vb(),H);J(Pb(),H);J(Bs(),H);J(Gp(),H);J(Qp(),H);J(Ub(),H);J(Xp(),H);J(Gb(),H);J(qb(),H);J(Fb(),H);J(Hb(),H);J(eh(),H);var vq=$b();H.internal={_export:vq._export}});var Yb=c(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.ExceptionEventName=void 0;Hu.ExceptionEventName="exception"});var Sh=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.Span=void 0;var pt=P(),Le=$e(),Qr=wt(),Pq=Yb(),mh=class{constructor(t,r,n,i,s,o,a=[],u,l,d){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:pt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a;let _=Date.now();this._performanceStartTime=Le.otperformance.now(),this._performanceOffset=_-(this._performanceStartTime+(0,Le.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??_),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,d!=null&&this.setAttributes(d),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(pt.diag.warn(`Invalid attribute key: ${t}`),this):(0,Le.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),this):(pt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return pt.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&pt.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Le.isTimeInput)(r)&&((0,Le.isTimeInput)(n)||(n=r),r=void 0);let i=(0,Le.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t){if(this._isSpanEnded()){pt.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(t),this._duration=(0,Le.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(pt.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&pt.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(t){if(typeof t=="number"&&t<Le.otperformance.now())return(0,Le.hrTime)(t+this._performanceOffset);if(typeof t=="number")return(0,Le.millisToHrTime)(t);if(t instanceof Date)return(0,Le.millisToHrTime)(t.getTime());if((0,Le.isTimeInputHrTime)(t))return t;if(this._startTimeProvided)return(0,Le.millisToHrTime)(Date.now());let r=Le.otperformance.now()-this._performanceStartTime;return(0,Le.addHrTimes)(this.startTime,(0,Le.millisToHrTime)(r))}isRecording(){return this._ended===!1}recordException(t,r){let n={};typeof t=="string"?n[Qr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Qr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Qr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Qr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Qr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Qr.SemanticAttributes.EXCEPTION_TYPE]||n[Qr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(Pq.ExceptionEventName,n,r):pt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&pt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(pt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Vu.Span=mh});var Vs=c(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.SamplingDecision=void 0;var Cq;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Cq=Hs.SamplingDecision||(Hs.SamplingDecision={}))});var Yu=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.AlwaysOffSampler=void 0;var Iq=Vs(),Ah=class{shouldSample(){return{decision:Iq.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};$u.AlwaysOffSampler=Ah});var Wu=c(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.AlwaysOnSampler=void 0;var Nq=Vs(),Th=class{shouldSample(){return{decision:Nq.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Ku.AlwaysOnSampler=Th});var yh=c(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.ParentBasedSampler=void 0;var Xu=P(),Lq=$e(),Kb=Yu(),Oh=Wu(),Rh=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,Lq.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Oh.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Oh.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Kb.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Oh.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new Kb.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=Xu.trace.getSpanContext(t);return!a||!(0,Xu.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&Xu.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&Xu.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};zu.ParentBasedSampler=Rh});var vh=c(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.TraceIdRatioBasedSampler=void 0;var Mq=P(),Wb=Vs(),bh=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,Mq.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?Wb.SamplingDecision.RECORD_AND_SAMPLED:Wb.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Qu.TraceIdRatioBasedSampler=bh});var Ih=c(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.buildSamplerFromEnv=gi.loadDefaultConfig=void 0;var Zu=P(),Ae=$e(),Xb=Yu(),Ph=Wu(),Ch=yh(),zb=vh(),wq=(0,Ae.getEnv)(),Dq=Ae.TracesSamplerValues.AlwaysOn,Ei=1;function xq(){return{sampler:Zb(wq),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Ae.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Ae.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Ae.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Ae.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}gi.loadDefaultConfig=xq;function Zb(e=(0,Ae.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case Ae.TracesSamplerValues.AlwaysOn:return new Ph.AlwaysOnSampler;case Ae.TracesSamplerValues.AlwaysOff:return new Xb.AlwaysOffSampler;case Ae.TracesSamplerValues.ParentBasedAlwaysOn:return new Ch.ParentBasedSampler({root:new Ph.AlwaysOnSampler});case Ae.TracesSamplerValues.ParentBasedAlwaysOff:return new Ch.ParentBasedSampler({root:new Xb.AlwaysOffSampler});case Ae.TracesSamplerValues.TraceIdRatio:return new zb.TraceIdRatioBasedSampler(Qb(e));case Ae.TracesSamplerValues.ParentBasedTraceIdRatio:return new Ch.ParentBasedSampler({root:new zb.TraceIdRatioBasedSampler(Qb(e))});default:return Zu.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${Dq}".`),new Ph.AlwaysOnSampler}}gi.buildSamplerFromEnv=Zb;function Qb(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Zu.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Ei}.`),Ei;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Zu.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Ei}.`),Ei):t<0||t>1?(Zu.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Ei}.`),Ei):t}});var Lh=c(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.reconfigureLimits=mi.mergeConfig=void 0;var Jb=Ih(),Nh=$e();function Bq(e){let t={sampler:(0,Jb.buildSamplerFromEnv)()},r=(0,Jb.loadDefaultConfig)(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}mi.mergeConfig=Bq;function Uq(e){var t,r,n,i,s,o,a,u,l,d,_,f;let p=Object.assign({},e.spanLimits),h=(0,Nh.getEnvWithoutDefaults)();return p.attributeCountLimit=(o=(s=(i=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:h.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Nh.DEFAULT_ATTRIBUTE_COUNT_LIMIT,p.attributeValueLengthLimit=(f=(_=(d=(u=(a=e.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(l=e.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&d!==void 0?d:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:Nh.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:p})}mi.reconfigureLimits=Uq});var e0=c(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.BatchSpanProcessorBase=void 0;var Si=P(),Zr=$e(),Mh=class{constructor(t,r){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let n=(0,Zr.getEnv)();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Zr.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Si.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Si.TraceFlags.SAMPLED)!==0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&Si.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(Si.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Si.context.with((0,Zr.suppressTracing)(Si.context.active()),()=>{let i=this._finishedSpans.splice(0,this._maxExportBatchSize),s=()=>this._exporter.export(i,a=>{var u;clearTimeout(n),a.code===Zr.ExportResultCode.SUCCESS?t():r((u=a.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),o=i.map(a=>a.resource).filter(a=>a.asyncAttributesPending);o.length===0?s():Promise.all(o.map(a=>{var u;return(u=a.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(a)})).then(s,a=>{(0,Zr.globalErrorHandler)(a),r(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let t=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,(0,Zr.globalErrorHandler)(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(()=>t(),this._scheduledDelayMillis),(0,Zr.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Ju.BatchSpanProcessorBase=Mh});var t0=c(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.BatchSpanProcessor=void 0;var Gq=e0(),wh=class extends Gq.BatchSpanProcessorBase{onShutdown(){}};ec.BatchSpanProcessor=wh});var i0=c(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.RandomIdGenerator=void 0;var jq=8,n0=16,Dh=class{constructor(){this.generateTraceId=r0(n0),this.generateSpanId=r0(jq)}};rc.RandomIdGenerator=Dh;var tc=Buffer.allocUnsafe(n0);function r0(e){return function(){for(let r=0;r<e/4;r++)tc.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(tc[r]>0);r++)r===e-1&&(tc[e-1]=1);return tc.toString("hex",0,e)}}});var o0=c(Sr=>{"use strict";var qq=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s0=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qq(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});s0(t0(),Sr);s0(i0(),Sr)});var nc=c(Jr=>{"use strict";var Fq=Jr&&Jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kq=Jr&&Jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fq(t,e,r)};Object.defineProperty(Jr,"__esModule",{value:!0});kq(o0(),Jr)});var a0=c(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});sc.Tracer=void 0;var Te=P(),ic=$e(),Hq=Sh(),Vq=Lh(),$q=nc(),xh=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,Vq.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new $q.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Te.context.active()){var i,s,o;r.root&&(n=Te.trace.deleteSpan(n));let a=Te.trace.getSpan(n);if((0,ic.isTracingSuppressed)(n))return Te.diag.debug("Instrumentation suppressed, returning Noop Span"),Te.trace.wrapSpanContext(Te.INVALID_SPAN_CONTEXT);let u=a?.spanContext(),l=this._idGenerator.generateSpanId(),d,_,f;!u||!Te.trace.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,_=u.traceState,f=u.spanId);let p=(i=r.kind)!==null&&i!==void 0?i:Te.SpanKind.INTERNAL,h=((s=r.links)!==null&&s!==void 0?s:[]).map(y=>({context:y.context,attributes:(0,ic.sanitizeAttributes)(y.attributes)})),E=(0,ic.sanitizeAttributes)(r.attributes),A=this._sampler.shouldSample(n,d,t,p,E,h);_=(o=A.traceState)!==null&&o!==void 0?o:_;let T=A.decision===Te.SamplingDecision.RECORD_AND_SAMPLED?Te.TraceFlags.SAMPLED:Te.TraceFlags.NONE,O={traceId:d,spanId:l,traceFlags:T,traceState:_};if(A.decision===Te.SamplingDecision.NOT_RECORD)return Te.diag.debug("Recording is off, propagating context in a non-recording span"),Te.trace.wrapSpanContext(O);let R=(0,ic.sanitizeAttributes)(Object.assign(E,A.attributes));return new Hq.Span(this,n,t,O,p,f,h,r.startTime,void 0,R)}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??Te.context.active(),l=this.startSpan(t,s,u),d=Te.trace.setSpan(u,l);return Te.context.with(d,a,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};sc.Tracer=xh});var u0=c(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.defaultServiceName=void 0;function Yq(){return`unknown_service:${process.argv0}`}oc.defaultServiceName=Yq});var Bh=c(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.normalizeType=Ai.normalizeArch=void 0;var Kq=e=>{switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}};Ai.normalizeArch=Kq;var Wq=e=>{switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}};Ai.normalizeType=Wq});var uc=c(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.execAsync=void 0;var Xq=v("child_process"),zq=v("util");ac.execAsync=zq.promisify(Xq.exec)});var c0=c(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.getMachineId=void 0;var Qq=uc(),Zq=P();async function Jq(){try{let t=(await(0,Qq.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!t)return"";let r=t.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(e){Zq.diag.debug(`error reading machine id: ${e}`)}return""}cc.getMachineId=Jq});var l0=c(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.getMachineId=void 0;var eF=v("fs"),tF=P();async function rF(){let e=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let t of e)try{return(await eF.promises.readFile(t,{encoding:"utf8"})).trim()}catch(r){tF.diag.debug(`error reading machine id: ${r}`)}return""}lc.getMachineId=rF});var _0=c(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getMachineId=void 0;var nF=v("fs"),iF=uc(),d0=P();async function sF(){try{return(await nF.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(e){d0.diag.debug(`error reading machine id: ${e}`)}try{return(await(0,iF.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(e){d0.diag.debug(`error reading machine id: ${e}`)}return""}dc.getMachineId=sF});var p0=c(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.getMachineId=void 0;var f0=v("process"),oF=uc(),aF=P();async function uF(){let e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe";f0.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in f0.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t);try{let n=(await(0,oF.execAsync)(`${t} ${e}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(r){aF.diag.debug(`error reading machine id: ${r}`)}return""}_c.getMachineId=uF});var h0=c(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.getMachineId=void 0;var cF=P();async function lF(){return cF.diag.debug("could not read machine-id: unsupported platform"),""}fc.getMachineId=lF});var E0=c(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.getMachineId=void 0;var dF=v("process"),Ti;zt.getMachineId=Ti;switch(dF.platform){case"darwin":zt.getMachineId=Ti=c0().getMachineId;break;case"linux":zt.getMachineId=Ti=l0().getMachineId;break;case"freebsd":zt.getMachineId=Ti=_0().getMachineId;break;case"win32":zt.getMachineId=Ti=p0().getMachineId;break;default:zt.getMachineId=Ti=h0().getMachineId}});var jh=c(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.hostDetectorSync=void 0;var Uh=wt(),_F=en(),g0=v("os"),fF=Bh(),pF=E0(),Gh=class{detect(t){let r={[Uh.SemanticResourceAttributes.HOST_NAME]:(0,g0.hostname)(),[Uh.SemanticResourceAttributes.HOST_ARCH]:(0,fF.normalizeArch)((0,g0.arch)())};return new _F.Resource(r,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,pF.getMachineId)().then(t=>{let r={};return t&&(r[Uh.SemanticResourceAttributes.HOST_ID]=t),r})}};pc.hostDetectorSync=new Gh});var m0=c(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.hostDetector=void 0;var hF=jh(),qh=class{detect(t){return Promise.resolve(hF.hostDetectorSync.detect(t))}};hc.hostDetector=new qh});var kh=c(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.osDetectorSync=void 0;var S0=wt(),EF=en(),A0=v("os"),gF=Bh(),Fh=class{detect(t){let r={[S0.SemanticResourceAttributes.OS_TYPE]:(0,gF.normalizeType)((0,A0.platform)()),[S0.SemanticResourceAttributes.OS_VERSION]:(0,A0.release)()};return new EF.Resource(r)}};Ec.osDetectorSync=new Fh});var T0=c(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.osDetector=void 0;var mF=kh(),Hh=class{detect(t){return Promise.resolve(mF.osDetectorSync.detect(t))}};gc.osDetector=new Hh});var $h=c(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.processDetectorSync=void 0;var SF=P(),Qt=wt(),AF=en(),TF=v("os"),Vh=class{detect(t){let r={[Qt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[Qt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[Qt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[Qt.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Qt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[Qt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[Qt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(r[Qt.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let n=TF.userInfo();r[Qt.SemanticResourceAttributes.PROCESS_OWNER]=n.username}catch(n){SF.diag.debug(`error obtaining process owner: ${n}`)}return new AF.Resource(r)}};mc.processDetectorSync=new Vh});var O0=c(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.processDetector=void 0;var OF=$h(),Yh=class{detect(t){return Promise.resolve(OF.processDetectorSync.detect(t))}};Sc.processDetector=new Yh});var R0=c(tt=>{"use strict";var RF=tt&&tt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tn=tt&&tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RF(t,e,r)};Object.defineProperty(tt,"__esModule",{value:!0});tn(u0(),tt);tn(m0(),tt);tn(T0(),tt);tn(jh(),tt);tn(kh(),tt);tn(O0(),tt);tn($h(),tt)});var Kh=c(rn=>{"use strict";var yF=rn&&rn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bF=rn&&rn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yF(t,e,r)};Object.defineProperty(rn,"__esModule",{value:!0});bF(R0(),rn)});var en=c(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.Resource=void 0;var y0=P(),nn=wt(),Wh=$e(),vF=Kh(),Dt=class{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=r?.then(i=>(this._attributes=Object.assign({},this._attributes,i),this.asyncAttributesPending=!1,i),i=>(y0.diag.debug("a resource's async attributes promise rejected: %s",i),this.asyncAttributesPending=!1,{}))}static empty(){return Dt.EMPTY}static default(){return new Dt({[nn.SemanticResourceAttributes.SERVICE_NAME]:(0,vF.defaultServiceName)(),[nn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Wh.SDK_INFO[nn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[nn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Wh.SDK_INFO[nn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[nn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Wh.SDK_INFO[nn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var t;return this.asyncAttributesPending&&y0.diag.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(t){var r;if(!t)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new Dt(n);let i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(([s,o])=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),s),(a=t._syncAttributes)!==null&&a!==void 0?a:t.attributes),o)});return new Dt(n,i)}};Ac.Resource=Dt;Dt.EMPTY=new Dt({})});var v0=c(b0=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0})});var C0=c(P0=>{"use strict";Object.defineProperty(P0,"__esModule",{value:!0})});var N0=c(I0=>{"use strict";Object.defineProperty(I0,"__esModule",{value:!0})});var L0=c(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.browserDetector=void 0;var PF=$s(),Xh=class{detect(t){return Promise.resolve(PF.browserDetectorSync.detect(t))}};Tc.browserDetector=new Xh});var Qh=c(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.envDetectorSync=void 0;var CF=P(),IF=$e(),NF=wt(),LF=en(),zh=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(t){let r={},n=(0,IF.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){CF.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[NF.SemanticResourceAttributes.SERVICE_NAME]=s),new LF.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=decodeURIComponent(a)}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)}_isBaggageOctetString(t){for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Oc.envDetectorSync=new zh});var M0=c(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.envDetector=void 0;var MF=Qh(),Zh=class{detect(t){return Promise.resolve(MF.envDetectorSync.detect(t))}};Rc.envDetector=new Zh});var w0=c(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.browserDetectorSync=void 0;var yc=wt(),Jh=$s(),wF=P(),eE=class{detect(t){if(!(typeof navigator<"u"))return Jh.Resource.empty();let n={[yc.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[yc.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[yc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[yc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(wF.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Jh.Resource.empty()):new Jh.Resource(Object.assign({},t))}};bc.browserDetectorSync=new eE});var D0=c(xt=>{"use strict";var DF=xt&&xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vc=xt&&xt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DF(t,e,r)};Object.defineProperty(xt,"__esModule",{value:!0});vc(L0(),xt);vc(M0(),xt);vc(w0(),xt);vc(Qh(),xt)});var x0=c(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.isPromiseLike=void 0;var xF=e=>e!==null&&typeof e=="object"&&typeof e.then=="function";Pc.isPromiseLike=xF});var U0=c(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.detectResourcesSync=Ri.detectResources=void 0;var Ys=en(),Oi=P(),BF=x0(),UF=async(e={})=>{let t=await Promise.all((e.detectors||[]).map(async r=>{try{let n=await r.detect(e);return Oi.diag.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return Oi.diag.debug(`${r.constructor.name} failed: ${n.message}`),Ys.Resource.empty()}}));return B0(t),t.reduce((r,n)=>r.merge(n),Ys.Resource.empty())};Ri.detectResources=UF;var GF=(e={})=>{var t;let r=((t=e.detectors)!==null&&t!==void 0?t:[]).map(i=>{try{let s=i.detect(e),o;if((0,BF.isPromiseLike)(s)){let a=async()=>(await s).attributes;o=new Ys.Resource({},a())}else o=s;return o.waitForAsyncAttributes?o.waitForAsyncAttributes().then(()=>Oi.diag.debug(`${i.constructor.name} found resource.`,o)):Oi.diag.debug(`${i.constructor.name} found resource.`,o),o}catch(s){return Oi.diag.error(`${i.constructor.name} failed: ${s.message}`),Ys.Resource.empty()}}),n=r.reduce((i,s)=>i.merge(s),Ys.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{B0(r)}),n};Ri.detectResourcesSync=GF;var B0=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=JSON.stringify(t.attributes,null,4);Oi.diag.verbose(r)}})}});var $s=c(rt=>{"use strict";var jF=rt&&rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sn=rt&&rt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jF(t,e,r)};Object.defineProperty(rt,"__esModule",{value:!0});sn(en(),rt);sn(v0(),rt);sn(Kh(),rt);sn(C0(),rt);sn(N0(),rt);sn(D0(),rt);sn(U0(),rt)});var G0=c(Cc=>{"use strict";Object.defineProperty(Cc,"__esModule",{value:!0});Cc.MultiSpanProcessor=void 0;var qF=$e(),tE=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,qF.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Cc.MultiSpanProcessor=tE});var nE=c(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.NoopSpanProcessor=void 0;var rE=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Ic.NoopSpanProcessor=rE});var q0=c(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.BasicTracerProvider=on.ForceFlushState=void 0;var yi=P(),vi=$e(),j0=$s(),FF=Nc(),kF=Ih(),HF=G0(),VF=nE(),$F=nc(),YF=Lh(),bi;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(bi=on.ForceFlushState||(on.ForceFlushState={}));var Ks=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,vi.merge)({},(0,kF.loadDefaultConfig)(),(0,YF.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:j0.Resource.empty(),this.resource=j0.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new $F.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new VF.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${n?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new FF.Tracer({name:t,version:r,schemaUrl:n?.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>yi.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new HF.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){yi.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&yi.context.setGlobalContextManager(t.contextManager),t.propagator&&yi.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=bi.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==bi.timeout&&(s=bi.resolved,i(s))}).catch(a=>{clearTimeout(o),s=bi.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==bi.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=this.constructor._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=this.constructor._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,vi.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||yi.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new vi.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,vi.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none"||t==="")return;let r=this._getSpanExporter(t);return r||yi.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};on.BasicTracerProvider=Ks;Ks._registeredPropagators=new Map([["tracecontext",()=>new vi.W3CTraceContextPropagator],["baggage",()=>new vi.W3CBaggagePropagator]]);Ks._registeredExporters=new Map});var F0=c(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.ConsoleSpanExporter=void 0;var iE=$e(),sE=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(t){var r;return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(r=t.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,iE.hrTimeToMicroseconds)(t.startTime),duration:(0,iE.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:iE.ExportResultCode.SUCCESS})}};Lc.ConsoleSpanExporter=sE});var H0=c(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.InMemorySpanExporter=void 0;var k0=$e(),oE=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:k0.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:k0.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Mc.InMemorySpanExporter=oE});var $0=c(V0=>{"use strict";Object.defineProperty(V0,"__esModule",{value:!0})});var Y0=c(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.SimpleSpanProcessor=void 0;var KF=P(),Pi=$e(),aE=class{constructor(t){this._exporter=t,this._shutdownOnce=new Pi.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(t,r){}onEnd(t){var r,n;if(this._shutdownOnce.isCalled||(t.spanContext().traceFlags&KF.TraceFlags.SAMPLED)===0)return;let i=()=>Pi.internal._export(this._exporter,[t]).then(s=>{var o;s.code!==Pi.ExportResultCode.SUCCESS&&(0,Pi.globalErrorHandler)((o=s.error)!==null&&o!==void 0?o:new Error(`SimpleSpanProcessor: span export failed (status ${s})`))}).catch(s=>{(0,Pi.globalErrorHandler)(s)});if(t.resource.asyncAttributesPending){let s=(n=(r=t.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(r).then(()=>(s!=null&&this._unresolvedExports.delete(s),i()),o=>(0,Pi.globalErrorHandler)(o));s!=null&&this._unresolvedExports.add(s)}else i()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};wc.SimpleSpanProcessor=aE});var W0=c(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0})});var z0=c(X0=>{"use strict";Object.defineProperty(X0,"__esModule",{value:!0})});var Z0=c(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0})});var ev=c(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0})});var rv=c(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0})});var Nc=c(oe=>{"use strict";var WF=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Se=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&WF(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});Se(a0(),oe);Se(q0(),oe);Se(nc(),oe);Se(F0(),oe);Se(H0(),oe);Se($0(),oe);Se(Y0(),oe);Se(W0(),oe);Se(nE(),oe);Se(Yu(),oe);Se(Wu(),oe);Se(yh(),oe);Se(vh(),oe);Se(Vs(),oe);Se(Sh(),oe);Se(z0(),oe);Se(Z0(),oe);Se(ev(),oe);Se(rv(),oe)});var Dc=c(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.isTracingSuppressed=Ar.unsuppressTracing=Ar.suppressTracing=void 0;var XF=P(),uE=(0,XF.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function zF(e){return e.setValue(uE,!0)}Ar.suppressTracing=zF;function QF(e){return e.deleteValue(uE)}Ar.unsuppressTracing=QF;function ZF(e){return e.getValue(uE)===!0}Ar.isTracingSuppressed=ZF});var cE=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.BAGGAGE_MAX_TOTAL_LENGTH=Me.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Me.BAGGAGE_MAX_NAME_VALUE_PAIRS=Me.BAGGAGE_HEADER=Me.BAGGAGE_ITEMS_SEPARATOR=Me.BAGGAGE_PROPERTIES_SEPARATOR=Me.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Me.BAGGAGE_KEY_PAIR_SEPARATOR="=";Me.BAGGAGE_PROPERTIES_SEPARATOR=";";Me.BAGGAGE_ITEMS_SEPARATOR=",";Me.BAGGAGE_HEADER="baggage";Me.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Me.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Me.BAGGAGE_MAX_TOTAL_LENGTH=8192});var lE=c(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.parseKeyPairsIntoRecord=Bt.parsePairKeyValue=Bt.getKeyPairs=Bt.serializeKeyPairs=void 0;var JF=P(),an=cE();function ek(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?an.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>an.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}Bt.serializeKeyPairs=ek;function tk(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=an.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}Bt.getKeyPairs=tk;function nv(e){let t=e.split(an.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(an.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,JF.baggageEntryMetadataFromString)(t.join(an.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Bt.parsePairKeyValue=nv;function rk(e){return typeof e!="string"||e.length===0?{}:e.split(an.BAGGAGE_ITEMS_SEPARATOR).map(t=>nv(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}Bt.parseKeyPairsIntoRecord=rk});var iv=c(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.W3CBaggagePropagator=void 0;var dE=P(),nk=Dc(),un=cE(),_E=lE(),fE=class{inject(t,r,n){let i=dE.propagation.getBaggage(t);if(!i||(0,nk.isTracingSuppressed)(t))return;let s=(0,_E.getKeyPairs)(i).filter(a=>a.length<=un.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,un.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,_E.serializeKeyPairs)(s);o.length>0&&n.set(r,un.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,un.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(un.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(un.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,_E.parsePairKeyValue)(u);if(l){let d={value:l.value};l.metadata&&(d.metadata=l.metadata),o[l.key]=d}}),Object.entries(o).length===0)?t:dE.propagation.setBaggage(t,dE.propagation.createBaggage(o))}fields(){return[un.BAGGAGE_HEADER]}};xc.W3CBaggagePropagator=fE});var cv=c(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isAttributeValue=Tr.isAttributeKey=Tr.sanitizeAttributes=void 0;var sv=P();function ik(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!ov(r)){sv.diag.warn(`Invalid attribute key: ${r}`);continue}if(!av(n)){sv.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Tr.sanitizeAttributes=ik;function ov(e){return typeof e=="string"&&e.length>0}Tr.isAttributeKey=ov;function av(e){return e==null?!0:Array.isArray(e)?sk(e):uv(e)}Tr.isAttributeValue=av;function sk(e){let t;for(let r of e)if(r!=null){if(!t){if(uv(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function uv(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var pE=c(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.loggingErrorHandler=void 0;var ok=P();function ak(){return e=>{ok.diag.error(uk(e))}}Bc.loggingErrorHandler=ak;function uk(e){return typeof e=="string"?e:JSON.stringify(ck(e))}function ck(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var hE=c(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.globalErrorHandler=Ci.setGlobalErrorHandler=void 0;var lk=pE(),lv=(0,lk.loggingErrorHandler)();function dk(e){lv=e}Ci.setGlobalErrorHandler=dk;function _k(e){try{lv(e)}catch{}}Ci.globalErrorHandler=_k});var EE=c(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.TracesSamplerValues=void 0;var fk;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(fk=Ws.TracesSamplerValues||(Ws.TracesSamplerValues={}))});var gE=c(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.parseEnvironment=je.DEFAULT_ENVIRONMENT=je.DEFAULT_ATTRIBUTE_COUNT_LIMIT=je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Or=P(),pk=EE(),hk=",",Ek=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function gk(e){return Ek.indexOf(e)>-1}var mk=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Sk(e){return mk.indexOf(e)>-1}je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;je.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;je.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Or.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:je.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:je.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:pk.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function Ak(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function Tk(e,t,r,n=hk){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var Ok={ALL:Or.DiagLogLevel.ALL,VERBOSE:Or.DiagLogLevel.VERBOSE,DEBUG:Or.DiagLogLevel.DEBUG,INFO:Or.DiagLogLevel.INFO,WARN:Or.DiagLogLevel.WARN,ERROR:Or.DiagLogLevel.ERROR,NONE:Or.DiagLogLevel.NONE};function Rk(e,t,r){let n=r[e];if(typeof n=="string"){let i=Ok[n.toUpperCase()];i!=null&&(t[e]=i)}}function yk(e){let t={};for(let r in je.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":Rk(n,t,e);break;default:if(gk(n))Ak(n,t,e);else if(Sk(n))Tk(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}je.parseEnvironment=yk});var _v=c(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.getEnv=void 0;var bk=v("os"),dv=gE();function vk(){let e=(0,dv.parseEnvironment)(process.env);return Object.assign({HOSTNAME:bk.hostname()},dv.DEFAULT_ENVIRONMENT,e)}Uc.getEnv=vk});var fv=c(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc._globalThis=void 0;Gc._globalThis=typeof globalThis=="object"?globalThis:global});var pv=c(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.hexToBase64=void 0;function Pk(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}jc.hexToBase64=Pk});var gv=c(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.RandomIdGenerator=void 0;var Ck=8,Ev=16,mE=class{constructor(){this.generateTraceId=hv(Ev),this.generateSpanId=hv(Ck)}};Fc.RandomIdGenerator=mE;var qc=Buffer.allocUnsafe(Ev);function hv(e){return function(){for(let r=0;r<e/4;r++)qc.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(qc[r]>0);r++)r===e-1&&(qc[e-1]=1);return qc.toString("hex",0,e)}}});var mv=c(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.otperformance=void 0;var Ik=v("perf_hooks");kc.otperformance=Ik.performance});var Vc=c(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.VERSION=void 0;Hc.VERSION="1.3.1"});var Sv=c(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.MessageTypeValues=Z.RpcGrpcStatusCodeValues=Z.MessagingOperationValues=Z.MessagingDestinationKindValues=Z.HttpFlavorValues=Z.NetHostConnectionSubtypeValues=Z.NetHostConnectionTypeValues=Z.NetTransportValues=Z.FaasInvokedProviderValues=Z.FaasDocumentOperationValues=Z.FaasTriggerValues=Z.DbCassandraConsistencyLevelValues=Z.DbSystemValues=Z.SemanticAttributes=void 0;Z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var Av=c(cn=>{"use strict";var Nk=cn&&cn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lk=cn&&cn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nk(t,e,r)};Object.defineProperty(cn,"__esModule",{value:!0});Lk(Sv(),cn)});var Tv=c(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.TelemetrySdkLanguageValues=we.OsTypeValues=we.HostArchValues=we.AwsEcsLaunchtypeValues=we.CloudPlatformValues=we.CloudProviderValues=we.SemanticResourceAttributes=void 0;we.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};we.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};we.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};we.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};we.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};we.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};we.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Ov=c(ln=>{"use strict";var Mk=ln&&ln.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wk=ln&&ln.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mk(t,e,r)};Object.defineProperty(ln,"__esModule",{value:!0});wk(Tv(),ln)});var yr=c(Rr=>{"use strict";var Dk=Rr&&Rr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rv=Rr&&Rr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Dk(t,e,r)};Object.defineProperty(Rr,"__esModule",{value:!0});Rv(Av(),Rr);Rv(Ov(),Rr)});var yv=c($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.SDK_INFO=void 0;var xk=Vc(),Xs=yr();$c.SDK_INFO={[Xs.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Xs.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Xs.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Xs.TelemetrySdkLanguageValues.NODEJS,[Xs.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:xk.VERSION}});var bv=c(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.unrefTimer=void 0;function Bk(e){e.unref()}Yc.unrefTimer=Bk});var vv=c(nt=>{"use strict";var Uk=nt&&nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dn=nt&&nt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uk(t,e,r)};Object.defineProperty(nt,"__esModule",{value:!0});dn(_v(),nt);dn(fv(),nt);dn(pv(),nt);dn(gv(),nt);dn(mv(),nt);dn(yv(),nt);dn(bv(),nt)});var SE=c(_n=>{"use strict";var Gk=_n&&_n.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jk=_n&&_n.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Gk(t,e,r)};Object.defineProperty(_n,"__esModule",{value:!0});jk(vv(),_n)});var Iv=c(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.isTimeInput=fe.isTimeInputHrTime=fe.hrTimeToMicroseconds=fe.hrTimeToMilliseconds=fe.hrTimeToNanoseconds=fe.hrTimeToTimeStamp=fe.hrTimeDuration=fe.timeInputToHrTime=fe.hrTime=void 0;var AE=SE(),TE=9,zs=Math.pow(10,TE);function Kc(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(TE))*zs;return[r,n]}function Pv(){let e=AE.otperformance.timeOrigin;if(typeof e!="number"){let t=AE.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Cv(e){let t=Kc(Pv()),r=Kc(typeof e=="number"?e:AE.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>zs&&(i-=zs,n+=1),[n,i]}fe.hrTime=Cv;function qk(e){if(OE(e))return e;if(typeof e=="number")return e<Pv()?Cv(e):Kc(e);if(e instanceof Date)return Kc(e.getTime());throw TypeError("Invalid input type")}fe.timeInputToHrTime=qk;function Fk(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=zs),[r,n]}fe.hrTimeDuration=Fk;function kk(e){let t=TE,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}fe.hrTimeToTimeStamp=kk;function Hk(e){return e[0]*zs+e[1]}fe.hrTimeToNanoseconds=Hk;function Vk(e){return Math.round(e[0]*1e3+e[1]/1e6)}fe.hrTimeToMilliseconds=Vk;function $k(e){return Math.round(e[0]*1e6+e[1]/1e3)}fe.hrTimeToMicroseconds=$k;function OE(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}fe.isTimeInputHrTime=OE;function Yk(e){return OE(e)||typeof e=="number"||e instanceof Date}fe.isTimeInput=Yk});var Lv=c(Nv=>{"use strict";Object.defineProperty(Nv,"__esModule",{value:!0})});var Mv=c(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.ExportResultCode=void 0;var Kk;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Kk=Qs.ExportResultCode||(Qs.ExportResultCode={}))});var Dv=c(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.CompositePropagator=void 0;var wv=P(),RE=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){wv.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){wv.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};Wc.CompositePropagator=RE});var xv=c(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.validateValue=Ii.validateKey=void 0;var yE="[_0-9a-z-*/]",Wk=`[a-z]${yE}{0,255}`,Xk=`[a-z0-9]${yE}{0,240}@[a-z]${yE}{0,13}`,zk=new RegExp(`^(?:${Wk}|${Xk})$`),Qk=/^[ -~]{0,255}[!-~]$/,Zk=/,|=/;function Jk(e){return zk.test(e)}Ii.validateKey=Jk;function e2(e){return Qk.test(e)&&!Zk.test(e)}Ii.validateValue=e2});var bE=c(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.TraceState=void 0;var Bv=xv(),Uv=32,t2=512,Gv=",",jv="=",Zs=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+jv+this.get(r)),t),[]).join(Gv)}_parse(t){t.length>t2||(this._internalState=t.split(Gv).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(jv);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,Bv.validateKey)(o)&&(0,Bv.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>Uv&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Uv))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Zs;return t._internalState=new Map(this._internalState),t}};Xc.TraceState=Zs});var Fv=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.W3CTraceContextPropagator=De.parseTraceParent=De.TRACE_STATE_HEADER=De.TRACE_PARENT_HEADER=void 0;var zc=P(),r2=Dc(),n2=bE();De.TRACE_PARENT_HEADER="traceparent";De.TRACE_STATE_HEADER="tracestate";var i2="00",s2="(?!ff)[\\da-f]{2}",o2="(?![0]{32})[\\da-f]{32}",a2="(?![0]{16})[\\da-f]{16}",u2="[\\da-f]{2}",c2=new RegExp(`^\\s?(${s2})-(${o2})-(${a2})-(${u2})(-.*)?\\s?$`);function qv(e){let t=c2.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}De.parseTraceParent=qv;var vE=class{inject(t,r,n){let i=zc.trace.getSpanContext(t);if(!i||(0,r2.isTracingSuppressed)(t)||!(0,zc.isSpanContextValid)(i))return;let s=`${i2}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||zc.TraceFlags.NONE).toString(16)}`;n.set(r,De.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,De.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,De.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=qv(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,De.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new n2.TraceState(typeof u=="string"?u:void 0)}return zc.trace.setSpanContext(t,o)}fields(){return[De.TRACE_PARENT_HEADER,De.TRACE_STATE_HEADER]}};De.W3CTraceContextPropagator=vE});var Hv=c(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0})});var Vv=c(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.getRPCMetadata=ht.deleteRPCMetadata=ht.setRPCMetadata=ht.RPCType=void 0;var l2=P(),PE=(0,l2.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),d2;(function(e){e.HTTP="http"})(d2=ht.RPCType||(ht.RPCType={}));function _2(e,t){return e.setValue(PE,t)}ht.setRPCMetadata=_2;function f2(e){return e.deleteValue(PE)}ht.deleteRPCMetadata=f2;function p2(e){return e.getValue(PE)}ht.getRPCMetadata=p2});var IE=c(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.AlwaysOffSampler=void 0;var h2=P(),CE=class{shouldSample(){return{decision:h2.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Qc.AlwaysOffSampler=CE});var LE=c(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.AlwaysOnSampler=void 0;var E2=P(),NE=class{shouldSample(){return{decision:E2.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Zc.AlwaysOnSampler=NE});var Yv=c(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.ParentBasedSampler=void 0;var Jc=P(),g2=hE(),$v=IE(),ME=LE(),wE=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,g2.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ME.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new ME.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new $v.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new ME.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new $v.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=Jc.trace.getSpanContext(t);return!a||!(0,Jc.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&Jc.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&Jc.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};el.ParentBasedSampler=wE});var Kv=c(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.TraceIdRatioBasedSampler=void 0;var DE=P(),xE=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,DE.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?DE.SamplingDecision.RECORD_AND_SAMPLED:DE.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};tl.TraceIdRatioBasedSampler=xE});var Zv=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.isPlainObject=void 0;var m2="[object Object]",S2="[object Null]",A2="[object Undefined]",T2=Function.prototype,Wv=T2.toString,O2=Wv.call(Object),R2=y2(Object.getPrototypeOf,Object),Xv=Object.prototype,zv=Xv.hasOwnProperty,fn=Symbol?Symbol.toStringTag:void 0,Qv=Xv.toString;function y2(e,t){return function(r){return e(t(r))}}function b2(e){if(!v2(e)||P2(e)!==m2)return!1;let t=R2(e);if(t===null)return!0;let r=zv.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Wv.call(r)===O2}rl.isPlainObject=b2;function v2(e){return e!=null&&typeof e=="object"}function P2(e){return e==null?e===void 0?A2:S2:fn&&fn in Object(e)?C2(e):I2(e)}function C2(e){let t=zv.call(e,fn),r=e[fn],n=!1;try{e[fn]=void 0,n=!0}catch{}let i=Qv.call(e);return n&&(t?e[fn]=r:delete e[fn]),i}function I2(e){return Qv.call(e)}});var nP=c(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.merge=void 0;var Jv=Zv(),N2=20;function L2(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=tP(t,e.shift(),0,r);return t}sl.merge=L2;function BE(e){return il(e)?e.slice():e}function tP(e,t,r=0,n){let i;if(!(r>N2)){if(r++,nl(e)||nl(t)||rP(t))i=BE(t);else if(il(e)){if(i=e.slice(),il(t))for(let s=0,o=t.length;s<o;s++)i.push(BE(t[s]));else if(Js(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=BE(t[u])}}}else if(Js(e))if(Js(t)){if(!M2(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(nl(l))typeof l>"u"?delete i[u]:i[u]=l;else{let d=i[u],_=l;if(eP(e,u,n)||eP(t,u,n))delete i[u];else{if(Js(d)&&Js(_)){let f=n.get(d)||[],p=n.get(_)||[];f.push({obj:e,key:u}),p.push({obj:t,key:u}),n.set(d,f),n.set(_,p)}i[u]=tP(i[u],l,r,n)}}}}else i=t;return i}}function eP(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function il(e){return Array.isArray(e)}function rP(e){return typeof e=="function"}function Js(e){return!nl(e)&&!il(e)&&!rP(e)&&typeof e=="object"}function nl(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function M2(e,t){return!(!(0,Jv.isPlainObject)(e)||!(0,Jv.isPlainObject)(t))}});var sP=c(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.isUrlIgnored=Ni.urlMatches=void 0;function iP(e,t){return typeof t=="string"?e===t:!!e.match(t)}Ni.urlMatches=iP;function w2(e,t){if(!t)return!1;for(let r of t)if(iP(e,r))return!0;return!1}Ni.isUrlIgnored=w2});var oP=c(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.isWrapped=void 0;function D2(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}ol.isWrapped=D2});var aP=c(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.Deferred=void 0;var UE=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};al.Deferred=UE});var uP=c(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.BindOnceFuture=void 0;var x2=aP(),GE=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new x2.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};ul.BindOnceFuture=GE});var Oe=c(W=>{"use strict";var B2=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ne=W&&W.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&B2(t,e,r)};Object.defineProperty(W,"__esModule",{value:!0});W.baggageUtils=void 0;ne(iv(),W);ne(cv(),W);ne(hE(),W);ne(pE(),W);ne(Iv(),W);ne(Lv(),W);ne(Mv(),W);ne(Vc(),W);W.baggageUtils=lE();ne(SE(),W);ne(Dv(),W);ne(Fv(),W);ne(Hv(),W);ne(Vv(),W);ne(IE(),W);ne(LE(),W);ne(Yv(),W);ne(Kv(),W);ne(Dc(),W);ne(bE(),W);ne(gE(),W);ne(nP(),W);ne(EE(),W);ne(sP(),W);ne(oP(),W);ne(uP(),W);ne(Vc(),W)});var eo=c(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.invalidTimeout=ot.configureExporterTimeout=ot.appendRootPathToUrlIfNeeded=ot.appendResourcePathToUrl=ot.parseHeaders=void 0;var lP=P(),cP=Oe(),dP=1e4;function U2(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n<"u"?t[r]=String(n):lP.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}ot.parseHeaders=U2;function G2(e,t){return e.endsWith("/")||(e=e+"/"),e+t}ot.appendResourcePathToUrl=G2;function j2(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}ot.appendRootPathToUrlIfNeeded=j2;function q2(e){return typeof e=="number"?e<=0?jE(e,dP):e:F2()}ot.configureExporterTimeout=q2;function F2(){var e;let t=Number((e=(0,cP.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,cP.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?jE(t,dP):t}function jE(e,t){return lP.diag.warn("Timeout must be greater than 0",e),t}ot.invalidTimeout=jE});var ll=c(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.OTLPExporterBase=void 0;var _P=P(),to=Oe(),k2=eo(),qE=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new to.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:1/0,this.timeoutMillis=(0,k2.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:to.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:to.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:to.ExportResultCode.SUCCESS})}).catch(n=>{r({code:to.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{_P.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return _P.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};cl.OTLPExporterBase=qE});var FE=c(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.CompressionAlgorithm=void 0;var H2;(function(e){e.NONE="none",e.GZIP="gzip"})(H2=ro.CompressionAlgorithm||(ro.CompressionAlgorithm={}))});var _l=c(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.OTLPExporterError=void 0;var kE=class extends Error{constructor(t,r,n){super(t),this.name="OTLPExporterError",this.data=n,this.code=r}};dl.OTLPExporterError=kE});var YE=c(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.configureCompression=br.createHttpAgent=br.sendWithHttp=void 0;var pP=v("url"),hP=v("http"),EP=v("https"),V2=v("zlib"),$2=v("stream"),$E=P(),fl=FE(),fP=Oe(),HE=_l(),VE;function Y2(e,t,r,n,i){let s=e.timeoutMillis,o=new pP.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),l=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},s),d={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(o.protocol==="http:"?hP.request:EP.request)(d,p=>{let h="";p.on("data",E=>h+=E),p.on("aborted",()=>{if(a){let E=new HE.OTLPExporterError("Request Timeout");i(E)}}),p.on("end",()=>{if(!a){if(p.statusCode&&p.statusCode<299)$E.diag.debug(`statusCode: ${p.statusCode}`,h),n();else{let E=new HE.OTLPExporterError(p.statusMessage,p.statusCode,h);i(E)}clearTimeout(l)}})});switch(f.on("error",p=>{if(a){let h=new HE.OTLPExporterError("Request Timeout",p.code);i(h)}else clearTimeout(l),i(p)}),e.compression){case fl.CompressionAlgorithm.GZIP:{VE||(VE=V2.createGzip()),f.setHeader("Content-Encoding","gzip"),K2(t).on("error",i).pipe(VE).on("error",i).pipe(f);break}default:f.end(t);break}}br.sendWithHttp=Y2;function K2(e){let t=new $2.Readable;return t.push(e),t.push(null),t}function W2(e){if(e.httpAgentOptions&&e.keepAlive===!1){$E.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new pP.URL(e.url).protocol==="http:"?hP.Agent:EP.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){$E.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}br.createHttpAgent=W2;function X2(e){return e||(((0,fP.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,fP.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===fl.CompressionAlgorithm.GZIP?fl.CompressionAlgorithm.GZIP:fl.CompressionAlgorithm.NONE)}br.configureCompression=X2});var SP=c(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.OTLPExporterNodeBase=void 0;var z2=ll(),Q2=eo(),KE=YE(),gP=P(),mP=Oe(),WE=class extends z2.OTLPExporterBase{constructor(t={}){super(t),this.DEFAULT_HEADERS={},t.metadata&&gP.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,Q2.parseHeaders)(t.headers),mP.baggageUtils.parseKeyPairsIntoRecord((0,mP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,KE.createHttpAgent)(t),this.compression=(0,KE.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){gP.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,KE.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};pl.OTLPExporterNodeBase=WE});var AP=c(Zt=>{"use strict";var Z2=Zt&&Zt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),XE=Zt&&Zt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Z2(t,e,r)};Object.defineProperty(Zt,"__esModule",{value:!0});XE(SP(),Zt);XE(YE(),Zt);XE(FE(),Zt)});var OP=c(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.sendWithXhr=Li.sendWithBeacon=void 0;var TP=P(),zE=_l();function J2(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))TP.diag.debug("sendBeacon - can send",e),n();else{let s=new zE.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}Li.sendWithBeacon=J2;function eH(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([d,_])=>{u.setRequestHeader(d,_)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),TP.diag.debug("xhr success",e),i();else if(o){let d=new zE.OTLPExporterError("Request Timeout",u.status);s(d)}else{let d=new zE.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(d)}}}Li.sendWithXhr=eH});var bP=c(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.OTLPExporterBrowserBase=void 0;var tH=ll(),rH=eo(),RP=OP(),nH=P(),yP=Oe(),QE=class extends tH.OTLPExporterBase{constructor(t={}){super(t),this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,rH.parseHeaders)(t.headers),yP.baggageUtils.parseKeyPairsIntoRecord((0,yP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){nH.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,l)=>{this._useXHR?(0,RP.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,l):(0,RP.sendWithBeacon)(s,this.url,{type:"application/json"},u,l)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};hl.OTLPExporterBrowserBase=QE});var vP=c(pn=>{"use strict";var iH=pn&&pn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sH=pn&&pn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iH(t,e,r)};Object.defineProperty(pn,"__esModule",{value:!0});sH(bP(),pn)});var PP=c(Jt=>{"use strict";var oH=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aH=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oH(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.OTLPExporterBrowserBase=void 0;aH(AP(),Jt);var uH=vP();Object.defineProperty(Jt,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return uH.OTLPExporterBrowserBase}})});var ZE=c(Ut=>{"use strict";var cH=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),El=Ut&&Ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cH(t,e,r)};Object.defineProperty(Ut,"__esModule",{value:!0});El(ll(),Ut);El(PP(),Ut);El(_l(),Ut);El(eo(),Ut)});var IP=c(CP=>{"use strict";Object.defineProperty(CP,"__esModule",{value:!0})});var LP=c(NP=>{"use strict";Object.defineProperty(NP,"__esModule",{value:!0})});var wP=c(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0})});var DP=c(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.ESpanKind=void 0;var lH;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(lH=no.ESpanKind||(no.ESpanKind={}))});var gl=c(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.bufToHex=at.hexToBuf=at.toAnyValue=at.toKeyValue=at.toAttributes=void 0;function dH(e){return Object.keys(e).map(t=>JE(t,e[t]))}at.toAttributes=dH;function JE(e,t){return{key:e,value:eg(t)}}at.toKeyValue=JE;function eg(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(eg)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>JE(r,n))}}:{}}at.toAnyValue=eg;function _H(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}at.hexToBuf=_H;function fH(e){return("0"+e.toString(16)).slice(-2)}function pH(e){if(!(e==null||e.length===0))return Array.from(e).map(fH).join("")}at.bufToHex=pH});var UP=c(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.toOtlpSpanEvent=vr.toOtlpLink=vr.sdkSpanToOtlpSpan=void 0;var tg=Oe(),rg=gl(),io=Oe();function hH(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?io.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:io.hexToBase64(r.traceId),spanId:t?r.spanId:io.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,tg.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,tg.hrTimeToNanoseconds)(e.endTime),attributes:(0,rg.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(BP),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>xP(s,t)),droppedLinksCount:0}}vr.sdkSpanToOtlpSpan=hH;function xP(e,t){return{attributes:e.attributes?(0,rg.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:io.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:io.hexToBase64(e.context.traceId),droppedAttributesCount:0}}vr.toOtlpLink=xP;function BP(e){return{attributes:e.attributes?(0,rg.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,tg.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}vr.toOtlpSpanEvent=BP});var GP=c(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.createExportTraceServiceRequest=void 0;var EH=gl(),gH=UP();function mH(e,t){return{resourceSpans:AH(e,t)}}ml.createExportTraceServiceRequest=mH;function SH(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function AH(e,t){let r=SH(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],l=a.values(),d=l.next();for(;!d.done;){let f=d.value;if(f.length>0){let{name:p,version:h,schemaUrl:E}=f[0].instrumentationLibrary,A=f.map(T=>(0,gH.sdkSpanToOtlpSpan)(T,t));u.push({scope:{name:p,version:h},spans:A,schemaUrl:E})}d=l.next()}let _={resource:{attributes:(0,EH.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(_),s=i.next()}return n}});var ng=c(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=F.NOOP_OBSERVABLE_GAUGE_METRIC=F.NOOP_OBSERVABLE_COUNTER_METRIC=F.NOOP_UP_DOWN_COUNTER_METRIC=F.NOOP_HISTOGRAM_METRIC=F.NOOP_COUNTER_METRIC=F.NOOP_METER=F.NoopObservableUpDownCounterMetric=F.NoopObservableGaugeMetric=F.NoopObservableCounterMetric=F.NoopObservableMetric=F.NoopHistogramMetric=F.NoopUpDownCounterMetric=F.NoopCounterMetric=F.NoopMetric=F.NoopMeter=void 0;var Sl=class{constructor(){}createHistogram(t,r){return F.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return F.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return F.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return F.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return F.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return F.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};F.NoopMeter=Sl;var Mi=class{};F.NoopMetric=Mi;var Al=class extends Mi{add(t,r){}};F.NoopCounterMetric=Al;var Tl=class extends Mi{add(t,r){}};F.NoopUpDownCounterMetric=Tl;var Ol=class extends Mi{record(t,r){}};F.NoopHistogramMetric=Ol;var wi=class{addCallback(t){}removeCallback(t){}};F.NoopObservableMetric=wi;var Rl=class extends wi{};F.NoopObservableCounterMetric=Rl;var yl=class extends wi{};F.NoopObservableGaugeMetric=yl;var bl=class extends wi{};F.NoopObservableUpDownCounterMetric=bl;F.NOOP_METER=new Sl;F.NOOP_COUNTER_METRIC=new Al;F.NOOP_HISTOGRAM_METRIC=new Ol;F.NOOP_UP_DOWN_COUNTER_METRIC=new Tl;F.NOOP_OBSERVABLE_COUNTER_METRIC=new Rl;F.NOOP_OBSERVABLE_GAUGE_METRIC=new yl;F.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new bl});var ig=c(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.NOOP_METER_PROVIDER=Di.NoopMeterProvider=void 0;var TH=ng(),vl=class{getMeter(t,r,n){return TH.NOOP_METER}};Di.NoopMeterProvider=vl;Di.NOOP_METER_PROVIDER=new vl});var qP=c(jP=>{"use strict";Object.defineProperty(jP,"__esModule",{value:!0})});var kP=c(FP=>{"use strict";Object.defineProperty(FP,"__esModule",{value:!0})});var HP=c(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.ValueType=void 0;var OH;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(OH=so.ValueType||(so.ValueType={}))});var $P=c(VP=>{"use strict";Object.defineProperty(VP,"__esModule",{value:!0})});var YP=c(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl._globalThis=void 0;Pl._globalThis=typeof globalThis=="object"?globalThis:global});var KP=c(hn=>{"use strict";var RH=hn&&hn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yH=hn&&hn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RH(t,e,r)};Object.defineProperty(hn,"__esModule",{value:!0});yH(YP(),hn)});var WP=c(En=>{"use strict";var bH=En&&En.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vH=En&&En.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bH(t,e,r)};Object.defineProperty(En,"__esModule",{value:!0});vH(KP(),En)});var XP=c(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.API_BACKWARDS_COMPATIBILITY_VERSION=Gt.makeGetter=Gt._global=Gt.GLOBAL_METRICS_API_KEY=void 0;var PH=WP();Gt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");Gt._global=PH._globalThis;function CH(e,t,r){return n=>n===e?t:r}Gt.makeGetter=CH;Gt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var QP=c(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.MetricsAPI=void 0;var zP=ig(),ut=XP(),oo=class{constructor(){}static getInstance(){return this._instance||(this._instance=new oo),this._instance}setGlobalMeterProvider(t){return ut._global[ut.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(ut._global[ut.GLOBAL_METRICS_API_KEY]=(0,ut.makeGetter)(ut.API_BACKWARDS_COMPATIBILITY_VERSION,t,zP.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=ut._global[ut.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(ut._global,ut.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:zP.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete ut._global[ut.GLOBAL_METRICS_API_KEY]}};Cl.MetricsAPI=oo});var Bi=c(Ye=>{"use strict";var IH=Ye&&Ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xi=Ye&&Ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&IH(t,e,r)};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.metrics=void 0;xi(ng(),Ye);xi(ig(),Ye);xi(qP(),Ye);xi(kP(),Ye);xi(HP(),Ye);xi($P(),Ye);var NH=QP();Ye.metrics=NH.MetricsAPI.getInstance()});var Il=c(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.AggregationTemporality=void 0;var LH;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(LH=ao.AggregationTemporality||(ao.AggregationTemporality={}))});var co=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.DataPointType=void 0;var MH;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(MH=uo.DataPointType||(uo.DataPointType={}))});var ZP=c(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.ConsoleMetricExporter=void 0;var wH=Il(),DH=Oe(),sg=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t??wH.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:DH.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};Nl.ConsoleMetricExporter=sg});var eC=c(JP=>{"use strict";Object.defineProperty(JP,"__esModule",{value:!0})});var er=c(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.setEquals=pe.FlatMap=pe.isPromiseAllSettledRejectionResult=pe.PromiseAllSettled=pe.callWithTimeout=pe.TimeoutError=pe.instrumentationScopeId=pe.hashAttributes=pe.isNotNullish=void 0;function xH(e){return e!=null}pe.isNotNullish=xH;function BH(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}pe.hashAttributes=BH;function UH(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}pe.instrumentationScopeId=UH;var Ui=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Ui.prototype)}};pe.TimeoutError=Ui;function GH(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new Ui("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}pe.callWithTimeout=GH;async function jH(e){return Promise.all(e.map(async t=>{try{return{status:"fulfilled",value:await t}}catch(r){return{status:"rejected",reason:r}}}))}pe.PromiseAllSettled=jH;function qH(e){return e.status==="rejected"}pe.isPromiseAllSettledRejectionResult=qH;function FH(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}pe.FlatMap=FH;function kH(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}pe.setEquals=kH});var ag=c(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.MetricReader=void 0;var tC=P(),rC=er(),og=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t?.timeoutMillis})}async shutdown(t){if(this._shutdown){tC.diag.error("Cannot call shutdown twice.");return}t?.timeoutMillis==null?await this.onShutdown():await(0,rC.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){tC.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(t?.timeoutMillis==null){await this.onForceFlush();return}await(0,rC.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};Ll.MetricReader=og});var oC=c(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.PeriodicExportingMetricReader=void 0;var nC=P(),iC=Oe(),HH=ag(),sC=er(),ug=class extends HH.MetricReader{constructor(t){var r,n;if(super(),t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&nC.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==iC.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,sC.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof sC.TimeoutError){nC.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,iC.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};Ml.PeriodicExportingMetricReader=ug});var gn=c(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.isDescriptorCompatibleWith=Et.createInstrumentDescriptorWithView=Et.createInstrumentDescriptor=Et.InstrumentType=void 0;var VH=Bi(),$H;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})($H=Et.InstrumentType||(Et.InstrumentType={}));function YH(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r?.description)!==null&&n!==void 0?n:"",unit:(i=r?.unit)!==null&&i!==void 0?i:"",valueType:(s=r?.valueType)!==null&&s!==void 0?s:VH.ValueType.DOUBLE}}Et.createInstrumentDescriptor=YH;function KH(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}Et.createInstrumentDescriptorWithView=KH;function WH(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}Et.isDescriptorCompatibleWith=WH});var Dl=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isObservableInstrument=he.ObservableUpDownCounterInstrument=he.ObservableGaugeInstrument=he.ObservableCounterInstrument=he.ObservableInstrument=he.HistogramInstrument=he.CounterInstrument=he.UpDownCounterInstrument=he.SyncInstrument=void 0;var wl=P(),XH=Bi(),Gi=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=wl.context.active()){this._descriptor.valueType===XH.ValueType.INT&&!Number.isInteger(t)&&(wl.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};he.SyncInstrument=Gi;var cg=class extends Gi{add(t,r,n){this._record(t,r,n)}};he.UpDownCounterInstrument=cg;var lg=class extends Gi{add(t,r,n){if(t<0){wl.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.CounterInstrument=lg;var dg=class extends Gi{record(t,r,n){if(t<0){wl.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.HistogramInstrument=dg;var mn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};he.ObservableInstrument=mn;var _g=class extends mn{};he.ObservableCounterInstrument=_g;var fg=class extends mn{};he.ObservableGaugeInstrument=fg;var pg=class extends mn{};he.ObservableUpDownCounterInstrument=pg;function zH(e){return e instanceof mn}he.isObservableInstrument=zH});var Eg=c(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.Meter=void 0;var ct=gn(),ji=Dl(),hg=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new ji.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new ji.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new ji.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new ji.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new ji.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new ji.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};xl.Meter=hg});var aC=c(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.defaultServiceName=void 0;function QH(){return`unknown_service:${process.argv0}`}Bl.defaultServiceName=QH});var cC=c(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.detectResources=void 0;var uC=Sn(),gg=P(),ZH=v("util"),JH=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return gg.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return gg.diag.debug(`${n.constructor.name} failed: ${i.message}`),uC.Resource.empty()}}));return eV(r),r.reduce((n,i)=>n.merge(i),uC.Resource.empty())};Ul.detectResources=JH;var eV=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=ZH.inspect(t.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});gg.diag.verbose(r)}})}});var _C=c(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.hostDetector=void 0;var lC=yr(),tV=Sn(),dC=v("os"),mg=class{async detect(t){let r={[lC.SemanticResourceAttributes.HOST_NAME]:(0,dC.hostname)(),[lC.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,dC.arch)())};return new tV.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Gl.hostDetector=new mg});var hC=c(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.osDetector=void 0;var fC=yr(),rV=Sn(),pC=v("os"),Sg=class{async detect(t){let r={[fC.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,pC.platform)()),[fC.SemanticResourceAttributes.OS_VERSION]:(0,pC.release)()};return new rV.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};jl.osDetector=new Sg});var EC=c(jt=>{"use strict";var nV=jt&&jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ql=jt&&jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&nV(t,e,r)};Object.defineProperty(jt,"__esModule",{value:!0});ql(aC(),jt);ql(cC(),jt);ql(_C(),jt);ql(hC(),jt)});var Ag=c(An=>{"use strict";var iV=An&&An.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sV=An&&An.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iV(t,e,r)};Object.defineProperty(An,"__esModule",{value:!0});sV(EC(),An)});var Sn=c(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.Resource=void 0;var Tn=yr(),Tg=Oe(),oV=Ag(),tr=class{constructor(t){this.attributes=t}static empty(){return tr.EMPTY}static default(){return new tr({[Tn.SemanticResourceAttributes.SERVICE_NAME]:(0,oV.defaultServiceName)(),[Tn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Tg.SDK_INFO[Tn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Tn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Tg.SDK_INFO[Tn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Tn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Tg.SDK_INFO[Tn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new tr(r)}};Fl.Resource=tr;tr.EMPTY=new tr({})});var mC=c(gC=>{"use strict";Object.defineProperty(gC,"__esModule",{value:!0})});var AC=c(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0})});var TC=c(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.browserDetector=void 0;var aV=P(),kl=yr(),Og=yg(),Rg=class{async detect(t){if(!(typeof navigator<"u"))return Og.Resource.empty();let n={[kl.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[kl.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[kl.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[kl.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(aV.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Og.Resource.empty()):new Og.Resource(Object.assign({},t))}};Hl.browserDetector=new Rg});var OC=c(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.envDetector=void 0;var uV=P(),cV=Oe(),lV=yr(),dV=Sn(),bg=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,cV.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){uV.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[lV.SemanticResourceAttributes.SERVICE_NAME]=s),new dV.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Vl.envDetector=new bg});var RC=c($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.processDetector=void 0;var _V=P(),lt=yr(),vg=Sn(),Pg=class{async detect(t){if(typeof process!="object")return vg.Resource.empty();let r={[lt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[lt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[lt.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[lt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[lt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[lt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[lt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[lt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[lt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[lt.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[lt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[lt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(_V.diag.debug("ProcessDetector failed: Unable to find required process resources. "),vg.Resource.empty()):new vg.Resource(Object.assign({},t))}};$l.processDetector=new Pg});var yC=c(rr=>{"use strict";var fV=rr&&rr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cg=rr&&rr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fV(t,e,r)};Object.defineProperty(rr,"__esModule",{value:!0});Cg(TC(),rr);Cg(OC(),rr);Cg(RC(),rr)});var yg=c(gt=>{"use strict";var pV=gt&&gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lo=gt&&gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pV(t,e,r)};Object.defineProperty(gt,"__esModule",{value:!0});lo(Sn(),gt);lo(Ag(),gt);lo(mC(),gt);lo(AC(),gt);lo(yC(),gt)});var Yl=c(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.ExactPredicate=qi.PatternPredicate=void 0;var hV=/[\^$\\.+?()[\]{}|]/g,_o=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(_o.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(hV,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};qi.PatternPredicate=_o;var Ig=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};qi.ExactPredicate=Ig});var Lg=c(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.InstrumentSelector=void 0;var EV=Yl(),Ng=class{constructor(t){var r;this._nameFilter=new EV.PatternPredicate((r=t?.name)!==null&&r!==void 0?r:"*"),this._type=t?.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Kl.InstrumentSelector=Ng});var Dg=c(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.MeterSelector=void 0;var Mg=Yl(),wg=class{constructor(t){this._nameFilter=new Mg.ExactPredicate(t?.name),this._versionFilter=new Mg.ExactPredicate(t?.version),this._schemaUrlFilter=new Mg.ExactPredicate(t?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Wl.MeterSelector=wg});var po=c(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.AggregatorKind=void 0;var gV;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(gV=fo.AggregatorKind||(fo.AggregatorKind={}))});var bC=c(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.DropAggregator=void 0;var mV=po(),xg=class{constructor(){this.kind=mV.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};Xl.DropAggregator=xg});var vC=c(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.HistogramAggregator=ki.HistogramAccumulation=void 0;var SV=po(),AV=co();function TV(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var Fi=class{constructor(t,r=TV(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};ki.HistogramAccumulation=Fi;var Bg=class{constructor(t){this._boundaries=t,this.kind=SV.AggregatorKind.HISTOGRAM}createAccumulation(){return new Fi(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new Fi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new Fi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:AV.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};ki.HistogramAggregator=Bg});var PC=c(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.LastValueAggregator=Vi.LastValueAccumulation=void 0;var OV=po(),ho=Oe(),RV=co(),Hi=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,ho.hrTime)()}toPointValue(){return this._current}};Vi.LastValueAccumulation=Hi;var Ug=class{constructor(){this.kind=OV.AggregatorKind.LAST_VALUE}createAccumulation(){return new Hi}merge(t,r){let n=(0,ho.hrTimeToMicroseconds)(r.sampleTime)>=(0,ho.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Hi(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,ho.hrTimeToMicroseconds)(r.sampleTime)>=(0,ho.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Hi(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:RV.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Vi.LastValueAggregator=Ug});var CC=c(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.SumAggregator=Yi.SumAccumulation=void 0;var yV=po(),bV=co(),$i=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Yi.SumAccumulation=$i;var Gg=class{constructor(){this.kind=yV.AggregatorKind.SUM}createAccumulation(){return new $i}merge(t,r){return new $i(t.toPointValue()+r.toPointValue())}diff(t,r){return new $i(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:bV.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Yi.SumAggregator=Gg});var IC=c(qt=>{"use strict";var vV=qt&&qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zl=qt&&qt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vV(t,e,r)};Object.defineProperty(qt,"__esModule",{value:!0});zl(bC(),qt);zl(vC(),qt);zl(PC(),qt);zl(CC(),qt)});var qg=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.DefaultAggregation=xe.ExplicitBucketHistogramAggregation=xe.HistogramAggregation=xe.LastValueAggregation=xe.SumAggregation=xe.DropAggregation=xe.Aggregation=void 0;var PV=P(),Eo=IC(),Ki=gn(),nr=class{static Drop(){return NC}static Sum(){return LC}static LastValue(){return MC}static Histogram(){return wC}static Default(){return CV}};xe.Aggregation=nr;var On=class extends nr{createAggregator(t){return On.DEFAULT_INSTANCE}};xe.DropAggregation=On;On.DEFAULT_INSTANCE=new Eo.DropAggregator;var Rn=class extends nr{createAggregator(t){return Rn.DEFAULT_INSTANCE}};xe.SumAggregation=Rn;Rn.DEFAULT_INSTANCE=new Eo.SumAggregator;var yn=class extends nr{createAggregator(t){return yn.DEFAULT_INSTANCE}};xe.LastValueAggregation=yn;yn.DEFAULT_INSTANCE=new Eo.LastValueAggregator;var bn=class extends nr{createAggregator(t){return bn.DEFAULT_INSTANCE}};xe.HistogramAggregation=bn;bn.DEFAULT_INSTANCE=new Eo.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var jg=class extends nr{constructor(t){if(super(),t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-1/0),n=t.indexOf(1/0);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new Eo.HistogramAggregator(this._boundaries)}};xe.ExplicitBucketHistogramAggregation=jg;var Ql=class extends nr{_resolve(t){switch(t.type){case Ki.InstrumentType.COUNTER:case Ki.InstrumentType.UP_DOWN_COUNTER:case Ki.InstrumentType.OBSERVABLE_COUNTER:case Ki.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return LC;case Ki.InstrumentType.OBSERVABLE_GAUGE:return MC;case Ki.InstrumentType.HISTOGRAM:return wC}return PV.diag.warn(`Unable to recognize instrument type: ${t.type}`),NC}createAggregator(t){return this._resolve(t).createAggregator(t)}};xe.DefaultAggregation=Ql;var NC=new On,LC=new Rn,MC=new yn,wC=new bn,CV=new Ql});var kg=c(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.FilteringAttributesProcessor=Pr.NoopAttributesProcessor=Pr.AttributesProcessor=void 0;var go=class{static Noop(){return IV}};Pr.AttributesProcessor=go;var Zl=class extends go{process(t,r){return t}};Pr.NoopAttributesProcessor=Zl;var Fg=class extends go{constructor(t){super(),this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};Pr.FilteringAttributesProcessor=Fg;var IV=new Zl});var Vg=c(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.View=void 0;var NV=qg(),LV=kg(),Hg=class{constructor(t){var r,n;this.name=t?.name,this.description=t?.description,this.aggregation=(r=t?.aggregation)!==null&&r!==void 0?r:NV.Aggregation.Default(),this.attributesProcessor=(n=t?.attributesProcessor)!==null&&n!==void 0?n:LV.AttributesProcessor.Noop()}};Jl.View=Hg});var DC=c(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.ViewRegistry=void 0;var MV=Lg(),wV=Dg(),DV=Vg(),Wi=class{constructor(){this._registeredViews=[]}addView(t,r=new MV.InstrumentSelector,n=new wV.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[Wi.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};ed.ViewRegistry=Wi;Wi.DEFAULT_VIEW=new DV.View});var Yg=c(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.MetricStorage=void 0;var xV=gn(),$g=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,xV.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};td.MetricStorage=$g});var mo=c(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.AttributeHashMap=Xi.HashMap=void 0;var BV=er(),rd=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r??(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n??(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r??(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Xi.HashMap=rd;var Kg=class extends rd{constructor(){super(BV.hashAttributes)}};Xi.AttributeHashMap=Kg});var zg=c(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.DeltaMetricProcessor=void 0;var Wg=mo(),Xg=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new Wg.AttributeHashMap,this._cumulativeMemoStorage=new Wg.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i?.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s?.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new Wg.AttributeHashMap,t}};nd.DeltaMetricProcessor=Xg});var Qg=c(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.TemporalMetricProcessor=void 0;var xC=Il(),UV=mo(),zi=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),l=u,d;if(this._reportHistory.has(t)){let _=this._reportHistory.get(t);a=_.collectionTime,d=_.aggregationTemporality,d===xC.AggregationTemporality.CUMULATIVE&&(l=zi.merge(_.accumulations,u,this._aggregator))}else d=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:l,collectionTime:o,aggregationTemporality:d}),this._aggregator.toMetricData(n,d,GV(l),d===xC.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new UV.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=zi.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,l,d]=a.value,_=(i=t.get(u,d))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(_,l),d),a=o.next()}return s}};id.TemporalMetricProcessor=zi;function GV(e){return Array.from(e.entries())}});var BC=c(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.AsyncMetricStorage=void 0;var jV=Yg(),qV=zg(),FV=Qg(),kV=mo(),Zg=class extends jV.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new qV.DeltaMetricProcessor(r),this._temporalMetricStorage=new FV.TemporalMetricProcessor(r)}record(t){let r=new kV.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};sd.AsyncMetricStorage=Zg});var FC=c(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getConflictResolutionRecipe=Ke.getDescriptionResolutionRecipe=Ke.getTypeConflictResolutionRecipe=Ke.getUnitConflictResolutionRecipe=Ke.getValueTypeConflictResolutionRecipe=Ke.getIncompatibilityDetails=void 0;function HV(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}Ke.getIncompatibilityDetails=HV;function UC(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}Ke.getValueTypeConflictResolutionRecipe=UC;function GC(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}Ke.getUnitConflictResolutionRecipe=GC;function jC(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}Ke.getTypeConflictResolutionRecipe=jC;function qC(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Ke.getDescriptionResolutionRecipe=qC;function VV(e,t){return e.valueType!==t.valueType?UC(e,t):e.unit!==t.unit?GC(e,t):e.type!==t.type?jC(e,t):e.description!==t.description?qC(e,t):""}Ke.getConflictResolutionRecipe=VV});var HC=c(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.MetricStorageRegistry=void 0;var $V=gn(),kC=P(),od=FC(),So=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new So}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,$V.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),kC.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,od.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,od.getConflictResolutionRecipe)(o,r))),i=s):kC.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,od.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,od.getConflictResolutionRecipe)(o,r))}return i??(n.push(t),t)}};ad.MetricStorageRegistry=So});var VC=c(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.MultiMetricStorage=void 0;var Jg=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};ud.MultiMetricStorage=Jg});var rm=c(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.BatchObservableResultImpl=Qi.ObservableResultImpl=void 0;var $C=P(),YC=Bi(),KC=mo(),YV=Dl(),em=class{constructor(t){this._descriptor=t,this._buffer=new KC.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===YC.ValueType.INT&&!Number.isInteger(t)&&($C.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};Qi.ObservableResultImpl=em;var tm=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,YV.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new KC.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===YC.ValueType.INT&&!Number.isInteger(r)&&($C.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};Qi.BatchObservableResultImpl=tm});var zC=c(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.ObservableRegistry=void 0;var KV=P(),WC=Dl(),XC=rm(),Ao=er(),nm=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(WC.isObservableInstrument));if(n.size===0){KV.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(WC.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,Ao.PromiseAllSettled)([...r,...n])).filter(Ao.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new XC.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,Ao.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new XC.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,Ao.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Ao.setEquals)(n.instruments,r))}};cd.ObservableRegistry=nm});var QC=c(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.SyncMetricStorage=void 0;var WV=Yg(),XV=zg(),zV=Qg(),im=class extends WV.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new XV.DeltaMetricProcessor(r),this._temporalMetricStorage=new zV.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};ld.SyncMetricStorage=im});var JC=c(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.MeterSharedState=void 0;var ZC=gn(),QV=Eg(),dd=er(),ZV=BC(),JV=HC(),e$=VC(),t$=zC(),r$=QC(),sm=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new JV.MetricStorageRegistry,this.observableRegistry=new t$.ObservableRegistry,this.meter=new QV.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,ZC.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new r$.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(dd.isNotNullish);return n.length===1?n[0]:new e$.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,ZC.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new ZV.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(dd.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n?.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(dd.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(dd.isNotNullish)},errors:i}}};_d.MeterSharedState=sm});var eI=c(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.MeterProviderSharedState=void 0;var n$=Oe(),i$=er(),s$=DC(),o$=JC(),om=class{constructor(t){this.resource=t,this.viewRegistry=new s$.ViewRegistry,this.sdkStartTime=(0,n$.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,i$.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new o$.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};fd.MeterProviderSharedState=om});var tI=c(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.MetricCollector=void 0;var a$=Oe(),u$=er(),am=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,a$.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,u$.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};pd.MetricCollector=am});var rI=c(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.MeterProvider=void 0;var um=P(),c$=Bi(),l$=yg(),d$=eI(),_$=Lg(),f$=Dg(),p$=Vg(),h$=tI(),E$=kg(),g$=Yl();function m$(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var cm=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new d$.MeterProviderSharedState((r=t?.resource)!==null&&r!==void 0?r:l$.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(um.diag.warn("A shutdown MeterProvider cannot provide a Meter"),c$.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new h$.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(m$(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r?.instrument)===null||n===void 0?void 0:n.name)==null||g$.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new E$.FilteringAttributesProcessor(t.attributeKeys));let s=new p$.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new _$.InstrumentSelector(r?.instrument),a=new f$.MeterSelector(r?.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){um.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){um.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};hd.MeterProvider=cm});var nI=c(Ee=>{"use strict";var S$=Ee&&Ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ft=Ee&&Ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&S$(t,e,r)};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.TimeoutError=Ee.InstrumentType=void 0;Ft(Il(),Ee);Ft(co(),Ee);Ft(ZP(),Ee);Ft(eC(),Ee);Ft(ag(),Ee);Ft(oC(),Ee);var A$=gn();Object.defineProperty(Ee,"InstrumentType",{enumerable:!0,get:function(){return A$.InstrumentType}});Ft(Eg(),Ee);Ft(rI(),Ee);Ft(rm(),Ee);var T$=er();Object.defineProperty(Ee,"TimeoutError",{enumerable:!0,get:function(){return T$.TimeoutError}});Ft(qg(),Ee)});var aI=c(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.toMetric=Cr.toScopeMetrics=Cr.toResourceMetrics=void 0;var iI=Bi(),Ed=Oe(),kt=nI(),lm=gl();function O$(e){return{resource:{attributes:(0,lm.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:sI(e.scopeMetrics)}}Cr.toResourceMetrics=O$;function sI(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>oI(n)),schemaUrl:t.scope.schemaUrl})))}Cr.toScopeMetrics=sI;function oI(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=C$(e.aggregationTemporality);if(e.dataPointType===kt.DataPointType.SINGULAR){let n=y$(e),i=e.descriptor.type===kt.InstrumentType.COUNTER||e.descriptor.type===kt.InstrumentType.OBSERVABLE_COUNTER;v$(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else P$(e)&&(t.histogram={aggregationTemporality:r,dataPoints:b$(e)});return t}Cr.toMetric=oI;function R$(e,t){let r={attributes:(0,lm.toAttributes)(e.attributes),startTimeUnixNano:(0,Ed.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Ed.hrTimeToNanoseconds)(e.endTime)};return t===iI.ValueType.INT?r.asInt=e.value:t===iI.ValueType.DOUBLE&&(r.asDouble=e.value),r}function y$(e){return e.dataPoints.map(t=>R$(t,e.descriptor.valueType))}function b$(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,lm.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Ed.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Ed.hrTimeToNanoseconds)(t.endTime)}})}function v$(e){return e.descriptor.type===kt.InstrumentType.COUNTER||e.descriptor.type===kt.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===kt.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===kt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function P$(e){return e.dataPointType===kt.DataPointType.HISTOGRAM}function C$(e){return e===kt.AggregationTemporality.DELTA?1:e===kt.AggregationTemporality.CUMULATIVE?2:0}});var uI=c(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.createExportMetricsServiceRequest=void 0;var I$=aI();function N$(e){return{resourceMetrics:e.map(t=>(0,I$.toResourceMetrics)(t))}}gd.createExportMetricsServiceRequest=N$});var cI=c(We=>{"use strict";var L$=We&&We.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),md=We&&We.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&L$(t,e,r)};Object.defineProperty(We,"__esModule",{value:!0});We.createExportMetricsServiceRequest=We.createExportTraceServiceRequest=void 0;md(IP(),We);md(LP(),We);md(wP(),We);md(DP(),We);var M$=GP();Object.defineProperty(We,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return M$.createExportTraceServiceRequest}});var w$=uI();Object.defineProperty(We,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return w$.createExportMetricsServiceRequest}})});var dI=c(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.OTLPTraceExporter=void 0;var Zi=Oe(),D$=ZE(),lI=ZE(),x$=cI(),dm="v1/traces",B$=`http://localhost:4318/${dm}`,_m=class extends D$.OTLPExporterNodeBase{constructor(t={}){super(t),this.headers=Object.assign(this.headers,Zi.baggageUtils.parseKeyPairsIntoRecord((0,Zi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,x$.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,Zi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,lI.appendRootPathToUrlIfNeeded)((0,Zi.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,dm):(0,Zi.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,lI.appendResourcePathToUrl)((0,Zi.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,dm):B$}};Sd.OTLPTraceExporter=_m});var _I=c(vn=>{"use strict";var U$=vn&&vn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G$=vn&&vn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&U$(t,e,r)};Object.defineProperty(vn,"__esModule",{value:!0});G$(dI(),vn)});var fI=c(Pn=>{"use strict";var j$=Pn&&Pn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),q$=Pn&&Pn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&j$(t,e,r)};Object.defineProperty(Pn,"__esModule",{value:!0});q$(_I(),Pn)});var pI=c(Cn=>{"use strict";var F$=Cn&&Cn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),k$=Cn&&Cn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&F$(t,e,r)};Object.defineProperty(Cn,"__esModule",{value:!0});k$(fI(),Cn)});var VI=c((Mn,HI)=>{"use strict";var Om=v("crypto");Mn=HI.exports=bo;function bo(e,t){return t=FI(e,t),_5(e,t)}Mn.sha1=function(e){return bo(e)};Mn.keys=function(e){return bo(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};Mn.MD5=function(e){return bo(e,{algorithm:"md5",encoding:"hex"})};Mn.keysMD5=function(e){return bo(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var ss=Om.getHashes?Om.getHashes().slice():["sha1","md5"];ss.push("passthrough");var jI=["buffer","hex","binary","base64"];function FI(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=t.ignoreUnknown===!0,r.respectType=t.respectType!==!1,r.respectFunctionNames=t.respectFunctionNames!==!1,r.respectFunctionProperties=t.respectFunctionProperties!==!1,r.unorderedArrays=t.unorderedArrays===!0,r.unorderedSets=t.unorderedSets!==!1,r.unorderedObjects=t.unorderedObjects!==!1,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,typeof e>"u")throw new Error("Object argument required.");for(var n=0;n<ss.length;++n)ss[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=ss[n]);if(ss.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+ss.join(", "));if(jI.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+jI.join(", "));return r}function qI(e){if(typeof e!="function")return!1;var t=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return t.exec(Function.prototype.toString.call(e))!=null}function _5(e,t){var r;t.algorithm!=="passthrough"?r=Om.createHash(t.algorithm):r=new kI,typeof r.write>"u"&&(r.write=r.update,r.end=r.update);var n=Rm(t,r);if(n.dispatch(e),r.update||r.end(""),r.digest)return r.digest(t.encoding==="buffer"?void 0:t.encoding);var i=r.read();return t.encoding==="buffer"?i:i.toString(t.encoding)}Mn.writeToStream=function(e,t,r){return typeof r>"u"&&(r=t,t={}),t=FI(e,t),Rm(t,r).dispatch(e)};function Rm(e,t,r){r=r||[];var n=function(i){return t.update?t.update(i,"utf8"):t.write(i,"utf8")};return{dispatch:function(i){e.replacer&&(i=e.replacer(i));var s=typeof i;return i===null&&(s="null"),this["_"+s](i)},_object:function(i){var s=/\[object (.*)\]/i,o=Object.prototype.toString.call(i),a=s.exec(o);a?a=a[1]:a="unknown:["+o+"]",a=a.toLowerCase();var u=null;if((u=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+u+"]");if(r.push(i),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(a!=="object"&&a!=="function"&&a!=="asyncfunction")if(this["_"+a])this["_"+a](i);else{if(e.ignoreUnknown)return n("["+a+"]");throw new Error('Unknown object type "'+a+'"')}else{var l=Object.keys(i);e.unorderedObjects&&(l=l.sort()),e.respectType!==!1&&!qI(i)&&l.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(l=l.filter(function(_){return!e.excludeKeys(_)})),n("object:"+l.length+":");var d=this;return l.forEach(function(_){d.dispatch(_),n(":"),e.excludeValues||d.dispatch(i[_]),n(",")})}},_array:function(i,s){s=typeof s<"u"?s:e.unorderedArrays!==!1;var o=this;if(n("array:"+i.length+":"),!s||i.length<=1)return i.forEach(function(l){return o.dispatch(l)});var a=[],u=i.map(function(l){var d=new kI,_=r.slice(),f=Rm(e,d,_);return f.dispatch(l),a=a.concat(_.slice(r.length)),d.read().toString()});return r=r.concat(a),u.sort(),this._array(u,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),qI(i)?this.dispatch("[native]"):this.dispatch(i.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),e.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_set:function(i){n("set:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function kI(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}});var T5={};dN(T5,{default:()=>A5});var Co=v("clipanion");var vd=v("@yarnpkg/cli"),qe=v("@yarnpkg/core"),de=v("clipanion"),Cm=te(v("path")),vo=te(Hd()),nN=v("os");var hs=v("@yarnpkg/fslib"),V=te(v("typanion"));function JS(e){return typeof e>"u"||e===null}function PL(e){return typeof e=="object"&&e!==null}function CL(e){return Array.isArray(e)?e:JS(e)?[]:[e]}function IL(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function NL(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function LL(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var ML=JS,wL=PL,DL=CL,xL=NL,BL=LL,UL=IL,me={isNothing:ML,isObject:wL,toArray:DL,repeat:xL,isNegativeZero:BL,extend:UL};function eA(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ds(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=eA(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ds.prototype=Object.create(Error.prototype);ds.prototype.constructor=ds;ds.prototype.toString=function(t){return this.name+": "+eA(this,t)};var ke=ds;function Vd(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function $d(e,t){return me.repeat(" ",t-e.length)+e}function GL(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,l,d=Math.min(e.line+t.linesAfter,i.length).toString().length,_=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)l=Vd(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),_),a=me.repeat(" ",t.indent)+$d((e.line-u+1).toString(),d)+" | "+l.str+`
`+a;for(l=Vd(e.buffer,n[o],i[o],e.position,_),a+=me.repeat(" ",t.indent)+$d((e.line+1).toString(),d)+" | "+l.str+`
`,a+=me.repeat("-",t.indent+d+3+l.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)l=Vd(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),_),a+=me.repeat(" ",t.indent)+$d((e.line+u+1).toString(),d)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var jL=GL,qL=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],FL=["scalar","sequence","mapping"];function kL(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function HL(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(qL.indexOf(r)===-1)throw new ke('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=kL(t.styleAliases||null),FL.indexOf(this.kind)===-1)throw new ke('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Re=HL;function GS(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function VL(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Kd(e){return this.extend(e)}Kd.prototype.extend=function(t){var r=[],n=[];if(t instanceof Re)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ke("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Re))throw new ke("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ke("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ke("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Re))throw new ke("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Kd.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=GS(i,"implicit"),i.compiledExplicit=GS(i,"explicit"),i.compiledTypeMap=VL(i.compiledImplicit,i.compiledExplicit),i};var $L=Kd,YL=new Re("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),KL=new Re("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),WL=new Re("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),XL=new $L({explicit:[YL,KL,WL]});function zL(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function QL(){return null}function ZL(e){return e===null}var JL=new Re("tag:yaml.org,2002:null",{kind:"scalar",resolve:zL,construct:QL,predicate:ZL,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function eM(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function tM(e){return e==="true"||e==="True"||e==="TRUE"}function rM(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var nM=new Re("tag:yaml.org,2002:bool",{kind:"scalar",resolve:eM,construct:tM,predicate:rM,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function iM(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function sM(e){return 48<=e&&e<=55}function oM(e){return 48<=e&&e<=57}function aM(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!iM(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!sM(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!oM(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function uM(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function cM(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!me.isNegativeZero(e)}var lM=new Re("tag:yaml.org,2002:int",{kind:"scalar",resolve:aM,construct:uM,predicate:cM,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),dM=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function _M(e){return!(e===null||!dM.test(e)||e[e.length-1]==="_")}function fM(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var pM=/^[-+]?[0-9]+e/;function hM(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(me.isNegativeZero(e))return"-0.0";return r=e.toString(10),pM.test(r)?r.replace("e",".e"):r}function EM(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||me.isNegativeZero(e))}var gM=new Re("tag:yaml.org,2002:float",{kind:"scalar",resolve:_M,construct:fM,predicate:EM,represent:hM,defaultStyle:"lowercase"}),tA=XL.extend({implicit:[JL,nM,lM,gM]}),mM=tA,rA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),nA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function SM(e){return e===null?!1:rA.exec(e)!==null||nA.exec(e)!==null}function AM(e){var t,r,n,i,s,o,a,u=0,l=null,d,_,f;if(t=rA.exec(e),t===null&&(t=nA.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],_=+(t[11]||0),l=(d*60+_)*6e4,t[9]==="-"&&(l=-l)),f=new Date(Date.UTC(r,n,i,s,o,a,u)),l&&f.setTime(f.getTime()-l),f}function TM(e){return e.toISOString()}var OM=new Re("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:SM,construct:AM,instanceOf:Date,represent:TM});function RM(e){return e==="<<"||e===null}var yM=new Re("tag:yaml.org,2002:merge",{kind:"scalar",resolve:RM}),Zd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bM(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Zd;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function vM(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Zd,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function PM(e){var t="",r=0,n,i,s=e.length,o=Zd;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function CM(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var IM=new Re("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bM,construct:vM,predicate:CM,represent:PM}),NM=Object.prototype.hasOwnProperty,LM=Object.prototype.toString;function MM(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,LM.call(i)!=="[object Object]")return!1;for(s in i)if(NM.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function wM(e){return e!==null?e:[]}var DM=new Re("tag:yaml.org,2002:omap",{kind:"sequence",resolve:MM,construct:wM}),xM=Object.prototype.toString;function BM(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],xM.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function UM(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var GM=new Re("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:BM,construct:UM}),jM=Object.prototype.hasOwnProperty;function qM(e){if(e===null)return!0;var t,r=e;for(t in r)if(jM.call(r,t)&&r[t]!==null)return!1;return!0}function FM(e){return e!==null?e:{}}var kM=new Re("tag:yaml.org,2002:set",{kind:"mapping",resolve:qM,construct:FM}),iA=mM.extend({implicit:[OM,yM],explicit:[IM,DM,GM,kM]}),or=Object.prototype.hasOwnProperty,qo=1,sA=2,oA=3,Fo=4,Yd=1,HM=2,jS=3,VM=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$M=/[\x85\u2028\u2029]/,YM=/[,\[\]\{\}]/,aA=/^(?:!|!!|![a-z\-]+!)$/i,uA=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function qS(e){return Object.prototype.toString.call(e)}function Rt(e){return e===10||e===13}function wr(e){return e===9||e===32}function He(e){return e===9||e===32||e===10||e===13}function qn(e){return e===44||e===91||e===93||e===123||e===125}function KM(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function WM(e){return e===120?2:e===117?4:e===85?8:0}function XM(e){return 48<=e&&e<=57?e-48:-1}function FS(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function zM(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var cA=new Array(256),lA=new Array(256);for(Mr=0;Mr<256;Mr++)cA[Mr]=FS(Mr)?1:0,lA[Mr]=FS(Mr);var Mr;function QM(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||iA,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function dA(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=jL(r),new ke(t,r)}function D(e,t){throw dA(e,t)}function ko(e,t){e.onWarning&&e.onWarning.call(null,dA(e,t))}var kS={YAML:function(t,r,n){var i,s,o;t.version!==null&&D(t,"duplication of %YAML directive"),n.length!==1&&D(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&D(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&D(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&ko(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&D(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],aA.test(i)||D(t,"ill-formed tag handle (first argument) of the TAG directive"),or.call(t.tagMap,i)&&D(t,'there is a previously declared suffix for "'+i+'" tag handle'),uA.test(s)||D(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{D(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function sr(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||D(e,"expected valid JSON character");else VM.test(a)&&D(e,"the stream contains non-printable characters");e.result+=a}}function HS(e,t,r,n){var i,s,o,a;for(me.isObject(r)||D(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],or.call(t,s)||(t[s]=r[s],n[s]=!0)}function Fn(e,t,r,n,i,s,o,a,u){var l,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,d=i.length;l<d;l+=1)Array.isArray(i[l])&&D(e,"nested arrays are not supported inside keys"),typeof i=="object"&&qS(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&qS(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,d=s.length;l<d;l+=1)HS(e,t,s[l],r);else HS(e,t,s,r);else!e.json&&!or.call(r,i)&&or.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,D(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function Jd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):D(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function _e(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;wr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Rt(i))for(Jd(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&ko(e,"deficient indentation"),n}function $o(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||He(r)))}function e_(e,t){t===1?e.result+=" ":t>1&&(e.result+=me.repeat(`
`,t-1))}function ZM(e,t,r){var n,i,s,o,a,u,l,d,_=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),He(p)||qn(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),He(i)||r&&qn(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),He(i)||r&&qn(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),He(n))break}else{if(e.position===e.lineStart&&$o(e)||r&&qn(p))break;if(Rt(p))if(u=e.line,l=e.lineStart,d=e.lineIndent,_e(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=l,e.lineIndent=d;break}}a&&(sr(e,s,o,!1),e_(e,e.line-u),s=o=e.position,a=!1),wr(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return sr(e,s,o,!1),e.result?!0:(e.kind=_,e.result=f,!1)}function JM(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(sr(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Rt(r)?(sr(e,n,i,!0),e_(e,_e(e,!1,t)),n=i=e.position):e.position===e.lineStart&&$o(e)?D(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);D(e,"unexpected end of the stream within a single quoted scalar")}function ew(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return sr(e,r,e.position,!0),e.position++,!0;if(a===92){if(sr(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Rt(a))_e(e,!1,t);else if(a<256&&cA[a])e.result+=lA[a],e.position++;else if((o=WM(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=KM(a))>=0?s=(s<<4)+o:D(e,"expected hexadecimal character");e.result+=zM(s),e.position++}else D(e,"unknown escape sequence");r=n=e.position}else Rt(a)?(sr(e,r,n,!0),e_(e,_e(e,!1,t)),r=n=e.position):e.position===e.lineStart&&$o(e)?D(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}D(e,"unexpected end of the stream within a double quoted scalar")}function tw(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,l,d,_,f,p,h=Object.create(null),E,A,T,O;if(O=e.input.charCodeAt(e.position),O===91)d=93,p=!1,a=[];else if(O===123)d=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),O=e.input.charCodeAt(++e.position);O!==0;){if(_e(e,!0,t),O=e.input.charCodeAt(e.position),O===d)return e.position++,e.tag=o,e.anchor=u,e.kind=p?"mapping":"sequence",e.result=a,!0;r?O===44&&D(e,"expected the node content, but found ','"):D(e,"missed comma between flow collection entries"),A=E=T=null,_=f=!1,O===63&&(l=e.input.charCodeAt(e.position+1),He(l)&&(_=f=!0,e.position++,_e(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,kn(e,t,qo,!1,!0),A=e.tag,E=e.result,_e(e,!0,t),O=e.input.charCodeAt(e.position),(f||e.line===n)&&O===58&&(_=!0,O=e.input.charCodeAt(++e.position),_e(e,!0,t),kn(e,t,qo,!1,!0),T=e.result),p?Fn(e,a,h,A,E,T,n,i,s):_?a.push(Fn(e,null,h,A,E,T,n,i,s)):a.push(E),_e(e,!0,t),O=e.input.charCodeAt(e.position),O===44?(r=!0,O=e.input.charCodeAt(++e.position)):r=!1}D(e,"unexpected end of the stream within a flow collection")}function rw(e,t){var r,n,i=Yd,s=!1,o=!1,a=t,u=0,l=!1,d,_;if(_=e.input.charCodeAt(e.position),_===124)n=!1;else if(_===62)n=!0;else return!1;for(e.kind="scalar",e.result="";_!==0;)if(_=e.input.charCodeAt(++e.position),_===43||_===45)Yd===i?i=_===43?jS:HM:D(e,"repeat of a chomping mode identifier");else if((d=XM(_))>=0)d===0?D(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?D(e,"repeat of an indentation width identifier"):(a=t+d-1,o=!0);else break;if(wr(_)){do _=e.input.charCodeAt(++e.position);while(wr(_));if(_===35)do _=e.input.charCodeAt(++e.position);while(!Rt(_)&&_!==0)}for(;_!==0;){for(Jd(e),e.lineIndent=0,_=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&_===32;)e.lineIndent++,_=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Rt(_)){u++;continue}if(e.lineIndent<a){i===jS?e.result+=me.repeat(`
`,s?1+u:u):i===Yd&&s&&(e.result+=`
`);break}for(n?wr(_)?(l=!0,e.result+=me.repeat(`
`,s?1+u:u)):l?(l=!1,e.result+=me.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=me.repeat(`
`,u):e.result+=me.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!Rt(_)&&_!==0;)_=e.input.charCodeAt(++e.position);sr(e,r,e.position,!1)}return!0}function VS(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!He(o))));){if(a=!0,e.position++,_e(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,kn(e,t,oA,!1,!0),s.push(e.result),_e(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)D(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function nw(e,t,r){var n,i,s,o,a,u,l=e.tag,d=e.anchor,_={},f=Object.create(null),p=null,h=null,E=null,A=!1,T=!1,O;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=_),O=e.input.charCodeAt(e.position);O!==0;){if(!A&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(O===63||O===58)&&He(n))O===63?(A&&(Fn(e,_,f,p,h,null,o,a,u),p=h=E=null),T=!0,A=!0,i=!0):A?(A=!1,i=!0):D(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,O=n;else{if(o=e.line,a=e.lineStart,u=e.position,!kn(e,r,sA,!1,!0))break;if(e.line===s){for(O=e.input.charCodeAt(e.position);wr(O);)O=e.input.charCodeAt(++e.position);if(O===58)O=e.input.charCodeAt(++e.position),He(O)||D(e,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(Fn(e,_,f,p,h,null,o,a,u),p=h=E=null),T=!0,A=!1,i=!1,p=e.tag,h=e.result;else if(T)D(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=d,!0}else if(T)D(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(A&&(o=e.line,a=e.lineStart,u=e.position),kn(e,t,Fo,!0,i)&&(A?h=e.result:E=e.result),A||(Fn(e,_,f,p,h,E,o,a,u),p=h=E=null),_e(e,!0,-1),O=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&O!==0)D(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return A&&Fn(e,_,f,p,h,null,o,a,u),T&&(e.tag=l,e.anchor=d,e.kind="mapping",e.result=_),T}function iw(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&D(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):D(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!He(o);)o===33&&(n?D(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),aA.test(i)||D(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),YM.test(s)&&D(e,"tag suffix cannot contain flow indicator characters")}s&&!uA.test(s)&&D(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{D(e,"tag name is malformed: "+s)}return r?e.tag=s:or.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:D(e,'undeclared tag handle "'+i+'"'),!0}function sw(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&D(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!He(r)&&!qn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ow(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!He(n)&&!qn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),or.call(e.anchorMap,r)||D(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],_e(e,!0,-1),!0}function kn(e,t,r,n,i){var s,o,a,u=1,l=!1,d=!1,_,f,p,h,E,A;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Fo===r||oA===r,n&&_e(e,!0,-1)&&(l=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;iw(e)||sw(e);)_e(e,!0,-1)?(l=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=l||i),(u===1||Fo===r)&&(qo===r||sA===r?E=t:E=t+1,A=e.position-e.lineStart,u===1?a&&(VS(e,A)||nw(e,A,E))||tw(e,E)?d=!0:(o&&rw(e,E)||JM(e,E)||ew(e,E)?d=!0:ow(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&D(e,"alias node should not have any properties")):ZM(e,E,qo===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=a&&VS(e,A))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&D(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),_=0,f=e.implicitTypes.length;_<f;_+=1)if(h=e.implicitTypes[_],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(or.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,p=e.typeMap.multi[e.kind||"fallback"],_=0,f=p.length;_<f;_+=1)if(e.tag.slice(0,p[_].tag.length)===p[_].tag){h=p[_];break}h||D(e,"unknown tag !<"+e.tag+">"),e.result!==null&&h.kind!==e.kind&&D(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):D(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function aw(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(_e(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!He(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&D(e,"directive name must not be less than one character in length");o!==0;){for(;wr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Rt(o));break}if(Rt(o))break;for(r=e.position;o!==0&&!He(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Jd(e),or.call(kS,n)?kS[n](e,n,i):ko(e,'unknown document directive "'+n+'"')}if(_e(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,_e(e,!0,-1)):s&&D(e,"directives end mark is expected"),kn(e,e.lineIndent-1,Fo,!1,!0),_e(e,!0,-1),e.checkLineBreaks&&$M.test(e.input.slice(t,e.position))&&ko(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&$o(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,_e(e,!0,-1));return}if(e.position<e.length-1)D(e,"end of the stream or a document separator is expected");else return}function _A(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new QM(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,D(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)aw(r);return r.documents}function uw(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=_A(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function cw(e,t){var r=_A(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ke("expected a single document in the stream, but found more")}}var lw=uw,dw=cw,fA={loadAll:lw,load:dw},pA=Object.prototype.toString,hA=Object.prototype.hasOwnProperty,t_=65279,_w=9,_s=10,fw=13,pw=32,hw=33,Ew=34,Wd=35,gw=37,mw=38,Sw=39,Aw=42,EA=44,Tw=45,Ho=58,Ow=61,Rw=62,yw=63,bw=64,gA=91,mA=93,vw=96,SA=123,Pw=124,AA=125,ye={};ye[0]="\\0";ye[7]="\\a";ye[8]="\\b";ye[9]="\\t";ye[10]="\\n";ye[11]="\\v";ye[12]="\\f";ye[13]="\\r";ye[27]="\\e";ye[34]='\\"';ye[92]="\\\\";ye[133]="\\N";ye[160]="\\_";ye[8232]="\\L";ye[8233]="\\P";var Cw=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Iw=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Nw(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&hA.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function Lw(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ke("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+me.repeat("0",n-t.length)+t}var Mw=1,fs=2;function ww(e){this.schema=e.schema||iA,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=me.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Nw(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?fs:Mw,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function $S(e,t){for(var r=me.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Xd(e,t){return`
`+me.repeat(" ",e.indent*t)}function Dw(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Vo(e){return e===pw||e===_w}function ps(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==t_||65536<=e&&e<=1114111}function YS(e){return ps(e)&&e!==t_&&e!==fw&&e!==_s}function KS(e,t,r){var n=YS(e),i=n&&!Vo(e);return(r?n:n&&e!==EA&&e!==gA&&e!==mA&&e!==SA&&e!==AA)&&e!==Wd&&!(t===Ho&&!i)||YS(t)&&!Vo(t)&&e===Wd||t===Ho&&i}function xw(e){return ps(e)&&e!==t_&&!Vo(e)&&e!==Tw&&e!==yw&&e!==Ho&&e!==EA&&e!==gA&&e!==mA&&e!==SA&&e!==AA&&e!==Wd&&e!==mw&&e!==Aw&&e!==hw&&e!==Pw&&e!==Ow&&e!==Rw&&e!==Sw&&e!==Ew&&e!==gw&&e!==bw&&e!==vw}function Bw(e){return!Vo(e)&&e!==Ho}function ls(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function TA(e){var t=/^\n* /;return t.test(e)}var OA=1,zd=2,RA=3,yA=4,jn=5;function Uw(e,t,r,n,i,s,o,a){var u,l=0,d=null,_=!1,f=!1,p=n!==-1,h=-1,E=xw(ls(e,0))&&Bw(ls(e,e.length-1));if(t||o)for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=ls(e,u),!ps(l))return jn;E=E&&KS(l,d,a),d=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=ls(e,u),l===_s)_=!0,p&&(f=f||u-h-1>n&&e[h+1]!==" ",h=u);else if(!ps(l))return jn;E=E&&KS(l,d,a),d=l}f=f||p&&u-h-1>n&&e[h+1]!==" "}return!_&&!f?E&&!o&&!i(e)?OA:s===fs?jn:zd:r>9&&TA(e)?jn:o?s===fs?jn:zd:f?yA:RA}function Gw(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===fs?'""':"''";if(!e.noCompatMode&&(Cw.indexOf(t)!==-1||Iw.test(t)))return e.quotingType===fs?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(l){return Dw(e,l)}switch(Uw(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case OA:return t;case zd:return"'"+t.replace(/'/g,"''")+"'";case RA:return"|"+WS(t,e.indent)+XS($S(t,s));case yA:return">"+WS(t,e.indent)+XS($S(jw(t,o),s));case jn:return'"'+qw(t)+'"';default:throw new ke("impossible error: invalid scalar style")}}()}function WS(e,t){var r=TA(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function XS(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function jw(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,zS(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+zS(u,t),i=s}return n}function zS(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function qw(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ls(e,i),n=ye[r],!n&&ps(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Lw(r);return t}function Fw(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Vt(e,t,a,!1,!1)||typeof a>"u"&&Vt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function QS(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(Vt(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&Vt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Xd(e,t)),e.dump&&_s===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function kw(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,l,d;for(o=0,a=s.length;o<a;o+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=s[o],l=r[u],e.replacer&&(l=e.replacer.call(r,u,l)),Vt(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Vt(e,t,l,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function Hw(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,l,d,_,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new ke("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Xd(e,t)),l=o[a],d=r[l],e.replacer&&(d=e.replacer.call(r,l,d)),Vt(e,t+1,l,!0,!0,!0)&&(_=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,_&&(e.dump&&_s===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,_&&(f+=Xd(e,t)),Vt(e,t+1,d,!0,_)&&(e.dump&&_s===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}function ZS(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,pA.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(hA.call(a.represent,u))n=a.represent[u](t,u);else throw new ke("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function Vt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,ZS(e,r,!1)||ZS(e,r,!0);var a=pA.call(e.dump),u=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",_,f;if(d&&(_=e.duplicates.indexOf(r),f=_!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[_])e.dump="*ref_"+_;else{if(d&&f&&!e.usedDuplicates[_]&&(e.usedDuplicates[_]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(Hw(e,t,e.dump,i),f&&(e.dump="&ref_"+_+e.dump)):(kw(e,t,e.dump),f&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?QS(e,t-1,e.dump,i):QS(e,t,e.dump,i),f&&(e.dump="&ref_"+_+e.dump)):(Fw(e,t,e.dump),f&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Gw(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ke("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function Vw(e,t){var r=[],n=[],i,s;for(Qd(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function Qd(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Qd(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Qd(e[n[i]],t,r)}function $w(e,t){t=t||{};var r=new ww(t);r.noRefs||Vw(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Vt(r,0,n,!0,!0)?r.dump+`
`:""}var Yw=$w,Kw={dump:Yw};function r_(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var bA=tA;var vA=fA.load,q5=fA.loadAll,F5=Kw.dump;var k5=r_("safeLoad","load"),H5=r_("safeLoadAll","loadAll"),V5=r_("safeDump","dump");var Ww=".yarnbuildrc.yml",Xw=".bundleignore",zw=V.isObject({folders:V.isObject({input:V.isOneOf([V.isString(),V.isArray(V.isString())]),output:V.isNullable(V.isOneOf([V.isString(),V.isArray(V.isString())]))}),exclude:V.isArray(V.isString()),bail:V.isBoolean(),hideYarnBuildBadge:V.isBoolean(),ignoreFile:V.isString()}),Qw=V.isObject({input:V.isOptional(V.isOneOf([V.isString(),V.isArray(V.isString())])),output:V.isOptional(V.isNullable(V.isOneOf([V.isString(),V.isArray(V.isString())]))),tsconfig:V.isOptional(V.isString())}),n_={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:Xw};async function Zw(e){let t=Ww,r=hs.ppath.join(e.projectCwd||e.startingCwd,t);if(hs.xfs.existsSync(r)){let n=await hs.xfs.readFilePromise(r,"utf8"),i=[];try{let s=vA(n,{schema:bA});if(zw(s,{errors:i}))return s;console.warn(i)}catch{let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return n_}async function PA(e){let t=await Zw(e);return{...n_,...t,folders:{...n_.folders,...t.folders??{}}}}function CA(e){let t={...e["yarn.build"]};return Qw(t)?t:{}}var j=v("@yarnpkg/core"),Xe=te(DA()),$I=v("os"),Y=v("@yarnpkg/fslib");var vm=te(HO()),YI=v("events"),KI=te(JO()),WI=te(nR()),ym=te(iR()),yd=te(zf()),bd=te(LR());var z={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var AI=te(P()),TI=te(qp());var hI=te(Nc()),EI=te($s()),gI=te(wt()),mI=te(pI()),SI=te(Nc()),Ji=te(P());process.env.DEBUG&&Ji.diag.setLogger(new Ji.DiagConsoleLogger,Ji.DiagLogLevel.DEBUG);var To=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new mI.OTLPTraceExporter,r=new hI.BasicTracerProvider({resource:new EI.Resource({[gI.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new SI.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var In=te(P()),ir=class{constructor(t){this.name=t,this._tracer=To.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:AI.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){let n;if(typeof t.ctx>"u"?n=In.context.active():n=t.ctx,!!t.propegateFromEnv||t?.spanOptions?.kind==4){let o=process.env.TRACEPARENT;if(typeof o=="string"){let a=(0,TI.parseTraceParent)(o??"");a&&(n=In.trace.setSpanContext(In.context.active(),a))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=In.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(o){if((typeof o=="string"||o instanceof Error)&&this.recordException(i,o),!t.supressExceptions)throw o}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx>"u"?i=In.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var ts=class{constructor(){this.tracer=new ir("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new Nn(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let s=t.dependencies[i];if(!r.has(s.id)){if(n.has(s.id))throw new Oo(t.id,s.id);this.resolveNode(s,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let s=new Set,o=new Set,a={};for(let u of r)this.resolveQueue(u,s,a);return n?(await this.dryRunLoop(s,a,o,0),a):(await new Promise(u=>{this.workLoop(i,s,a,o,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((s,o)=>{this.dryRunCallback(s,i-1),r[s.id]={success:!0,done:!0},n.delete(o)}),t.size!==0&&t.forEach(s=>{s.canStart(r)&&s?.node?.runCallback&&(n.add(s.node),t.delete(s))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,s){if(r.size!==0&&r.forEach(o=>{o.canStart(n)&&(o?.node?.runCallback?(o?.node?.runCallback(t,n),i.add(o.node)):n[o.node.id]={success:!0,done:!0},r.delete(o))}),i.forEach((o,a)=>{n[o.id].done&&i.delete(a)}),Object.keys(n).map(o=>n[o]?.done??!0).every(o=>o===!0)){s();return}setTimeout(()=>this.workLoop(t,r,n,i,s),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(s=>{let o=t.dependencies[s];if(i.push(o.id),!n[o.id]&&o.runCallback){n[o.id]={...ts.RunLogInit};let a=this.resolveQueue(o,r,n),u={node:o,canStart:ts.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]={...ts.RunLogInit};let s={node:t,canStart:ts.QueueItemCanStart(i)};r.add(s)}return i}},es=ts;es.RunLogInit={success:!1,done:!1},es.QueueItemCanStart=t=>r=>t.map(n=>r[n]?.done??!0).every(n=>n===!0);var Nn=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,Nn.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies>"u"||Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},Oo=class extends Error{constructor(r,n){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=r,this.dep=n}};var OI=te(zf()),H$="\x1B",it=H$+"[",fm=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);fm.cursorUp(t)}static cursorUp(t=1){process.stdout.write(it+`${t}A`)}static cursorSave(){process.stdout.write(it+"s")}static cursorRestore(){process.stdout.write(it+"u")}static autoWrap(t){t?process.stdout.write(it+"?7h"):process.stdout.write(it+"?7l")}static clearScreenDown(){process.stdout.write(it+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(it+"6n")})}static setScrollableRegion(t,r){process.stdout.write(it+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(it+"r")}static moveTo(t){process.stdout.write(it+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(it+"H")}static alternateScreen(){process.stdout.write(it+"?1049h")}static mainScreen(){process.stdout.write(it+"?1049l")}static linesRequired(t,r){let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((0,OI.default)(t).match(n)??[""]).length-1}},dt=fm;dt.row=0,dt.column=0;var yI=v("child_process"),bI=v("util");var RI=()=>process.platform==="win32"?"windows":"unix";var V$=(0,bI.promisify)(yI.exec),vI=async e=>{let t=RI(),r=(({platform:i,pid:s})=>{switch(i){case"unix":return`pgrep "-P ${s}"`;case"windows":return`wmic process where (ParentProcessId=${s}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await V$(r);n=i.split(`
`).filter(Boolean).map(s=>parseInt(s,10)).filter(s=>!isNaN(s))}catch{}return n};var rs={hasBeenTerminated:!1,callId:0},Ad=async(e=0)=>{if(e!==rs.callId||rs.hasBeenTerminated)return;let t=process.pid;(await vI(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch{}});let n=rs.callId+1;rs.callId=n,setTimeout(async()=>{Ad(n)},50)};var XI=te(P());var ee=te(v("path"),1),Tm=te(v("fs"),1),xI=te(v("module"),1);var PI=e=>e!==null&&typeof e=="object",ns=(e,t)=>Object.assign(new Error(`[${e}]: ${t}`),{code:e}),CI="ERR_INVALID_PACKAGE_CONFIG",pm="ERR_INVALID_PACKAGE_TARGET",$$="ERR_PACKAGE_PATH_NOT_EXPORTED";var Y$=/^\d+$/,K$=/^(\.{1,2}|node_modules)$/i,W$=/\/|\\/,II=(e=>(e.Export="exports",e.Import="imports",e))(II||{}),hm=(e,t,r,n,i)=>{if(t==null)return[];if(typeof t=="string"){let[s,...o]=t.split(W$);if(s===".."||o.some(a=>K$.test(a)))throw ns(pm,`Invalid "${e}" target "${t}" defined in the package config`);return[i?t.replace(/\*/g,i):t]}if(Array.isArray(t))return t.flatMap(s=>hm(e,s,r,n,i));if(PI(t)){for(let s of Object.keys(t)){if(Y$.test(s))throw ns(CI,"Cannot contain numeric property keys");if(s==="default"||n.includes(s))return hm(e,t[s],r,n,i)}return[]}throw ns(pm,`Invalid "${e}" target "${t}"`)},Ro="*",X$=(e,t)=>{let r=e.indexOf(Ro),n=t.indexOf(Ro);return r===n?t.length>e.length:n>r};function z$(e,t){if(!t.includes(Ro)&&e.hasOwnProperty(t))return[t];let r,n;for(let i of Object.keys(e))if(i.includes(Ro)){let[s,o,a]=i.split(Ro);if(a===void 0&&t.startsWith(s)&&t.endsWith(o)){let u=t.slice(s.length,-o.length||void 0);u&&(!r||X$(r,i))&&(r=i,n=u)}}return[r,n]}var Q$=e=>Object.keys(e).reduce((t,r)=>{let n=r===""||r[0]!==".";if(t===void 0||t===n)return n;throw ns(CI,'"exports" cannot contain some keys starting with "." and some not')},void 0),Z$=/^\w+:/,NI=(e,t,r)=>{if(!e)throw new Error('"exports" is required');t=t===""?".":`./${t}`,(typeof e=="string"||Array.isArray(e)||PI(e)&&Q$(e))&&(e={".":e});let[n,i]=z$(e,t),s=hm(II.Export,e[n],t,r,i);if(s.length===0)throw ns($$,t==="."?'No "exports" main defined':`Package subpath '${t}' is not defined by "exports"`);for(let o of s)if(!o.startsWith("./")&&!Z$.test(o))throw ns(pm,`Invalid "exports" target "${o}" defined in the package config`);return s};function Ln(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}var Rd=e=>{let t=Tm.default[e];return function(r,...n){let i=`${e}:${n.join(":")}`,s=r?.get(i);return s===void 0&&(s=Reflect.apply(t,Tm.default,n),r?.set(i,s)),s}},mt=Rd("existsSync"),J$=Rd("realpathSync"),e5=Rd("readFileSync"),Td=Rd("statSync"),t5=(e,t,r)=>{for(;;){let n=ee.default.posix.join(e,t);if(mt(r,n))return n;let i=ee.default.dirname(e);if(i===e)return;e=i}},r5=/^\.{1,2}(\/.*)?$/,Em=e=>{let t=Ln(e);return r5.test(t)?t:`./${t}`};function n5(e,t=!1){let r=e.length,n=0,i="",s=0,o=16,a=0,u=0,l=0,d=0,_=0;function f(R,q){let y=0,B=0;for(;y<R||!q;){let w=e.charCodeAt(n);if(w>=48&&w<=57)B=B*16+w-48;else if(w>=65&&w<=70)B=B*16+w-65+10;else if(w>=97&&w<=102)B=B*16+w-97+10;else break;n++,y++}return y<R&&(B=-1),B}function p(R){n=R,i="",s=0,o=16,_=0}function h(){let R=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&is(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&is(e.charCodeAt(n)))for(n++;n<e.length&&is(e.charCodeAt(n));)n++;else return _=3,e.substring(R,n);let q=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&is(e.charCodeAt(n))){for(n++;n<e.length&&is(e.charCodeAt(n));)n++;q=n}else _=3;return e.substring(R,q)}function E(){let R="",q=n;for(;;){if(n>=r){R+=e.substring(q,n),_=2;break}let y=e.charCodeAt(n);if(y===34){R+=e.substring(q,n),n++;break}if(y===92){if(R+=e.substring(q,n),n++,n>=r){_=2;break}switch(e.charCodeAt(n++)){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+=`
`;break;case 114:R+="\r";break;case 116:R+="	";break;case 117:let B=f(4,!0);B>=0?R+=String.fromCharCode(B):_=4;break;default:_=5}q=n;continue}if(y>=0&&y<=31)if(yo(y)){R+=e.substring(q,n),_=2;break}else _=6;n++}return R}function A(){if(i="",_=0,s=n,u=a,d=l,n>=r)return s=r,o=17;let R=e.charCodeAt(n);if(gm(R)){do n++,i+=String.fromCharCode(R),R=e.charCodeAt(n);while(gm(R));return o=15}if(yo(R))return n++,i+=String.fromCharCode(R),R===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,o=14;switch(R){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,i=E(),o=10;case 47:let q=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!yo(e.charCodeAt(n));)n++;return i=e.substring(q,n),o=12}if(e.charCodeAt(n+1)===42){n+=2;let y=r-1,B=!1;for(;n<y;){let w=e.charCodeAt(n);if(w===42&&e.charCodeAt(n+1)===47){n+=2,B=!0;break}n++,yo(w)&&(w===13&&e.charCodeAt(n)===10&&n++,a++,l=n)}return B||(n++,_=1),i=e.substring(q,n),o=13}return i+=String.fromCharCode(R),n++,o=16;case 45:if(i+=String.fromCharCode(R),n++,n===r||!is(e.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),o=11;default:for(;n<r&&T(R);)n++,R=e.charCodeAt(n);if(s!==n){switch(i=e.substring(s,n),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(R),n++,o=16}}function T(R){if(gm(R)||yo(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function O(){let R;do R=A();while(R>=12&&R<=15);return R}return{setPosition:p,getPosition:()=>n,scan:t?O:A,getToken:()=>o,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>n-s,getTokenStartLine:()=>u,getTokenStartCharacter:()=>s-d,getTokenError:()=>_}}function gm(e){return e===32||e===9}function yo(e){return e===10||e===13}function is(e){return e>=48&&e<=57}var LI;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(LI||(LI={}));var Od;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Od||(Od={}));function i5(e,t=[],r=Od.DEFAULT){let n=null,i=[],s=[];function o(a){Array.isArray(i)?i.push(a):n!==null&&(i[n]=a)}return s5(e,{onObjectBegin:()=>{let a={};o(a),s.push(i),i=a,n=null},onObjectProperty:a=>{n=a},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{let a=[];o(a),s.push(i),i=a,n=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:o,onError:(a,u,l)=>{t.push({error:a,offset:u,length:l})}},r),i[0]}function s5(e,t,r=Od.DEFAULT){let n=n5(e,!1),i=[];function s(N){return N?()=>N(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function o(N){return N?()=>N(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(N){return N?L=>N(L,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function u(N){return N?L=>N(L,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}let l=o(t.onObjectBegin),d=u(t.onObjectProperty),_=s(t.onObjectEnd),f=o(t.onArrayBegin),p=s(t.onArrayEnd),h=u(t.onLiteralValue),E=a(t.onSeparator),A=s(t.onComment),T=a(t.onError),O=r&&r.disallowComments,R=r&&r.allowTrailingComma;function q(){for(;;){let N=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:O||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(N){case 12:case 13:O?y(10):A();break;case 16:y(1);break;case 15:case 14:break;default:return N}}}function y(N,L=[],_t=[]){if(T(N),L.length+_t.length>0){let g=n.getToken();for(;g!==17;){if(L.indexOf(g)!==-1){q();break}else if(_t.indexOf(g)!==-1)break;g=q()}}}function B(N){let L=n.getTokenValue();return N?h(L):(d(L),i.push(L)),q(),!0}function w(){switch(n.getToken()){case 11:let N=n.getTokenValue(),L=Number(N);isNaN(L)&&(y(2),L=0),h(L);break;case 7:h(null);break;case 8:h(!0);break;case 9:h(!1);break;default:return!1}return q(),!0}function x(){return n.getToken()!==10?(y(3,[],[2,5]),!1):(B(!1),n.getToken()===6?(E(":"),q(),m()||y(4,[],[2,5])):y(5,[],[2,5]),i.pop(),!0)}function K(){l(),q();let N=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(N||y(4,[],[]),E(","),q(),n.getToken()===2&&R)break}else N&&y(6,[],[]);x()||y(4,[],[2,5]),N=!0}return _(),n.getToken()!==2?y(7,[2],[]):q(),!0}function ue(){f(),q();let N=!0,L=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(L||y(4,[],[]),E(","),q(),n.getToken()===4&&R)break}else L&&y(6,[],[]);N?(i.push(0),N=!1):i[i.length-1]++,m()||y(4,[],[4,5]),L=!0}return p(),N||i.pop(),n.getToken()!==4?y(8,[4],[]):q(),!0}function m(){switch(n.getToken()){case 3:return ue();case 1:return K();case 10:return B(!0);default:return w()}}return q(),n.getToken()===17?r.allowEmptyContent?!0:(y(4,[],[]),!1):m()?(n.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}var MI;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(MI||(MI={}));var wI;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(wI||(wI={}));var o5=i5,DI;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(DI||(DI={}));var BI=(e,t)=>o5(e5(t,e,"utf8")),a5=Symbol("implicitBaseUrl"),u5=()=>{let{findPnpApi:e}=xI.default;return e&&e(process.cwd())},mm=(e,t,r,n)=>{let i=`resolveFromPackageJsonPath:${e}:${t}:${r}`;if(n!=null&&n.has(i))return n.get(i);let s=BI(e,n);if(!s)return;let o=t||"tsconfig.json";if(!r&&s.exports)try{let[a]=NI(s.exports,t,["require","types"]);o=a}catch{return!1}else!t&&s.tsconfig&&(o=s.tsconfig);return o=ee.default.join(e,"..",o),n?.set(i,o),o},Sm="package.json",Am="tsconfig.json",c5=(e,t,r)=>{let n=e;if(e===".."&&(n=ee.default.join(n,Am)),e[0]==="."&&(n=ee.default.resolve(t,n)),ee.default.isAbsolute(n)){if(mt(r,n)){if(Td(r,n).isFile())return n}else if(!n.endsWith(".json")){let p=`${n}.json`;if(mt(r,p))return p}return}let[i,...s]=e.split("/"),o=i[0]==="@"?`${i}/${s.shift()}`:i,a=s.join("/"),u=u5();if(u){let{resolveRequest:p}=u;try{if(o===e){let h=p(ee.default.join(o,Sm),t);if(h){let E=mm(h,a,!1,r);if(E&&mt(r,E))return E}}else{let h;try{h=p(e,t,{extensions:[".json"]})}catch{h=p(ee.default.join(e,Am),t)}if(h)return h}}catch{}}let l=t5(t,ee.default.join("node_modules",o),r);if(!l||!Td(r,l).isDirectory())return;let d=ee.default.join(l,Sm);if(mt(r,d)){let p=mm(d,a,!1,r);if(p===!1)return;if(p&&mt(r,p)&&Td(r,p).isFile())return p}let _=ee.default.join(l,a),f=_.endsWith(".json");if(!f){let p=`${_}.json`;if(mt(r,p))return p}if(mt(r,_)){if(Td(r,_).isDirectory()){let p=ee.default.join(_,Sm);if(mt(r,p)){let E=mm(p,"",!0,r);if(E&&mt(r,E))return E}let h=ee.default.join(_,Am);if(mt(r,h))return h}else if(f)return _}},l5=(e,t,r,n)=>{let i=c5(e,t,n);if(!i)throw new Error(`File '${e}' not found.`);if(r.has(i))throw new Error(`Circularity detected while resolving configuration: ${i}`);r.add(i);let s=ee.default.dirname(i),o=UI(i,n,r);delete o.references;let{compilerOptions:a}=o;if(a){let u=["baseUrl","outDir"];for(let l of u){let d=a[l];d&&(a[l]=Ln(ee.default.relative(t,ee.default.join(s,d)))||"./")}}return o.files&&(o.files=o.files.map(u=>Ln(ee.default.relative(t,ee.default.join(s,u))))),o.include&&(o.include=o.include.map(u=>Ln(ee.default.relative(t,ee.default.join(s,u))))),o.exclude&&(o.exclude=o.exclude.map(u=>Ln(ee.default.relative(t,ee.default.join(s,u))))),o},UI=(e,t,r=new Set)=>{let n;try{n=J$(t,e)}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}let i=BI(n,t)||{};if(typeof i!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);let s=ee.default.dirname(n);if(i.compilerOptions){let{compilerOptions:o}=i;o.paths&&!o.baseUrl&&(o[a5]=s)}if(i.extends){let o=Array.isArray(i.extends)?i.extends:[i.extends];delete i.extends;for(let a of o.reverse()){let u=l5(a,s,r,t),l={...u,...i,compilerOptions:{...u.compilerOptions,...i.compilerOptions}};u.watchOptions&&(l.watchOptions={...u.watchOptions,...i.watchOptions}),i=l}}if(i.compilerOptions){let{compilerOptions:o}=i,a=["baseUrl","rootDir"];for(let l of a){let d=o[l];if(d){let _=ee.default.resolve(s,d),f=Em(ee.default.relative(s,_));o[l]=f}}let{outDir:u}=o;u&&(Array.isArray(i.exclude)||(i.exclude=[]),i.exclude.includes(u)||i.exclude.push(u),o.outDir=Em(u))}else i.compilerOptions={};if(i.files&&(i.files=i.files.map(Em)),i.include&&(i.include=i.include.map(Ln)),i.watchOptions){let{watchOptions:o}=i;o.excludeDirectories&&(o.excludeDirectories=o.excludeDirectories.map(a=>Ln(ee.default.resolve(s,a))))}return i},GI=(e,t=new Map)=>UI(e,t);var{join:g8}=ee.default.posix;var d5=["node_modules","bower_components","jspm_packages"],m8=`(?!(${d5.join("|")})(/|$))`;var S8=process.platform==="win32";var zI=te(VI()),f5="yarn.build.json",QI=80,p5="-".repeat(QI);var bm=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:s,pluginConfiguration:o,dryRun:a,ignoreRunCache:u,verbose:l,concurrency:d,continueOnError:_,excludeWorkspacePredicate:f,ignoreDependencies:p,failFast:h}){this.tracer=new ir("yarn.build");this.runGraph=new es;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new YI.EventEmitter;this.ignoreDependencies=!1;this.failFast=!1;this.runReport={mutex:new ym.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.checkIfRunIsRequiredCache={};this.planCache={};this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on("pending",(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on("start",(t,r,n,i)=>{this.runReport.mutex.acquire().then(s=>{this.runReport.workspaces[t]={...this.runReport.workspaces[t],start:Date.now(),runScript:i,name:n,locator:r},s()})}),this.runReporter.on("info",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on("error",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on("success",t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t]={...this.runReport.workspaces[t],done:!0},this.runReport.successCount++;let n=this.runReport.workspaces[t];if(Xe.default){let i=`\u2705 ${t}`.padEnd(60),s=wn(0,n.runtimeSeconds??0).padStart(19);process.stdout.write(`${i}${s}
`)}r()})}),this.runReporter.on("skipped",t=>{this.runReport.mutex.acquire().then(r=>{if(this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r(),Xe.default){let n=`\u23E9 ${t} `.padEnd(60),i="--".padStart(19);process.stdout.write(`${n}${i}
`)}})}),this.runReporter.on("ignored",t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r();let n=this.runReport.workspaces[t],i=this.runLog?.get(`${t}#${this.runCommand}`);if(Xe.default){let s=`[IGNORE${i?.exitCode?`: ${i?.exitCode}`:""}] ${n.name} `.padEnd(60),o="--".padStart(19);process.stdout.write(`${s}${o}
`)}})}),this.runReporter.on("fail",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],s=this.runLog?.get(`${t}#${this.runCommand}`);if(Xe.default){let o=`\u274C ${t}`.padEnd(50),a=`${s?.exitCode?`(exit code: ${s?.exitCode})`:"\u2192"} ${wn(0,i.runtimeSeconds??0)}`.padStart(29);process.stdout.write(`${o}${a}
`)}})})};this.getDependenciesCount=async t=>{let r=0;for(let n of j.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");if(typeof this.planCache[r.relativeCwd]<"u")return this.planCache[r.relativeCwd];this.runGraph.checkCyclical(t);let n=!1,i=!1;if(this.runMutexes[r.relativeCwd]=new ym.Mutex,this.ignoreDependencies===!1)for(let o of j.Manifest.hardDependencies)for(let a of r.manifest.getForScope(o).values()){let u=this.project.tryWorkspaceByDescriptor(a);if(u===null||this.excludeWorkspacePredicate(u)||typeof u.manifest.scripts.get(this.runCommand)>"u")continue;let l=this.runGraph.addNode(u.relativeCwd);t.addDependency(l),this.runGraph.checkCyclical(l),await this.plan(l,u)&&(this.runGraph.addRunCallback(l,this.createRunItem(u)),i=!0,this.removeFromExcluded(u))}let s=!1;if(r!==this.project.topLevelWorkspace&&(s=await this.checkIfRunIsRequired(r)),this.runReporter.emit("pending",r.relativeCwd,r.anchoredLocator),i||s)n=!0,this.runReporter.emit("pending",r.relativeCwd,r.anchoredLocator,`${r.manifest.name?.scope?`@${r.manifest.name?.scope}/`:""}${r.manifest.name?.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);else{let o=this.runLog?.get(`${r.relativeCwd}#${this.runCommand}`);o&&this.runLog?.set(`${r.relativeCwd}#${this.runCommand}`,{checksum:o.checksum,status:"succeeded",rerun:!1,command:this.runCommand})}if(n){let o=r.getRecursiveWorkspaceDependents();for(let u of o)this.markWorkspaceForRerun(u);let a=Array.from(r.getRecursiveWorkspaceDependencies()).filter(u=>this.isWorkspaceMarkedForRerun(u));for(let u of a){let l=u.getRecursiveWorkspaceDependents();for(let d of l)this.markWorkspaceForRerun(d)}}return this.planCache[r.relativeCwd]=n,n};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",s={1:[]};this.runGraph.dryRunCallback=(u,l)=>{s[l]?s[l].push(u.id):s[l]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let o=(u,l,d,_)=>{let f=d?"\u2514\u2500":_&&d?"\u2514\u2500\u252C\u2500":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f}[${u}] ${l}`},a=Object.keys(s);return a.forEach((u,l)=>{let d=parseInt(u),_=s[d],f=l==a.length-1;_.forEach((p,h)=>{let E=this.runGraph.getNode(p);i+=o(d,p,h==_.length-1,f),E instanceof Nn&&E.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(Xe.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),Xe.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;Xe.default||dt.pad(this.concurrency+3),Xe.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":this.runTargets[0]?.relativeCwd??"Nothing to run",Xe.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let s=this.generateFinalReport();return typeof s=="string"&&process.stdout.write(`
${s}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";Xe.default?this.updateProgressCI(t):(n=this.generateProgressString(t),dt.cursorUp(dt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),dt.clearScreenDown()),typeof n<"u"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,E5(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>j.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=j.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=j.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),s=j.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${s} ${wn(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{Xe.default||(dt.cursorUp(dt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),dt.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),Xe.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(a.fail&&s.push(o),!(this.runReport.failCount!==0&&a.fail===!1)){if(a.stdout.length!==0||a.stderr.length!==0){let u=this.formatHeader(`Output: ${j.formatUtils.pretty(this.configuration,o,j.FormatType.PATH)}`,2);r+=`
${u+`
`}`}a.stdout.length!==0&&a.stdout.forEach(u=>{u.split(`
`).forEach(d=>{typeof d<"u"&&d.length!==0&&(r+=`${d+`
`}`)})}),a.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,a.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(f=>{typeof f<"u"&&f.length!==0&&(r+=`${f+`
`}`)})}))}}if(s.length>=2){r+=`${this.grey(p5)+`
`}`;let o=this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`);r+=`${o}`,s.forEach(a=>{let u=`- ${j.formatUtils.pretty(this.configuration,a,j.FormatType.PATH)}`;r+=`${u+`
`}`})}}let n=this.formatHeader(`${j.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?j.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:o,ignoredCount:a,skipCount:u}=this.runReport,l=this.runGraph.runSize-a,d=l-o-s-u,_=j.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),f=j.formatUtils.pretty(this.configuration,`Fail: ${o}`,"red"),p=j.formatUtils.pretty(this.configuration,`Skipped: ${u}`,"white"),h=j.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),E=j.formatUtils.pretty(this.configuration,`Up to date: ${d}`,"white"),A=j.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=_+`
`,r+=E+`
`,r+=f+`
`,this.verbose&&o>0&&Object.keys(this.runReport.workspaces).forEach(T=>{let O=this.runReport.workspaces[T];O.fail&&(r+=` - ${j.formatUtils.pretty(this.configuration,T,"grey")}${j.formatUtils.pretty(this.configuration,O.locator,"IDENT")}
`)}),r+=p+`
`,this.verbose&&u>0&&Object.keys(this.runReport.workspaces).forEach(T=>{let O=this.runReport.workspaces[T];O.skipped&&(r+=` - ${j.formatUtils.pretty(this.configuration,T,"grey")}${j.formatUtils.pretty(this.configuration,O.locator,"IDENT")}
`)}),r+=h+`
`,this.verbose&&this.excluded.size>0)for(let T of this.excluded)r+=` - ${j.formatUtils.pretty(this.configuration,T.relativeCwd,"grey")}${j.formatUtils.pretty(this.configuration,T.anchoredLocator,"IDENT")}
`;r+=A+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces){let o=this.runReport.workspaces[s];i+=o.runtimeSeconds??0}if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,a=Date.now()-this.runReport.runStart,u=wn(a,s);r+=`Cumulative: (cpu): ${wn(0,i)}
`,r+=`Saved: ${u}
`}return this.runReport.runStart&&(r+="Runtime (wall): "+wn(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:s})=>{let o=t.relativeCwd,a={[z.PACKAGE_NAME]:t.anchoredLocator.name,[z.PACKAGE_DIRECTORY]:t.relativeCwd,[z.PACKAGE_COMMAND]:this.runCommand};typeof t.anchoredLocator.scope=="string"&&(a[z.PACKAGE_SCOPE]=`@${t.anchoredLocator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[z.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let l=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit("start",t.relativeCwd,t.anchoredLocator,`${t.manifest.name?.scope?`@${t.manifest.name?.scope}/`:""}${t.manifest.name?.name}`,u),i.addEvent("start"),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit("info",t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit("ignored",t.relativeCwd),i.addEvent("ignored"),!0;try{if(this.runReport.failCount!==0&&!this.continueOnError&&(this.runReporter.emit("skipped",t.relativeCwd),i.addEvent("skipped"),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"skipped",rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let d=await this.cli(s,this.runCommand,t.cwd,this.runReporter,o);if(i.setAttribute(z.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,d),d!==0)return this.runReporter.emit("fail",t.relativeCwd),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"failed",rerun:!0,command:this.runCommand,exitCode:`${d}`}),this.failFast===!0&&(Xe.default&&process.stdout.write(`--fail-fast is set, terminating all processes
`),Ad()),!1;this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"succeeded",rerun:!1,command:this.runCommand}),this.runReporter.emit("success",t.relativeCwd)}catch(d){return this.runReporter.emit("fail",t.relativeCwd,d),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"failed",rerun:!0,command:this.runCommand}),(typeof d=="string"||d instanceof Error)&&i.recordException(d),i.setStatus({code:XI.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),Ad()),!1}return!1}));let E=d??(0,$I.cpus)().length;this.configuration=s,this.pluginConfiguration=o,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=l,this.concurrency=E,this.continueOnError=_,this.limit=(0,WI.default)(E),this.queue=new KI.default({concurrency:E,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=Y.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"})),this.ignoreDependencies=p,this.failFast=h}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return Y.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return Y.ppath.resolve(this.project.cwd,".yarn",f5)}async readRunLog(){let t=new Map;try{let r=await Y.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{checksum:r.packages[n].checksum,status:r.packages[n].status,rerun:r.packages[n].rerun,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await Y.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:{...t&&t.packages}};for(let[n]of this.runLog)r.packages[n]={...r.packages[n],...this.runLog.get(n)};await Y.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}if(typeof t.manifest.scripts.get(this.runCommand)>"u")return;let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}markWorkspaceForRerun(t){if(typeof t.manifest.scripts.get(this.runCommand)>"u")return;let r=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:r?.checksum??"",status:"succeeded",rerun:!0,command:this.runCommand})}isWorkspaceMarkedForRerun(t){return typeof t.manifest.scripts.get(this.runCommand)>"u"?!1:this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`)?.rerun??!1}async checkIfRunIsRequired(t){if(typeof this.checkIfRunIsRequiredCache[t.relativeCwd]<"u")return this.checkIfRunIsRequiredCache[t.relativeCwd];if(typeof t.manifest.scripts.get(this.runCommand)!="string")return this.checkIfRunIsRequiredCache[t.relativeCwd]=!1,!1;let r=!1;this.ignoreRunCache&&(r=!0);let n=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);n?.rerun&&(r=!0);for(let f of t.getRecursiveWorkspaceDependencies())if(this.checkIfRunIsRequiredCache[f.relativeCwd]===!0){r=!0;break}let i=CA(t.manifest.raw),s=i?.input!=null,o=typeof i?.output<"u",a=i.input??this.pluginConfiguration.folders.input,u=new Set,l=new Set(Array.isArray(a)?a:[a]),d=i.output??[],_=new Set(Array.isArray(d)?d:[d]);if(o||(typeof t?.manifest?.raw?.bin=="string"?_.add(t.manifest.raw.bin):typeof t?.manifest?.raw?.directories?.bin=="string"?_.add(t.manifest.raw.directories.bin):typeof t?.manifest?.raw?.files=="string"?_.add(t.manifest.raw.files):Array.isArray(t?.manifest?.raw?.files)?t.manifest.raw.files.forEach(f=>f&&_.add(f)):typeof t?.manifest?.raw?.main=="string"&&_.add(t.manifest.raw.main)),!s||!o)try{let f=i.tsconfig??"tsconfig.json",p=Y.xfs.pathUtils.join(t.cwd,Y.npath.toPortablePath(f));if(await Y.xfs.existsPromise(p)){let E=GI(Y.npath.fromPortablePath(p)),A=Y.ppath.dirname(p);if(!s){if(E.compilerOptions?.incremental){let T=E.compilerOptions.tsBuildInfoFile??`${Y.ppath.basename(p,Y.ppath.extname(p))}.tsbuildinfo`,O=Y.ppath.join(A,Y.npath.toPortablePath(T)),R=Y.ppath.relative(t.cwd,O);u.add(R)}E.include?.forEach(T=>{let O=Y.ppath.join(A,Y.npath.toPortablePath(T)),R=Y.ppath.relative(t.cwd,O);l.add(R)}),E.exclude?.forEach(T=>{let O=Y.ppath.join(A,Y.npath.toPortablePath(T)),R=Y.ppath.relative(t.cwd,O);u.add(R)})}if(!o&&E.compilerOptions?.outDir!=null){let T=Y.ppath.join(A,Y.npath.toPortablePath(Y.npath.toPortablePath(E.compilerOptions.outDir))),O=Y.ppath.relative(t.cwd,T);_.add(O)}}}catch(f){console.warn(t.relativeCwd,`
`,f)}_.size===0&&(Array.isArray(this.pluginConfiguration.folders.output)?this.pluginConfiguration.folders.output.forEach(f=>f&&_.add(f)):typeof this.pluginConfiguration.folders.output=="string"&&_.add(this.pluginConfiguration.folders.output));{let f=[...new Set(["node_modules",..._,...u])].map(E=>Y.npath.toPortablePath(E)),p=[...l].map(E=>Y.npath.toPortablePath(E)),h=await this.runReport.mutex.acquire();try{let E=await h5(t.cwd,p,f);if(n?.checksum!==E&&(r=!0),!r){let A=Y.npath.fromPortablePath(t.cwd);(await Promise.all([..._].map(async O=>{try{return(await(0,vm.default)(O,{dot:!0,cwd:A})).length===0}catch{return!1}}))).some(O=>O===!0)&&(r=!0)}this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:E,status:r?"succeeded":"pending",rerun:r,command:this.runCommand})}catch(E){this.runReport.workspaces[t.relativeCwd]?.stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${E})`))}finally{h()}}return this.checkIfRunIsRequiredCache[t.relativeCwd]=r,r}formatHeader(t,r=0,n=!1){let i="-",s=i.repeat(r),o=this.grey(s),a=this.grey("["),u=this.grey("]"),l=`${o}${a} ${t} ${u}`,d=(0,yd.default)(l).length,_=n?"[ yarn.build ]":"",f=Math.max(QI-(d+_.length),0),p=i.repeat(f),h=this.grey(p),E=this.grey(_);return`${l}${h}${E}`}generateHeaderString(){return`${j.formatUtils.pretty(this.configuration,`${this.runCommand}`,j.FormatType.CODE)} for ${j.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",j.FormatType.SCOPE)}${this.dryRun?j.formatUtils.pretty(this.configuration," --dry-run",j.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-n.start)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=o=>this.grey(`[${o}]`),i=j.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let s=1;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(!a||!a.start||a.done)continue;let u=j.formatUtils.pretty(this.configuration,o,j.FormatType.PATH),l=j.formatUtils.pretty(this.configuration,`(${a.runScript})`,j.FormatType.REFERENCE),d=a.start?j.formatUtils.pretty(this.configuration,wn(a.start,t),j.FormatType.RANGE):"",_=n(s++),f=" ".repeat(_.length-1),p=j.formatUtils.pretty(this.configuration,a.name,j.FormatType.NAME),h=`${_} ${p}${j.formatUtils.pretty(this.configuration,"@","grey")}${u} ${l} ${d}
`,E="",A="",T="";(0,yd.default)(h).length>=process.stdout.columns&&(E=`${_} ${u}${p}
`,A=`${f} ${l} ${d}
`,(0,yd.default)(E).length>=process.stdout.columns&&(E=(0,bd.default)(`${_} ${u}
`,0,process.stdout.columns),A=(0,bd.default)(`${f} ${p}
`,0,process.stdout.columns),T=(0,bd.default)(`${f} ${l} ${d}
`,0,process.stdout.columns)),h=E+A+T),r+=h}for(s;s<this.concurrency+1;)r+=`${n(s++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},h5=async(e,t,r)=>{let n=await(0,vm.default)(t,{cwd:Y.npath.fromPortablePath(e),absolute:!0,expandDirectories:!0,dot:!0,ignore:r});n.sort();let i=await Promise.all(n.map(async s=>{let o=Y.npath.toPortablePath(s),a=await Y.xfs.statPromise(o);return{path:Y.ppath.relative(e,o),size:a.isFile()?a.size:0,lastModified:a.isFile()?a.mtimeMs:0}}));return(0,zI.default)(i)},wn=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function E5(e){return new Promise(t=>setTimeout(t,e))}var ZI=bm;var JI=v("child_process"),eN=v("util"),g5=(0,eN.promisify)(JI.exec);function m5(e){let{commit:t,sinceBranch:r}=e;if(t)return`git diff --name-only ..${t}`;if(r)return`git diff --name-only ${r}...`;throw new Error("Unable to determine how to detect changes.")}async function Pm(e){try{let t=m5(e),{stdout:r}=await g5(t),n=r.split(`
`),s=e.root.project.workspaces.filter(o=>n.some(a=>a.startsWith(o.relativeCwd.replace(/^\.\//,"")))).reduce((o,a)=>{let u=a.getRecursiveWorkspaceDependents();return new Set([...o,...u,a])},new Set);return Array.from(s.values())}catch{return[]}}var Dn=v("@yarnpkg/core");var tN=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...tN(i,t))}return r},rN=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=tN(e,t);for(let i of n)for(let s of Dn.Manifest.hardDependencies){for(let o of i.manifest.getForScope(s).values()){let a=t.tryWorkspaceByDescriptor(o);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof Oo){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,s=n.node.length<n.dep.length+4?"\u21B0":"",o=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${Dn.formatUtils.pretty(r.configuration,n.node,"white")} ${s}
 \u21B3 ${Dn.formatUtils.pretty(r.configuration,n.dep,"red")} ${o}

`,i+=Dn.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=Dn.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var Po=te(P());var xn=class extends vd.BaseCommand{constructor(){super(...arguments);this.json=de.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=de.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=de.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=de.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=de.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=de.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a job, but not actually run it"});this.ignoreBuildCache=de.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=de.Option.String("-m,--max-concurrency",{description:"is the maximum number of jobs that can run at a time, defaults to the number of logical CPUs on the current machine."});this.continueOnError=de.Option.Boolean("--continue-on-error",!1,{description:"if a job fails, continue with the rest"});this.failFast=de.Option.Boolean("--fail-fast",!1,{description:"if a job fails, terminate other running jobs"});this.exclude=de.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=de.Option.Boolean("--exclude-current",!1,{description:"run for this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=de.Option.Boolean("--changes",!1,{description:"only run for packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=de.Option.String("--since",{description:"only run for packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=de.Option.String("--since-branch",{description:"only run for packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=de.Option.Boolean("--only-current",!1,{description:"only run for the current workspace"});this.ignoreDependencies=de.Option.Boolean("--ignore-dependencies",!1,{description:"when true, don't run for packages this one depends on"});this.buildTargets=de.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.commandType="build"}async execute(){return await new ir("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:n,ctx:i})=>{n.setAttributes({[z.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[z.YARN_BUILD_FLAGS_ALL]:this.all,[z.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[z.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[z.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[z.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[z.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[z.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[z.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[z.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[z.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[z.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[z.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[z.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[z.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[z.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let s=await qe.Configuration.find(this.context.cwd,this.context.plugins),{project:o,workspace:a}=await qe.Project.find(s,this.context.cwd);if(!a)throw new vd.WorkspaceRequiredError(o.cwd,this.context.cwd);let u=this.all?o.topLevelWorkspace:a,l=!1;u==o.topLevelWorkspace&&(l=!0);let d=[u,...this.buildTargets.length>0?u.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?d=await Pm({root:o.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(d=await Pm({root:o.topLevelWorkspace,commit:this.onlyGitChangesSinceCommit??"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(qe.structUtils.stringifyIdent(a.anchoredLocator)),!l&&this.onlyCurrent&&(this.maxConcurrency="1");let _=T=>!l&&this.onlyCurrent?T!=a:this.exclude?.some(O=>vo.default.isMatch(qe.structUtils.stringifyIdent(T.anchoredLocator),O)||vo.default.isMatch(T.cwd,`${s.projectCwd}${Cm.default.posix.sep}${O}`))??!1,f=T=>!l&&this.onlyCurrent?T==a:this.buildTargets.some(O=>vo.default.isMatch(qe.structUtils.stringifyIdent(T.anchoredLocator),O)||vo.default.isMatch(T.cwd,`${s.projectCwd}${Cm.default.posix.sep}${O}`)),p=this.buildTargets.length>0?d.filter(f):d,h=await PA(s);this.continueOnError=this.continueOnError??!!h.bail;let E=this.maxConcurrency===void 0?(0,nN.cpus)().length:parseInt(this.maxConcurrency);n.setAttributes({[z.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[z.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[z.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[z.YARN_BUILD_CONFIG_BAIL]:h.bail,[z.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[z.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:E,[z.YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES]:this.ignoreDependencies});let A=await qe.StreamReport.start({configuration:s,json:this.json,stdout:this.context.stdout,includeLogs:!0},async T=>{let O=async(y,B,w,x,K)=>{let ue=Po.trace.getSpan(y),m=new qe.miscUtils.BufferStream;m.on("data",L=>x?.emit("info",K,L&&L.toString()));let N=new qe.miscUtils.BufferStream;if(N.on("data",L=>x?.emit("error",K,L&&L.toString())),this.forceQuit)return m.destroy(),N.destroy(),m.end(),N.end(),2;try{let L=await this.cli.run(["run",B],{cwd:w,stdout:m,stderr:N})||0;return m.end(),N.end(),L}catch(L){ue?.setStatus({code:Po.SpanStatusCode.ERROR,message:L.message}),(typeof L=="string"||L instanceof Error)&&ue?.recordException(L),m.end(),N.end()}return 2},R=new ZI({project:o,configuration:s,pluginConfiguration:h,report:T,runCommand:this.buildCommand,cli:O,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:E,continueOnError:this.continueOnError,excludeWorkspacePredicate:_,ignoreDependencies:this.ignoreDependencies,failFast:this.failFast});R.runReporter.on("force-quit",()=>{this.forceQuit=!0}),await R.setup();for(let y of p)await rN({targetWorkspace:y,project:o,supervisor:R});await R.run(i)===!1&&(T.reportError(qe.MessageName.BUILD_FAILED,"Build failed"),n.setStatus({code:Po.SpanStatusCode.ERROR,message:"Build failed"}))});return rs.hasBeenTerminated=!0,A.exitCode()})}};xn.paths=[["build"]],xn.usage=de.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var Bn=class extends xn{constructor(){super(...arguments);this.buildCommand=Co.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=Co.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.ignoreDependencies=!0;this.commandType="test"}};Bn.paths=[["test"]],Bn.usage=Co.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var S5={commands:[Bn]},A5=S5;return _N(T5);})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
