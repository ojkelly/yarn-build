/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-test",
factory: function (require) {
var plugin=(()=>{var mR=Object.create,ci=Object.defineProperty,ER=Object.defineProperties,yR=Object.getOwnPropertyDescriptor,SR=Object.getOwnPropertyDescriptors,AR=Object.getOwnPropertyNames,_p=Object.getOwnPropertySymbols,bR=Object.getPrototypeOf,gp=Object.prototype.hasOwnProperty,vR=Object.prototype.propertyIsEnumerable;var mp=(e,t,r)=>t in e?ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t)=>{for(var r in t||(t={}))gp.call(t,r)&&mp(e,r,t[r]);if(_p)for(var r of _p(t))vR.call(t,r)&&mp(e,r,t[r]);return e},ue=(e,t)=>ER(e,SR(t)),TR=e=>ci(e,"__esModule",{value:!0});var I=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),RR=(e,t)=>{for(var r in t)ci(e,r,{get:t[r],enumerable:!0})},OR=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of AR(t))!gp.call(e,n)&&n!=="default"&&ci(e,n,{get:()=>t[n],enumerable:!(r=yR(t,n))||r.enumerable});return e},j=e=>OR(TR(ci(e!=null?mR(bR(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Ps=l(Ze=>{"use strict";Ze.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Ze.find=(e,t)=>e.nodes.find(r=>r.type===t);Ze.exceedsLimit=(e,t,r=1,n)=>n===!1||!Ze.isInteger(e)||!Ze.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;Ze.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Ze.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;Ze.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Ze.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Ze.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Ze.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var Cs=l((xF,yp)=>{"use strict";var Ep=Ps();yp.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&Ep.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Ep.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var Ap=l((MF,Sp)=>{"use strict";Sp.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Np=l((LF,Ip)=>{"use strict";var bp=Ap(),dr=(e,t,r)=>{if(bp(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(bp(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=D({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(dr.cache.hasOwnProperty(u))return dr.cache[u].result;let c=Math.min(e,t),d=Math.max(e,t);if(Math.abs(c-d)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let f=Cp(e)||Cp(t),p={min:e,max:t,a:c,b:d},h=[],_=[];if(f&&(p.isPadded=f,p.maxLen=String(p.max).length),c<0){let g=d<0?Math.abs(d):1;_=vp(g,Math.abs(c),p,n),c=p.a=0}return d>=0&&(h=vp(c,d,p,n)),p.negatives=_,p.positives=h,p.result=PR(_,h,n),n.capture===!0?p.result=`(${p.result})`:n.wrap!==!1&&h.length+_.length>1&&(p.result=`(?:${p.result})`),dr.cache[u]=p,p.result};function PR(e,t,r){let n=Vu(e,t,"-",!1,r)||[],i=Vu(t,e,"",!1,r)||[],s=Vu(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function CR(e,t){let r=1,n=1,i=Rp(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=Rp(e,r);for(i=Op(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=Op(t+1,n)-1;return s=[...s],s.sort(wR),s}function IR(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=NR(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?s+=u:u!=="0"||c!=="9"?s+=xR(u,c,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function vp(e,t,r,n){let i=CR(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let c=i[u],d=IR(String(o),String(c),n),f="";if(!r.isPadded&&a&&a.pattern===d.pattern){a.count.length>1&&a.count.pop(),a.count.push(d.count[0]),a.string=a.pattern+Pp(a.count),o=c+1;continue}r.isPadded&&(f=MR(c,r,n)),d.string=f+d.pattern+Pp(d.count),s.push(d),o=c+1,a=d}return s}function Vu(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Tp(t,"string",a)&&s.push(r+a),n&&Tp(t,"string",a)&&s.push(r+a)}return s}function NR(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function wR(e,t){return e>t?1:t>e?-1:0}function Tp(e,t,r){return e.some(n=>n[t]===r)}function Rp(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Op(e,t){return e-e%Math.pow(10,t)}function Pp(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function xR(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function Cp(e){return/^-?(0+)\d/.test(e)}function MR(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}dr.cache={};dr.clearCache=()=>dr.cache={};Ip.exports=dr});var Ku=l((DF,qp)=>{"use strict";var LR=I("util"),wp=Np(),xp=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),DR=e=>t=>e===!0?Number(t):String(t),Yu=e=>typeof e=="number"||typeof e=="string"&&e!=="",li=e=>Number.isInteger(+e),Wu=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},BR=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,UR=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Mp=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},qR=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},Lp=(e,t,r,n)=>{if(r)return wp(e,t,D({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Dp=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return wp(e,t,r)},Bp=(...e)=>new RangeError("Invalid range arguments: "+LR.inspect(...e)),Up=(e,t,r)=>{if(r.strictRanges===!0)throw Bp([e,t]);return[]},FR=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},jR=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Bp([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let d=Wu(a)||Wu(u)||Wu(c),f=d?Math.max(a.length,u.length,c.length):0,p=d===!1&&BR(e,t,n)===!1,h=n.transform||DR(p);if(n.toRegex&&r===1)return Lp(Mp(e,f),Mp(t,f),!0,n);let _={negatives:[],positives:[]},g=S=>_[S<0?"negatives":"positives"].push(Math.abs(S)),b=[],v=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?g(i):b.push(UR(h(i,v),f,p)),i=o?i-r:i+r,v++;return n.toRegex===!0?r>1?qR(_,n):Dp(b,null,D({wrap:!1},n)):b},kR=(e,t,r=1,n={})=>{if(!li(e)&&e.length>1||!li(t)&&t.length>1)return Up(e,t,n);let i=n.transform||(p=>String.fromCharCode(p)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),c=Math.max(s,o);if(n.toRegex&&r===1)return Lp(u,c,!1,n);let d=[],f=0;for(;a?s>=o:s<=o;)d.push(i(s,f)),s=a?s-r:s+r,f++;return n.toRegex===!0?Dp(d,null,{wrap:!1,options:n}):d},Is=(e,t,r,n={})=>{if(t==null&&Yu(e))return[e];if(!Yu(e)||!Yu(t))return Up(e,t,n);if(typeof r=="function")return Is(e,t,1,{transform:r});if(xp(r))return Is(e,t,0,r);let i=D({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,li(r)?li(e)&&li(t)?jR(e,t,r,i):kR(e,t,Math.max(Math.abs(r),1),i):r!=null&&!xp(r)?FR(r,i):Is(e,t,1,r)};qp.exports=Is});var kp=l((BF,jp)=>{"use strict";var GR=Ku(),Fp=Ps(),HR=(e,t={})=>{let r=(n,i={})=>{let s=Fp.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=Fp.reduce(n.nodes),f=GR(...d,ue(D({},t),{wrap:!1,toRegex:!0}));if(f.length!==0)return d.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let d of n.nodes)c+=r(d,n);return c};return r(e)};jp.exports=HR});var $p=l((UF,Hp)=>{"use strict";var $R=Ku(),Gp=Cs(),Zr=Ps(),fr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Zr.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(fr(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?fr(i,s,r):i+s);return Zr.flatten(n)},VR=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(fr(a.pop(),Gp(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(fr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let f=Zr.reduce(i.nodes);if(Zr.exceedsLimit(...f,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let p=$R(...f,t);p.length===0&&(p=Gp(i,t)),a.push(fr(a.pop(),p)),i.nodes=[];return}let u=Zr.encloseBrace(i),c=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,c=d.queue;for(let f=0;f<i.nodes.length;f++){let p=i.nodes[f];if(p.type==="comma"&&i.type==="brace"){f===1&&c.push(""),c.push("");continue}if(p.type==="close"){a.push(fr(a.pop(),c,u));continue}if(p.value&&p.type!=="open"){c.push(fr(c.pop(),p.value));continue}p.nodes&&n(p,i)}return c};return Zr.flatten(n(e))};Hp.exports=VR});var Yp=l((qF,Vp)=>{"use strict";Vp.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Qp=l((FF,zp)=>{"use strict";var YR=Cs(),{MAX_LENGTH:Wp,CHAR_BACKSLASH:Xu,CHAR_BACKTICK:WR,CHAR_COMMA:KR,CHAR_DOT:XR,CHAR_LEFT_PARENTHESES:zR,CHAR_RIGHT_PARENTHESES:QR,CHAR_LEFT_CURLY_BRACE:ZR,CHAR_RIGHT_CURLY_BRACE:JR,CHAR_LEFT_SQUARE_BRACKET:Kp,CHAR_RIGHT_SQUARE_BRACKET:Xp,CHAR_DOUBLE_QUOTE:eO,CHAR_SINGLE_QUOTE:tO,CHAR_NO_BREAK_SPACE:rO,CHAR_ZERO_WIDTH_NOBREAK_SPACE:nO}=Yp(),iO=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Wp,r.maxLength):Wp;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,c=e.length,d=0,f=0,p,h={},_=()=>e[d++],g=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return o.nodes.push(b),b.parent=o,b.prev=a,a=b,b};for(g({type:"bos"});d<c;)if(o=s[s.length-1],p=_(),!(p===nO||p===rO)){if(p===Xu){g({type:"text",value:(t.keepEscaping?p:"")+_()});continue}if(p===Xp){g({type:"text",value:"\\"+p});continue}if(p===Kp){u++;let b=!0,v;for(;d<c&&(v=_());){if(p+=v,v===Kp){u++;continue}if(v===Xu){p+=_();continue}if(v===Xp&&(u--,u===0))break}g({type:"text",value:p});continue}if(p===zR){o=g({type:"paren",nodes:[]}),s.push(o),g({type:"text",value:p});continue}if(p===QR){if(o.type!=="paren"){g({type:"text",value:p});continue}o=s.pop(),g({type:"text",value:p}),o=s[s.length-1];continue}if(p===eO||p===tO||p===WR){let b=p,v;for(t.keepQuotes!==!0&&(p="");d<c&&(v=_());){if(v===Xu){p+=v+_();continue}if(v===b){t.keepQuotes===!0&&(p+=v);break}p+=v}g({type:"text",value:p});continue}if(p===ZR){f++;let b=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=g({type:"brace",open:!0,close:!1,dollar:b,depth:f,commas:0,ranges:0,nodes:[]}),s.push(o),g({type:"open",value:p});continue}if(p===JR){if(o.type!=="brace"){g({type:"text",value:p});continue}let b="close";o=s.pop(),o.close=!0,g({type:b,value:p}),f--,o=s[s.length-1];continue}if(p===KR&&f>0){if(o.ranges>0){o.ranges=0;let b=o.nodes.shift();o.nodes=[b,{type:"text",value:YR(o)}]}g({type:"comma",value:p}),o.commas++;continue}if(p===XR&&f>0&&o.commas===0){let b=o.nodes;if(f===0||b.length===0){g({type:"text",value:p});continue}if(a.type==="dot"){if(o.range=[],a.value+=p,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){b.pop();let v=b[b.length-1];v.value+=a.value+p,a=v,o.ranges--;continue}g({type:"dot",value:p});continue}g({type:"text",value:p})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(S=>{S.nodes||(S.type==="open"&&(S.isOpen=!0),S.type==="close"&&(S.isClose=!0),S.nodes||(S.type="text"),S.invalid=!0)});let b=s[s.length-1],v=b.nodes.indexOf(o);b.nodes.splice(v,1,...o.nodes)}while(s.length>0);return g({type:"eos"}),i};zp.exports=iO});var eh=l((jF,Jp)=>{"use strict";var Zp=Cs(),sO=kp(),oO=$p(),aO=Qp(),Ye=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Ye.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ye.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Ye.parse=(e,t={})=>aO(e,t);Ye.stringify=(e,t={})=>typeof e=="string"?Zp(Ye.parse(e,t),t):Zp(e,t);Ye.compile=(e,t={})=>(typeof e=="string"&&(e=Ye.parse(e,t)),sO(e,t));Ye.expand=(e,t={})=>{typeof e=="string"&&(e=Ye.parse(e,t));let r=oO(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Ye.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Ye.compile(e,t):Ye.expand(e,t);Jp.exports=Ye});var di=l((kF,sh)=>{"use strict";var uO=I("path"),ft="\\\\/",th=`[^${ft}]`,xt="\\.",cO="\\+",lO="\\?",Ns="\\/",dO="(?=.)",rh="[^/]",zu=`(?:${Ns}|$)`,nh=`(?:^|${Ns})`,Qu=`${xt}{1,2}${zu}`,fO=`(?!${xt})`,pO=`(?!${nh}${Qu})`,hO=`(?!${xt}{0,1}${zu})`,_O=`(?!${Qu})`,gO=`[^.${Ns}]`,mO=`${rh}*?`,ih={DOT_LITERAL:xt,PLUS_LITERAL:cO,QMARK_LITERAL:lO,SLASH_LITERAL:Ns,ONE_CHAR:dO,QMARK:rh,END_ANCHOR:zu,DOTS_SLASH:Qu,NO_DOT:fO,NO_DOTS:pO,NO_DOT_SLASH:hO,NO_DOTS_SLASH:_O,QMARK_NO_DOT:gO,STAR:mO,START_ANCHOR:nh},EO=ue(D({},ih),{SLASH_LITERAL:`[${ft}]`,QMARK:th,STAR:`${th}*?`,DOTS_SLASH:`${xt}{1,2}(?:[${ft}]|$)`,NO_DOT:`(?!${xt})`,NO_DOTS:`(?!(?:^|[${ft}])${xt}{1,2}(?:[${ft}]|$))`,NO_DOT_SLASH:`(?!${xt}{0,1}(?:[${ft}]|$))`,NO_DOTS_SLASH:`(?!${xt}{1,2}(?:[${ft}]|$))`,QMARK_NO_DOT:`[^.${ft}]`,START_ANCHOR:`(?:^|[${ft}])`,END_ANCHOR:`(?:[${ft}]|$)`}),yO={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};sh.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:yO,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:uO.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?EO:ih}}});var fi=l(Fe=>{"use strict";var SO=I("path"),AO=process.platform==="win32",{REGEX_BACKSLASH:bO,REGEX_REMOVE_BACKSLASH:vO,REGEX_SPECIAL_CHARS:TO,REGEX_SPECIAL_CHARS_GLOBAL:RO}=di();Fe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Fe.hasRegexChars=e=>TO.test(e);Fe.isRegexChar=e=>e.length===1&&Fe.hasRegexChars(e);Fe.escapeRegex=e=>e.replace(RO,"\\$1");Fe.toPosixSlashes=e=>e.replace(bO,"/");Fe.removeBackslashes=e=>e.replace(vO,t=>t==="\\"?"":t);Fe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Fe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:AO===!0||SO.sep==="\\";Fe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Fe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Fe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Fe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var ph=l((HF,fh)=>{"use strict";var oh=fi(),{CHAR_ASTERISK:Zu,CHAR_AT:OO,CHAR_BACKWARD_SLASH:pi,CHAR_COMMA:PO,CHAR_DOT:Ju,CHAR_EXCLAMATION_MARK:ec,CHAR_FORWARD_SLASH:ah,CHAR_LEFT_CURLY_BRACE:tc,CHAR_LEFT_PARENTHESES:rc,CHAR_LEFT_SQUARE_BRACKET:CO,CHAR_PLUS:IO,CHAR_QUESTION_MARK:uh,CHAR_RIGHT_CURLY_BRACE:NO,CHAR_RIGHT_PARENTHESES:ch,CHAR_RIGHT_SQUARE_BRACKET:wO}=di(),lh=e=>e===ah||e===pi,dh=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},xO=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,c=-1,d=0,f=0,p=!1,h=!1,_=!1,g=!1,b=!1,v=!1,S=!1,A=!1,G=!1,w=!1,L=0,O,M,P={value:"",depth:0,isGlob:!1},V=()=>c>=n,m=()=>u.charCodeAt(c+1),H=()=>(O=M,u.charCodeAt(++c));for(;c<n;){M=H();let Se;if(M===pi){S=P.backslashes=!0,M=H(),M===tc&&(v=!0);continue}if(v===!0||M===tc){for(L++;V()!==!0&&(M=H());){if(M===pi){S=P.backslashes=!0,H();continue}if(M===tc){L++;continue}if(v!==!0&&M===Ju&&(M=H())===Ju){if(p=P.isBrace=!0,_=P.isGlob=!0,w=!0,i===!0)continue;break}if(v!==!0&&M===PO){if(p=P.isBrace=!0,_=P.isGlob=!0,w=!0,i===!0)continue;break}if(M===NO&&(L--,L===0)){v=!1,p=P.isBrace=!0,w=!0;break}}if(i===!0)continue;break}if(M===ah){if(s.push(c),o.push(P),P={value:"",depth:0,isGlob:!1},w===!0)continue;if(O===Ju&&c===d+1){d+=2;continue}f=c+1;continue}if(r.noext!==!0&&(M===IO||M===OO||M===Zu||M===uh||M===ec)===!0&&m()===rc){if(_=P.isGlob=!0,g=P.isExtglob=!0,w=!0,M===ec&&c===d&&(G=!0),i===!0){for(;V()!==!0&&(M=H());){if(M===pi){S=P.backslashes=!0,M=H();continue}if(M===ch){_=P.isGlob=!0,w=!0;break}}continue}break}if(M===Zu){if(O===Zu&&(b=P.isGlobstar=!0),_=P.isGlob=!0,w=!0,i===!0)continue;break}if(M===uh){if(_=P.isGlob=!0,w=!0,i===!0)continue;break}if(M===CO){for(;V()!==!0&&(Se=H());){if(Se===pi){S=P.backslashes=!0,H();continue}if(Se===wO){h=P.isBracket=!0,_=P.isGlob=!0,w=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&M===ec&&c===d){A=P.negated=!0,d++;continue}if(r.noparen!==!0&&M===rc){if(_=P.isGlob=!0,i===!0){for(;V()!==!0&&(M=H());){if(M===rc){S=P.backslashes=!0,M=H();continue}if(M===ch){w=!0;break}}continue}break}if(_===!0){if(w=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,_=!1);let X=u,se="",E="";d>0&&(se=u.slice(0,d),u=u.slice(d),f-=d),X&&_===!0&&f>0?(X=u.slice(0,f),E=u.slice(f)):_===!0?(X="",E=u):X=u,X&&X!==""&&X!=="/"&&X!==u&&lh(X.charCodeAt(X.length-1))&&(X=X.slice(0,-1)),r.unescape===!0&&(E&&(E=oh.removeBackslashes(E)),X&&S===!0&&(X=oh.removeBackslashes(X)));let y={prefix:se,input:e,start:d,base:X,glob:E,isBrace:p,isBracket:h,isGlob:_,isExtglob:g,isGlobstar:b,negated:A,negatedExtglob:G};if(r.tokens===!0&&(y.maxDepth=0,lh(M)||o.push(P),y.tokens=o),r.parts===!0||r.tokens===!0){let Se;for(let B=0;B<s.length;B++){let Ae=Se?Se+1:d,Ve=s[B],J=e.slice(Ae,Ve);r.tokens&&(B===0&&d!==0?(o[B].isPrefix=!0,o[B].value=se):o[B].value=J,dh(o[B]),y.maxDepth+=o[B].depth),(B!==0||J!=="")&&a.push(J),Se=Ve}if(Se&&Se+1<e.length){let B=e.slice(Se+1);a.push(B),r.tokens&&(o[o.length-1].value=B,dh(o[o.length-1]),y.maxDepth+=o[o.length-1].depth)}y.slashes=s,y.parts=a}return y};fh.exports=xO});var mh=l(($F,gh)=>{"use strict";var ws=di(),We=fi(),{MAX_LENGTH:xs,POSIX_REGEX_SOURCE:MO,REGEX_NON_SPECIAL_CHARS:LO,REGEX_SPECIAL_CHARS_BACKREF:DO,REPLACEMENTS:hh}=ws,BO=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>We.escapeRegex(i)).join("..")}return r},Jr=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,_h=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=hh[e]||e;let r=D({},t),n=typeof r.maxLength=="number"?Math.min(xs,r.maxLength):xs,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=We.isWindows(t),c=ws.globChars(u),d=ws.extglobChars(c),{DOT_LITERAL:f,PLUS_LITERAL:p,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:g,NO_DOT:b,NO_DOT_SLASH:v,NO_DOTS_SLASH:S,QMARK:A,QMARK_NO_DOT:G,STAR:w,START_ANCHOR:L}=c,O=R=>`(${a}(?:(?!${L}${R.dot?g:f}).)*?)`,M=r.dot?"":b,P=r.dot?A:G,V=r.bash===!0?O(r):w;r.capture&&(V=`(${V})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=We.removePrefix(e,m),i=e.length;let H=[],X=[],se=[],E=s,y,Se=()=>m.index===i-1,B=m.peek=(R=1)=>e[m.index+R],Ae=m.advance=()=>e[++m.index]||"",Ve=()=>e.slice(m.index+1),J=(R="",re=0)=>{m.consumed+=R,m.index+=re},st=R=>{m.output+=R.output!=null?R.output:R.value,J(R.value)},dt=()=>{let R=1;for(;B()==="!"&&(B(2)!=="("||B(3)==="?");)Ae(),m.start++,R++;return R%2==0?!1:(m.negated=!0,m.start++,!0)},ve=R=>{m[R]++,se.push(R)},qe=R=>{m[R]--,se.pop()},W=R=>{if(E.type==="globstar"){let re=m.braces>0&&(R.type==="comma"||R.type==="brace"),T=R.extglob===!0||H.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!re&&!T&&(m.output=m.output.slice(0,-E.output.length),E.type="star",E.value="*",E.output=V,m.output+=E.output)}if(H.length&&R.type!=="paren"&&(H[H.length-1].inner+=R.value),(R.value||R.output)&&st(R),E&&E.type==="text"&&R.type==="text"){E.value+=R.value,E.output=(E.output||"")+R.value;return}R.prev=E,o.push(R),E=R},Rs=(R,re)=>{let T=ue(D({},d[re]),{conditions:1,inner:""});T.prev=E,T.parens=m.parens,T.output=m.output;let $=(r.capture?"(":"")+T.open;ve("parens"),W({type:R,value:re,output:m.output?"":_}),W({type:"paren",extglob:!0,value:Ae(),output:$}),H.push(T)},gR=R=>{let re=R.close+(r.capture?")":""),T;if(R.type==="negate"){let $=V;R.inner&&R.inner.length>1&&R.inner.includes("/")&&($=O(r)),($!==V||Se()||/^\)+$/.test(Ve()))&&(re=R.close=`)$))${$}`),R.inner.includes("*")&&(T=Ve())&&/^\.[^\\/.]+$/.test(T)&&(re=R.close=`)${T})${$})`),R.prev.type==="bos"&&(m.negatedExtglob=!0)}W({type:"paren",extglob:!0,value:y,output:re}),qe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,re=e.replace(DO,(T,$,le,Me,Ee,$u)=>Me==="\\"?(R=!0,T):Me==="?"?$?$+Me+(Ee?A.repeat(Ee.length):""):$u===0?P+(Ee?A.repeat(Ee.length):""):A.repeat(le.length):Me==="."?f.repeat(le.length):Me==="*"?$?$+Me+(Ee?V:""):V:$?T:`\\${T}`);return R===!0&&(r.unescape===!0?re=re.replace(/\\/g,""):re=re.replace(/\\+/g,T=>T.length%2==0?"\\\\":T?"\\":"")),re===e&&r.contains===!0?(m.output=e,m):(m.output=We.wrapOutput(re,m,t),m)}for(;!Se();){if(y=Ae(),y==="\0")continue;if(y==="\\"){let T=B();if(T==="/"&&r.bash!==!0||T==="."||T===";")continue;if(!T){y+="\\",W({type:"text",value:y});continue}let $=/^\\+/.exec(Ve()),le=0;if($&&$[0].length>2&&(le=$[0].length,m.index+=le,le%2!=0&&(y+="\\")),r.unescape===!0?y=Ae():y+=Ae(),m.brackets===0){W({type:"text",value:y});continue}}if(m.brackets>0&&(y!=="]"||E.value==="["||E.value==="[^")){if(r.posix!==!1&&y===":"){let T=E.value.slice(1);if(T.includes("[")&&(E.posix=!0,T.includes(":"))){let $=E.value.lastIndexOf("["),le=E.value.slice(0,$),Me=E.value.slice($+2),Ee=MO[Me];if(Ee){E.value=le+Ee,m.backtrack=!0,Ae(),!s.output&&o.indexOf(E)===1&&(s.output=_);continue}}}(y==="["&&B()!==":"||y==="-"&&B()==="]")&&(y=`\\${y}`),y==="]"&&(E.value==="["||E.value==="[^")&&(y=`\\${y}`),r.posix===!0&&y==="!"&&E.value==="["&&(y="^"),E.value+=y,st({value:y});continue}if(m.quotes===1&&y!=='"'){y=We.escapeRegex(y),E.value+=y,st({value:y});continue}if(y==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&W({type:"text",value:y});continue}if(y==="("){ve("parens"),W({type:"paren",value:y});continue}if(y===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Jr("opening","("));let T=H[H.length-1];if(T&&m.parens===T.parens+1){gR(H.pop());continue}W({type:"paren",value:y,output:m.parens?")":"\\)"}),qe("parens");continue}if(y==="["){if(r.nobracket===!0||!Ve().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Jr("closing","]"));y=`\\${y}`}else ve("brackets");W({type:"bracket",value:y});continue}if(y==="]"){if(r.nobracket===!0||E&&E.type==="bracket"&&E.value.length===1){W({type:"text",value:y,output:`\\${y}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Jr("opening","["));W({type:"text",value:y,output:`\\${y}`});continue}qe("brackets");let T=E.value.slice(1);if(E.posix!==!0&&T[0]==="^"&&!T.includes("/")&&(y=`/${y}`),E.value+=y,st({value:y}),r.literalBrackets===!1||We.hasRegexChars(T))continue;let $=We.escapeRegex(E.value);if(m.output=m.output.slice(0,-E.value.length),r.literalBrackets===!0){m.output+=$,E.value=$;continue}E.value=`(${a}${$}|${E.value})`,m.output+=E.value;continue}if(y==="{"&&r.nobrace!==!0){ve("braces");let T={type:"brace",value:y,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};X.push(T),W(T);continue}if(y==="}"){let T=X[X.length-1];if(r.nobrace===!0||!T){W({type:"text",value:y,output:y});continue}let $=")";if(T.dots===!0){let le=o.slice(),Me=[];for(let Ee=le.length-1;Ee>=0&&(o.pop(),le[Ee].type!=="brace");Ee--)le[Ee].type!=="dots"&&Me.unshift(le[Ee].value);$=BO(Me,r),m.backtrack=!0}if(T.comma!==!0&&T.dots!==!0){let le=m.output.slice(0,T.outputIndex),Me=m.tokens.slice(T.tokensIndex);T.value=T.output="\\{",y=$="\\}",m.output=le;for(let Ee of Me)m.output+=Ee.output||Ee.value}W({type:"brace",value:y,output:$}),qe("braces"),X.pop();continue}if(y==="|"){H.length>0&&H[H.length-1].conditions++,W({type:"text",value:y});continue}if(y===","){let T=y,$=X[X.length-1];$&&se[se.length-1]==="braces"&&($.comma=!0,T="|"),W({type:"comma",value:y,output:T});continue}if(y==="/"){if(E.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",o.pop(),E=s;continue}W({type:"slash",value:y,output:h});continue}if(y==="."){if(m.braces>0&&E.type==="dot"){E.value==="."&&(E.output=f);let T=X[X.length-1];E.type="dots",E.output+=y,E.value+=y,T.dots=!0;continue}if(m.braces+m.parens===0&&E.type!=="bos"&&E.type!=="slash"){W({type:"text",value:y,output:f});continue}W({type:"dot",value:y,output:f});continue}if(y==="?"){if(!(E&&E.value==="(")&&r.noextglob!==!0&&B()==="("&&B(2)!=="?"){Rs("qmark",y);continue}if(E&&E.type==="paren"){let $=B(),le=y;if($==="<"&&!We.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(E.value==="("&&!/[!=<:]/.test($)||$==="<"&&!/<([!=]|\w+>)/.test(Ve()))&&(le=`\\${y}`),W({type:"text",value:y,output:le});continue}if(r.dot!==!0&&(E.type==="slash"||E.type==="bos")){W({type:"qmark",value:y,output:G});continue}W({type:"qmark",value:y,output:A});continue}if(y==="!"){if(r.noextglob!==!0&&B()==="("&&(B(2)!=="?"||!/[!=<:]/.test(B(3)))){Rs("negate",y);continue}if(r.nonegate!==!0&&m.index===0){dt();continue}}if(y==="+"){if(r.noextglob!==!0&&B()==="("&&B(2)!=="?"){Rs("plus",y);continue}if(E&&E.value==="("||r.regex===!1){W({type:"plus",value:y,output:p});continue}if(E&&(E.type==="bracket"||E.type==="paren"||E.type==="brace")||m.parens>0){W({type:"plus",value:y});continue}W({type:"plus",value:p});continue}if(y==="@"){if(r.noextglob!==!0&&B()==="("&&B(2)!=="?"){W({type:"at",extglob:!0,value:y,output:""});continue}W({type:"text",value:y});continue}if(y!=="*"){(y==="$"||y==="^")&&(y=`\\${y}`);let T=LO.exec(Ve());T&&(y+=T[0],m.index+=T[0].length),W({type:"text",value:y});continue}if(E&&(E.type==="globstar"||E.star===!0)){E.type="star",E.star=!0,E.value+=y,E.output=V,m.backtrack=!0,m.globstar=!0,J(y);continue}let R=Ve();if(r.noextglob!==!0&&/^\([^?]/.test(R)){Rs("star",y);continue}if(E.type==="star"){if(r.noglobstar===!0){J(y);continue}let T=E.prev,$=T.prev,le=T.type==="slash"||T.type==="bos",Me=$&&($.type==="star"||$.type==="globstar");if(r.bash===!0&&(!le||R[0]&&R[0]!=="/")){W({type:"star",value:y,output:""});continue}let Ee=m.braces>0&&(T.type==="comma"||T.type==="brace"),$u=H.length&&(T.type==="pipe"||T.type==="paren");if(!le&&T.type!=="paren"&&!Ee&&!$u){W({type:"star",value:y,output:""});continue}for(;R.slice(0,3)==="/**";){let Os=e[m.index+4];if(Os&&Os!=="/")break;R=R.slice(3),J("/**",3)}if(T.type==="bos"&&Se()){E.type="globstar",E.value+=y,E.output=O(r),m.output=E.output,m.globstar=!0,J(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&!Me&&Se()){m.output=m.output.slice(0,-(T.output+E.output).length),T.output=`(?:${T.output}`,E.type="globstar",E.output=O(r)+(r.strictSlashes?")":"|$)"),E.value+=y,m.globstar=!0,m.output+=T.output+E.output,J(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&R[0]==="/"){let Os=R[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(T.output+E.output).length),T.output=`(?:${T.output}`,E.type="globstar",E.output=`${O(r)}${h}|${h}${Os})`,E.value+=y,m.output+=T.output+E.output,m.globstar=!0,J(y+Ae()),W({type:"slash",value:"/",output:""});continue}if(T.type==="bos"&&R[0]==="/"){E.type="globstar",E.value+=y,E.output=`(?:^|${h}|${O(r)}${h})`,m.output=E.output,m.globstar=!0,J(y+Ae()),W({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-E.output.length),E.type="globstar",E.output=O(r),E.value+=y,m.output+=E.output,m.globstar=!0,J(y);continue}let re={type:"star",value:y,output:V};if(r.bash===!0){re.output=".*?",(E.type==="bos"||E.type==="slash")&&(re.output=M+re.output),W(re);continue}if(E&&(E.type==="bracket"||E.type==="paren")&&r.regex===!0){re.output=y,W(re);continue}(m.index===m.start||E.type==="slash"||E.type==="dot")&&(E.type==="dot"?(m.output+=v,E.output+=v):r.dot===!0?(m.output+=S,E.output+=S):(m.output+=M,E.output+=M),B()!=="*"&&(m.output+=_,E.output+=_)),W(re)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Jr("closing","]"));m.output=We.escapeLast(m.output,"["),qe("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Jr("closing",")"));m.output=We.escapeLast(m.output,"("),qe("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Jr("closing","}"));m.output=We.escapeLast(m.output,"{"),qe("braces")}if(r.strictSlashes!==!0&&(E.type==="star"||E.type==="bracket")&&W({type:"maybe_slash",value:"",output:`${h}?`}),m.backtrack===!0){m.output="";for(let R of m.tokens)m.output+=R.output!=null?R.output:R.value,R.suffix&&(m.output+=R.suffix)}return m};_h.fastpaths=(e,t)=>{let r=D({},t),n=typeof r.maxLength=="number"?Math.min(xs,r.maxLength):xs,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=hh[e]||e;let s=We.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:d,NO_DOTS:f,NO_DOTS_SLASH:p,STAR:h,START_ANCHOR:_}=ws.globChars(s),g=r.dot?f:d,b=r.dot?p:d,v=r.capture?"":"?:",S={negated:!1,prefix:""},A=r.bash===!0?".*?":h;r.capture&&(A=`(${A})`);let G=M=>M.noglobstar===!0?A:`(${v}(?:(?!${_}${M.dot?c:o}).)*?)`,w=M=>{switch(M){case"*":return`${g}${u}${A}`;case".*":return`${o}${u}${A}`;case"*.*":return`${g}${A}${o}${u}${A}`;case"*/*":return`${g}${A}${a}${u}${b}${A}`;case"**":return g+G(r);case"**/*":return`(?:${g}${G(r)}${a})?${b}${u}${A}`;case"**/*.*":return`(?:${g}${G(r)}${a})?${b}${A}${o}${u}${A}`;case"**/.*":return`(?:${g}${G(r)}${a})?${o}${u}${A}`;default:{let P=/^(.*?)\.(\w+)$/.exec(M);if(!P)return;let V=w(P[1]);return V?V+o+P[2]:void 0}}},L=We.removePrefix(e,S),O=w(L);return O&&r.strictSlashes!==!0&&(O+=`${a}?`),O};gh.exports=_h});var yh=l((VF,Eh)=>{"use strict";var UO=I("path"),qO=ph(),nc=mh(),ic=fi(),FO=di(),jO=e=>e&&typeof e=="object"&&!Array.isArray(e),de=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(p=>de(p,t,r));return p=>{for(let h of d){let _=h(p);if(_)return _}return!1}}let n=jO(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=ic.isWindows(t),o=n?de.compileRe(e,t):de.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let d=ue(D({},t),{ignore:null,onMatch:null,onResult:null});u=de(i.ignore,d,r)}let c=(d,f=!1)=>{let{isMatch:p,match:h,output:_}=de.test(d,o,t,{glob:e,posix:s}),g={glob:e,state:a,regex:o,posix:s,input:d,output:_,match:h,isMatch:p};return typeof i.onResult=="function"&&i.onResult(g),p===!1?(g.isMatch=!1,f?g:!1):u(d)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,f?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),f?g:!0)};return r&&(c.state=a),c};de.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?ic.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=de.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};de.matchBase=(e,t,r,n=ic.isWindows(r))=>(t instanceof RegExp?t:de.makeRe(t,r)).test(UO.basename(e));de.isMatch=(e,t,r)=>de(t,r)(e);de.parse=(e,t)=>Array.isArray(e)?e.map(r=>de.parse(r,t)):nc(e,ue(D({},t),{fastpaths:!1}));de.scan=(e,t)=>qO(e,t);de.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=de.toRegex(a,t);return n===!0&&(u.state=e),u};de.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=nc.fastpaths(e,t)),i.output||(i=nc(e,t)),de.compileRe(i,t,r,n)};de.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};de.constants=FO;Eh.exports=de});var Ah=l((YF,Sh)=>{"use strict";Sh.exports=yh()});var oc=l((WF,Rh)=>{"use strict";var bh=I("util"),vh=eh(),pt=Ah(),sc=fi(),Th=e=>e===""||e==="./",oe=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=d=>{s.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let f=pt(String(t[d]),ue(D({},r),{onResult:a}),!0),p=f.state.negated||f.state.negatedExtglob;p&&o++;for(let h of e){let _=f(h,!0);!(p?!_.isMatch:_.isMatch)||(p?n.add(_.output):(n.delete(_.output),i.add(_.output)))}}let c=(o===t.length?[...s]:[...i]).filter(d=>!n.has(d));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return c};oe.match=oe;oe.matcher=(e,t)=>pt(e,t);oe.isMatch=(e,t,r)=>pt(t,r)(e);oe.any=oe.isMatch;oe.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=oe(e,t,ue(D({},r),{onResult:s}));for(let a of i)o.includes(a)||n.add(a);return[...n]};oe.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${bh.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>oe.contains(e,n,r));if(typeof t=="string"){if(Th(e)||Th(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return oe.isMatch(e,t,ue(D({},r),{contains:!0}))};oe.matchKeys=(e,t,r)=>{if(!sc.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=oe(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};oe.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=pt(String(i),r);if(n.some(o=>s(o)))return!0}return!1};oe.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=pt(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};oe.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${bh.inspect(e)}"`);return[].concat(t).every(n=>pt(n,r)(e))};oe.capture=(e,t,r)=>{let n=sc.isWindows(r),s=pt.makeRe(String(e),ue(D({},r),{capture:!0})).exec(n?sc.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};oe.makeRe=(...e)=>pt.makeRe(...e);oe.scan=(...e)=>pt.scan(...e);oe.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of vh(String(n),t))r.push(pt.parse(i,t));return r};oe.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:vh(e,t)};oe.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return oe.braces(e,ue(D({},t),{expand:!0}))};Rh.exports=oe});var en=l((KF,pr)=>{"use strict";function Oh(e){return typeof e=="undefined"||e===null}function kO(e){return typeof e=="object"&&e!==null}function GO(e){return Array.isArray(e)?e:Oh(e)?[]:[e]}function HO(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function $O(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function VO(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}pr.exports.isNothing=Oh;pr.exports.isObject=kO;pr.exports.toArray=GO;pr.exports.repeat=$O;pr.exports.isNegativeZero=VO;pr.exports.extend=HO});var tn=l((XF,Ch)=>{"use strict";function Ph(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function hi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Ph(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}hi.prototype=Object.create(Error.prototype);hi.prototype.constructor=hi;hi.prototype.toString=function(t){return this.name+": "+Ph(this,t)};Ch.exports=hi});var Nh=l((zF,Ih)=>{"use strict";var _i=en();function ac(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function uc(e,t){return _i.repeat(" ",t-e.length)+e}function YO(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,c,d=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)c=ac(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),f),a=_i.repeat(" ",t.indent)+uc((e.line-u+1).toString(),d)+" | "+c.str+`
`+a;for(c=ac(e.buffer,n[o],i[o],e.position,f),a+=_i.repeat(" ",t.indent)+uc((e.line+1).toString(),d)+" | "+c.str+`
`,a+=_i.repeat("-",t.indent+d+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)c=ac(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),f),a+=_i.repeat(" ",t.indent)+uc((e.line+u+1).toString(),d)+" | "+c.str+`
`;return a.replace(/\n$/,"")}Ih.exports=YO});var Te=l((QF,xh)=>{"use strict";var wh=tn(),WO=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],KO=["scalar","sequence","mapping"];function XO(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function zO(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(WO.indexOf(r)===-1)throw new wh('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=XO(t.styleAliases||null),KO.indexOf(this.kind)===-1)throw new wh('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}xh.exports=zO});var dc=l((ZF,Lh)=>{"use strict";var gi=tn(),cc=Te();function Mh(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function QO(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function lc(e){return this.extend(e)}lc.prototype.extend=function(t){var r=[],n=[];if(t instanceof cc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new gi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof cc))throw new gi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new gi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new gi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof cc))throw new gi("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(lc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Mh(i,"implicit"),i.compiledExplicit=Mh(i,"explicit"),i.compiledTypeMap=QO(i.compiledImplicit,i.compiledExplicit),i};Lh.exports=lc});var fc=l((JF,Dh)=>{"use strict";var ZO=Te();Dh.exports=new ZO("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var pc=l((ej,Bh)=>{"use strict";var JO=Te();Bh.exports=new JO("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var hc=l((tj,Uh)=>{"use strict";var eP=Te();Uh.exports=new eP("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var _c=l((rj,qh)=>{"use strict";var tP=dc();qh.exports=new tP({explicit:[fc(),pc(),hc()]})});var gc=l((nj,Fh)=>{"use strict";var rP=Te();function nP(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function iP(){return null}function sP(e){return e===null}Fh.exports=new rP("tag:yaml.org,2002:null",{kind:"scalar",resolve:nP,construct:iP,predicate:sP,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var mc=l((ij,jh)=>{"use strict";var oP=Te();function aP(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function uP(e){return e==="true"||e==="True"||e==="TRUE"}function cP(e){return Object.prototype.toString.call(e)==="[object Boolean]"}jh.exports=new oP("tag:yaml.org,2002:bool",{kind:"scalar",resolve:aP,construct:uP,predicate:cP,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Ec=l((sj,kh)=>{"use strict";var lP=en(),dP=Te();function fP(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function pP(e){return 48<=e&&e<=55}function hP(e){return 48<=e&&e<=57}function _P(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!fP(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!pP(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!hP(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function gP(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function mP(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!lP.isNegativeZero(e)}kh.exports=new dP("tag:yaml.org,2002:int",{kind:"scalar",resolve:_P,construct:gP,predicate:mP,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var yc=l((oj,Hh)=>{"use strict";var Gh=en(),EP=Te(),yP=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function SP(e){return!(e===null||!yP.test(e)||e[e.length-1]==="_")}function AP(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var bP=/^[-+]?[0-9]+e/;function vP(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gh.isNegativeZero(e))return"-0.0";return r=e.toString(10),bP.test(r)?r.replace("e",".e"):r}function TP(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||Gh.isNegativeZero(e))}Hh.exports=new EP("tag:yaml.org,2002:float",{kind:"scalar",resolve:SP,construct:AP,predicate:TP,represent:vP,defaultStyle:"lowercase"})});var Sc=l((aj,$h)=>{"use strict";$h.exports=_c().extend({implicit:[gc(),mc(),Ec(),yc()]})});var Ac=l((uj,Vh)=>{"use strict";Vh.exports=Sc()});var bc=l((cj,Kh)=>{"use strict";var RP=Te(),Yh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Wh=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function OP(e){return e===null?!1:Yh.exec(e)!==null||Wh.exec(e)!==null}function PP(e){var t,r,n,i,s,o,a,u=0,c=null,d,f,p;if(t=Yh.exec(e),t===null&&(t=Wh.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],f=+(t[11]||0),c=(d*60+f)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(r,n,i,s,o,a,u)),c&&p.setTime(p.getTime()-c),p}function CP(e){return e.toISOString()}Kh.exports=new RP("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:OP,construct:PP,instanceOf:Date,represent:CP})});var vc=l((lj,Xh)=>{"use strict";var IP=Te();function NP(e){return e==="<<"||e===null}Xh.exports=new IP("tag:yaml.org,2002:merge",{kind:"scalar",resolve:NP})});var Rc=l((dj,zh)=>{"use strict";var wP=Te(),Tc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function xP(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Tc;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function MP(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Tc,o=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function LP(e){var t="",r=0,n,i,s=e.length,o=Tc;for(n=0;n<s;n++)n%3==0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function DP(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}zh.exports=new wP("tag:yaml.org,2002:binary",{kind:"scalar",resolve:xP,construct:MP,predicate:DP,represent:LP})});var Oc=l((fj,Qh)=>{"use strict";var BP=Te(),UP=Object.prototype.hasOwnProperty,qP=Object.prototype.toString;function FP(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,qP.call(i)!=="[object Object]")return!1;for(s in i)if(UP.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function jP(e){return e!==null?e:[]}Qh.exports=new BP("tag:yaml.org,2002:omap",{kind:"sequence",resolve:FP,construct:jP})});var Pc=l((pj,Zh)=>{"use strict";var kP=Te(),GP=Object.prototype.toString;function HP(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],GP.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function $P(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}Zh.exports=new kP("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:HP,construct:$P})});var Cc=l((hj,Jh)=>{"use strict";var VP=Te(),YP=Object.prototype.hasOwnProperty;function WP(e){if(e===null)return!0;var t,r=e;for(t in r)if(YP.call(r,t)&&r[t]!==null)return!1;return!0}function KP(e){return e!==null?e:{}}Jh.exports=new VP("tag:yaml.org,2002:set",{kind:"mapping",resolve:WP,construct:KP})});var Ms=l((_j,e_)=>{"use strict";e_.exports=Ac().extend({implicit:[bc(),vc()],explicit:[Rc(),Oc(),Pc(),Cc()]})});var g_=l((gj,xc)=>{"use strict";var hr=en(),t_=tn(),XP=Nh(),zP=Ms(),Ht=Object.prototype.hasOwnProperty,Ls=1,r_=2,n_=3,Ds=4,Ic=1,QP=2,i_=3,ZP=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,JP=/[\x85\u2028\u2029]/,eC=/[,\[\]\{\}]/,s_=/^(?:!|!!|![a-z\-]+!)$/i,o_=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function a_(e){return Object.prototype.toString.call(e)}function ht(e){return e===10||e===13}function _r(e){return e===9||e===32}function je(e){return e===9||e===32||e===10||e===13}function rn(e){return e===44||e===91||e===93||e===123||e===125}function tC(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function rC(e){return e===120?2:e===117?4:e===85?8:0}function nC(e){return 48<=e&&e<=57?e-48:-1}function u_(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function iC(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var c_=new Array(256),l_=new Array(256);for(var nn=0;nn<256;nn++)c_[nn]=u_(nn)?1:0,l_[nn]=u_(nn);function sC(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||zP,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function d_(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=XP(r),new t_(t,r)}function x(e,t){throw d_(e,t)}function Bs(e,t){e.onWarning&&e.onWarning.call(null,d_(e,t))}var f_={YAML:function(t,r,n){var i,s,o;t.version!==null&&x(t,"duplication of %YAML directive"),n.length!==1&&x(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&x(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&x(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Bs(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&x(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],s_.test(i)||x(t,"ill-formed tag handle (first argument) of the TAG directive"),Ht.call(t.tagMap,i)&&x(t,'there is a previously declared suffix for "'+i+'" tag handle'),o_.test(s)||x(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch(o){x(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function $t(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||x(e,"expected valid JSON character");else ZP.test(a)&&x(e,"the stream contains non-printable characters");e.result+=a}}function p_(e,t,r,n){var i,s,o,a;for(hr.isObject(r)||x(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Ht.call(t,s)||(t[s]=r[s],n[s]=!0)}function sn(e,t,r,n,i,s,o,a,u){var c,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,d=i.length;c<d;c+=1)Array.isArray(i[c])&&x(e,"nested arrays are not supported inside keys"),typeof i=="object"&&a_(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&a_(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,d=s.length;c<d;c+=1)p_(e,t,s[c],r);else p_(e,t,s,r);else!e.json&&!Ht.call(r,i)&&Ht.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,x(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function Nc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function pe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;_r(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ht(i))for(Nc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Bs(e,"deficient indentation"),n}function Us(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||je(r)))}function wc(e,t){t===1?e.result+=" ":t>1&&(e.result+=hr.repeat(`
`,t-1))}function oC(e,t,r){var n,i,s,o,a,u,c,d,f=e.kind,p=e.result,h;if(h=e.input.charCodeAt(e.position),je(h)||rn(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),je(i)||r&&rn(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),je(i)||r&&rn(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),je(n))break}else{if(e.position===e.lineStart&&Us(e)||r&&rn(h))break;if(ht(h))if(u=e.line,c=e.lineStart,d=e.lineIndent,pe(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=c,e.lineIndent=d;break}}a&&($t(e,s,o,!1),wc(e,e.line-u),s=o=e.position,a=!1),_r(h)||(o=e.position+1),h=e.input.charCodeAt(++e.position)}return $t(e,s,o,!1),e.result?!0:(e.kind=f,e.result=p,!1)}function aC(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if($t(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else ht(r)?($t(e,n,i,!0),wc(e,pe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Us(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function uC(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return $t(e,r,e.position,!0),e.position++,!0;if(a===92){if($t(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),ht(a))pe(e,!1,t);else if(a<256&&c_[a])e.result+=l_[a],e.position++;else if((o=rC(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=tC(a))>=0?s=(s<<4)+o:x(e,"expected hexadecimal character");e.result+=iC(s),e.position++}else x(e,"unknown escape sequence");r=n=e.position}else ht(a)?($t(e,r,n,!0),wc(e,pe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Us(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function cC(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,c,d,f,p,h,_=Object.create(null),g,b,v,S;if(S=e.input.charCodeAt(e.position),S===91)d=93,h=!1,a=[];else if(S===123)d=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),S=e.input.charCodeAt(++e.position);S!==0;){if(pe(e,!0,t),S=e.input.charCodeAt(e.position),S===d)return e.position++,e.tag=o,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?S===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),b=g=v=null,f=p=!1,S===63&&(c=e.input.charCodeAt(e.position+1),je(c)&&(f=p=!0,e.position++,pe(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,on(e,t,Ls,!1,!0),b=e.tag,g=e.result,pe(e,!0,t),S=e.input.charCodeAt(e.position),(p||e.line===n)&&S===58&&(f=!0,S=e.input.charCodeAt(++e.position),pe(e,!0,t),on(e,t,Ls,!1,!0),v=e.result),h?sn(e,a,_,b,g,v,n,i,s):f?a.push(sn(e,null,_,b,g,v,n,i,s)):a.push(g),pe(e,!0,t),S=e.input.charCodeAt(e.position),S===44?(r=!0,S=e.input.charCodeAt(++e.position)):r=!1}x(e,"unexpected end of the stream within a flow collection")}function lC(e,t){var r,n,i=Ic,s=!1,o=!1,a=t,u=0,c=!1,d,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)Ic===i?i=f===43?i_:QP:x(e,"repeat of a chomping mode identifier");else if((d=nC(f))>=0)d===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?x(e,"repeat of an indentation width identifier"):(a=t+d-1,o=!0);else break;if(_r(f)){do f=e.input.charCodeAt(++e.position);while(_r(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!ht(f)&&f!==0)}for(;f!==0;){for(Nc(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),ht(f)){u++;continue}if(e.lineIndent<a){i===i_?e.result+=hr.repeat(`
`,s?1+u:u):i===Ic&&s&&(e.result+=`
`);break}for(n?_r(f)?(c=!0,e.result+=hr.repeat(`
`,s?1+u:u)):c?(c=!1,e.result+=hr.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=hr.repeat(`
`,u):e.result+=hr.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!ht(f)&&f!==0;)f=e.input.charCodeAt(++e.position);$t(e,r,e.position,!1)}return!0}function h_(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!je(o))));){if(a=!0,e.position++,pe(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,on(e,t,n_,!1,!0),s.push(e.result),pe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function dC(e,t,r){var n,i,s,o,a,u,c=e.tag,d=e.anchor,f={},p=Object.create(null),h=null,_=null,g=null,b=!1,v=!1,S;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),S=e.input.charCodeAt(e.position);S!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(S===63||S===58)&&je(n))S===63?(b&&(sn(e,f,p,h,_,null,o,a,u),h=_=g=null),v=!0,b=!0,i=!0):b?(b=!1,i=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,S=n;else{if(o=e.line,a=e.lineStart,u=e.position,!on(e,r,r_,!1,!0))break;if(e.line===s){for(S=e.input.charCodeAt(e.position);_r(S);)S=e.input.charCodeAt(++e.position);if(S===58)S=e.input.charCodeAt(++e.position),je(S)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(sn(e,f,p,h,_,null,o,a,u),h=_=g=null),v=!0,b=!1,i=!1,h=e.tag,_=e.result;else if(v)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=d,!0}else if(v)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(b&&(o=e.line,a=e.lineStart,u=e.position),on(e,t,Ds,!0,i)&&(b?_=e.result:g=e.result),b||(sn(e,f,p,h,_,g,o,a,u),h=_=g=null),pe(e,!0,-1),S=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&S!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&sn(e,f,p,h,_,null,o,a,u),v&&(e.tag=c,e.anchor=d,e.kind="mapping",e.result=f),v}function fC(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!je(o);)o===33&&(n?x(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),s_.test(i)||x(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),eC.test(s)&&x(e,"tag suffix cannot contain flow indicator characters")}s&&!o_.test(s)&&x(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch(a){x(e,"tag name is malformed: "+s)}return r?e.tag=s:Ht.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:x(e,'undeclared tag handle "'+i+'"'),!0}function pC(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!je(r)&&!rn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function hC(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!je(n)&&!rn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Ht.call(e.anchorMap,r)||x(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],pe(e,!0,-1),!0}function on(e,t,r,n,i){var s,o,a,u=1,c=!1,d=!1,f,p,h,_,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ds===r||n_===r,n&&pe(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;fC(e)||pC(e);)pe(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||Ds===r)&&(Ls===r||r_===r?g=t:g=t+1,b=e.position-e.lineStart,u===1?a&&(h_(e,b)||dC(e,b,g))||cC(e,g)?d=!0:(o&&lC(e,g)||aC(e,g)||uC(e,g)?d=!0:hC(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):oC(e,g,Ls===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=a&&h_(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,p=e.implicitTypes.length;f<p;f+=1)if(_=e.implicitTypes[f],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Ht.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,h=e.typeMap.multi[e.kind||"fallback"],f=0,p=h.length;f<p;f+=1)if(e.tag.slice(0,h[f].tag.length)===h[f].tag){_=h[f];break}_||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function _C(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(pe(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!je(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&x(e,"directive name must not be less than one character in length");o!==0;){for(;_r(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ht(o));break}if(ht(o))break;for(r=e.position;o!==0&&!je(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Nc(e),Ht.call(f_,n)?f_[n](e,n,i):Bs(e,'unknown document directive "'+n+'"')}if(pe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,pe(e,!0,-1)):s&&x(e,"directives end mark is expected"),on(e,e.lineIndent-1,Ds,!1,!0),pe(e,!0,-1),e.checkLineBreaks&&JP.test(e.input.slice(t,e.position))&&Bs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Us(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,pe(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function __(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new sC(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,x(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)_C(r);return r.documents}function gC(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=__(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function mC(e,t){var r=__(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new t_("expected a single document in the stream, but found more")}}xc.exports.loadAll=gC;xc.exports.load=mC});var U_=l((mj,B_)=>{"use strict";var qs=en(),mi=tn(),EC=Ms(),m_=Object.prototype.toString,E_=Object.prototype.hasOwnProperty,Mc=65279,yC=9,Ei=10,SC=13,AC=32,bC=33,vC=34,Lc=35,TC=37,RC=38,OC=39,PC=42,y_=44,CC=45,Fs=58,IC=61,NC=62,wC=63,xC=64,S_=91,A_=93,MC=96,b_=123,LC=124,v_=125,Re={};Re[0]="\\0";Re[7]="\\a";Re[8]="\\b";Re[9]="\\t";Re[10]="\\n";Re[11]="\\v";Re[12]="\\f";Re[13]="\\r";Re[27]="\\e";Re[34]='\\"';Re[92]="\\\\";Re[133]="\\N";Re[160]="\\_";Re[8232]="\\L";Re[8233]="\\P";var DC=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],BC=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function UC(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&E_.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function qC(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new mi("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+qs.repeat("0",n-t.length)+t}var FC=1,yi=2;function jC(e){this.schema=e.schema||EC,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=qs.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=UC(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?yi:FC,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function T_(e,t){for(var r=qs.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Dc(e,t){return`
`+qs.repeat(" ",e.indent*t)}function kC(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function js(e){return e===AC||e===yC}function Si(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Mc||65536<=e&&e<=1114111}function R_(e){return Si(e)&&e!==Mc&&e!==SC&&e!==Ei}function O_(e,t,r){var n=R_(e),i=n&&!js(e);return(r?n:n&&e!==y_&&e!==S_&&e!==A_&&e!==b_&&e!==v_)&&e!==Lc&&!(t===Fs&&!i)||R_(t)&&!js(t)&&e===Lc||t===Fs&&i}function GC(e){return Si(e)&&e!==Mc&&!js(e)&&e!==CC&&e!==wC&&e!==Fs&&e!==y_&&e!==S_&&e!==A_&&e!==b_&&e!==v_&&e!==Lc&&e!==RC&&e!==PC&&e!==bC&&e!==LC&&e!==IC&&e!==NC&&e!==OC&&e!==vC&&e!==TC&&e!==xC&&e!==MC}function HC(e){return!js(e)&&e!==Fs}function Ai(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function P_(e){var t=/^\n* /;return t.test(e)}var C_=1,Bc=2,I_=3,N_=4,an=5;function $C(e,t,r,n,i,s,o,a){var u,c=0,d=null,f=!1,p=!1,h=n!==-1,_=-1,g=GC(Ai(e,0))&&HC(Ai(e,e.length-1));if(t||o)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=Ai(e,u),!Si(c))return an;g=g&&O_(c,d,a),d=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=Ai(e,u),c===Ei)f=!0,h&&(p=p||u-_-1>n&&e[_+1]!==" ",_=u);else if(!Si(c))return an;g=g&&O_(c,d,a),d=c}p=p||h&&u-_-1>n&&e[_+1]!==" "}return!f&&!p?g&&!o&&!i(e)?C_:s===yi?an:Bc:r>9&&P_(e)?an:o?s===yi?an:Bc:p?N_:I_}function VC(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===yi?'""':"''";if(!e.noCompatMode&&(DC.indexOf(t)!==-1||BC.test(t)))return e.quotingType===yi?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return kC(e,c)}switch($C(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case C_:return t;case Bc:return"'"+t.replace(/'/g,"''")+"'";case I_:return"|"+w_(t,e.indent)+x_(T_(t,s));case N_:return">"+w_(t,e.indent)+x_(T_(YC(t,o),s));case an:return'"'+WC(t,o)+'"';default:throw new mi("impossible error: invalid scalar style")}}()}function w_(e,t){var r=P_(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function x_(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function YC(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,M_(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+M_(u,t),i=s}return n}function M_(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function WC(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ai(e,i),n=Re[r],!n&&Si(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||qC(r);return t}function KC(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Mt(e,t,a,!1,!1)||typeof a=="undefined"&&Mt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function L_(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(Mt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&Mt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Dc(e,t)),e.dump&&Ei===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function XC(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,c,d;for(o=0,a=s.length;o<a;o+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=s[o],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),!!Mt(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Mt(e,t,c,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function zC(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,c,d,f,p;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new mi("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)p="",(!n||i!=="")&&(p+=Dc(e,t)),c=o[a],d=r[c],e.replacer&&(d=e.replacer.call(r,c,d)),!!Mt(e,t+1,c,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Ei===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,f&&(p+=Dc(e,t)),!!Mt(e,t+1,d,!0,f)&&(e.dump&&Ei===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=s,e.dump=i||"{}"}function D_(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,m_.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(E_.call(a.represent,u))n=a.represent[u](t,u);else throw new mi("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function Mt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,D_(e,r,!1)||D_(e,r,!0);var a=m_.call(e.dump),u=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",f,p;if(d&&(f=e.duplicates.indexOf(r),p=f!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(d&&p&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(zC(e,t,e.dump,i),p&&(e.dump="&ref_"+f+e.dump)):(XC(e,t,e.dump),p&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?L_(e,t-1,e.dump,i):L_(e,t,e.dump,i),p&&(e.dump="&ref_"+f+e.dump)):(KC(e,t,e.dump),p&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&VC(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new mi("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function QC(e,t){var r=[],n=[],i,s;for(Uc(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function Uc(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)Uc(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)Uc(e[n[i]],t,r)}function ZC(e,t){t=t||{};var r=new jC(t);r.noRefs||QC(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Mt(r,0,n,!0,!0)?r.dump+`
`:""}B_.exports.dump=ZC});var F_=l((Ej,Le)=>{"use strict";var q_=g_(),JC=U_();function qc(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Le.exports.Type=Te();Le.exports.Schema=dc();Le.exports.FAILSAFE_SCHEMA=_c();Le.exports.JSON_SCHEMA=Sc();Le.exports.CORE_SCHEMA=Ac();Le.exports.DEFAULT_SCHEMA=Ms();Le.exports.load=q_.load;Le.exports.loadAll=q_.loadAll;Le.exports.dump=JC.dump;Le.exports.YAMLException=tn();Le.exports.types={binary:Rc(),float:yc(),map:hc(),null:gc(),pairs:Pc(),set:Cc(),timestamp:bc(),bool:mc(),int:Ec(),merge:vc(),omap:Oc(),seq:pc(),str:fc()};Le.exports.safeLoad=qc("safeLoad","load");Le.exports.safeLoadAll=qc("safeLoadAll","loadAll");Le.exports.safeDump=qc("safeDump","dump")});var G_=l((bj,sI)=>{sI.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var V_=l(Ke=>{"use strict";var H_=G_(),_t=process.env;Object.defineProperty(Ke,"_vendors",{value:H_.map(function(e){return e.constant})});Ke.name=null;Ke.isPR=null;H_.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return $_(n)});if(Ke[e.constant]=r,r)switch(Ke.name=e.name,typeof e.pr){case"string":Ke.isPR=!!_t[e.pr];break;case"object":"env"in e.pr?Ke.isPR=e.pr.env in _t&&_t[e.pr.env]!==e.pr.ne:"any"in e.pr?Ke.isPR=e.pr.any.some(function(n){return!!_t[n]}):Ke.isPR=$_(e.pr);break;default:Ke.isPR=null}});Ke.isCI=!!(_t.CI||_t.CONTINUOUS_INTEGRATION||_t.BUILD_NUMBER||_t.RUN_ID||Ke.name);function $_(e){return typeof e=="string"?!!_t[e]:Object.keys(e).every(function(t){return _t[t]===e[t]})}});var W_=l((Tj,Y_)=>{"use strict";Y_.exports=V_().isCI});var X_=l((Rj,K_)=>{"use strict";K_.exports=(...e)=>[...new Set([].concat(...e))]});var jc=l((Oj,Z_)=>{"use strict";var oI=I("stream"),z_=oI.PassThrough,aI=Array.prototype.slice;Z_.exports=uI;function uI(){let e=[],t=aI.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=z_(n);function a(){for(let d=0,f=arguments.length;d<f;d++)e.push(Q_(arguments[d],n));return u(),this}function u(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(c);return}Array.isArray(d)||(d=[d]);let f=d.length+1;function p(){--f>0||(r=!1,u())}function h(_){function g(){_.removeListener("merge2UnpipeEnd",g),_.removeListener("end",g),s&&_.removeListener("error",b),p()}function b(v){o.emit("error",v)}if(_._readableState.endEmitted)return p();_.on("merge2UnpipeEnd",g),_.on("end",g),s&&_.on("error",b),_.pipe(o,{end:!1}),_.resume()}for(let _=0;_<d.length;_++)h(d[_]);p()}function c(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function Q_(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=Q_(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(z_(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var J_=l(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.splitWhen=un.flatten=void 0;function cI(e){return e.reduce((t,r)=>[].concat(t,r),[])}un.flatten=cI;function lI(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}un.splitWhen=lI});var eg=l(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.isEnoentCodeError=void 0;function dI(e){return e.code==="ENOENT"}Gs.isEnoentCodeError=dI});var rg=l(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.createDirentFromStats=void 0;var tg=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function fI(e,t){return new tg(e,t)}Hs.createDirentFromStats=fI});var ng=l(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.removeLeadingDotSegment=gt.escape=gt.makeAbsolute=gt.unixify=void 0;var pI=I("path"),hI=2,_I=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function gI(e){return e.replace(/\\/g,"/")}gt.unixify=gI;function mI(e,t){return pI.resolve(e,t)}gt.makeAbsolute=mI;function EI(e){return e.replace(_I,"\\$2")}gt.escape=EI;function yI(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(hI)}return e}gt.removeLeadingDotSegment=yI});var sg=l((wj,ig)=>{ig.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var ag=l((xj,og)=>{var SI=sg(),AI={"{":"}","(":")","[":"]"},bI=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,vI=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;og.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(SI(t))return!0;var n=bI,i;for(r&&r.strict===!1&&(n=vI);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?AI[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var cg=l((Mj,ug)=>{"use strict";var TI=ag(),RI=I("path").posix.dirname,OI=I("os").platform()==="win32",kc="/",PI=/\\/g,CI=/[\{\[].*[\}\]]$/,II=/(^|[^\\])([\{\[]|\([^\)]+$)/,NI=/\\([\!\*\?\|\[\]\(\)\{\}])/g;ug.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&OI&&t.indexOf(kc)<0&&(t=t.replace(PI,kc)),CI.test(t)&&(t+=kc),t+="a";do t=RI(t);while(TI(t)||II.test(t));return t.replace(NI,"$1")}});var mg=l(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.matchAny=U.convertPatternsToRe=U.makeRe=U.getPatternParts=U.expandBraceExpansion=U.expandPatternsWithBraceExpansion=U.isAffectDepthOfReadingPattern=U.endsWithSlashGlobStar=U.hasGlobStar=U.getBaseDirectory=U.isPatternRelatedToParentDirectory=U.getPatternsOutsideCurrentDirectory=U.getPatternsInsideCurrentDirectory=U.getPositivePatterns=U.getNegativePatterns=U.isPositivePattern=U.isNegativePattern=U.convertToNegativePattern=U.convertToPositivePattern=U.isDynamicPattern=U.isStaticPattern=void 0;var wI=I("path"),xI=cg(),Gc=oc(),lg="**",MI="\\",LI=/[*?]|^!/,DI=/\[[^[]*]/,BI=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,UI=/[!*+?@]\([^(]*\)/,qI=/,|\.\./;function dg(e,t={}){return!fg(e,t)}U.isStaticPattern=dg;function fg(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(MI)||LI.test(e)||DI.test(e)||BI.test(e)||t.extglob!==!1&&UI.test(e)||t.braceExpansion!==!1&&FI(e))}U.isDynamicPattern=fg;function FI(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return qI.test(n)}function jI(e){return $s(e)?e.slice(1):e}U.convertToPositivePattern=jI;function kI(e){return"!"+e}U.convertToNegativePattern=kI;function $s(e){return e.startsWith("!")&&e[1]!=="("}U.isNegativePattern=$s;function pg(e){return!$s(e)}U.isPositivePattern=pg;function GI(e){return e.filter($s)}U.getNegativePatterns=GI;function HI(e){return e.filter(pg)}U.getPositivePatterns=HI;function $I(e){return e.filter(t=>!Hc(t))}U.getPatternsInsideCurrentDirectory=$I;function VI(e){return e.filter(Hc)}U.getPatternsOutsideCurrentDirectory=VI;function Hc(e){return e.startsWith("..")||e.startsWith("./..")}U.isPatternRelatedToParentDirectory=Hc;function YI(e){return xI(e,{flipBackslashes:!1})}U.getBaseDirectory=YI;function WI(e){return e.includes(lg)}U.hasGlobStar=WI;function hg(e){return e.endsWith("/"+lg)}U.endsWithSlashGlobStar=hg;function KI(e){let t=wI.basename(e);return hg(e)||dg(t)}U.isAffectDepthOfReadingPattern=KI;function XI(e){return e.reduce((t,r)=>t.concat(_g(r)),[])}U.expandPatternsWithBraceExpansion=XI;function _g(e){return Gc.braces(e,{expand:!0,nodupes:!0})}U.expandBraceExpansion=_g;function zI(e,t){let{parts:r}=Gc.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}U.getPatternParts=zI;function gg(e,t){return Gc.makeRe(e,t)}U.makeRe=gg;function QI(e,t){return e.map(r=>gg(r,t))}U.convertPatternsToRe=QI;function ZI(e,t){return t.some(r=>r.test(e))}U.matchAny=ZI});var yg=l(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.merge=void 0;var JI=jc();function eN(e){let t=JI(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>Eg(e)),t.once("end",()=>Eg(e)),t}Vs.merge=eN;function Eg(e){e.forEach(t=>t.emit("close"))}});var Sg=l(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.isEmpty=cn.isString=void 0;function tN(e){return typeof e=="string"}cn.isString=tN;function rN(e){return e===""}cn.isEmpty=rN});var Lt=l(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.string=Oe.stream=Oe.pattern=Oe.path=Oe.fs=Oe.errno=Oe.array=void 0;var nN=J_();Oe.array=nN;var iN=eg();Oe.errno=iN;var sN=rg();Oe.fs=sN;var oN=ng();Oe.path=oN;var aN=mg();Oe.pattern=aN;var uN=yg();Oe.stream=uN;var cN=Sg();Oe.string=cN});var vg=l(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.convertPatternGroupToTask=Pe.convertPatternGroupsToTasks=Pe.groupPatternsByBaseDirectory=Pe.getNegativePatternsAsPositive=Pe.getPositivePatterns=Pe.convertPatternsToTasks=Pe.generate=void 0;var Dt=Lt();function lN(e,t){let r=Ag(e),n=bg(e,t.ignore),i=r.filter(u=>Dt.pattern.isStaticPattern(u,t)),s=r.filter(u=>Dt.pattern.isDynamicPattern(u,t)),o=$c(i,n,!1),a=$c(s,n,!0);return o.concat(a)}Pe.generate=lN;function $c(e,t,r){let n=[],i=Dt.pattern.getPatternsOutsideCurrentDirectory(e),s=Dt.pattern.getPatternsInsideCurrentDirectory(e),o=Vc(i),a=Vc(s);return n.push(...Yc(o,t,r)),"."in a?n.push(Wc(".",s,t,r)):n.push(...Yc(a,t,r)),n}Pe.convertPatternsToTasks=$c;function Ag(e){return Dt.pattern.getPositivePatterns(e)}Pe.getPositivePatterns=Ag;function bg(e,t){return Dt.pattern.getNegativePatterns(e).concat(t).map(Dt.pattern.convertToPositivePattern)}Pe.getNegativePatternsAsPositive=bg;function Vc(e){let t={};return e.reduce((r,n)=>{let i=Dt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Pe.groupPatternsByBaseDirectory=Vc;function Yc(e,t,r){return Object.keys(e).map(n=>Wc(n,e[n],t,r))}Pe.convertPatternGroupsToTasks=Yc;function Wc(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Dt.pattern.convertToNegativePattern))}}Pe.convertPatternGroupToTask=Wc});var Rg=l(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.removeDuplicateSlashes=ln.transform=void 0;var dN=/(?!^)\/{2,}/g;function fN(e){return e.map(t=>Tg(t))}ln.transform=fN;function Tg(e){return e.replace(dN,"/")}ln.removeDuplicateSlashes=Tg});var Pg=l(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.read=void 0;function pN(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){Og(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){Kc(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){Og(r,s);return}Kc(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Kc(r,o)})})}Ys.read=pN;function Og(e,t){e(t)}function Kc(e,t){e(null,t)}});var Cg=l(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.read=void 0;function hN(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Ws.read=hN});var Ig=l(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.createFileSystemAdapter=Vt.FILE_SYSTEM_ADAPTER=void 0;var Ks=I("fs");Vt.FILE_SYSTEM_ADAPTER={lstat:Ks.lstat,stat:Ks.stat,lstatSync:Ks.lstatSync,statSync:Ks.statSync};function _N(e){return e===void 0?Vt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Vt.FILE_SYSTEM_ADAPTER),e)}Vt.createFileSystemAdapter=_N});var wg=l(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});var gN=Ig(),Ng=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=gN.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t!=null?t:r}};Xc.default=Ng});var gr=l(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.statSync=Yt.stat=Yt.Settings=void 0;var xg=Pg(),mN=Cg(),zc=wg();Yt.Settings=zc.default;function EN(e,t,r){if(typeof t=="function"){xg.read(e,Qc(),t);return}xg.read(e,Qc(t),r)}Yt.stat=EN;function yN(e,t){let r=Qc(t);return mN.read(e,r)}Yt.statSync=yN;function Qc(e={}){return e instanceof zc.default?e:new zc.default(e)}});var Dg=l((Vj,Lg)=>{var Mg;Lg.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):e=>(Mg||(Mg=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var Ug=l((Yj,Bg)=>{Bg.exports=AN;var SN=Dg();function AN(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function c(){t&&t(u,r),t=null}s?SN(c):c()}function a(u,c,d){r[u]=d,(--n==0||c)&&o(c)}n?i?i.forEach(function(u){e[u](function(c,d){a(u,c,d)})}):e.forEach(function(u,c){u(function(d,f){a(c,d,f)})}):o(null),s=!1}});var Zc=l(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Xs=process.versions.node.split(".");if(Xs[0]===void 0||Xs[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var qg=Number.parseInt(Xs[0],10),bN=Number.parseInt(Xs[1],10),Fg=10,vN=10,TN=qg>Fg,RN=qg===Fg&&bN>=vN;zs.IS_SUPPORT_READDIR_WITH_FILE_TYPES=TN||RN});var kg=l(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.createDirentFromStats=void 0;var jg=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function ON(e,t){return new jg(e,t)}Qs.createDirentFromStats=ON});var Jc=l(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.fs=void 0;var PN=kg();Zs.fs=PN});var el=l(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.joinPathSegments=void 0;function CN(e,t,r){return e.endsWith(r)?e+t:e+r+t}Js.joinPathSegments=CN});var Wg=l(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.readdir=Wt.readdirWithFileTypes=Wt.read=void 0;var IN=gr(),Gg=Ug(),NN=Zc(),Hg=Jc(),$g=el();function wN(e,t,r){if(!t.stats&&NN.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Vg(e,t,r);return}Yg(e,t,r)}Wt.read=wN;function Vg(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){eo(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:$g.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){tl(r,s);return}let o=s.map(a=>xN(a,t));Gg(o,(a,u)=>{if(a!==null){eo(r,a);return}tl(r,u)})})}Wt.readdirWithFileTypes=Vg;function xN(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Hg.fs.createDirentFromStats(e.name,i),r(null,e)})}}function Yg(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){eo(r,n);return}let s=i.map(o=>{let a=$g.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{IN.stat(a,t.fsStatSettings,(c,d)=>{if(c!==null){u(c);return}let f={name:o,path:a,dirent:Hg.fs.createDirentFromStats(o,d)};t.stats&&(f.stats=d),u(null,f)})}});Gg(s,(o,a)=>{if(o!==null){eo(r,o);return}tl(r,a)})})}Wt.readdir=Yg;function eo(e,t){e(t)}function tl(e,t){e(null,t)}});var Zg=l(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.readdir=Kt.readdirWithFileTypes=Kt.read=void 0;var MN=gr(),LN=Zc(),Kg=Jc(),Xg=el();function DN(e,t){return!t.stats&&LN.IS_SUPPORT_READDIR_WITH_FILE_TYPES?zg(e,t):Qg(e,t)}Kt.read=DN;function zg(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Xg.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=Kg.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}Kt.readdirWithFileTypes=zg;function Qg(e,t){return t.fs.readdirSync(e).map(n=>{let i=Xg.joinPathSegments(e,n,t.pathSegmentSeparator),s=MN.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:Kg.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}Kt.readdir=Qg});var Jg=l(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.createFileSystemAdapter=Xt.FILE_SYSTEM_ADAPTER=void 0;var dn=I("fs");Xt.FILE_SYSTEM_ADAPTER={lstat:dn.lstat,stat:dn.stat,lstatSync:dn.lstatSync,statSync:dn.statSync,readdir:dn.readdir,readdirSync:dn.readdirSync};function BN(e){return e===void 0?Xt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Xt.FILE_SYSTEM_ADAPTER),e)}Xt.createFileSystemAdapter=BN});var tm=l(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});var UN=I("path"),qN=gr(),FN=Jg(),em=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=FN.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,UN.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new qN.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};rl.default=em});var to=l(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.Settings=zt.scandirSync=zt.scandir=void 0;var rm=Wg(),jN=Zg(),nl=tm();zt.Settings=nl.default;function kN(e,t,r){if(typeof t=="function"){rm.read(e,il(),t);return}rm.read(e,il(t),r)}zt.scandir=kN;function GN(e,t){let r=il(t);return jN.read(e,r)}zt.scandirSync=GN;function il(e={}){return e instanceof nl.default?e:new nl.default(e)}});var im=l((r2,nm)=>{"use strict";function HN(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}nm.exports=HN});var om=l((n2,sl)=>{"use strict";var $N=im();function sm(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=$N(VN),i=null,s=null,o=0,a=null,u={push:g,drain:mt,saturated:mt,pause:d,paused:!1,concurrency:r,running:c,resume:h,idle:_,length:f,getQueue:p,unshift:b,empty:mt,kill:S,killAndDrain:A,error:G};return u;function c(){return o}function d(){u.paused=!0}function f(){for(var w=i,L=0;w;)w=w.next,L++;return L}function p(){for(var w=i,L=[];w;)L.push(w.value),w=w.next;return L}function h(){if(!!u.paused){u.paused=!1;for(var w=0;w<u.concurrency;w++)o++,v()}}function _(){return o===0&&u.length()===0}function g(w,L){var O=n.get();O.context=e,O.release=v,O.value=w,O.callback=L||mt,O.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=O,s=O):(i=O,s=O,u.saturated()):(o++,t.call(e,O.value,O.worked))}function b(w,L){var O=n.get();O.context=e,O.release=v,O.value=w,O.callback=L||mt,o===u.concurrency||u.paused?i?(O.next=i,i=O):(i=O,s=O,u.saturated()):(o++,t.call(e,O.value,O.worked))}function v(w){w&&n.release(w);var L=i;L?u.paused?o--:(s===i&&(s=null),i=L.next,L.next=null,t.call(e,L.value,L.worked),s===null&&u.empty()):--o==0&&u.drain()}function S(){i=null,s=null,u.drain=mt}function A(){i=null,s=null,u.drain(),u.drain=mt}function G(w){a=w}}function mt(){}function VN(){this.value=null,this.callback=mt,this.next=null,this.release=mt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=mt,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function YN(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(c,d){t.call(this,c).then(function(f){d(null,f)},d)}var i=sm(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(c){return new Promise(function(d,f){s(c,function(p,h){if(p){f(p);return}d(h)})})}function u(c){return new Promise(function(d,f){o(c,function(p,h){if(p){f(p);return}d(h)})})}}sl.exports=sm;sl.exports.promise=YN});var ro=l(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.joinPathSegments=Et.replacePathSegmentSeparator=Et.isAppliedFilter=Et.isFatalError=void 0;function WN(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Et.isFatalError=WN;function KN(e,t){return e===null||e(t)}Et.isAppliedFilter=KN;function XN(e,t){return e.split(/[/\\]/).join(t)}Et.replacePathSegmentSeparator=XN;function zN(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Et.joinPathSegments=zN});var al=l(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});var QN=ro(),am=class{constructor(t,r){this._root=t,this._settings=r,this._root=QN.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};ol.default=am});var cl=l(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});var ZN=I("events"),JN=to(),ew=om(),no=ro(),tw=al(),um=class extends tw.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=JN.scandir,this._emitter=new ZN.EventEmitter,this._queue=ew(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!no.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=no.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),no.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&no.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};ul.default=um});var lm=l(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var rw=cl(),cm=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new rw.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{nw(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{iw(t,this._storage)}),this._reader.read()}};ll.default=cm;function nw(e,t){e(t)}function iw(e,t){e(null,t)}});var fm=l(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});var sw=I("stream"),ow=cl(),dm=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new ow.default(this._root,this._settings),this._stream=new sw.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};dl.default=dm});var hm=l(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});var aw=to(),io=ro(),uw=al(),pm=class extends uw.default{constructor(){super(...arguments);this._scandir=aw.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!io.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=io.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),io.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&io.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};fl.default=pm});var gm=l(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});var cw=hm(),_m=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new cw.default(this._root,this._settings)}read(){return this._reader.read()}};pl.default=_m});var Em=l(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});var lw=I("path"),dw=to(),mm=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,lw.sep),this.fsScandirSettings=new dw.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t!=null?t:r}};hl.default=mm});var gl=l(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.Settings=yt.walkStream=yt.walkSync=yt.walk=void 0;var ym=lm(),fw=fm(),pw=gm(),_l=Em();yt.Settings=_l.default;function hw(e,t,r){if(typeof t=="function"){new ym.default(e,so()).read(t);return}new ym.default(e,so(t)).read(r)}yt.walk=hw;function _w(e,t){let r=so(t);return new pw.default(e,r).read()}yt.walkSync=_w;function gw(e,t){let r=so(t);return new fw.default(e,r).read()}yt.walkStream=gw;function so(e={}){return e instanceof _l.default?e:new _l.default(e)}});var El=l(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});var mw=I("path"),Ew=gr(),Sm=Lt(),Am=class{constructor(t){this._settings=t,this._fsStatSettings=new Ew.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return mw.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Sm.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Sm.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};ml.default=Am});var Sl=l(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});var yw=I("stream"),Sw=gr(),Aw=gl(),bw=El(),bm=class extends bw.default{constructor(){super(...arguments);this._walkStream=Aw.walkStream,this._stat=Sw.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new yw.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};yl.default=bm});var Tm=l(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});var fn=Lt(),vm=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=fn.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return fn.pattern.getPatternParts(t,this._micromatchOptions).map(n=>fn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:fn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return fn.array.splitWhen(t,r=>r.dynamic&&fn.pattern.hasGlobStar(r.pattern))}};Al.default=vm});var Om=l(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});var vw=Tm(),Rm=class extends vw.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,c)=>{let d=s.segments[c];return!!(d.dynamic&&d.patternRe.test(u)||!d.dynamic&&d.pattern===u)}))return!0}return!1}};bl.default=Rm});var Cm=l(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});var oo=Lt(),Tw=Om(),Pm=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new Tw.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(oo.pattern.isAffectDepthOfReadingPattern);return oo.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=oo.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===Infinity?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!oo.pattern.matchAny(t,r)}};vl.default=Pm});var Nm=l(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});var mr=Lt(),Im=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=mr.pattern.convertPatternsToRe(t,this._micromatchOptions),i=mr.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=mr.path.makeAbsolute(this._settings.cwd,t);return mr.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=mr.path.removeLeadingDotSegment(t);return mr.pattern.matchAny(n,r)||mr.pattern.matchAny(n+"/",r)}};Tl.default=Im});var xm=l(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});var Rw=Lt(),wm=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Rw.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Rl.default=wm});var Dm=l(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});var Mm=Lt(),Lm=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=Mm.path.makeAbsolute(this._settings.cwd,r),r=Mm.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Ol.default=Lm});var ao=l(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var Ow=I("path"),Pw=Cm(),Cw=Nm(),Iw=xm(),Nw=Dm(),Bm=class{constructor(t){this._settings=t,this.errorFilter=new Iw.default(this._settings),this.entryFilter=new Cw.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Pw.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Nw.default(this._settings)}_getRootDirectory(t){return Ow.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Pl.default=Bm});var qm=l(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});var ww=Sl(),xw=ao(),Um=class extends xw.default{constructor(){super(...arguments);this._reader=new ww.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Cl.default=Um});var jm=l(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});var Mw=I("stream"),Lw=Sl(),Dw=ao(),Fm=class extends Dw.default{constructor(){super(...arguments);this._reader=new Lw.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new Mw.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Il.default=Fm});var Gm=l(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});var Bw=gr(),Uw=gl(),qw=El(),km=class extends qw.default{constructor(){super(...arguments);this._walkSync=Uw.walkSync,this._statSync=Bw.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Nl.default=km});var $m=l(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});var Fw=Gm(),jw=ao(),Hm=class extends jw.default{constructor(){super(...arguments);this._reader=new Fw.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};wl.default=Hm});var Ym=l(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var pn=I("fs"),kw=I("os"),Gw=Math.max(kw.cpus().length,1);hn.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:pn.lstat,lstatSync:pn.lstatSync,stat:pn.stat,statSync:pn.statSync,readdir:pn.readdir,readdirSync:pn.readdirSync};var Vm=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Gw),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,Infinity),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},hn.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};hn.default=Vm});var Dl=l((P2,Xm)=>{"use strict";var Wm=vg(),Km=Rg(),Hw=qm(),$w=jm(),Vw=$m(),xl=Ym(),Er=Lt();async function Ml(e,t){_n(e);let r=Ll(e,Hw.default,t),n=await Promise.all(r);return Er.array.flatten(n)}(function(e){function t(o,a){_n(o);let u=Ll(o,Vw.default,a);return Er.array.flatten(u)}e.sync=t;function r(o,a){_n(o);let u=Ll(o,$w.default,a);return Er.stream.merge(u)}e.stream=r;function n(o,a){_n(o);let u=Km.transform([].concat(o)),c=new xl.default(a);return Wm.generate(u,c)}e.generateTasks=n;function i(o,a){_n(o);let u=new xl.default(a);return Er.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return _n(o),Er.path.escape(o)}e.escapePath=s})(Ml||(Ml={}));function Ll(e,t,r){let n=Km.transform([].concat(e)),i=new xl.default(r),s=Wm.generate(n,i),o=new t(i);return s.map(o.read,o)}function _n(e){if(![].concat(e).every(n=>Er.string.isString(n)&&!Er.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Xm.exports=Ml});var Qm=l(yr=>{"use strict";var{promisify:Yw}=I("util"),zm=I("fs");async function Bl(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await Yw(zm[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Ul(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return zm[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}yr.isFile=Bl.bind(null,"stat","isFile");yr.isDirectory=Bl.bind(null,"stat","isDirectory");yr.isSymlink=Bl.bind(null,"lstat","isSymbolicLink");yr.isFileSync=Ul.bind(null,"statSync","isFile");yr.isDirectorySync=Ul.bind(null,"statSync","isDirectory");yr.isSymlinkSync=Ul.bind(null,"lstatSync","isSymbolicLink")});var rE=l((I2,ql)=>{"use strict";var Sr=I("path"),Zm=Qm(),Jm=e=>e.length>1?`{${e.join(",")}}`:e[0],eE=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return Sr.isAbsolute(r)?r:Sr.join(t,r)},Ww=(e,t)=>Sr.extname(e)?`**/${e}`:`**/${e}.${Jm(t)}`,tE=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>Sr.posix.join(e,Ww(r,t.extensions))):t.files?t.files.map(r=>Sr.posix.join(e,`**/${r}`)):t.extensions?[Sr.posix.join(e,`**/*.${Jm(t.extensions)}`)]:[Sr.posix.join(e,"**")]};ql.exports=async(e,t)=>{if(t=D({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await Zm.isDirectory(eE(n,t.cwd))?tE(n,t):n));return[].concat.apply([],r)};ql.exports.sync=(e,t)=>{if(t=D({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>Zm.isDirectorySync(eE(n,t.cwd))?tE(n,t):n);return[].concat.apply([],r)}});var pE=l((N2,fE)=>{function nE(e){return Array.isArray(e)?e:[e]}var iE="",sE=" ",Fl="\\",Kw=/^\s+$/,Xw=/^\\!/,zw=/^\\#/,Qw=/\r?\n/g,Zw=/^\.*\/|^\.+$/,jl="/",oE=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",Jw=(e,t,r)=>Object.defineProperty(e,t,{value:r}),ex=/([0-z])-([0-z])/g,aE=()=>!1,tx=e=>e.replace(ex,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:iE),rx=e=>{let{length:t}=e;return e.slice(0,t-t%2)},nx=[[/\\?\s+$/,e=>e.indexOf("\\")===0?sE:iE],[/\\\s/g,()=>sE],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Fl],[/\\\\/g,()=>Fl],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===Fl?`\\[${r}${rx(n)}${i}`:i==="]"&&n.length%2==0?`[${tx(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],uE=Object.create(null),ix=(e,t)=>{let r=uE[e];return r||(r=nx.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),uE[e]=r),t?new RegExp(r,"i"):new RegExp(r)},kl=e=>typeof e=="string",sx=e=>e&&kl(e)&&!Kw.test(e)&&e.indexOf("#")!==0,ox=e=>e.split(Qw),cE=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},ax=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(Xw,"!").replace(zw,"#");let i=ix(e,t);return new cE(r,e,n,i)},ux=(e,t)=>{throw new t(e)},Bt=(e,t,r)=>kl(e)?e?Bt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),lE=e=>Zw.test(e);Bt.isNotRelative=lE;Bt.convert=e=>e;var dE=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){Jw(this,oE,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[oE]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(sx(t)){let r=ax(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,nE(kl(t)?ox(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Bt.convert(t);return Bt(s,t,this._allowRelativePaths?aE:ux),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(jl)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(jl)+jl,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return nE(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},uo=e=>new dE(e),cx=e=>Bt(e&&Bt.convert(e),e,aE);uo.isPathValid=cx;uo.default=uo;fE.exports=uo;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Bt.convert=e;let t=/^[a-z]:\//i;Bt.isNotRelative=r=>t.test(r)||lE(r)}});var _E=l((w2,hE)=>{"use strict";hE.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var bE=l((x2,Gl)=>{"use strict";var{promisify:lx}=I("util"),gE=I("fs"),Ut=I("path"),mE=Dl(),dx=pE(),vi=_E(),EE=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],fx=lx(gE.readFile),px=e=>t=>t.startsWith("!")?"!"+Ut.posix.join(e,t.slice(1)):Ut.posix.join(e,t),hx=(e,t)=>{let r=vi(Ut.relative(t.cwd,Ut.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(px(r))},yE=e=>{let t=dx();for(let r of e)t.add(hx(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},_x=(e,t)=>{if(e=vi(e),Ut.isAbsolute(t)){if(vi(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return Ut.join(e,t)},SE=(e,t)=>r=>e.ignores(vi(Ut.relative(t,_x(t,r.path||r)))),gx=async(e,t)=>{let r=Ut.join(t,e),n=await fx(r,"utf8");return{cwd:t,filePath:r,content:n}},mx=(e,t)=>{let r=Ut.join(t,e),n=gE.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},AE=({ignore:e=[],cwd:t=vi(process.cwd())}={})=>({ignore:e,cwd:t});Gl.exports=async e=>{e=AE(e);let t=await mE("**/.gitignore",{ignore:EE.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>gx(i,e.cwd))),n=yE(r);return SE(n,e.cwd)};Gl.exports.sync=e=>{e=AE(e);let r=mE.sync("**/.gitignore",{ignore:EE.concat(e.ignore),cwd:e.cwd}).map(i=>mx(i,e.cwd)),n=yE(r);return SE(n,e.cwd)}});var OE=l((M2,RE)=>{"use strict";var{Transform:Ex}=I("stream"),Hl=class extends Ex{constructor(){super({objectMode:!0})}},vE=class extends Hl{constructor(t){super();this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},TE=class extends Hl{constructor(){super();this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};RE.exports={FilterStream:vE,UniqueStream:TE}});var wE=l((L2,Ar)=>{"use strict";var PE=I("fs"),co=X_(),yx=jc(),lo=Dl(),fo=rE(),$l=bE(),{FilterStream:Sx,UniqueStream:Ax}=OE(),CE=()=>!1,IE=e=>e[0]==="!",bx=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},vx=(e={})=>{if(!e.cwd)return;let t;try{t=PE.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},Tx=e=>e.stats instanceof PE.Stats?e.path:e,po=(e,t)=>{e=co([].concat(e)),bx(e),vx(t);let r=[];t=D({ignore:[],expandDirectories:!0},t);for(let[n,i]of e.entries()){if(IE(i))continue;let s=e.slice(n).filter(a=>IE(a)).map(a=>a.slice(1)),o=ue(D({},t),{ignore:t.ignore.concat(s)});r.push({pattern:i,options:o})}return r},Rx=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r=ue(D({},r),{files:e.options.expandDirectories}):typeof e.options.expandDirectories=="object"&&(r=D(D({},r),e.options.expandDirectories)),t(e.pattern,r)},Vl=(e,t)=>e.options.expandDirectories?Rx(e,t):[e.pattern],NE=e=>e&&e.gitignore?$l.sync({cwd:e.cwd,ignore:e.ignore}):CE,Yl=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=fo.sync(r.ignore)),{pattern:t,options:r}};Ar.exports=async(e,t)=>{let r=po(e,t),n=async()=>t&&t.gitignore?$l({cwd:t.cwd,ignore:t.ignore}):CE,i=async()=>{let u=await Promise.all(r.map(async c=>{let d=await Vl(c,fo);return Promise.all(d.map(Yl(c)))}));return co(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>lo(u.pattern,u.options)));return co(...a).filter(u=>!s(Tx(u)))};Ar.exports.sync=(e,t)=>{let r=po(e,t),n=[];for(let o of r){let a=Vl(o,fo.sync).map(Yl(o));n.push(...a)}let i=NE(t),s=[];for(let o of n)s=co(s,lo.sync(o.pattern,o.options));return s.filter(o=>!i(o))};Ar.exports.stream=(e,t)=>{let r=po(e,t),n=[];for(let a of r){let u=Vl(a,fo.sync).map(Yl(a));n.push(...u)}let i=NE(t),s=new Sx(a=>!i(a)),o=new Ax;return yx(n.map(a=>lo.stream(a.pattern,a.options))).pipe(s).pipe(o)};Ar.exports.generateGlobTasks=po;Ar.exports.hasMagic=(e,t)=>[].concat(e).some(r=>lo.isDynamicPattern(r,t));Ar.exports.gitignore=$l});var ME=l((D2,Wl)=>{"use strict";var Ox=Object.prototype.hasOwnProperty,De="~";function Ti(){}Object.create&&(Ti.prototype=Object.create(null),new Ti().__proto__||(De=!1));function Px(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function xE(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new Px(r,n||e,i),o=De?De+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function ho(e,t){--e._eventsCount==0?e._events=new Ti:delete e._events[t]}function Ce(){this._events=new Ti,this._eventsCount=0}Ce.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)Ox.call(r,n)&&t.push(De?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ce.prototype.listeners=function(t){var r=De?De+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Ce.prototype.listenerCount=function(t){var r=De?De+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ce.prototype.emit=function(t,r,n,i,s,o){var a=De?De+t:t;if(!this._events[a])return!1;var u=this._events[a],c=arguments.length,d,f;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,o),!0}for(f=1,d=new Array(c-1);f<c;f++)d[f-1]=arguments[f];u.fn.apply(u.context,d)}else{var p=u.length,h;for(f=0;f<p;f++)switch(u[f].once&&this.removeListener(t,u[f].fn,void 0,!0),c){case 1:u[f].fn.call(u[f].context);break;case 2:u[f].fn.call(u[f].context,r);break;case 3:u[f].fn.call(u[f].context,r,n);break;case 4:u[f].fn.call(u[f].context,r,n,i);break;default:if(!d)for(h=1,d=new Array(c-1);h<c;h++)d[h-1]=arguments[h];u[f].fn.apply(u[f].context,d)}}return!0};Ce.prototype.on=function(t,r,n){return xE(this,t,r,n,!1)};Ce.prototype.once=function(t,r,n){return xE(this,t,r,n,!0)};Ce.prototype.removeListener=function(t,r,n,i){var s=De?De+t:t;if(!this._events[s])return this;if(!r)return ho(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&ho(this,s);else{for(var a=0,u=[],c=o.length;a<c;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[s]=u.length===1?u[0]:u:ho(this,s)}return this};Ce.prototype.removeAllListeners=function(t){var r;return t?(r=De?De+t:t,this._events[r]&&ho(this,r)):(this._events=new Ti,this._eventsCount=0),this};Ce.prototype.off=Ce.prototype.removeListener;Ce.prototype.addListener=Ce.prototype.on;Ce.prefixed=De;Ce.EventEmitter=Ce;typeof Wl!="undefined"&&(Wl.exports=Ce)});var DE=l((B2,LE)=>{"use strict";LE.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var UE=l((U2,_o)=>{"use strict";var Cx=DE(),Kl=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},BE=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Kl(o);typeof e.cancel=="function"&&e.cancel(),i(a)},t);Cx(e.then(n,i),()=>{clearTimeout(s)})});_o.exports=BE;_o.exports.default=BE;_o.exports.TimeoutError=Kl});var qE=l(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});function Ix(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}Xl.default=Ix});var jE=l(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});var Nx=qE(),FE=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=Nx.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};zl.default=FE});var HE=l(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});var wx=ME(),kE=UE(),xx=jE(),go=()=>{},Mx=new kE.TimeoutError,GE=class extends wx{constructor(t){var r,n,i,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=go,this._resolveIdle=go,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:xx.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=go,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=go,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():kE.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(Mx)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Ql.default=GE});var VE=l((k2,Zl)=>{"use strict";var $E=(e,...t)=>new Promise(r=>{r(e(...t))});Zl.exports=$E;Zl.exports.default=$E});var WE=l((G2,Jl)=>{"use strict";var Lx=VE(),YE=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...c)=>{r++;let d=Lx(a,...c);u(d),d.then(n,n)},s=(a,u,...c)=>{r<e?i(a,u,...c):t.push(i.bind(null,a,u,...c))},o=(a,...u)=>new Promise(c=>s(a,c,...u));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};Jl.exports=YE;Jl.exports.default=YE});var XE=l(td=>{"use strict";var ed=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};td.Semaphore=ed;var KE=class extends ed{constructor(){super(1)}};td.Mutex=KE});var QE=l(($2,zE)=>{"use strict";zE.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var rd=l((V2,ZE)=>{"use strict";var Dx=QE();ZE.exports=e=>typeof e=="string"?e.replace(Dx(),""):e});var ey=l((Y2,nd)=>{"use strict";var JE=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);nd.exports=JE;nd.exports.default=JE});var ny=l((W2,ry)=>{"use strict";var ty="[\uD800-\uDBFF][\uDC00-\uDFFF]",Bx=e=>e&&e.exact?new RegExp(`^${ty}$`):new RegExp(ty,"g");ry.exports=Bx});var sy=l((K2,iy)=>{"use strict";iy.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var id=l((X2,ay)=>{var Ri=sy(),oy={};for(let e of Object.keys(Ri))oy[Ri[e]]=e;var C={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ay.exports=C;for(let e of Object.keys(C)){if(!("channels"in C[e]))throw new Error("missing channels property: "+e);if(!("labels"in C[e]))throw new Error("missing channel labels property: "+e);if(C[e].labels.length!==C[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=C[e];delete C[e].channels,delete C[e].labels,Object.defineProperty(C[e],"channels",{value:t}),Object.defineProperty(C[e],"labels",{value:r})}C.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};C.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(o,a,u),d=c-Math.min(o,a,u),f=function(p){return(c-p)/6/d+1/2};return d===0?(i=0,s=0):(s=d/c,t=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};C.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=C.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};C.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Ux(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}C.rgb.keyword=function(e){let t=oy[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(Ri)){let s=Ri[i],o=Ux(e,s);o<r&&(r=o,n=i)}return n};C.keyword.rgb=function(e){return Ri[e]};C.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};C.rgb.lab=function(e){let t=C.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};C.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=t+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};C.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};C.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};C.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};C.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!=0&&(s=1-s);let u=r+s*(a-r),c,d,f;switch(o){default:case 6:case 0:c=a,d=u,f=r;break;case 1:c=u,d=a,f=r;break;case 2:c=r,d=a,f=u;break;case 3:c=r,d=u,f=a;break;case 4:c=u,d=r,f=a;break;case 5:c=a,d=r,f=u;break}return[c*255,d*255,f*255]};C.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};C.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};C.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};C.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};C.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};C.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};C.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?C.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};C.hsv.ansi16=function(e){return C.rgb.ansi16(C.hsv.rgb(e),e[2])};C.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};C.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};C.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};C.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};C.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};C.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};C.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};C.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};C.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};C.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};C.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};C.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};C.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};C.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};C.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};C.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};C.gray.hsl=function(e){return[0,0,e[0]]};C.gray.hsv=C.gray.hsl;C.gray.hwb=function(e){return[0,100,e[0]]};C.gray.cmyk=function(e){return[0,0,0,e[0]]};C.gray.lab=function(e){return[e[0],0,0]};C.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};C.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var cy=l((z2,uy)=>{var mo=id();function qx(){let e={},t=Object.keys(mo);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function Fx(e){let t=qx(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(mo[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function jx(e,t){return function(r){return t(e(r))}}function kx(e,t){let r=[t[e].parent,e],n=mo[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=jx(mo[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}uy.exports=function(e){let t=Fx(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=kx(o,t))}return r}});var dy=l((Q2,ly)=>{var sd=id(),Gx=cy(),gn={},Hx=Object.keys(sd);function $x(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Vx(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}Hx.forEach(e=>{gn[e]={},Object.defineProperty(gn[e],"channels",{value:sd[e].channels}),Object.defineProperty(gn[e],"labels",{value:sd[e].labels});let t=Gx(e);Object.keys(t).forEach(n=>{let i=t[n];gn[e][n]=Vx(i),gn[e][n].raw=$x(i)})});ly.exports=gn});var my=l((Z2,gy)=>{"use strict";var fy=(e,t)=>(...r)=>`[${e(...r)+t}m`,py=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},hy=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Eo=e=>e,_y=(e,t,r)=>[e,t,r],mn=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},od,En=(e,t,r,n)=>{od===void 0&&(od=dy());let i=n?10:0,s={};for(let[o,a]of Object.entries(od)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function Yx(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",mn(t.color,"ansi",()=>En(fy,"ansi16",Eo,!1)),mn(t.color,"ansi256",()=>En(py,"ansi256",Eo,!1)),mn(t.color,"ansi16m",()=>En(hy,"rgb",_y,!1)),mn(t.bgColor,"ansi",()=>En(fy,"ansi16",Eo,!0)),mn(t.bgColor,"ansi256",()=>En(py,"ansi256",Eo,!0)),mn(t.bgColor,"ansi16m",()=>En(hy,"rgb",_y,!0)),t}Object.defineProperty(gy,"exports",{enumerable:!0,get:Yx})});var by=l((J2,Ay)=>{"use strict";var Wx=ey(),Kx=ny(),Ey=my(),yy=["","\x9B"],yo=e=>`${yy[0]}[${e}m`,Sy=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let s=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let o=Ey.codes.get(Number.parseInt(i,10));if(o){let a=e.indexOf(o.toString());a===-1?n.push(yo(t?o:s)):e.splice(a,1)}else if(t){n.push(yo(0));break}else n.push(yo(s))}if(t&&(n=n.filter((i,s)=>n.indexOf(i)===s),r!==void 0)){let i=yo(Ey.codes.get(Number.parseInt(r,10)));n=n.reduce((s,o)=>o===i?[o,...s]:[...s,o],[])}return n.join("")};Ay.exports=(e,t,r)=>{let n=[...e],i=[],s=typeof r=="number"?r:n.length,o=!1,a,u=0,c="";for(let[d,f]of n.entries()){let p=!1;if(yy.includes(f)){let h=/\d[^m]*/.exec(e.slice(d,d+18));a=h&&h.length>0?h[0]:void 0,u<s&&(o=!0,a!==void 0&&i.push(a))}else o&&f==="m"&&(o=!1,p=!0);if(!o&&!p&&u++,!Kx({exact:!0}).test(f)&&Wx(f.codePointAt())&&(u++,typeof r!="number"&&s++),u>t&&u<=s)c+=f;else if(u===t&&!o&&a!==void 0)c=Sy(i);else if(u>=s){c+=Sy(i,!0,a);break}}return c}});var Ty=l(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0})});var Ry=l(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So._globalThis=void 0;So._globalThis=typeof globalThis=="object"?globalThis:global});var Oy=l(br=>{"use strict";var Xx=br&&br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zx=br&&br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xx(t,e,r)};Object.defineProperty(br,"__esModule",{value:!0});zx(Ry(),br)});var Py=l(vr=>{"use strict";var Qx=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Zx=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qx(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});Zx(Oy(),vr)});var ad=l(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.VERSION=void 0;Ao.VERSION="1.1.0"});var Ny=l(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.isCompatible=yn._makeCompatibilityCheck=void 0;var Jx=ad(),Cy=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Iy(e){var t=new Set([e]),r=new Set,n=e.match(Cy);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var c=u.match(Cy);if(!c)return s(u);var d={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return d.prerelease!=null||i.major!==d.major?s(u):i.major===0?i.minor===d.minor&&i.patch<=d.patch?o(u):s(u):i.minor<=d.minor?o(u):s(u)}}yn._makeCompatibilityCheck=Iy;yn.isCompatible=Iy(Jx.VERSION)});var Sn=l(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.unregisterGlobal=Qt.getGlobal=Qt.registerGlobal=void 0;var eM=Py(),Oi=ad(),tM=Ny(),rM=Oi.VERSION.split(".")[0],Pi=Symbol.for("opentelemetry.js.api."+rM),Ci=eM._globalThis;function nM(e,t,r,n){var i;n===void 0&&(n=!1);var s=Ci[Pi]=(i=Ci[Pi])!==null&&i!==void 0?i:{version:Oi.VERSION};if(!n&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(o.stack||o.message),!1}if(s.version!==Oi.VERSION){var o=new Error("@opentelemetry/api: All API registration versions must match");return r.error(o.stack||o.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Oi.VERSION+"."),!0}Qt.registerGlobal=nM;function iM(e){var t,r,n=(t=Ci[Pi])===null||t===void 0?void 0:t.version;if(!(!n||!tM.isCompatible(n)))return(r=Ci[Pi])===null||r===void 0?void 0:r[e]}Qt.getGlobal=iM;function sM(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Oi.VERSION+".");var r=Ci[Pi];r&&delete r[e]}Qt.unregisterGlobal=sM});var wy=l(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.DiagComponentLogger=void 0;var oM=Sn(),aM=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ii("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ii("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ii("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ii("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ii("verbose",this._namespace,t)},e}();bo.DiagComponentLogger=aM;function Ii(e,t,r){var n=oM.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var vo=l(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.DiagLogLevel=void 0;var uM;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(uM=Ni.DiagLogLevel||(Ni.DiagLogLevel={}))});var xy=l(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.createLogLevelDiagLogger=void 0;var qt=vo();function cM(e,t){e<qt.DiagLogLevel.NONE?e=qt.DiagLogLevel.NONE:e>qt.DiagLogLevel.ALL&&(e=qt.DiagLogLevel.ALL),t=t||{};function r(n,i){var s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",qt.DiagLogLevel.ERROR),warn:r("warn",qt.DiagLogLevel.WARN),info:r("info",qt.DiagLogLevel.INFO),debug:r("debug",qt.DiagLogLevel.DEBUG),verbose:r("verbose",qt.DiagLogLevel.VERBOSE)}}To.createLogLevelDiagLogger=cM});var An=l(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.DiagAPI=void 0;var lM=wy(),dM=xy(),fM=vo(),Ro=Sn(),pM="diag",hM=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=Ro.getGlobal("diag");if(!!o)return o[n].apply(o,i)}}var r=this;r.setLogger=function(n,i){var s,o;if(i===void 0&&(i=fM.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=a.stack)!==null&&s!==void 0?s:a.message),!1}var u=Ro.getGlobal("diag"),c=dM.createLogLevelDiagLogger(i,n);if(u){var d=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+d),c.warn("Current logger will overwrite one already registered from "+d)}return Ro.registerGlobal("diag",c,r,!0)},r.disable=function(){Ro.unregisterGlobal(pM,r)},r.createComponentLogger=function(n){return new lM.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();Oo.DiagAPI=hM});var My=l(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.BaggageImpl=void 0;var _M=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,s=t;i<s.length;i++){var o=s[i];n._entries.delete(o)}return n},e.prototype.clear=function(){return new e},e}();Po.BaggageImpl=_M});var Ly=l(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.baggageEntryMetadataSymbol=void 0;Co.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var ud=l(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.baggageEntryMetadataFromString=bn.createBaggage=void 0;var gM=An(),mM=My(),EM=Ly(),yM=gM.DiagAPI.instance();function SM(e){return e===void 0&&(e={}),new mM.BaggageImpl(new Map(Object.entries(e)))}bn.createBaggage=SM;function AM(e){return typeof e!="string"&&(yM.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:EM.baggageEntryMetadataSymbol,toString:function(){return e}}}bn.baggageEntryMetadataFromString=AM});var By=l(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0})});var qy=l(Uy=>{"use strict";Object.defineProperty(Uy,"__esModule",{value:!0})});var jy=l(Fy=>{"use strict";Object.defineProperty(Fy,"__esModule",{value:!0})});var ky=l(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.DiagConsoleLogger=void 0;var cd=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],bM=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(console){var o=console[n];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,i)}}}for(var r=0;r<cd.length;r++)this[cd[r].n]=t(cd[r].c)}return e}();Io.DiagConsoleLogger=bM});var Hy=l(Zt=>{"use strict";var vM=Zt&&Zt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gy=Zt&&Zt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vM(t,e,r)};Object.defineProperty(Zt,"__esModule",{value:!0});Gy(ky(),Zt);Gy(vo(),Zt)});var ld=l(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.defaultTextMapSetter=vn.defaultTextMapGetter=void 0;vn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};vn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var Vy=l($y=>{"use strict";Object.defineProperty($y,"__esModule",{value:!0})});var Wy=l(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0})});var wi=l(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.ROOT_CONTEXT=Tn.createContextKey=void 0;function TM(e){return Symbol.for(e)}Tn.createContextKey=TM;var RM=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var s=new e(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();Tn.ROOT_CONTEXT=new RM});var Ky=l(Rn=>{"use strict";var OM=Rn&&Rn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.NoopContextManager=void 0;var PM=wi(),CM=function(){function e(){}return e.prototype.active=function(){return PM.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return r.call.apply(r,OM([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();Rn.NoopContextManager=CM});var pd=l(On=>{"use strict";var IM=On&&On.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(On,"__esModule",{value:!0});On.ContextAPI=void 0;var NM=Ky(),dd=Sn(),Xy=An(),fd="context",wM=new NM.NoopContextManager,xM=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return dd.registerGlobal(fd,t,Xy.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,IM([t,r,n],s))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return dd.getGlobal(fd)||wM},e.prototype.disable=function(){this._getContextManager().disable(),dd.unregisterGlobal(fd,Xy.DiagAPI.instance())},e}();On.ContextAPI=xM});var hd=l(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.TraceFlags=void 0;var MM;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(MM=xi.TraceFlags||(xi.TraceFlags={}))});var No=l(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.INVALID_SPAN_CONTEXT=St.INVALID_TRACEID=St.INVALID_SPANID=void 0;var LM=hd();St.INVALID_SPANID="0000000000000000";St.INVALID_TRACEID="00000000000000000000000000000000";St.INVALID_SPAN_CONTEXT={traceId:St.INVALID_TRACEID,spanId:St.INVALID_SPANID,traceFlags:LM.TraceFlags.NONE}});var xo=l(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.NonRecordingSpan=void 0;var DM=No(),BM=function(){function e(t){t===void 0&&(t=DM.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();wo.NonRecordingSpan=BM});var gd=l(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.getSpanContext=Je.setSpanContext=Je.deleteSpan=Je.setSpan=Je.getSpan=void 0;var UM=wi(),qM=xo(),_d=UM.createContextKey("OpenTelemetry Context Key SPAN");function zy(e){return e.getValue(_d)||void 0}Je.getSpan=zy;function Qy(e,t){return e.setValue(_d,t)}Je.setSpan=Qy;function FM(e){return e.deleteValue(_d)}Je.deleteSpan=FM;function jM(e,t){return Qy(e,new qM.NonRecordingSpan(t))}Je.setSpanContext=jM;function kM(e){var t;return(t=zy(e))===null||t===void 0?void 0:t.spanContext()}Je.getSpanContext=kM});var Mo=l(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.wrapSpanContext=At.isSpanContextValid=At.isValidSpanId=At.isValidTraceId=void 0;var Zy=No(),GM=xo(),HM=/^([0-9a-f]{32})$/i,$M=/^[0-9a-f]{16}$/i;function Jy(e){return HM.test(e)&&e!==Zy.INVALID_TRACEID}At.isValidTraceId=Jy;function eS(e){return $M.test(e)&&e!==Zy.INVALID_SPANID}At.isValidSpanId=eS;function VM(e){return Jy(e.traceId)&&eS(e.spanId)}At.isSpanContextValid=VM;function YM(e){return new GM.NonRecordingSpan(e)}At.wrapSpanContext=YM});var Ed=l(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.NoopTracer=void 0;var WM=pd(),tS=gd(),md=xo(),KM=Mo(),rS=WM.ContextAPI.getInstance(),XM=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new md.NonRecordingSpan;var s=n&&tS.getSpanContext(n);return zM(s)&&KM.isSpanContextValid(s)?new md.NonRecordingSpan(s):new md.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);var u=o!=null?o:rS.active(),c=this.startSpan(t,s,u),d=tS.setSpan(u,c);return rS.with(d,a,void 0,c)}},e}();Lo.NoopTracer=XM;function zM(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var yd=l(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.ProxyTracer=void 0;var QM=Ed(),ZM=new QM.NoopTracer,JM=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):ZM},e}();Do.ProxyTracer=JM});var nS=l(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.NoopTracerProvider=void 0;var e1=Ed(),t1=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new e1.NoopTracer},e}();Bo.NoopTracerProvider=t1});var Sd=l(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.ProxyTracerProvider=void 0;var r1=yd(),n1=nS(),i1=new n1.NoopTracerProvider,s1=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new r1.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:i1},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Uo.ProxyTracerProvider=s1});var sS=l(iS=>{"use strict";Object.defineProperty(iS,"__esModule",{value:!0})});var oS=l(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.SamplingDecision=void 0;var o1;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(o1=Mi.SamplingDecision||(Mi.SamplingDecision={}))});var uS=l(aS=>{"use strict";Object.defineProperty(aS,"__esModule",{value:!0})});var cS=l(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.SpanKind=void 0;var a1;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(a1=Li.SpanKind||(Li.SpanKind={}))});var dS=l(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0})});var pS=l(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0})});var hS=l(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.SpanStatusCode=void 0;var u1;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(u1=Di.SpanStatusCode||(Di.SpanStatusCode={}))});var gS=l(_S=>{"use strict";Object.defineProperty(_S,"__esModule",{value:!0})});var mS=l(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.validateValue=Pn.validateKey=void 0;var Ad="[_0-9a-z-*/]",c1="[a-z]"+Ad+"{0,255}",l1="[a-z0-9]"+Ad+"{0,240}@[a-z]"+Ad+"{0,13}",d1=new RegExp("^(?:"+c1+"|"+l1+")$"),f1=/^[ -~]{0,255}[!-~]$/,p1=/,|=/;function h1(e){return d1.test(e)}Pn.validateKey=h1;function _1(e){return f1.test(e)&&!p1.test(e)}Pn.validateValue=_1});var bS=l(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.TraceStateImpl=void 0;var ES=mS(),yS=32,g1=512,SS=",",AS="=",m1=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+AS+t.get(n)),r},[]).join(SS)},e.prototype._parse=function(t){t.length>g1||(this._internalState=t.split(SS).reverse().reduce(function(r,n){var i=n.trim(),s=i.indexOf(AS);if(s!==-1){var o=i.slice(0,s),a=i.slice(s+1,n.length);ES.validateKey(o)&&ES.validateValue(a)&&r.set(o,a)}return r},new Map),this._internalState.size>yS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,yS))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();qo.TraceStateImpl=m1});var vS=l(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.createTraceState=void 0;var E1=bS();function y1(e){return new E1.TraceStateImpl(e)}Fo.createTraceState=y1});var RS=l(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0})});var PS=l(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0})});var IS=l(CS=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0})});var wS=l(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0})});var DS=l(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.TraceAPI=void 0;var bd=Sn(),xS=Sd(),MS=Mo(),Bi=gd(),LS=An(),vd="trace",S1=function(){function e(){this._proxyTracerProvider=new xS.ProxyTracerProvider,this.wrapSpanContext=MS.wrapSpanContext,this.isSpanContextValid=MS.isSpanContextValid,this.deleteSpan=Bi.deleteSpan,this.getSpan=Bi.getSpan,this.getSpanContext=Bi.getSpanContext,this.setSpan=Bi.setSpan,this.setSpanContext=Bi.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=bd.registerGlobal(vd,this._proxyTracerProvider,LS.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return bd.getGlobal(vd)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){bd.unregisterGlobal(vd,LS.DiagAPI.instance()),this._proxyTracerProvider=new xS.ProxyTracerProvider},e}();jo.TraceAPI=S1});var BS=l(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.NoopTextMapPropagator=void 0;var A1=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();ko.NoopTextMapPropagator=A1});var US=l(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.deleteBaggage=Jt.setBaggage=Jt.getBaggage=void 0;var b1=wi(),Td=b1.createContextKey("OpenTelemetry Baggage Key");function v1(e){return e.getValue(Td)||void 0}Jt.getBaggage=v1;function T1(e,t){return e.setValue(Td,t)}Jt.setBaggage=T1;function R1(e){return e.deleteValue(Td)}Jt.deleteBaggage=R1});var jS=l(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.PropagationAPI=void 0;var Rd=Sn(),O1=BS(),qS=ld(),Od=US(),P1=ud(),FS=An(),Pd="propagation",C1=new O1.NoopTextMapPropagator,I1=function(){function e(){this.createBaggage=P1.createBaggage,this.getBaggage=Od.getBaggage,this.setBaggage=Od.setBaggage,this.deleteBaggage=Od.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Rd.registerGlobal(Pd,t,FS.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=qS.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=qS.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Rd.unregisterGlobal(Pd,FS.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return Rd.getGlobal(Pd)||C1},e}();Go.PropagationAPI=I1});var q=l(N=>{"use strict";var N1=N&&N.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ae=N&&N.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&N1(t,e,r)};Object.defineProperty(N,"__esModule",{value:!0});N.diag=N.propagation=N.trace=N.context=N.INVALID_SPAN_CONTEXT=N.INVALID_TRACEID=N.INVALID_SPANID=N.isValidSpanId=N.isValidTraceId=N.isSpanContextValid=N.createTraceState=N.baggageEntryMetadataFromString=void 0;ae(Ty(),N);var w1=ud();Object.defineProperty(N,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return w1.baggageEntryMetadataFromString}});ae(By(),N);ae(qy(),N);ae(jy(),N);ae(Hy(),N);ae(ld(),N);ae(Vy(),N);ae(Wy(),N);ae(yd(),N);ae(Sd(),N);ae(sS(),N);ae(oS(),N);ae(uS(),N);ae(cS(),N);ae(dS(),N);ae(pS(),N);ae(hS(),N);ae(hd(),N);ae(gS(),N);var x1=vS();Object.defineProperty(N,"createTraceState",{enumerable:!0,get:function(){return x1.createTraceState}});ae(RS(),N);ae(PS(),N);ae(IS(),N);var Cd=Mo();Object.defineProperty(N,"isSpanContextValid",{enumerable:!0,get:function(){return Cd.isSpanContextValid}});Object.defineProperty(N,"isValidTraceId",{enumerable:!0,get:function(){return Cd.isValidTraceId}});Object.defineProperty(N,"isValidSpanId",{enumerable:!0,get:function(){return Cd.isValidSpanId}});var Id=No();Object.defineProperty(N,"INVALID_SPANID",{enumerable:!0,get:function(){return Id.INVALID_SPANID}});Object.defineProperty(N,"INVALID_TRACEID",{enumerable:!0,get:function(){return Id.INVALID_TRACEID}});Object.defineProperty(N,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Id.INVALID_SPAN_CONTEXT}});ae(wi(),N);ae(wS(),N);var M1=pd();N.context=M1.ContextAPI.getInstance();var L1=DS();N.trace=L1.TraceAPI.getInstance();var D1=jS();N.propagation=D1.PropagationAPI.getInstance();var B1=An();N.diag=B1.DiagAPI.instance();N.default={trace:N.trace,context:N.context,propagation:N.propagation,diag:N.diag}});var Ho=l(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.isTracingSuppressed=er.unsuppressTracing=er.suppressTracing=void 0;var U1=q(),Nd=(0,U1.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function q1(e){return e.setValue(Nd,!0)}er.suppressTracing=q1;function F1(e){return e.deleteValue(Nd)}er.unsuppressTracing=F1;function j1(e){return e.getValue(Nd)===!0}er.isTracingSuppressed=j1});var kS=l(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.validateValue=Cn.validateKey=void 0;var wd="[_0-9a-z-*/]",k1=`[a-z]${wd}{0,255}`,G1=`[a-z0-9]${wd}{0,240}@[a-z]${wd}{0,13}`,H1=new RegExp(`^(?:${k1}|${G1})$`),$1=/^[ -~]{0,255}[!-~]$/,V1=/,|=/;function Y1(e){return H1.test(e)}Cn.validateKey=Y1;function W1(e){return $1.test(e)&&!V1.test(e)}Cn.validateValue=W1});var xd=l(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.TraceState=void 0;var GS=kS(),HS=32,K1=512,$S=",",VS="=",$o=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+VS+this.get(r)),t),[]).join($S)}_parse(t){t.length>K1||(this._internalState=t.split($S).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(VS);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,GS.validateKey)(o)&&(0,GS.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>HS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,HS))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new $o;return t._internalState=new Map(this._internalState),t}};Vo.TraceState=$o});var Md=l(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.W3CTraceContextPropagator=Ie.parseTraceParent=Ie.TRACE_STATE_HEADER=Ie.TRACE_PARENT_HEADER=void 0;var Yo=q(),X1=Ho(),z1=xd();Ie.TRACE_PARENT_HEADER="traceparent";Ie.TRACE_STATE_HEADER="tracestate";var Q1="00",Z1="(?!ff)[\\da-f]{2}",J1="(?![0]{32})[\\da-f]{32}",eL="(?![0]{16})[\\da-f]{16}",tL="[\\da-f]{2}",rL=new RegExp(`^\\s?(${Z1})-(${J1})-(${eL})-(${tL})(-.*)?\\s?$`);function YS(e){let t=rL.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ie.parseTraceParent=YS;var WS=class{inject(t,r,n){let i=Yo.trace.getSpanContext(t);if(!i||(0,X1.isTracingSuppressed)(t)||!(0,Yo.isSpanContextValid)(i))return;let s=`${Q1}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Yo.TraceFlags.NONE).toString(16)}`;n.set(r,Ie.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Ie.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ie.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=YS(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Ie.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new z1.TraceState(typeof u=="string"?u:void 0)}return Yo.trace.setSpanContext(t,o)}fields(){return[Ie.TRACE_PARENT_HEADER,Ie.TRACE_STATE_HEADER]}};Ie.W3CTraceContextPropagator=WS});var Ld=l(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.BAGGAGE_MAX_TOTAL_LENGTH=Ne.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ne.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ne.BAGGAGE_HEADER=Ne.BAGGAGE_ITEMS_SEPARATOR=Ne.BAGGAGE_PROPERTIES_SEPARATOR=Ne.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ne.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ne.BAGGAGE_PROPERTIES_SEPARATOR=";";Ne.BAGGAGE_ITEMS_SEPARATOR=",";Ne.BAGGAGE_HEADER="baggage";Ne.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ne.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ne.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Dd=l(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.parseKeyPairsIntoRecord=bt.parsePairKeyValue=bt.getKeyPairs=bt.serializeKeyPairs=void 0;var nL=q(),Tr=Ld();function iL(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?Tr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>Tr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}bt.serializeKeyPairs=iL;function sL(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=Tr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}bt.getKeyPairs=sL;function KS(e){let t=e.split(Tr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(Tr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,nL.baggageEntryMetadataFromString)(t.join(Tr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}bt.parsePairKeyValue=KS;function oL(e){return typeof e!="string"||e.length===0?{}:e.split(Tr.BAGGAGE_ITEMS_SEPARATOR).map(t=>KS(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}bt.parseKeyPairsIntoRecord=oL});var zS=l(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.W3CBaggagePropagator=void 0;var Bd=q(),aL=Ho(),Rr=Ld(),Ud=Dd(),XS=class{inject(t,r,n){let i=Bd.propagation.getBaggage(t);if(!i||(0,aL.isTracingSuppressed)(t))return;let s=(0,Ud.getKeyPairs)(i).filter(a=>a.length<=Rr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Rr.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Ud.serializeKeyPairs)(s);o.length>0&&n.set(r,Rr.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,Rr.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Rr.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(Rr.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,Ud.parsePairKeyValue)(u);if(c){let d={value:c.value};c.metadata&&(d.metadata=c.metadata),o[c.key]=d}}),Object.entries(o).length===0)?t:Bd.propagation.setBaggage(t,Bd.propagation.createBaggage(o))}fields(){return[Rr.BAGGAGE_HEADER]}};Wo.W3CBaggagePropagator=XS});var tA=l(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.isAttributeValue=tr.isAttributeKey=tr.sanitizeAttributes=void 0;var QS=q();function uL(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!ZS(r)){QS.diag.warn(`Invalid attribute key: ${r}`);continue}if(!JS(n)){QS.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}tr.sanitizeAttributes=uL;function ZS(e){return typeof e=="string"&&e.length>0}tr.isAttributeKey=ZS;function JS(e){return e==null?!0:Array.isArray(e)?cL(e):eA(e)}tr.isAttributeValue=JS;function cL(e){let t;for(let r of e)if(r!=null){if(!t){if(eA(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function eA(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var qd=l(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.loggingErrorHandler=void 0;var lL=q();function dL(){return e=>{lL.diag.error(fL(e))}}Ko.loggingErrorHandler=dL;function fL(e){return typeof e=="string"?e:JSON.stringify(pL(e))}function pL(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var Fd=l(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.globalErrorHandler=In.setGlobalErrorHandler=void 0;var hL=qd(),rA=(0,hL.loggingErrorHandler)();function _L(e){rA=e}In.setGlobalErrorHandler=_L;function gL(e){try{rA(e)}catch(t){}}In.globalErrorHandler=gL});var jd=l(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.TracesSamplerValues=void 0;var mL;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(mL=Ui.TracesSamplerValues||(Ui.TracesSamplerValues={}))});var kd=l(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.parseEnvironment=Be.DEFAULT_ENVIRONMENT=Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var rr=q(),EL=jd(),yL=",",SL=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function AL(e){return SL.indexOf(e)>-1}var bL=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function vL(e){return bL.indexOf(e)>-1}Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Be.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:rr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Be.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Be.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:EL.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function TL(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function RL(e,t,r,n=yL){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var OL={ALL:rr.DiagLogLevel.ALL,VERBOSE:rr.DiagLogLevel.VERBOSE,DEBUG:rr.DiagLogLevel.DEBUG,INFO:rr.DiagLogLevel.INFO,WARN:rr.DiagLogLevel.WARN,ERROR:rr.DiagLogLevel.ERROR,NONE:rr.DiagLogLevel.NONE};function PL(e,t,r){let n=r[e];if(typeof n=="string"){let i=OL[n.toUpperCase()];i!=null&&(t[e]=i)}}function CL(e){let t={};for(let r in Be.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":PL(n,t,e);break;default:if(AL(n))TL(n,t,e);else if(vL(n))RL(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}Be.parseEnvironment=CL});var iA=l(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.getEnv=void 0;var IL=I("os"),nA=kd();function NL(){let e=(0,nA.parseEnvironment)(process.env);return Object.assign({HOSTNAME:IL.hostname()},nA.DEFAULT_ENVIRONMENT,e)}Xo.getEnv=NL});var sA=l(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo._globalThis=void 0;zo._globalThis=typeof globalThis=="object"?globalThis:global});var oA=l(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.hexToBase64=void 0;function wL(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}Qo.hexToBase64=wL});var lA=l(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.RandomIdGenerator=void 0;var xL=8,aA=16,uA=class{constructor(){this.generateTraceId=cA(aA),this.generateSpanId=cA(xL)}};Jo.RandomIdGenerator=uA;var Zo=Buffer.allocUnsafe(aA);function cA(e){return function(){for(let r=0;r<e/4;r++)Zo.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(Zo[r]>0);r++)r===e-1&&(Zo[e-1]=1);return Zo.toString("hex",0,e)}}});var dA=l(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.otperformance=void 0;var ML=I("perf_hooks");ea.otperformance=ML.performance});var ra=l(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.VERSION=void 0;ta.VERSION="1.3.1"});var fA=l(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.MessageTypeValues=Z.RpcGrpcStatusCodeValues=Z.MessagingOperationValues=Z.MessagingDestinationKindValues=Z.HttpFlavorValues=Z.NetHostConnectionSubtypeValues=Z.NetHostConnectionTypeValues=Z.NetTransportValues=Z.FaasInvokedProviderValues=Z.FaasDocumentOperationValues=Z.FaasTriggerValues=Z.DbCassandraConsistencyLevelValues=Z.DbSystemValues=Z.SemanticAttributes=void 0;Z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var pA=l(Or=>{"use strict";var LL=Or&&Or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DL=Or&&Or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LL(t,e,r)};Object.defineProperty(Or,"__esModule",{value:!0});DL(fA(),Or)});var hA=l(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.TelemetrySdkLanguageValues=we.OsTypeValues=we.HostArchValues=we.AwsEcsLaunchtypeValues=we.CloudPlatformValues=we.CloudProviderValues=we.SemanticResourceAttributes=void 0;we.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};we.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};we.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};we.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};we.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};we.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};we.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var _A=l(Pr=>{"use strict";var BL=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UL=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BL(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});UL(hA(),Pr)});var vt=l(nr=>{"use strict";var qL=nr&&nr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gA=nr&&nr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qL(t,e,r)};Object.defineProperty(nr,"__esModule",{value:!0});gA(pA(),nr);gA(_A(),nr)});var mA=l(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.SDK_INFO=void 0;var FL=ra(),qi=vt();na.SDK_INFO={[qi.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[qi.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[qi.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:qi.TelemetrySdkLanguageValues.NODEJS,[qi.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:FL.VERSION}});var EA=l(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.unrefTimer=void 0;function jL(e){e.unref()}ia.unrefTimer=jL});var yA=l(Xe=>{"use strict";var kL=Xe&&Xe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cr=Xe&&Xe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kL(t,e,r)};Object.defineProperty(Xe,"__esModule",{value:!0});Cr(iA(),Xe);Cr(sA(),Xe);Cr(oA(),Xe);Cr(lA(),Xe);Cr(dA(),Xe);Cr(mA(),Xe);Cr(EA(),Xe)});var Gd=l(Ir=>{"use strict";var GL=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HL=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&GL(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});HL(yA(),Ir)});var bA=l(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isTimeInput=he.isTimeInputHrTime=he.hrTimeToMicroseconds=he.hrTimeToMilliseconds=he.hrTimeToNanoseconds=he.hrTimeToTimeStamp=he.hrTimeDuration=he.timeInputToHrTime=he.hrTime=void 0;var Hd=Gd(),$d=9,Fi=Math.pow(10,$d);function sa(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed($d))*Fi;return[r,n]}function SA(){let e=Hd.otperformance.timeOrigin;if(typeof e!="number"){let t=Hd.otperformance;e=t.timing&&t.timing.fetchStart}return e}function AA(e){let t=sa(SA()),r=sa(typeof e=="number"?e:Hd.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>Fi&&(i-=Fi,n+=1),[n,i]}he.hrTime=AA;function $L(e){if(Vd(e))return e;if(typeof e=="number")return e<SA()?AA(e):sa(e);if(e instanceof Date)return sa(e.getTime());throw TypeError("Invalid input type")}he.timeInputToHrTime=$L;function VL(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Fi),[r,n]}he.hrTimeDuration=VL;function YL(e){let t=$d,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}he.hrTimeToTimeStamp=YL;function WL(e){return e[0]*Fi+e[1]}he.hrTimeToNanoseconds=WL;function KL(e){return Math.round(e[0]*1e3+e[1]/1e6)}he.hrTimeToMilliseconds=KL;function XL(e){return Math.round(e[0]*1e6+e[1]/1e3)}he.hrTimeToMicroseconds=XL;function Vd(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}he.isTimeInputHrTime=Vd;function zL(e){return Vd(e)||typeof e=="number"||e instanceof Date}he.isTimeInput=zL});var TA=l(vA=>{"use strict";Object.defineProperty(vA,"__esModule",{value:!0})});var RA=l(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.ExportResultCode=void 0;var QL;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(QL=ji.ExportResultCode||(ji.ExportResultCode={}))});var CA=l(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.CompositePropagator=void 0;var OA=q(),PA=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){OA.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){OA.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};oa.CompositePropagator=PA});var NA=l(IA=>{"use strict";Object.defineProperty(IA,"__esModule",{value:!0})});var wA=l(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.getRPCMetadata=ot.deleteRPCMetadata=ot.setRPCMetadata=ot.RPCType=void 0;var ZL=q(),Yd=(0,ZL.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),JL;(function(e){e.HTTP="http"})(JL=ot.RPCType||(ot.RPCType={}));function eD(e,t){return e.setValue(Yd,t)}ot.setRPCMetadata=eD;function tD(e){return e.deleteValue(Yd)}ot.deleteRPCMetadata=tD;function rD(e){return e.getValue(Yd)}ot.getRPCMetadata=rD});var Wd=l(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.AlwaysOffSampler=void 0;var nD=q(),xA=class{shouldSample(){return{decision:nD.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};aa.AlwaysOffSampler=xA});var Kd=l(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.AlwaysOnSampler=void 0;var iD=q(),MA=class{shouldSample(){return{decision:iD.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};ua.AlwaysOnSampler=MA});var BA=l(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.ParentBasedSampler=void 0;var ca=q(),sD=Fd(),LA=Wd(),Xd=Kd(),DA=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,sD.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Xd.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Xd.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new LA.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Xd.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new LA.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=ca.trace.getSpanContext(t);return!a||!(0,ca.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&ca.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&ca.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};la.ParentBasedSampler=DA});var qA=l(da=>{"use strict";Object.defineProperty(da,"__esModule",{value:!0});da.TraceIdRatioBasedSampler=void 0;var zd=q(),UA=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,zd.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?zd.SamplingDecision.RECORD_AND_SAMPLED:zd.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};da.TraceIdRatioBasedSampler=UA});var HA=l(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.isPlainObject=void 0;var oD="[object Object]",aD="[object Null]",uD="[object Undefined]",cD=Function.prototype,FA=cD.toString,lD=FA.call(Object),dD=fD(Object.getPrototypeOf,Object),jA=Object.prototype,kA=jA.hasOwnProperty,Nr=Symbol?Symbol.toStringTag:void 0,GA=jA.toString;function fD(e,t){return function(r){return e(t(r))}}function pD(e){if(!hD(e)||_D(e)!==oD)return!1;let t=dD(e);if(t===null)return!0;let r=kA.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&FA.call(r)===lD}fa.isPlainObject=pD;function hD(e){return e!=null&&typeof e=="object"}function _D(e){return e==null?e===void 0?uD:aD:Nr&&Nr in Object(e)?gD(e):mD(e)}function gD(e){let t=kA.call(e,Nr),r=e[Nr],n=!1;try{e[Nr]=void 0,n=!0}catch(s){}let i=GA.call(e);return n&&(t?e[Nr]=r:delete e[Nr]),i}function mD(e){return GA.call(e)}});var KA=l(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.merge=void 0;var $A=HA(),ED=20;function yD(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=VA(t,e.shift(),0,r);return t}_a.merge=yD;function Qd(e){return pa(e)?e.slice():e}function VA(e,t,r=0,n){let i;if(!(r>ED)){if(r++,ha(e)||ha(t)||WA(t))i=Qd(t);else if(pa(e)){if(i=e.slice(),pa(t))for(let s=0,o=t.length;s<o;s++)i.push(Qd(t[s]));else if(ki(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=Qd(t[u])}}}else if(ki(e))if(ki(t)){if(!SD(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],c=t[u];if(ha(c))typeof c=="undefined"?delete i[u]:i[u]=c;else{let d=i[u],f=c;if(YA(e,u,n)||YA(t,u,n))delete i[u];else{if(ki(d)&&ki(f)){let p=n.get(d)||[],h=n.get(f)||[];p.push({obj:e,key:u}),h.push({obj:t,key:u}),n.set(d,p),n.set(f,h)}i[u]=VA(i[u],c,r,n)}}}}else i=t;return i}}function YA(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function pa(e){return Array.isArray(e)}function WA(e){return typeof e=="function"}function ki(e){return!ha(e)&&!pa(e)&&!WA(e)&&typeof e=="object"}function ha(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function SD(e,t){return!(!(0,$A.isPlainObject)(e)||!(0,$A.isPlainObject)(t))}});var zA=l(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.isUrlIgnored=Nn.urlMatches=void 0;function XA(e,t){return typeof t=="string"?e===t:!!e.match(t)}Nn.urlMatches=XA;function AD(e,t){if(!t)return!1;for(let r of t)if(XA(e,r))return!0;return!1}Nn.isUrlIgnored=AD});var QA=l(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.isWrapped=void 0;function bD(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}ga.isWrapped=bD});var JA=l(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.Deferred=void 0;var ZA=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};ma.Deferred=ZA});var tb=l(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.BindOnceFuture=void 0;var vD=JA(),eb=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new vD.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Ea.BindOnceFuture=eb});var te=l(z=>{"use strict";var TD=z&&z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ee=z&&z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TD(t,e,r)};Object.defineProperty(z,"__esModule",{value:!0});z.baggageUtils=void 0;ee(zS(),z);ee(tA(),z);ee(Fd(),z);ee(qd(),z);ee(bA(),z);ee(TA(),z);ee(RA(),z);ee(ra(),z);z.baggageUtils=Dd();ee(Gd(),z);ee(CA(),z);ee(Md(),z);ee(NA(),z);ee(wA(),z);ee(Wd(),z);ee(Kd(),z);ee(BA(),z);ee(qA(),z);ee(Ho(),z);ee(xd(),z);ee(kd(),z);ee(KA(),z);ee(jd(),z);ee(zA(),z);ee(QA(),z);ee(tb(),z);ee(ra(),z)});var rb=l(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.ExceptionEventName=void 0;ya.ExceptionEventName="exception"});var Zd=l(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Span=void 0;var Tt=q(),at=te(),wr=vt(),RD=rb(),nb=class{constructor(t,r,n,i,s,o,a=[],u=(0,at.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:Tt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a,this.startTime=(0,at.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(Tt.diag.warn(`Invalid attribute key: ${t}`),this):(0,at.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(Tt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Tt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(Tt.diag.warn("Dropping extra events."),this.events.shift()),(0,at.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,at.hrTime)());let i=(0,at.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,at.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,at.hrTime)()){if(this._isSpanEnded()){Tt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,at.timeInputToHrTime)(t),this._duration=(0,at.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&Tt.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,at.hrTime)()){let n={};typeof t=="string"?n[wr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[wr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[wr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[wr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[wr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[wr.SemanticAttributes.EXCEPTION_TYPE]||n[wr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(RD.ExceptionEventName,n,r):Tt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&Tt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(Tt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Sa.Span=nb});var Jd=l(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.buildSamplerFromEnv=xn.DEFAULT_CONFIG=void 0;var Aa=q(),ne=te(),OD=(0,ne.getEnv)(),PD=ne.TracesSamplerValues.AlwaysOn,wn=1;xn.DEFAULT_CONFIG={sampler:ib(OD),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,ne.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ne.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,ne.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ne.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,ne.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,ne.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function ib(e=(0,ne.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case ne.TracesSamplerValues.AlwaysOn:return new ne.AlwaysOnSampler;case ne.TracesSamplerValues.AlwaysOff:return new ne.AlwaysOffSampler;case ne.TracesSamplerValues.ParentBasedAlwaysOn:return new ne.ParentBasedSampler({root:new ne.AlwaysOnSampler});case ne.TracesSamplerValues.ParentBasedAlwaysOff:return new ne.ParentBasedSampler({root:new ne.AlwaysOffSampler});case ne.TracesSamplerValues.TraceIdRatio:return new ne.TraceIdRatioBasedSampler(sb(e));case ne.TracesSamplerValues.ParentBasedTraceIdRatio:return new ne.ParentBasedSampler({root:new ne.TraceIdRatioBasedSampler(sb(e))});default:return Aa.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${PD}".`),new ne.AlwaysOnSampler}}xn.buildSamplerFromEnv=ib;function sb(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Aa.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${wn}.`),wn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Aa.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${wn}.`),wn):t<0||t>1?(Aa.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${wn}.`),wn):t}});var ef=l(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.reconfigureLimits=Mn.mergeConfig=void 0;var ba=Jd();function CD(e){let t={sampler:(0,ba.buildSamplerFromEnv)()},r=Object.assign({},ba.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},ba.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},ba.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}Mn.mergeConfig=CD;function ID(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}Mn.reconfigureLimits=ID});var ab=l(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.Tracer=void 0;var be=q(),Gi=te(),ND=Zd(),wD=ef(),ob=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,wD.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Gi.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=be.context.active()){var i,s;if((0,Gi.isTracingSuppressed)(n))return be.diag.debug("Instrumentation suppressed, returning Noop Span"),be.trace.wrapSpanContext(be.INVALID_SPAN_CONTEXT);r.root&&(n=be.trace.deleteSpan(n));let o=be.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,c,d;!o||!be.trace.isSpanContextValid(o)?u=this._idGenerator.generateTraceId():(u=o.traceId,c=o.traceState,d=o.spanId);let f=(i=r.kind)!==null&&i!==void 0?i:be.SpanKind.INTERNAL,p=((s=r.links)!==null&&s!==void 0?s:[]).map(A=>({context:A.context,attributes:(0,Gi.sanitizeAttributes)(A.attributes)})),h=(0,Gi.sanitizeAttributes)(r.attributes),_=this._sampler.shouldSample(n,u,t,f,h,p),g=_.decision===be.SamplingDecision.RECORD_AND_SAMPLED?be.TraceFlags.SAMPLED:be.TraceFlags.NONE,b={traceId:u,spanId:a,traceFlags:g,traceState:c};if(_.decision===be.SamplingDecision.NOT_RECORD)return be.diag.debug("Recording is off, propagating context in a non-recording span"),be.trace.wrapSpanContext(b);let v=new ND.Span(this,n,t,b,f,d,p,r.startTime),S=(0,Gi.sanitizeAttributes)(Object.assign(h,_.attributes));return v.setAttributes(S),v}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o!=null?o:be.context.active(),c=this.startSpan(t,s,u),d=be.trace.setSpan(u,c);return be.context.with(d,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};va.Tracer=ob});var ub=l(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.defaultServiceName=void 0;function xD(){return`unknown_service:${process.argv0}`}Ta.defaultServiceName=xD});var lb=l(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.detectResources=void 0;var cb=xr(),tf=q(),MD=I("util"),LD=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return tf.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return tf.diag.debug(`${n.constructor.name} failed: ${i.message}`),cb.Resource.empty()}}));return DD(r),r.reduce((n,i)=>n.merge(i),cb.Resource.empty())};Ra.detectResources=LD;var DD=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=MD.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});tf.diag.verbose(r)}})}});var hb=l(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.hostDetector=void 0;var db=vt(),BD=xr(),fb=I("os"),pb=class{async detect(t){let r={[db.SemanticResourceAttributes.HOST_NAME]:(0,fb.hostname)(),[db.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,fb.arch)())};return new BD.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Oa.hostDetector=new pb});var Eb=l(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.osDetector=void 0;var _b=vt(),UD=xr(),gb=I("os"),mb=class{async detect(t){let r={[_b.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,gb.platform)()),[_b.SemanticResourceAttributes.OS_VERSION]:(0,gb.release)()};return new UD.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Pa.osDetector=new mb});var yb=l(Rt=>{"use strict";var qD=Rt&&Rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ca=Rt&&Rt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qD(t,e,r)};Object.defineProperty(Rt,"__esModule",{value:!0});Ca(ub(),Rt);Ca(lb(),Rt);Ca(hb(),Rt);Ca(Eb(),Rt)});var rf=l(Mr=>{"use strict";var FD=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jD=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FD(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});jD(yb(),Mr)});var xr=l(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.Resource=void 0;var Lr=vt(),nf=te(),kD=rf(),ir=class{constructor(t){this.attributes=t}static empty(){return ir.EMPTY}static default(){return new ir({[Lr.SemanticResourceAttributes.SERVICE_NAME]:(0,kD.defaultServiceName)(),[Lr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:nf.SDK_INFO[Lr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Lr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:nf.SDK_INFO[Lr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Lr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:nf.SDK_INFO[Lr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new ir(r)}};Ia.Resource=ir;ir.EMPTY=new ir({})});var Ab=l(Sb=>{"use strict";Object.defineProperty(Sb,"__esModule",{value:!0})});var vb=l(bb=>{"use strict";Object.defineProperty(bb,"__esModule",{value:!0})});var Rb=l(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.browserDetector=void 0;var GD=q(),Na=vt(),sf=Hi(),Tb=class{async detect(t){if(!(typeof navigator!="undefined"))return sf.Resource.empty();let n={[Na.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Na.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Na.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Na.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(GD.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),sf.Resource.empty()):new sf.Resource(Object.assign({},t))}};wa.browserDetector=new Tb});var Pb=l(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.envDetector=void 0;var HD=q(),$D=te(),VD=vt(),YD=xr(),Ob=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,$D.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){HD.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[VD.SemanticResourceAttributes.SERVICE_NAME]=s),new YD.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};xa.envDetector=new Ob});var Ib=l(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.processDetector=void 0;var WD=q(),et=vt(),of=xr(),Cb=class{async detect(t){if(typeof process!="object")return of.Resource.empty();let r={[et.SemanticResourceAttributes.PROCESS_PID]:process.pid,[et.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[et.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[et.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[et.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[et.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[et.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[et.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[et.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[et.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[et.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[et.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(WD.diag.debug("ProcessDetector failed: Unable to find required process resources. "),of.Resource.empty()):new of.Resource(Object.assign({},t))}};Ma.processDetector=new Cb});var Nb=l(Ft=>{"use strict";var KD=Ft&&Ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),af=Ft&&Ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&KD(t,e,r)};Object.defineProperty(Ft,"__esModule",{value:!0});af(Rb(),Ft);af(Pb(),Ft);af(Ib(),Ft)});var Hi=l(ut=>{"use strict";var XD=ut&&ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$i=ut&&ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XD(t,e,r)};Object.defineProperty(ut,"__esModule",{value:!0});$i(xr(),ut);$i(rf(),ut);$i(Ab(),ut);$i(vb(),ut);$i(Nb(),ut)});var xb=l(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.MultiSpanProcessor=void 0;var zD=te(),wb=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,zD.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};La.MultiSpanProcessor=wb});var uf=l(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.NoopSpanProcessor=void 0;var Mb=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Da.NoopSpanProcessor=Mb});var Db=l(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.BatchSpanProcessorBase=void 0;var cf=q(),Ln=te(),Lb=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,Ln.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Ln.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&cf.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);cf.context.with((0,Ln.suppressTracing)(cf.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var s;clearTimeout(n),i.code===Ln.ExportResultCode.SUCCESS?t():r((s=i.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,Ln.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,Ln.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Ba.BatchSpanProcessorBase=Lb});var Ub=l(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.BatchSpanProcessor=void 0;var QD=Db(),Bb=class extends QD.BatchSpanProcessorBase{onShutdown(){}};Ua.BatchSpanProcessor=Bb});var qb=l(Dr=>{"use strict";var ZD=Dr&&Dr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JD=Dr&&Dr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ZD(t,e,r)};Object.defineProperty(Dr,"__esModule",{value:!0});JD(Ub(),Dr)});var lf=l(Br=>{"use strict";var eB=Br&&Br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tB=Br&&Br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eB(t,e,r)};Object.defineProperty(Br,"__esModule",{value:!0});tB(qb(),Br)});var jb=l(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.BasicTracerProvider=qr.ForceFlushState=void 0;var Dn=q(),Bn=te(),Fb=Hi(),rB=qa(),nB=Jd(),iB=xb(),sB=uf(),oB=lf(),aB=ef(),Un;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Un=qr.ForceFlushState||(qr.ForceFlushState={}));var Ur=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,Bn.merge)({},nB.DEFAULT_CONFIG,(0,aB.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:Fb.Resource.empty(),this.resource=Fb.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new oB.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new sB.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new rB.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>Dn.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new iB.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){Dn.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&Dn.context.setGlobalContextManager(t.contextManager),t.propagator&&Dn.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=Un.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==Un.timeout&&(s=Un.resolved,i(s))}).catch(a=>{clearTimeout(o),s=Un.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==Un.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=Ur._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=Ur._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,Bn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||Dn.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new Bn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,Bn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||Dn.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};qr.BasicTracerProvider=Ur;Ur._registeredPropagators=new Map([["tracecontext",()=>new Bn.W3CTraceContextPropagator],["baggage",()=>new Bn.W3CBaggagePropagator]]);Ur._registeredExporters=new Map});var Gb=l(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.ConsoleSpanExporter=void 0;var df=te(),kb=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,df.hrTimeToMicroseconds)(t.startTime),duration:(0,df.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:df.ExportResultCode.SUCCESS})}};Fa.ConsoleSpanExporter=kb});var Vb=l(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.InMemorySpanExporter=void 0;var Hb=te(),$b=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:Hb.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:Hb.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};ja.InMemorySpanExporter=$b});var Wb=l(Yb=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0})});var Xb=l(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.SimpleSpanProcessor=void 0;var ff=q(),ka=te(),Kb=class{constructor(t){this._exporter=t,this._shutdownOnce=new ka.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&ff.TraceFlags.SAMPLED)!=0&&ff.context.with((0,ka.suppressTracing)(ff.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==ka.ExportResultCode.SUCCESS&&(0,ka.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};Ga.SimpleSpanProcessor=Kb});var Qb=l(zb=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0})});var Jb=l(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0})});var tv=l(ev=>{"use strict";Object.defineProperty(ev,"__esModule",{value:!0})});var nv=l(rv=>{"use strict";Object.defineProperty(rv,"__esModule",{value:!0})});var qa=l(ye=>{"use strict";var uB=ye&&ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ze=ye&&ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uB(t,e,r)};Object.defineProperty(ye,"__esModule",{value:!0});ze(ab(),ye);ze(jb(),ye);ze(lf(),ye);ze(Gb(),ye);ze(Vb(),ye);ze(Wb(),ye);ze(Xb(),ye);ze(Qb(),ye);ze(uf(),ye);ze(Zd(),ye);ze(Jb(),ye);ze(tv(),ye);ze(nv(),ye)});var Vi=l(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.invalidTimeout=tt.configureExporterTimeout=tt.appendRootPathToUrlIfNeeded=tt.appendResourcePathToUrl=tt.parseHeaders=void 0;var iv=q(),sv=te(),ov=1e4;function cB(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):iv.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}tt.parseHeaders=cB;function lB(e,t){return e.endsWith("/")||(e=e+"/"),e+t}tt.appendResourcePathToUrl=lB;function dB(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}tt.appendRootPathToUrlIfNeeded=dB;function fB(e){return typeof e=="number"?e<=0?pf(e,ov):e:pB()}tt.configureExporterTimeout=fB;function pB(){var e;let t=Number((e=(0,sv.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,sv.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?pf(t,ov):t}function pf(e,t){return iv.diag.warn("Timeout must be greater than 0",e),t}tt.invalidTimeout=pf});var $a=l(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.OTLPExporterBase=void 0;var av=q(),Yi=te(),hB=Vi(),uv=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Yi.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,hB.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Yi.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Yi.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Yi.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Yi.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{av.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return av.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};Ha.OTLPExporterBase=uv});var hf=l(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.CompressionAlgorithm=void 0;var _B;(function(e){e.NONE="none",e.GZIP="gzip"})(_B=Wi.CompressionAlgorithm||(Wi.CompressionAlgorithm={}))});var Ya=l(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.OTLPExporterError=void 0;var cv=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};Va.OTLPExporterError=cv});var Ef=l(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.configureCompression=sr.createHttpAgent=sr.sendWithHttp=void 0;var lv=I("url"),dv=I("http"),fv=I("https"),gB=I("zlib"),mB=I("stream"),_f=q(),Wa=hf(),pv=te(),gf=Ya(),mf;function EB(e,t,r,n,i){let s=e.timeoutMillis,o=new lv.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),c=setTimeout(()=>{a=!0,u>=14?p.destroy():p.abort()},s),d={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},p=(o.protocol==="http:"?dv.request:fv.request)(d,h=>{let _="";h.on("data",g=>_+=g),h.on("aborted",()=>{if(a){let g=new gf.OTLPExporterError("Request Timeout");i(g)}}),h.on("end",()=>{if(!a){if(h.statusCode&&h.statusCode<299)_f.diag.debug(`statusCode: ${h.statusCode}`,_),n();else{let g=new gf.OTLPExporterError(h.statusMessage,h.statusCode,_);i(g)}clearTimeout(c)}})});switch(p.on("error",h=>{if(a){let _=new gf.OTLPExporterError("Request Timeout",h.code);i(_)}else clearTimeout(c),i(h)}),e.compression){case Wa.CompressionAlgorithm.GZIP:{mf||(mf=gB.createGzip()),p.setHeader("Content-Encoding","gzip"),yB(t).on("error",i).pipe(mf).on("error",i).pipe(p);break}default:p.end(t);break}}sr.sendWithHttp=EB;function yB(e){let t=new mB.Readable;return t.push(e),t.push(null),t}function SB(e){if(e.httpAgentOptions&&e.keepAlive===!1){_f.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new lv.URL(e.url).protocol==="http:"?dv.Agent:fv.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){_f.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}sr.createHttpAgent=SB;function AB(e){return e||(((0,pv.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,pv.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===Wa.CompressionAlgorithm.GZIP?Wa.CompressionAlgorithm.GZIP:Wa.CompressionAlgorithm.NONE)}sr.configureCompression=AB});var mv=l(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.OTLPExporterNodeBase=void 0;var bB=$a(),vB=Vi(),yf=Ef(),hv=q(),_v=te(),gv=class extends bB.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&hv.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,vB.parseHeaders)(t.headers),_v.baggageUtils.parseKeyPairsIntoRecord((0,_v.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,yf.createHttpAgent)(t),this.compression=(0,yf.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){hv.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,yf.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};Ka.OTLPExporterNodeBase=gv});var Ev=l(jt=>{"use strict";var TB=jt&&jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sf=jt&&jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TB(t,e,r)};Object.defineProperty(jt,"__esModule",{value:!0});Sf(mv(),jt);Sf(Ef(),jt);Sf(hf(),jt)});var Sv=l(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.sendWithXhr=qn.sendWithBeacon=void 0;var yv=q(),Af=Ya();function RB(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))yv.diag.debug("sendBeacon - can send",e),n();else{let s=new Af.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}qn.sendWithBeacon=RB;function OB(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([d,f])=>{u.setRequestHeader(d,f)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),yv.diag.debug("xhr success",e),i();else if(o){let d=new Af.OTLPExporterError("Request Timeout",u.status);s(d)}else{let d=new Af.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(d)}}}qn.sendWithXhr=OB});var Tv=l(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.OTLPExporterBrowserBase=void 0;var PB=$a(),CB=Vi(),Av=Sv(),IB=q(),bv=te(),vv=class extends PB.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,CB.parseHeaders)(t.headers),bv.baggageUtils.parseKeyPairsIntoRecord((0,bv.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){IB.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,c)=>{this._useXHR?(0,Av.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,c):(0,Av.sendWithBeacon)(s,this.url,{type:"application/json"},u,c)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};Xa.OTLPExporterBrowserBase=vv});var Rv=l(Fr=>{"use strict";var NB=Fr&&Fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wB=Fr&&Fr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NB(t,e,r)};Object.defineProperty(Fr,"__esModule",{value:!0});wB(Tv(),Fr)});var Ov=l(kt=>{"use strict";var xB=kt&&kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),MB=kt&&kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xB(t,e,r)};Object.defineProperty(kt,"__esModule",{value:!0});kt.OTLPExporterBrowserBase=void 0;MB(Ev(),kt);var LB=Rv();Object.defineProperty(kt,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return LB.OTLPExporterBrowserBase}})});var bf=l(Ot=>{"use strict";var DB=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),za=Ot&&Ot.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DB(t,e,r)};Object.defineProperty(Ot,"__esModule",{value:!0});za($a(),Ot);za(Ov(),Ot);za(Ya(),Ot);za(Vi(),Ot)});var Cv=l(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0})});var Nv=l(Iv=>{"use strict";Object.defineProperty(Iv,"__esModule",{value:!0})});var xv=l(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0})});var Mv=l(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.ESpanKind=void 0;var BB;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(BB=Ki.ESpanKind||(Ki.ESpanKind={}))});var Qa=l(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.bufToHex=rt.hexToBuf=rt.toAnyValue=rt.toKeyValue=rt.toAttributes=void 0;function UB(e){return Object.keys(e).map(t=>vf(t,e[t]))}rt.toAttributes=UB;function vf(e,t){return{key:e,value:Tf(t)}}rt.toKeyValue=vf;function Tf(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Tf)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>vf(r,n))}}:{}}rt.toAnyValue=Tf;function qB(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}rt.hexToBuf=qB;function FB(e){return("0"+e.toString(16)).slice(-2)}function jB(e){if(!(e==null||e.length===0))return Array.from(e).map(FB).join("")}rt.bufToHex=jB});var Bv=l(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.toOtlpSpanEvent=or.toOtlpLink=or.sdkSpanToOtlpSpan=void 0;var Rf=te(),Of=Qa(),Xi=te();function kB(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?Xi.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:Xi.hexToBase64(r.traceId),spanId:t?r.spanId:Xi.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,Rf.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,Rf.hrTimeToNanoseconds)(e.endTime),attributes:(0,Of.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(Dv),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>Lv(s,t)),droppedLinksCount:0}}or.sdkSpanToOtlpSpan=kB;function Lv(e,t){return{attributes:e.attributes?(0,Of.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:Xi.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:Xi.hexToBase64(e.context.traceId),droppedAttributesCount:0}}or.toOtlpLink=Lv;function Dv(e){return{attributes:e.attributes?(0,Of.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,Rf.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}or.toOtlpSpanEvent=Dv});var Uv=l(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.createExportTraceServiceRequest=void 0;var GB=Qa(),HB=Bv();function $B(e,t){return{resourceSpans:YB(e,t)}}Za.createExportTraceServiceRequest=$B;function VB(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function YB(e,t){let r=VB(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],c=a.values(),d=c.next();for(;!d.done;){let p=d.value;if(p.length>0){let{name:h,version:_,schemaUrl:g}=p[0].instrumentationLibrary,b=p.map(v=>(0,HB.sdkSpanToOtlpSpan)(v,t));u.push({scope:{name:h,version:_},spans:b,schemaUrl:g})}d=c.next()}let f={resource:{attributes:(0,GB.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(f),s=i.next()}return n}});var Lf=l(k=>{"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=k.NOOP_OBSERVABLE_GAUGE_METRIC=k.NOOP_OBSERVABLE_COUNTER_METRIC=k.NOOP_UP_DOWN_COUNTER_METRIC=k.NOOP_HISTOGRAM_METRIC=k.NOOP_COUNTER_METRIC=k.NOOP_METER=k.NoopObservableUpDownCounterMetric=k.NoopObservableGaugeMetric=k.NoopObservableCounterMetric=k.NoopObservableMetric=k.NoopHistogramMetric=k.NoopUpDownCounterMetric=k.NoopCounterMetric=k.NoopMetric=k.NoopMeter=void 0;var Pf=class{constructor(){}createHistogram(t,r){return k.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return k.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return k.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return k.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return k.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return k.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};k.NoopMeter=Pf;var zi=class{};k.NoopMetric=zi;var Cf=class extends zi{add(t,r){}};k.NoopCounterMetric=Cf;var If=class extends zi{add(t,r){}};k.NoopUpDownCounterMetric=If;var Nf=class extends zi{record(t,r){}};k.NoopHistogramMetric=Nf;var Qi=class{addCallback(t){}removeCallback(t){}};k.NoopObservableMetric=Qi;var wf=class extends Qi{};k.NoopObservableCounterMetric=wf;var xf=class extends Qi{};k.NoopObservableGaugeMetric=xf;var Mf=class extends Qi{};k.NoopObservableUpDownCounterMetric=Mf;k.NOOP_METER=new Pf;k.NOOP_COUNTER_METRIC=new Cf;k.NOOP_HISTOGRAM_METRIC=new Nf;k.NOOP_UP_DOWN_COUNTER_METRIC=new If;k.NOOP_OBSERVABLE_COUNTER_METRIC=new wf;k.NOOP_OBSERVABLE_GAUGE_METRIC=new xf;k.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Mf});var Bf=l(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.NOOP_METER_PROVIDER=Fn.NoopMeterProvider=void 0;var WB=Lf(),Df=class{getMeter(t,r,n){return WB.NOOP_METER}};Fn.NoopMeterProvider=Df;Fn.NOOP_METER_PROVIDER=new Df});var Fv=l(qv=>{"use strict";Object.defineProperty(qv,"__esModule",{value:!0})});var kv=l(jv=>{"use strict";Object.defineProperty(jv,"__esModule",{value:!0})});var Gv=l(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ValueType=void 0;var KB;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(KB=Zi.ValueType||(Zi.ValueType={}))});var $v=l(Hv=>{"use strict";Object.defineProperty(Hv,"__esModule",{value:!0})});var Vv=l(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja._globalThis=void 0;Ja._globalThis=typeof globalThis=="object"?globalThis:global});var Yv=l(jr=>{"use strict";var XB=jr&&jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zB=jr&&jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XB(t,e,r)};Object.defineProperty(jr,"__esModule",{value:!0});zB(Vv(),jr)});var Wv=l(kr=>{"use strict";var QB=kr&&kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ZB=kr&&kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&QB(t,e,r)};Object.defineProperty(kr,"__esModule",{value:!0});ZB(Yv(),kr)});var Kv=l(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.API_BACKWARDS_COMPATIBILITY_VERSION=Pt.makeGetter=Pt._global=Pt.GLOBAL_METRICS_API_KEY=void 0;var JB=Wv();Pt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");Pt._global=JB._globalThis;function eU(e,t,r){return n=>n===e?t:r}Pt.makeGetter=eU;Pt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var zv=l(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.MetricsAPI=void 0;var Xv=Bf(),nt=Kv(),eu=class{constructor(){}static getInstance(){return this._instance||(this._instance=new eu),this._instance}setGlobalMeterProvider(t){return nt._global[nt.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(nt._global[nt.GLOBAL_METRICS_API_KEY]=(0,nt.makeGetter)(nt.API_BACKWARDS_COMPATIBILITY_VERSION,t,Xv.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=nt._global[nt.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(nt._global,nt.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:Xv.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete nt._global[nt.GLOBAL_METRICS_API_KEY]}};tu.MetricsAPI=eu});var kn=l(ke=>{"use strict";var tU=ke&&ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jn=ke&&ke.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tU(t,e,r)};Object.defineProperty(ke,"__esModule",{value:!0});ke.metrics=void 0;jn(Lf(),ke);jn(Bf(),ke);jn(Fv(),ke);jn(kv(),ke);jn(Gv(),ke);jn($v(),ke);var rU=zv();ke.metrics=rU.MetricsAPI.getInstance()});var ru=l(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.AggregationTemporality=void 0;var nU;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(nU=Ji.AggregationTemporality||(Ji.AggregationTemporality={}))});var ts=l(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.DataPointType=void 0;var iU;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(iU=es.DataPointType||(es.DataPointType={}))});var Zv=l(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.ConsoleMetricExporter=void 0;var sU=ru(),oU=te(),Qv=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:sU.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:oU.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};nu.ConsoleMetricExporter=Qv});var e0=l(Jv=>{"use strict";Object.defineProperty(Jv,"__esModule",{value:!0})});var Gt=l(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.setEquals=_e.FlatMap=_e.isPromiseAllSettledRejectionResult=_e.PromiseAllSettled=_e.callWithTimeout=_e.TimeoutError=_e.instrumentationScopeId=_e.hashAttributes=_e.isNotNullish=void 0;function aU(e){return e!=null}_e.isNotNullish=aU;function uU(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}_e.hashAttributes=uU;function cU(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}_e.instrumentationScopeId=cU;var rs=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,rs.prototype)}};_e.TimeoutError=rs;function lU(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new rs("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}_e.callWithTimeout=lU;async function dU(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}_e.PromiseAllSettled=dU;function fU(e){return e.status==="rejected"}_e.isPromiseAllSettledRejectionResult=fU;function pU(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}_e.FlatMap=pU;function hU(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}_e.setEquals=hU});var Uf=l(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.MetricReader=void 0;var t0=q(),r0=Gt(),n0=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){t0.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,r0.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){t0.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,r0.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};iu.MetricReader=n0});var u0=l(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.PeriodicExportingMetricReader=void 0;var i0=q(),s0=te(),_U=Uf(),o0=Gt(),a0=class extends _U.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&i0.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==s0.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,o0.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof o0.TimeoutError){i0.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,s0.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};su.PeriodicExportingMetricReader=a0});var Gr=l(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.isDescriptorCompatibleWith=ct.createInstrumentDescriptorWithView=ct.createInstrumentDescriptor=ct.InstrumentType=void 0;var gU=kn(),mU;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(mU=ct.InstrumentType||(ct.InstrumentType={}));function EU(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(s=r==null?void 0:r.valueType)!==null&&s!==void 0?s:gU.ValueType.DOUBLE}}ct.createInstrumentDescriptor=EU;function yU(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}ct.createInstrumentDescriptorWithView=yU;function SU(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}ct.isDescriptorCompatibleWith=SU});var au=l(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.isObservableInstrument=ge.ObservableUpDownCounterInstrument=ge.ObservableGaugeInstrument=ge.ObservableCounterInstrument=ge.ObservableInstrument=ge.HistogramInstrument=ge.CounterInstrument=ge.UpDownCounterInstrument=ge.SyncInstrument=void 0;var ou=q(),AU=kn(),ns=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=ou.context.active()){this._descriptor.valueType===AU.ValueType.INT&&!Number.isInteger(t)&&(ou.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};ge.SyncInstrument=ns;var c0=class extends ns{add(t,r,n){this._record(t,r,n)}};ge.UpDownCounterInstrument=c0;var l0=class extends ns{add(t,r,n){if(t<0){ou.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ge.CounterInstrument=l0;var d0=class extends ns{record(t,r,n){if(t<0){ou.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ge.HistogramInstrument=d0;var Gn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};ge.ObservableInstrument=Gn;var f0=class extends Gn{};ge.ObservableCounterInstrument=f0;var p0=class extends Gn{};ge.ObservableGaugeInstrument=p0;var h0=class extends Gn{};ge.ObservableUpDownCounterInstrument=h0;function bU(e){return e instanceof Gn}ge.isObservableInstrument=bU});var qf=l(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.Meter=void 0;var it=Gr(),Hn=au(),_0=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new Hn.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Hn.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Hn.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Hn.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Hn.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,it.createInstrumentDescriptor)(t,it.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Hn.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};uu.Meter=_0});var lu=l($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.ExactPredicate=$n.PatternPredicate=void 0;var vU=/[\^$\\.+?()[\]{}|]/g,cu=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(cu.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(vU,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};$n.PatternPredicate=cu;var g0=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};$n.ExactPredicate=g0});var Ff=l(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.InstrumentSelector=void 0;var TU=lu(),m0=class{constructor(t){var r;this._nameFilter=new TU.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};du.InstrumentSelector=m0});var kf=l(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.MeterSelector=void 0;var jf=lu(),E0=class{constructor(t){this._nameFilter=new jf.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new jf.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new jf.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};fu.MeterSelector=E0});var ss=l(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.AggregatorKind=void 0;var RU;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(RU=is.AggregatorKind||(is.AggregatorKind={}))});var S0=l(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.DropAggregator=void 0;var OU=ss(),y0=class{constructor(){this.kind=OU.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};pu.DropAggregator=y0});var b0=l(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.HistogramAggregator=Vn.HistogramAccumulation=void 0;var PU=ss(),CU=ts();function IU(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var os=class{constructor(t,r=IU(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Vn.HistogramAccumulation=os;var A0=class{constructor(t){this._boundaries=t,this.kind=PU.AggregatorKind.HISTOGRAM}createAccumulation(){return new os(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new os(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new os(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:CU.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Vn.HistogramAggregator=A0});var T0=l(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.LastValueAggregator=Yn.LastValueAccumulation=void 0;var NU=ss(),as=te(),wU=ts(),us=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,as.hrTime)()}toPointValue(){return this._current}};Yn.LastValueAccumulation=us;var v0=class{constructor(){this.kind=NU.AggregatorKind.LAST_VALUE}createAccumulation(){return new us}merge(t,r){let n=(0,as.hrTimeToMicroseconds)(r.sampleTime)>=(0,as.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new us(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,as.hrTimeToMicroseconds)(r.sampleTime)>=(0,as.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new us(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:wU.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Yn.LastValueAggregator=v0});var O0=l(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.SumAggregator=Wn.SumAccumulation=void 0;var xU=ss(),MU=ts(),cs=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Wn.SumAccumulation=cs;var R0=class{constructor(){this.kind=xU.AggregatorKind.SUM}createAccumulation(){return new cs}merge(t,r){return new cs(t.toPointValue()+r.toPointValue())}diff(t,r){return new cs(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:MU.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Wn.SumAggregator=R0});var P0=l(Ct=>{"use strict";var LU=Ct&&Ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hu=Ct&&Ct.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LU(t,e,r)};Object.defineProperty(Ct,"__esModule",{value:!0});hu(S0(),Ct);hu(b0(),Ct);hu(T0(),Ct);hu(O0(),Ct)});var Hf=l(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.DefaultAggregation=xe.ExplicitBucketHistogramAggregation=xe.HistogramAggregation=xe.LastValueAggregation=xe.SumAggregation=xe.DropAggregation=xe.Aggregation=void 0;var DU=q(),ls=P0(),Kn=Gr(),ar=class{static Drop(){return I0}static Sum(){return N0}static LastValue(){return w0}static Histogram(){return x0}static Default(){return BU}};xe.Aggregation=ar;var Xn=class extends ar{createAggregator(t){return Xn.DEFAULT_INSTANCE}};xe.DropAggregation=Xn;Xn.DEFAULT_INSTANCE=new ls.DropAggregator;var zn=class extends ar{createAggregator(t){return zn.DEFAULT_INSTANCE}};xe.SumAggregation=zn;zn.DEFAULT_INSTANCE=new ls.SumAggregator;var Qn=class extends ar{createAggregator(t){return Qn.DEFAULT_INSTANCE}};xe.LastValueAggregation=Qn;Qn.DEFAULT_INSTANCE=new ls.LastValueAggregator;var Zn=class extends ar{createAggregator(t){return Zn.DEFAULT_INSTANCE}};xe.HistogramAggregation=Zn;Zn.DEFAULT_INSTANCE=new ls.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var C0=class extends ar{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new ls.HistogramAggregator(this._boundaries)}};xe.ExplicitBucketHistogramAggregation=C0;var Gf=class extends ar{_resolve(t){switch(t.type){case Kn.InstrumentType.COUNTER:case Kn.InstrumentType.UP_DOWN_COUNTER:case Kn.InstrumentType.OBSERVABLE_COUNTER:case Kn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return N0;case Kn.InstrumentType.OBSERVABLE_GAUGE:return w0;case Kn.InstrumentType.HISTOGRAM:return x0}return DU.diag.warn(`Unable to recognize instrument type: ${t.type}`),I0}createAggregator(t){return this._resolve(t).createAggregator(t)}};xe.DefaultAggregation=Gf;var I0=new Xn,N0=new zn,w0=new Qn,x0=new Zn,BU=new Gf});var Vf=l(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.FilteringAttributesProcessor=ur.NoopAttributesProcessor=ur.AttributesProcessor=void 0;var _u=class{static Noop(){return UU}};ur.AttributesProcessor=_u;var $f=class extends _u{process(t,r){return t}};ur.NoopAttributesProcessor=$f;var M0=class extends _u{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};ur.FilteringAttributesProcessor=M0;var UU=new $f});var Yf=l(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.View=void 0;var qU=Hf(),FU=Vf(),L0=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:qU.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:FU.AttributesProcessor.Noop()}};gu.View=L0});var D0=l(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.ViewRegistry=void 0;var jU=Ff(),kU=kf(),GU=Yf(),ds=class{constructor(){this._registeredViews=[]}addView(t,r=new jU.InstrumentSelector,n=new kU.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[ds.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};mu.ViewRegistry=ds;ds.DEFAULT_VIEW=new GU.View});var Wf=l(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.MetricStorage=void 0;var HU=Gr(),B0=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,HU.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Eu.MetricStorage=B0});var fs=l(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.AttributeHashMap=Jn.HashMap=void 0;var $U=Gt(),Kf=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Jn.HashMap=Kf;var U0=class extends Kf{constructor(){super($U.hashAttributes)}};Jn.AttributeHashMap=U0});var zf=l(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.DeltaMetricProcessor=void 0;var Xf=fs(),q0=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new Xf.AttributeHashMap,this._cumulativeMemoStorage=new Xf.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s==null||s.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new Xf.AttributeHashMap,t}};yu.DeltaMetricProcessor=q0});var Qf=l(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.TemporalMetricProcessor=void 0;var F0=ru(),VU=fs(),ps=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),c=u,d;if(this._reportHistory.has(t)){let f=this._reportHistory.get(t);a=f.collectionTime,d=f.aggregationTemporality,d===F0.AggregationTemporality.CUMULATIVE&&(c=ps.merge(f.accumulations,u,this._aggregator))}else d=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:c,collectionTime:o,aggregationTemporality:d}),this._aggregator.toMetricData(n,d,YU(c),d===F0.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new VU.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=ps.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,c,d]=a.value,f=(i=t.get(u,d))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(f,c),d),a=o.next()}return s}};Su.TemporalMetricProcessor=ps;function YU(e){return Array.from(e.entries())}});var k0=l(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.AsyncMetricStorage=void 0;var WU=Wf(),KU=zf(),XU=Qf(),zU=fs(),j0=class extends WU.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new KU.DeltaMetricProcessor(r),this._temporalMetricStorage=new XU.TemporalMetricProcessor(r)}record(t){let r=new zU.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Au.AsyncMetricStorage=j0});var Y0=l(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.getConflictResolutionRecipe=Ge.getDescriptionResolutionRecipe=Ge.getTypeConflictResolutionRecipe=Ge.getUnitConflictResolutionRecipe=Ge.getValueTypeConflictResolutionRecipe=Ge.getIncompatibilityDetails=void 0;function QU(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}Ge.getIncompatibilityDetails=QU;function G0(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}Ge.getValueTypeConflictResolutionRecipe=G0;function H0(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}Ge.getUnitConflictResolutionRecipe=H0;function $0(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}Ge.getTypeConflictResolutionRecipe=$0;function V0(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Ge.getDescriptionResolutionRecipe=V0;function ZU(e,t){return e.valueType!==t.valueType?G0(e,t):e.unit!==t.unit?H0(e,t):e.type!==t.type?$0(e,t):e.description!==t.description?V0(e,t):""}Ge.getConflictResolutionRecipe=ZU});var K0=l(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.MetricStorageRegistry=void 0;var JU=Gr(),W0=q(),bu=Y0(),vu=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new vu}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,JU.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),W0.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,bu.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,bu.getConflictResolutionRecipe)(o,r))),i=s):W0.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,bu.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,bu.getConflictResolutionRecipe)(o,r))}return i!=null?i:(n.push(t),t)}};Tu.MetricStorageRegistry=vu});var z0=l(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.MultiMetricStorage=void 0;var X0=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};Ru.MultiMetricStorage=X0});var Zf=l(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.BatchObservableResultImpl=ei.ObservableResultImpl=void 0;var Q0=q(),Z0=kn(),J0=fs(),eq=au(),eT=class{constructor(t){this._descriptor=t,this._buffer=new J0.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===Z0.ValueType.INT&&!Number.isInteger(t)&&(Q0.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};ei.ObservableResultImpl=eT;var tT=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,eq.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new J0.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===Z0.ValueType.INT&&!Number.isInteger(r)&&(Q0.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};ei.BatchObservableResultImpl=tT});var sT=l(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.ObservableRegistry=void 0;var tq=q(),rT=au(),nT=Zf(),hs=Gt(),iT=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(rT.isObservableInstrument));if(n.size===0){tq.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(rT.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,hs.PromiseAllSettled)([...r,...n])).filter(hs.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new nT.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,hs.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new nT.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,hs.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,hs.setEquals)(n.instruments,r))}};Ou.ObservableRegistry=iT});var aT=l(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.SyncMetricStorage=void 0;var rq=Wf(),nq=zf(),iq=Qf(),oT=class extends rq.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new nq.DeltaMetricProcessor(r),this._temporalMetricStorage=new iq.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Pu.SyncMetricStorage=oT});var lT=l(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.MeterSharedState=void 0;var uT=Gr(),sq=qf(),Cu=Gt(),oq=k0(),aq=K0(),uq=z0(),cq=sT(),lq=aT(),cT=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new aq.MetricStorageRegistry,this.observableRegistry=new cq.ObservableRegistry,this.meter=new sq.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,uT.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new lq.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Cu.isNotNullish);return n.length===1?n[0]:new uq.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,uT.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new oq.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Cu.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(Cu.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(Cu.isNotNullish)},errors:i}}};Iu.MeterSharedState=cT});var fT=l(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.MeterProviderSharedState=void 0;var dq=te(),fq=Gt(),pq=D0(),hq=lT(),dT=class{constructor(t){this.resource=t,this.viewRegistry=new pq.ViewRegistry,this.sdkStartTime=(0,dq.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,fq.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new hq.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};Nu.MeterProviderSharedState=dT});var hT=l(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.MetricCollector=void 0;var _q=te(),gq=Gt(),pT=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,_q.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,gq.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};wu.MetricCollector=pT});var gT=l(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.MeterProvider=void 0;var Jf=q(),mq=kn(),Eq=Hi(),yq=fT(),Sq=Ff(),Aq=kf(),bq=Yf(),vq=hT(),Tq=Vf(),Rq=lu();function Oq(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var _T=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new yq.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:Eq.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(Jf.diag.warn("A shutdown MeterProvider cannot provide a Meter"),mq.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new vq.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(Oq(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||Rq.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new Tq.FilteringAttributesProcessor(t.attributeKeys));let s=new bq.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new Sq.InstrumentSelector(r==null?void 0:r.instrument),a=new Aq.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){Jf.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){Jf.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};xu.MeterProvider=_T});var mT=l(me=>{"use strict";var Pq=me&&me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),It=me&&me.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Pq(t,e,r)};Object.defineProperty(me,"__esModule",{value:!0});me.TimeoutError=me.InstrumentType=void 0;It(ru(),me);It(ts(),me);It(Zv(),me);It(e0(),me);It(Uf(),me);It(u0(),me);var Cq=Gr();Object.defineProperty(me,"InstrumentType",{enumerable:!0,get:function(){return Cq.InstrumentType}});It(qf(),me);It(gT(),me);It(Zf(),me);var Iq=Gt();Object.defineProperty(me,"TimeoutError",{enumerable:!0,get:function(){return Iq.TimeoutError}});It(Hf(),me)});var AT=l(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.toMetric=cr.toScopeMetrics=cr.toResourceMetrics=void 0;var ET=kn(),Mu=te(),Nt=mT(),ep=Qa();function Nq(e){return{resource:{attributes:(0,ep.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:yT(e.scopeMetrics)}}cr.toResourceMetrics=Nq;function yT(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>ST(n)),schemaUrl:t.scope.schemaUrl})))}cr.toScopeMetrics=yT;function ST(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=Bq(e.aggregationTemporality);if(e.dataPointType===Nt.DataPointType.SINGULAR){let n=xq(e),i=e.descriptor.type===Nt.InstrumentType.COUNTER||e.descriptor.type===Nt.InstrumentType.OBSERVABLE_COUNTER;Lq(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else Dq(e)&&(t.histogram={aggregationTemporality:r,dataPoints:Mq(e)});return t}cr.toMetric=ST;function wq(e,t){let r={attributes:(0,ep.toAttributes)(e.attributes),startTimeUnixNano:(0,Mu.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Mu.hrTimeToNanoseconds)(e.endTime)};return t===ET.ValueType.INT?r.asInt=e.value:t===ET.ValueType.DOUBLE&&(r.asDouble=e.value),r}function xq(e){return e.dataPoints.map(t=>wq(t,e.descriptor.valueType))}function Mq(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,ep.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Mu.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Mu.hrTimeToNanoseconds)(t.endTime)}})}function Lq(e){return e.descriptor.type===Nt.InstrumentType.COUNTER||e.descriptor.type===Nt.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===Nt.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===Nt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function Dq(e){return e.dataPointType===Nt.DataPointType.HISTOGRAM}function Bq(e){return e===Nt.AggregationTemporality.DELTA?1:e===Nt.AggregationTemporality.CUMULATIVE?2:0}});var bT=l(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.createExportMetricsServiceRequest=void 0;var Uq=AT();function qq(e){return{resourceMetrics:e.map(t=>(0,Uq.toResourceMetrics)(t))}}Lu.createExportMetricsServiceRequest=qq});var vT=l(He=>{"use strict";var Fq=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Du=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fq(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});He.createExportMetricsServiceRequest=He.createExportTraceServiceRequest=void 0;Du(Cv(),He);Du(Nv(),He);Du(xv(),He);Du(Mv(),He);var jq=Uv();Object.defineProperty(He,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return jq.createExportTraceServiceRequest}});var kq=bT();Object.defineProperty(He,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return kq.createExportMetricsServiceRequest}})});var OT=l(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.OTLPTraceExporter=void 0;var ti=te(),Gq=bf(),TT=bf(),Hq=vT(),tp="v1/traces",$q=`http://localhost:4318/${tp}`,RT=class extends Gq.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,ti.baggageUtils.parseKeyPairsIntoRecord((0,ti.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,Hq.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,ti.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,TT.appendRootPathToUrlIfNeeded)((0,ti.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,tp):(0,ti.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,TT.appendResourcePathToUrl)((0,ti.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,tp):$q}};Bu.OTLPTraceExporter=RT});var PT=l(Hr=>{"use strict";var Vq=Hr&&Hr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yq=Hr&&Hr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vq(t,e,r)};Object.defineProperty(Hr,"__esModule",{value:!0});Yq(OT(),Hr)});var CT=l($r=>{"use strict";var Wq=$r&&$r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kq=$r&&$r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wq(t,e,r)};Object.defineProperty($r,"__esModule",{value:!0});Kq(PT(),$r)});var IT=l(Vr=>{"use strict";var Xq=Vr&&Vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zq=Vr&&Vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xq(t,e,r)};Object.defineProperty(Vr,"__esModule",{value:!0});zq(CT(),Vr)});var WT=l(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var Jq=I("path"),eF=I("fs"),tF=I("module");function np(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ie=np(Jq),Wr=np(eF),rF=np(tF);function Kr(e){let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}function ip(e,t){for(;;){let r=ie.default.join(e,t);if(Wr.default.existsSync(r))return Kr(r);let n=ie.default.dirname(e);if(n===e)return;e=n}}function nF(e,t){t===void 0&&(t=!1);var r=e.length,n=0,i="",s=0,o=16,a=0,u=0,c=0,d=0,f=0;function p(A,G){for(var w=0,L=0;w<A||!G;){var O=e.charCodeAt(n);if(O>=48&&O<=57)L=L*16+O-48;else if(O>=65&&O<=70)L=L*16+O-65+10;else if(O>=97&&O<=102)L=L*16+O-97+10;else break;n++,w++}return w<A&&(L=-1),L}function h(A){n=A,i="",s=0,o=16,f=0}function _(){var A=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&oi(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&oi(e.charCodeAt(n)))for(n++;n<e.length&&oi(e.charCodeAt(n));)n++;else return f=3,e.substring(A,n);var G=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&oi(e.charCodeAt(n))){for(n++;n<e.length&&oi(e.charCodeAt(n));)n++;G=n}else f=3;return e.substring(A,G)}function g(){for(var A="",G=n;;){if(n>=r){A+=e.substring(G,n),f=2;break}var w=e.charCodeAt(n);if(w===34){A+=e.substring(G,n),n++;break}if(w===92){if(A+=e.substring(G,n),n++,n>=r){f=2;break}var L=e.charCodeAt(n++);switch(L){case 34:A+='"';break;case 92:A+="\\";break;case 47:A+="/";break;case 98:A+="\b";break;case 102:A+="\f";break;case 110:A+=`
`;break;case 114:A+="\r";break;case 116:A+="	";break;case 117:var O=p(4,!0);O>=0?A+=String.fromCharCode(O):f=4;break;default:f=5}G=n;continue}if(w>=0&&w<=31)if(gs(w)){A+=e.substring(G,n),f=2;break}else f=6;n++}return A}function b(){if(i="",f=0,s=n,u=a,d=c,n>=r)return s=r,o=17;var A=e.charCodeAt(n);if(sp(A)){do n++,i+=String.fromCharCode(A),A=e.charCodeAt(n);while(sp(A));return o=15}if(gs(A))return n++,i+=String.fromCharCode(A),A===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,c=n,o=14;switch(A){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,i=g(),o=10;case 47:var G=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!gs(e.charCodeAt(n));)n++;return i=e.substring(G,n),o=12}if(e.charCodeAt(n+1)===42){n+=2;for(var w=r-1,L=!1;n<w;){var O=e.charCodeAt(n);if(O===42&&e.charCodeAt(n+1)===47){n+=2,L=!0;break}n++,gs(O)&&(O===13&&e.charCodeAt(n)===10&&n++,a++,c=n)}return L||(n++,f=1),i=e.substring(G,n),o=13}return i+=String.fromCharCode(A),n++,o=16;case 45:if(i+=String.fromCharCode(A),n++,n===r||!oi(e.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=_(),o=11;default:for(;n<r&&v(A);)n++,A=e.charCodeAt(n);if(s!==n){switch(i=e.substring(s,n),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(A),n++,o=16}}function v(A){if(sp(A)||gs(A))return!1;switch(A){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function S(){var A;do A=b();while(A>=12&&A<=15);return A}return{setPosition:h,getPosition:function(){return n},scan:t?S:b,getToken:function(){return o},getTokenValue:function(){return i},getTokenOffset:function(){return s},getTokenLength:function(){return n-s},getTokenStartLine:function(){return u},getTokenStartCharacter:function(){return s-d},getTokenError:function(){return f}}}function sp(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function gs(e){return e===10||e===13||e===8232||e===8233}function oi(e){return e>=48&&e<=57}var ju;(function(e){e.DEFAULT={allowTrailingComma:!1}})(ju||(ju={}));function iF(e,t,r){t===void 0&&(t=[]),r===void 0&&(r=ju.DEFAULT);var n=null,i=[],s=[];function o(u){Array.isArray(i)?i.push(u):n!==null&&(i[n]=u)}var a={onObjectBegin:function(){var u={};o(u),s.push(i),i=u,n=null},onObjectProperty:function(u){n=u},onObjectEnd:function(){i=s.pop()},onArrayBegin:function(){var u=[];o(u),s.push(i),i=u,n=null},onArrayEnd:function(){i=s.pop()},onLiteralValue:o,onError:function(u,c,d){t.push({error:u,offset:c,length:d})}};return sF(e,a,r),i[0]}function sF(e,t,r){r===void 0&&(r=ju.DEFAULT);var n=nF(e,!1);function i(P){return P?function(){return P(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function s(P){return P?function(V){return P(V,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var o=i(t.onObjectBegin),a=s(t.onObjectProperty),u=i(t.onObjectEnd),c=i(t.onArrayBegin),d=i(t.onArrayEnd),f=s(t.onLiteralValue),p=s(t.onSeparator),h=i(t.onComment),_=s(t.onError),g=r&&r.disallowComments,b=r&&r.allowTrailingComma;function v(){for(;;){var P=n.scan();switch(n.getTokenError()){case 4:S(14);break;case 5:S(15);break;case 3:S(13);break;case 1:g||S(11);break;case 2:S(12);break;case 6:S(16);break}switch(P){case 12:case 13:g?S(10):h();break;case 16:S(1);break;case 15:case 14:break;default:return P}}}function S(P,V,m){if(V===void 0&&(V=[]),m===void 0&&(m=[]),_(P),V.length+m.length>0)for(var H=n.getToken();H!==17;){if(V.indexOf(H)!==-1){v();break}else if(m.indexOf(H)!==-1)break;H=v()}}function A(P){var V=n.getTokenValue();return P?f(V):a(V),v(),!0}function G(){switch(n.getToken()){case 11:var P=n.getTokenValue(),V=Number(P);isNaN(V)&&(S(2),V=0),f(V);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return v(),!0}function w(){return n.getToken()!==10?(S(3,[],[2,5]),!1):(A(!1),n.getToken()===6?(p(":"),v(),M()||S(4,[],[2,5])):S(5,[],[2,5]),!0)}function L(){o(),v();for(var P=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(P||S(4,[],[]),p(","),v(),n.getToken()===2&&b)break}else P&&S(6,[],[]);w()||S(4,[],[2,5]),P=!0}return u(),n.getToken()!==2?S(7,[2],[]):v(),!0}function O(){c(),v();for(var P=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(P||S(4,[],[]),p(","),v(),n.getToken()===4&&b)break}else P&&S(6,[],[]);M()||S(4,[],[4,5]),P=!0}return d(),n.getToken()!==4?S(8,[4],[]):v(),!0}function M(){switch(n.getToken()){case 3:return O();case 1:return L();case 10:return A(!0);default:return G()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(S(4,[],[]),!1):M()?(n.getToken()!==17&&S(9,[],[]),!0):(S(4,[],[]),!1)}var oF=iF,op=/^\.{1,2}(\/.*)?$/,ap=e=>Kr(op.test(e)?e:`./${e}`),{existsSync:ms}=Wr.default,aF=e=>{try{return JSON.parse(e)}catch{}},uF=()=>{let{findPnpApi:e}=rF.default;return e&&e(process.cwd())};function HT(e){let t=aF(Wr.default.readFileSync(e,"utf8"));return ie.default.join(e,"..",t&&"tsconfig"in t?t.tsconfig:"tsconfig.json")}function cF(e,t){let r=e;if(r===".."&&(r+="/tsconfig.json"),r.startsWith(".")){let s=ie.default.resolve(t,r);if(ms(s)&&Wr.default.statSync(s).isFile()||!s.endsWith(".json")&&(s+=".json",ms(s)))return s;throw new Error(`File '${e}' not found.`)}let n=uF();if(n){let{resolveRequest:s}=n,[o,a]=e.split("/"),u=o.startsWith("@")?`${o}/${a}`:o;try{if(u===e){let c=s(ie.default.join(u,"package.json"),t);if(c){let d=HT(c);if(ms(d))return d}}else try{return s(e,t,{extensions:[".json"]})}catch{return s(ie.default.join(e,"tsconfig.json"),t)}}catch{}}let i=ip(t,ie.default.join("node_modules",r));if(i){if(Wr.default.statSync(i).isDirectory()){let s=ie.default.join(i,"package.json");if(ms(s)?i=HT(s):i=ie.default.join(i,"tsconfig.json"),ms(i))return i}else if(i.endsWith(".json"))return i}if(!r.endsWith(".json")&&(r+=".json",i=ip(t,ie.default.join("node_modules",r)),i))return i;throw new Error(`File '${e}' not found.`)}var lF=Object.defineProperty,dF=Object.defineProperties,fF=Object.getOwnPropertyDescriptors,$T=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,hF=Object.prototype.propertyIsEnumerable,VT=(e,t,r)=>t in e?lF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ai=(e,t)=>{for(var r in t||(t={}))pF.call(t,r)&&VT(e,r,t[r]);if($T)for(var r of $T(t))hF.call(t,r)&&VT(e,r,t[r]);return e},_F=(e,t)=>dF(e,fF(t));function up(e){var t;let r;try{r=Wr.default.realpathSync(e)}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}let n=ie.default.dirname(r),i=Wr.default.readFileSync(r,"utf8").trim(),s={};if(i&&(s=oF(i),!s||typeof s!="object"))throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);if(s.extends){let o=cF(s.extends,n),a=up(o);if(delete a.references,(t=a.compilerOptions)!=null&&t.baseUrl){let{compilerOptions:c}=a;c.baseUrl=ie.default.relative(n,ie.default.join(ie.default.dirname(o),c.baseUrl))||"./"}a.files&&(a.files=a.files.map(c=>ie.default.relative(n,ie.default.join(ie.default.dirname(o),c)))),a.include&&(a.include=a.include.map(c=>ie.default.relative(n,ie.default.join(ie.default.dirname(o),c)))),delete s.extends;let u=_F(ai(ai({},a),s),{compilerOptions:ai(ai({},a.compilerOptions),s.compilerOptions)});a.watchOptions&&(u.watchOptions=ai(ai({},a.watchOptions),s.watchOptions)),s=u}if(s.compilerOptions){let{compilerOptions:o}=s;o.baseUrl&&(o.baseUrl=ap(o.baseUrl)),o.outDir&&(Array.isArray(s.exclude)||(s.exclude=[]),s.exclude.push(o.outDir),o.outDir=ap(o.outDir))}if(s.files&&(s.files=s.files.map(ap)),s.include&&(s.include=s.include.map(Kr)),s.watchOptions){let{watchOptions:o}=s;o.excludeDirectories&&(o.excludeDirectories=o.excludeDirectories.map(a=>Kr(ie.default.resolve(n,a))))}return s}function gF(e=process.cwd(),t="tsconfig.json"){let r=ip(e,t);if(!r)return null;let n=up(r);return{path:r,config:n}}var mF=/\*/g,YT=(e,t)=>{let r=e.match(mF);if(r&&r.length>1)throw new Error(t)};function EF(e){if(e.includes("*")){let[t,r]=e.split("*");return{prefix:t,suffix:r}}return e}var yF=({prefix:e,suffix:t},r)=>r.startsWith(e)&&r.endsWith(t);function SF(e,t,r){return Object.entries(e).map(([n,i])=>(YT(n,`Pattern '${n}' can have at most one '*' character.`),{pattern:EF(n),substitutions:i.map(s=>{if(YT(s,`Substitution '${s}' in pattern '${n}' can have at most one '*' character.`),!t&&!op.test(s))throw new Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return ie.default.join(r,s)})}))}function AF(e){if(!e.config.compilerOptions)return null;let{baseUrl:t,paths:r}=e.config.compilerOptions;if(!t&&!r)return null;let n=ie.default.resolve(ie.default.dirname(e.path),t||"."),i=r?SF(r,t,n):[];return function(s){if(op.test(s))return[];let o=[];for(let d of i){if(d.pattern===s)return d.substitutions.map(Kr);typeof d.pattern!="string"&&o.push(d)}let a,u=-1;for(let d of o)yF(d.pattern,s)&&d.pattern.prefix.length>u&&(u=d.pattern.prefix.length,a=d);if(!a)return t?[Kr(ie.default.join(n,s))]:[];let c=s.slice(a.pattern.prefix.length,s.length-a.pattern.suffix.length);return a.substitutions.map(d=>Kr(d.replace("*",c)))}}Es.createPathsMatcher=AF,Es.getTsconfig=gF,Es.parseTsconfig=up});var JT=l((Xr,ZT)=>{"use strict";var cp=I("crypto");Xr=ZT.exports=ys;function ys(e,t){return t=XT(e,t),bF(e,t)}Xr.sha1=function(e){return ys(e)};Xr.keys=function(e){return ys(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};Xr.MD5=function(e){return ys(e,{algorithm:"md5",encoding:"hex"})};Xr.keysMD5=function(e){return ys(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var ui=cp.getHashes?cp.getHashes().slice():["sha1","md5"];ui.push("passthrough");var KT=["buffer","hex","binary","base64"];function XT(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=t.ignoreUnknown===!0,r.respectType=t.respectType!==!1,r.respectFunctionNames=t.respectFunctionNames!==!1,r.respectFunctionProperties=t.respectFunctionProperties!==!1,r.unorderedArrays=t.unorderedArrays===!0,r.unorderedSets=t.unorderedSets!==!1,r.unorderedObjects=t.unorderedObjects!==!1,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,typeof e=="undefined")throw new Error("Object argument required.");for(var n=0;n<ui.length;++n)ui[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=ui[n]);if(ui.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+ui.join(", "));if(KT.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+KT.join(", "));return r}function zT(e){if(typeof e!="function")return!1;var t=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return t.exec(Function.prototype.toString.call(e))!=null}function bF(e,t){var r;t.algorithm!=="passthrough"?r=cp.createHash(t.algorithm):r=new QT,typeof r.write=="undefined"&&(r.write=r.update,r.end=r.update);var n=lp(t,r);if(n.dispatch(e),r.update||r.end(""),r.digest)return r.digest(t.encoding==="buffer"?void 0:t.encoding);var i=r.read();return t.encoding==="buffer"?i:i.toString(t.encoding)}Xr.writeToStream=function(e,t,r){return typeof r=="undefined"&&(r=t,t={}),t=XT(e,t),lp(t,r).dispatch(e)};function lp(e,t,r){r=r||[];var n=function(i){return t.update?t.update(i,"utf8"):t.write(i,"utf8")};return{dispatch:function(i){e.replacer&&(i=e.replacer(i));var s=typeof i;return i===null&&(s="null"),this["_"+s](i)},_object:function(i){var s=/\[object (.*)\]/i,o=Object.prototype.toString.call(i),a=s.exec(o);a?a=a[1]:a="unknown:["+o+"]",a=a.toLowerCase();var u=null;if((u=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+u+"]");if(r.push(i),typeof Buffer!="undefined"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(a!=="object"&&a!=="function"&&a!=="asyncfunction")if(this["_"+a])this["_"+a](i);else{if(e.ignoreUnknown)return n("["+a+"]");throw new Error('Unknown object type "'+a+'"')}else{var c=Object.keys(i);e.unorderedObjects&&(c=c.sort()),e.respectType!==!1&&!zT(i)&&c.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(c=c.filter(function(f){return!e.excludeKeys(f)})),n("object:"+c.length+":");var d=this;return c.forEach(function(f){d.dispatch(f),n(":"),e.excludeValues||d.dispatch(i[f]),n(",")})}},_array:function(i,s){s=typeof s!="undefined"?s:e.unorderedArrays!==!1;var o=this;if(n("array:"+i.length+":"),!s||i.length<=1)return i.forEach(function(c){return o.dispatch(c)});var a=[],u=i.map(function(c){var d=new QT,f=r.slice(),p=lp(e,d,f);return p.dispatch(c),a=a.concat(f.slice(r.length)),d.read().toString()});return r=r.concat(a),u.sort(),this._array(u,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),zT(i)?this.dispatch("[native]"):this.dispatch(i.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),e.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_set:function(i){n("set:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function QT(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}});var IF={};RR(IF,{default:()=>CF});var vs=j(I("clipanion"));var Hu=j(I("@yarnpkg/cli")),Ue=j(I("@yarnpkg/core")),fe=j(I("clipanion")),hp=j(I("path")),Ss=j(oc()),pR=j(I("os"));var bi=j(I("@yarnpkg/fslib")),Y=j(I("typanion")),ks=j(F_()),eI=".yarnbuildrc.yml",tI=".bundleignore",rI=Y.isObject({folders:Y.isObject({input:Y.isOneOf([Y.isString(),Y.isArray(Y.isString())]),output:Y.isNullable(Y.isOneOf([Y.isString(),Y.isArray(Y.isString())]))}),exclude:Y.isArray(Y.isString()),bail:Y.isBoolean(),hideYarnBuildBadge:Y.isBoolean(),ignoreFile:Y.isString()}),nI=Y.isObject({input:Y.isOptional(Y.isOneOf([Y.isString(),Y.isArray(Y.isString())])),output:Y.isOptional(Y.isNullable(Y.isOneOf([Y.isString(),Y.isArray(Y.isString())]))),tsconfig:Y.isOptional(Y.isString())}),Fc={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:tI};async function iI(e){let t=eI,r=bi.ppath.join(e.projectCwd||e.startingCwd,t);if(bi.xfs.existsSync(r)){let n=await bi.xfs.readFilePromise(r,"utf8"),i=[];try{let s=(0,ks.load)(n,{schema:ks.JSON_SCHEMA});if(rI(s,{errors:i}))return s;console.warn(i)}catch(s){let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return Fc}async function j_(e){var r;let t=await iI(e);return ue(D(D({},Fc),t),{folders:D(D({},Fc.folders),(r=t.folders)!=null?r:{})})}function k_(e){let t=D({},e["yarn.build"]);return nI(t)?t:{}}var F=j(I("@yarnpkg/core")),$e=j(W_()),eR=j(I("os")),K=j(I("@yarnpkg/fslib"));var dp=j(wE()),tR=j(I("events")),rR=j(HE()),nR=j(WE()),fp=j(XE()),ku=j(rd()),Gu=j(by());var Q={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var UT=j(q());var DT=j(q()),BT=j(Md());var NT=j(qa()),wT=j(Hi()),xT=j(vt()),MT=j(IT()),LT=j(qa()),ri=j(q());process.env.DEBUG&&ri.diag.setLogger(new ri.DiagConsoleLogger,ri.DiagLogLevel.DEBUG);var Uu=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new MT.OTLPTraceExporter,r=new NT.BasicTracerProvider({resource:new wT.Resource({[xT.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new LT.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var Yr=j(q()),lr=class{constructor(t){this.name=t,this._tracer=Uu.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:DT.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){var o;let n;if(typeof t.ctx=="undefined"?n=Yr.context.active():n=t.ctx,!!t.propegateFromEnv||((o=t==null?void 0:t.spanOptions)==null?void 0:o.kind)==4){let a=process.env.TRACEPARENT;if(typeof a=="string"){let u=(0,BT.parseTraceParent)(a!=null?a:"");u&&(n=Yr.trace.setSpanContext(Yr.context.active(),u))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=Yr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(a){if((typeof a=="string"||a instanceof Error)&&this.recordException(i,a),!t.supressExceptions)throw a}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=Yr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var ii=class{constructor(){this.tracer=new lr("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new ni(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let s=t.dependencies[i];if(!r.has(s.id)){if(n.has(s.id))throw new qu(t.id,s.id);this.resolveNode(s,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let s=new Set,o=new Set,a={};for(let u of r)this.resolveQueue(u,s,a);return n?(await this.dryRunLoop(s,a,o,0),a):(await new Promise(u=>{this.workLoop(i,s,a,o,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((s,o)=>{this.dryRunCallback(s,i-1),r[s.id]={success:!0,done:!0},n.delete(o)}),t.size!==0&&t.forEach(s=>{var o;s.canStart(r)&&((o=s==null?void 0:s.node)==null?void 0:o.runCallback)&&(n.add(s.node),t.delete(s))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,s){if(r.size!==0&&r.forEach(o=>{var a,u;o.canStart(n)&&(((a=o==null?void 0:o.node)==null?void 0:a.runCallback)?((u=o==null?void 0:o.node)==null||u.runCallback(t,n),i.add(o.node)):n[o.node.id]={success:!0,done:!0},r.delete(o))}),i.forEach((o,a)=>{n[o.id].done&&i.delete(a)}),Object.keys(n).map(o=>{var a,u;return(u=(a=n[o])==null?void 0:a.done)!=null?u:!0}).every(o=>o===!0)){s();return}setTimeout(()=>this.workLoop(t,r,n,i,s),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(s=>{let o=t.dependencies[s];if(i.push(o.id),!n[o.id]&&o.runCallback){n[o.id]=D({},ii.RunLogInit);let a=this.resolveQueue(o,r,n),u={node:o,canStart:ii.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]=D({},ii.RunLogInit);let s={node:t,canStart:ii.QueueItemCanStart(i)};r.add(s)}return i}},_s=ii;_s.RunLogInit={success:!1,done:!1},_s.QueueItemCanStart=t=>r=>t.map(n=>{var i,s;return(s=(i=r[n])==null?void 0:i.done)!=null?s:!0}).every(n=>n===!0);var ni=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,ni.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},qu=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var qT=j(rd()),Qq="",Qe=Qq+"[",rp=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);rp.cursorUp(t)}static cursorUp(t=1){process.stdout.write(Qe+`${t}A`)}static cursorSave(){process.stdout.write(Qe+"s")}static cursorRestore(){process.stdout.write(Qe+"u")}static autoWrap(t){t?process.stdout.write(Qe+"?7h"):process.stdout.write(Qe+"?7l")}static clearScreenDown(){process.stdout.write(Qe+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(Qe+"6n")})}static setScrollableRegion(t,r){process.stdout.write(Qe+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(Qe+"r")}static moveTo(t){process.stdout.write(Qe+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(Qe+"H")}static alternateScreen(){process.stdout.write(Qe+"?1049h")}static mainScreen(){process.stdout.write(Qe+"?1049l")}static linesRequired(t,r){var s;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((s=(0,qT.default)(t).match(n))!=null?s:[""]).length-1}},lt=rp;lt.row=0,lt.column=0;var jT=j(I("child_process")),kT=j(I("util"));var FT=()=>process.platform==="win32"?"windows":"unix";var Zq=(0,kT.promisify)(jT.exec),GT=async e=>{let t=FT(),r=(({platform:i,pid:s})=>{switch(i){case"unix":return`pgrep "-P ${s}"`;case"windows":return`wmic process where (ParentProcessId=${s}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await Zq(r);n=i.split(`
`).filter(Boolean).map(s=>parseInt(s,10)).filter(s=>!isNaN(s))}catch(i){}return n};var si={hasBeenTerminated:!1,callId:0},Fu=async(e=0)=>{if(e!==si.callId||si.hasBeenTerminated)return;let t=process.pid;(await GT(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(s){}});let n=si.callId+1;si.callId=n,setTimeout(async()=>{Fu(n)},50)};var iR=j(q());var sR=j(WT()),oR=j(JT()),vF="yarn.build.json",aR=80,TF="-".repeat(aR),wt;(function(s){s.pending="pending",s.skipped="skipped",s.inProgress="inProgress",s.failed="failed",s.succeeded="succeeded"})(wt||(wt={}));var ce;(function(d){d.pending="pending",d.start="start",d.info="info",d.error="error",d.skipped="skipped",d.ignored="ignored",d.success="success",d.fail="fail",d.finish="finish",d.forceQuit="force-quit"})(ce||(ce={}));var uR=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:s,pluginConfiguration:o,dryRun:a,ignoreRunCache:u,verbose:c,concurrency:d,continueOnError:f,excludeWorkspacePredicate:p,ignoreDependencies:h,failFast:_}){this.tracer=new lr("yarn.build");this.runGraph=new _s;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new tR.EventEmitter;this.ignoreDependencies=!1;this.failFast=!1;this.runReport={mutex:new fp.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.checkIfRunIsRequiredCache={};this.planCache={};this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(ce.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(ce.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(s=>{this.runReport.workspaces[t]=ue(D({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),s()})}),this.runReporter.on(ce.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(ce.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(ce.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=ue(D({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];if($e.default){let s=`\u2705 ${t}`.padEnd(60),o=zr(0,(i=n.runtimeSeconds)!=null?i:0).padStart(19);process.stdout.write(`${s}${o}
`)}r()})}),this.runReporter.on(ce.skipped,t=>{this.runReport.mutex.acquire().then(r=>{if(this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r(),$e.default){let n=`\u23E9 ${t} `.padEnd(60),i="--".padStart(19);process.stdout.write(`${n}${i}
`)}})}),this.runReporter.on(ce.ignored,t=>{this.runReport.mutex.acquire().then(r=>{var s;this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r();let n=this.runReport.workspaces[t],i=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);if($e.default){let o=`[IGNORE${(i==null?void 0:i.exitCode)?`: ${i==null?void 0:i.exitCode}`:""}] ${n.name} `.padEnd(60),a="--".padStart(19);process.stdout.write(`${o}${a}
`)}})}),this.runReporter.on(ce.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var o,a;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],s=(o=this.runLog)==null?void 0:o.get(`${t}#${this.runCommand}`);if($e.default){let u=`\u274C ${t}`.padEnd(50),c=`${(s==null?void 0:s.exitCode)?`(exit code: ${s==null?void 0:s.exitCode})`:"\u2192"} ${zr(0,(a=i.runtimeSeconds)!=null?a:0)}`.padStart(29);process.stdout.write(`${u}${c}
`)}})})};this.getDependenciesCount=async t=>{let r=0;for(let n of F.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,a,u,c,d;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");if(typeof this.planCache[r.relativeCwd]!="undefined")return this.planCache[r.relativeCwd];this.runGraph.checkCyclical(t);let n=!1,i=!1;if(this.runMutexes[r.relativeCwd]=new fp.Mutex,this.ignoreDependencies===!1)for(let f of F.Manifest.hardDependencies)for(let p of r.manifest.getForScope(f).values()){let h=this.project.tryWorkspaceByDescriptor(p);if(h===null||this.excludeWorkspacePredicate(h)||typeof h.manifest.scripts.get(this.runCommand)=="undefined")continue;let _=this.runGraph.addNode(h.relativeCwd);t.addDependency(_),this.runGraph.checkCyclical(_),await this.plan(_,h)&&(this.runGraph.addRunCallback(_,this.createRunItem(h)),i=!0,this.removeFromExcluded(h))}let s=!1;if(r!==this.project.topLevelWorkspace&&(s=await this.checkIfRunIsRequired(r)),this.runReporter.emit(ce.pending,r.relativeCwd,r.locator),i||s)n=!0,this.runReporter.emit(ce.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(a=r.manifest.name)==null?void 0:a.scope}/`:""}${(u=r.manifest.name)==null?void 0:u.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);else{let f=(c=this.runLog)==null?void 0:c.get(`${r.relativeCwd}#${this.runCommand}`);f&&((d=this.runLog)==null||d.set(`${r.relativeCwd}#${this.runCommand}`,{checksum:f.checksum,status:wt.succeeded,rerun:!1,command:this.runCommand}))}if(n){let f=r.getRecursiveWorkspaceDependents();for(let h of f)this.markWorkspaceForRerun(h);let p=Array.from(r.getRecursiveWorkspaceDependencies()).filter(h=>this.isWorkspaceMarkedForRerun(h));for(let h of p){let _=h.getRecursiveWorkspaceDependents();for(let g of _)this.markWorkspaceForRerun(g)}}return this.planCache[r.relativeCwd]=n,n};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",s={1:[]};this.runGraph.dryRunCallback=(u,c)=>{s[c]?s[c].push(u.id):s[c]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let o=(u,c,d,f)=>{let p=d?"\u2514\u2500":f&&d?"\u2514\u2500\u252C\u2500":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${p}[${u}] ${c}`},a=Object.keys(s);return a.forEach((u,c)=>{let d=parseInt(u),f=s[d],p=c==a.length-1;f.forEach((h,_)=>{let g=this.runGraph.getNode(h);i+=o(d,h,_==f.length-1,p),g instanceof ni&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{var o,a;let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),($e.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),$e.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;$e.default||lt.pad(this.concurrency+3),$e.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(a=(o=this.runTargets[0])==null?void 0:o.relativeCwd)!=null?a:"Nothing to run",$e.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let s=this.generateFinalReport();return typeof s=="string"&&process.stdout.write(`
${s}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";$e.default?this.updateProgressCI(t):(n=this.generateProgressString(t),lt.cursorUp(lt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),lt.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,OF(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>F.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=F.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=F.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),s=F.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${s} ${zr(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var s;$e.default||(lt.cursorUp(lt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),lt.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),$e.default&&(t=!0),t){let o=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let a in this.runReport.workspaces){let u=this.runReport.workspaces[a];u.fail&&o.push(a),!(this.runReport.failCount!==0&&u.fail===!1)&&((u.stdout.length!==0||u.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${F.formatUtils.pretty(this.configuration,a,F.FormatType.PATH)}`,2)+`
`}`),u.stdout.length!==0&&u.stdout.forEach(c=>{c.split(`
`).forEach(f=>{typeof f!="undefined"&&f.length!==0&&(r+=`${f+`
`}`)})}),u.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,u.stderr.forEach(d=>{(d instanceof Error?d.toString():`${d}`).split(`
`).forEach(h=>{typeof h!="undefined"&&h.length!==0&&(r+=`${h+`
`}`)})})))}o.length>=2&&(r+=`${this.grey(TF)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,o.forEach(u=>{r+=`${`- ${F.formatUtils.pretty(this.configuration,u,F.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${F.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?F.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:o,failCount:a,ignoredCount:u,skipCount:c}=this.runReport,d=this.runGraph.runSize-u,f=d-a-o-c,p=F.formatUtils.pretty(this.configuration,`Success: ${o}`,"green"),h=F.formatUtils.pretty(this.configuration,`Fail: ${a}`,"red"),_=F.formatUtils.pretty(this.configuration,`Skipped: ${c}`,"white"),g=F.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),b=F.formatUtils.pretty(this.configuration,`Up to date: ${f}`,"white"),v=F.formatUtils.pretty(this.configuration,`Total: ${d}`,"white");if(r+=p+`
`,r+=b+`
`,r+=h+`
`,this.verbose&&a>0&&Object.keys(this.runReport.workspaces).forEach(S=>{let A=this.runReport.workspaces[S];A.fail&&(r+=` - ${F.formatUtils.pretty(this.configuration,S,"grey")}${F.formatUtils.pretty(this.configuration,A.locator,"IDENT")}
`)}),r+=_+`
`,this.verbose&&c>0&&Object.keys(this.runReport.workspaces).forEach(S=>{let A=this.runReport.workspaces[S];A.skipped&&(r+=` - ${F.formatUtils.pretty(this.configuration,S,"grey")}${F.formatUtils.pretty(this.configuration,A.locator,"IDENT")}
`)}),r+=g+`
`,this.verbose&&this.excluded.size>0)for(let S of this.excluded)r+=` - ${F.formatUtils.pretty(this.configuration,S.relativeCwd,"grey")}${F.formatUtils.pretty(this.configuration,S.locator,"IDENT")}
`;r+=v+`
`+this.grey("---")+`
`}let i=50;for(let o in this.runReport.workspaces)i+=(s=this.runReport.workspaces[o].runtimeSeconds)!=null?s:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let o=i,u=Date.now()-this.runReport.runStart,c=zr(u,o);r+=`Cumulative: (cpu): ${zr(0,i)}
`,r+=`Saved: ${c}
`}return this.runReport.runStart&&(r+="Runtime (wall): "+zr(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:s})=>{var d,f,p,h,_,g,b,v;let o=t.relativeCwd,a={[Q.PACKAGE_NAME]:t.locator.name,[Q.PACKAGE_DIRECTORY]:t.relativeCwd,[Q.PACKAGE_COMMAND]:this.runCommand};typeof t.locator.scope=="string"&&(a[Q.PACKAGE_SCOPE]=`@${t.locator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[Q.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let c=(d=this.runLog)==null?void 0:d.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(ce.start,t.relativeCwd,t.locator,`${((f=t.manifest.name)==null?void 0:f.scope)?`@${(p=t.manifest.name)==null?void 0:p.scope}/`:""}${(h=t.manifest.name)==null?void 0:h.name}`,u),i.addEvent("start"),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit(ce.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(ce.ignored,t.relativeCwd),i.addEvent("ignored"),!0;try{if(this.runReport.failCount!==0&&!this.continueOnError&&(this.runReporter.emit(ce.skipped,t.relativeCwd),i.addEvent("skipped"),(_=this.runLog)==null||_.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:wt.skipped,rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let S=await this.cli(s,this.runCommand,t.cwd,this.runReporter,o);if(i.setAttribute(Q.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,S),S!==0)return this.runReporter.emit(ce.fail,t.relativeCwd),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:wt.failed,rerun:!0,command:this.runCommand,exitCode:`${S}`}),this.failFast===!0&&($e.default&&process.stdout.write(`--fail-fast is set, terminating all processes
`),Fu()),!1;(b=this.runLog)==null||b.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:wt.succeeded,rerun:!1,command:this.runCommand}),this.runReporter.emit(ce.success,t.relativeCwd)}catch(S){return this.runReporter.emit(ce.fail,t.relativeCwd,S),(v=this.runLog)==null||v.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:c==null?void 0:c.checksum,status:wt.failed,rerun:!0,command:this.runCommand}),(typeof S=="string"||S instanceof Error)&&i.recordException(S),i.setStatus({code:iR.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),Fu()),!1}return!1}));let g=d!=null?d:(0,eR.cpus)().length;this.configuration=s,this.pluginConfiguration=o,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=c,this.concurrency=g,this.continueOnError=f,this.limit=(0,nR.default)(g),this.queue=new rR.default({concurrency:g,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=p,this.verbose&&(this.errorLogFile=K.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"})),this.ignoreDependencies=h,this.failFast=_}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return K.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return K.ppath.resolve(this.project.cwd,".yarn",vF)}async readRunLog(){let t=new Map;try{let r=await K.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{checksum:r.packages[n].checksum,status:r.packages[n].status,rerun:r.packages[n].rerun,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await K.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:D({},t&&t.packages)};for(let[n]of this.runLog)r.packages[n]=D(D({},r.packages[n]),this.runLog.get(n));await K.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return;let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}markWorkspaceForRerun(t){var n,i,s;if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return;let r=(n=this.runLog)==null?void 0:n.get(`${t.relativeCwd}#${this.runCommand}`);(s=this.runLog)==null||s.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:(i=r==null?void 0:r.checksum)!=null?i:"",status:wt.succeeded,rerun:!0,command:this.runCommand})}isWorkspaceMarkedForRerun(t){var n,i;if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return!1;let r=(n=this.runLog)==null?void 0:n.get(`${t.relativeCwd}#${this.runCommand}`);return(i=r==null?void 0:r.rerun)!=null?i:!1}async checkIfRunIsRequired(t){var p,h,_,g,b,v,S,A,G,w,L,O,M,P,V,m,H,X,se,E,y,Se;if(typeof this.checkIfRunIsRequiredCache[t.relativeCwd]!="undefined")return this.checkIfRunIsRequiredCache[t.relativeCwd];if(typeof t.manifest.scripts.get(this.runCommand)!="string")return this.checkIfRunIsRequiredCache[t.relativeCwd]=!1,!1;let r=!1;this.ignoreRunCache&&(r=!0);let n=(p=this.runLog)==null?void 0:p.get(`${t.relativeCwd}#${this.runCommand}`);(n==null?void 0:n.rerun)&&(r=!0);for(let B of t.getRecursiveWorkspaceDependencies())if(this.checkIfRunIsRequiredCache[B.relativeCwd]===!0){r=!0;break}let i=k_(t.manifest.raw),s=(i==null?void 0:i.input)!=null,o=typeof(i==null?void 0:i.output)!="undefined",a=(h=i.input)!=null?h:this.pluginConfiguration.folders.input,u=new Set,c=new Set(Array.isArray(a)?a:[a]),d=(_=i.output)!=null?_:[],f=new Set(Array.isArray(d)?d:[d]);if(o||(typeof((b=(g=t==null?void 0:t.manifest)==null?void 0:g.raw)==null?void 0:b.bin)=="string"?f.add(t.manifest.raw.bin):typeof((A=(S=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:S.directories)==null?void 0:A.bin)=="string"?f.add(t.manifest.raw.directories.bin):typeof((w=(G=t==null?void 0:t.manifest)==null?void 0:G.raw)==null?void 0:w.files)=="string"?f.add(t.manifest.raw.files):Array.isArray((O=(L=t==null?void 0:t.manifest)==null?void 0:L.raw)==null?void 0:O.files)?t.manifest.raw.files.forEach(B=>B&&f.add(B)):typeof((P=(M=t==null?void 0:t.manifest)==null?void 0:M.raw)==null?void 0:P.main)=="string"&&f.add(t.manifest.raw.main)),!s||!o)try{let B=(V=i.tsconfig)!=null?V:"tsconfig.json",Ae=K.xfs.pathUtils.join(t.cwd,K.npath.toPortablePath(B));if(await K.xfs.existsPromise(Ae)){let J=(0,sR.parseTsconfig)(K.npath.fromPortablePath(Ae)),st=K.ppath.dirname(Ae);if(!s){if((m=J.compilerOptions)==null?void 0:m.incremental){let dt=(H=J.compilerOptions.tsBuildInfoFile)!=null?H:`${K.ppath.basename(Ae,K.ppath.extname(Ae))}.tsbuildinfo`,ve=K.ppath.join(st,K.npath.toPortablePath(dt)),qe=K.ppath.relative(t.cwd,ve);u.add(qe)}(X=J.include)==null||X.forEach(dt=>{let ve=K.ppath.join(st,K.npath.toPortablePath(dt)),qe=K.ppath.relative(t.cwd,ve);c.add(qe)}),(se=J.exclude)==null||se.forEach(dt=>{let ve=K.ppath.join(st,K.npath.toPortablePath(dt)),qe=K.ppath.relative(t.cwd,ve);u.add(qe)})}if(!o&&((E=J.compilerOptions)==null?void 0:E.outDir)!=null){let dt=K.ppath.join(st,K.npath.toPortablePath(K.npath.toPortablePath(J.compilerOptions.outDir))),ve=K.ppath.relative(t.cwd,dt);f.add(ve)}}}catch(B){console.warn(t.relativeCwd,`
`,B)}f.size===0&&(Array.isArray(this.pluginConfiguration.folders.output)?this.pluginConfiguration.folders.output.forEach(B=>B&&f.add(B)):typeof this.pluginConfiguration.folders.output=="string"&&f.add(this.pluginConfiguration.folders.output));{let B=[...new Set(["node_modules",...f,...u])].map(J=>K.npath.toPortablePath(J)),Ae=[...c].map(J=>K.npath.toPortablePath(J)),Ve=await this.runReport.mutex.acquire();try{let J=await RF(t.cwd,Ae,B);if((n==null?void 0:n.checksum)!==J&&(r=!0),!r){let st=K.npath.fromPortablePath(t.cwd);(await Promise.all([...f].map(async ve=>{try{return(await(0,dp.default)(ve,{dot:!0,cwd:st})).length===0}catch{return!1}}))).some(ve=>ve===!0)&&(r=!0)}(y=this.runLog)==null||y.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:J,status:r?wt.succeeded:wt.pending,rerun:r,command:this.runCommand})}catch(J){(Se=this.runReport.workspaces[t.relativeCwd])==null||Se.stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${J})`))}finally{Ve()}}return this.checkIfRunIsRequiredCache[t.relativeCwd]=r,r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,s=(0,ku.default)(i).length,o=n?"[ yarn.build ]":"",a=aR-s;return n&&(a-=o.length),i+this.grey("-".repeat(a))+this.grey(o)}generateHeaderString(){return`${F.formatUtils.pretty(this.configuration,`${this.runCommand}`,F.FormatType.CODE)} for ${F.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",F.FormatType.SCOPE)}${this.dryRun?F.formatUtils.pretty(this.configuration," --dry-run",F.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-n.start)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=o=>this.grey(`[${o}]`),i=F.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let s=1;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(!a||!a.start||a.done)continue;let u=F.formatUtils.pretty(this.configuration,o,F.FormatType.PATH),c=F.formatUtils.pretty(this.configuration,`(${a.runScript})`,F.FormatType.REFERENCE),d=a.start?F.formatUtils.pretty(this.configuration,zr(a.start,t),F.FormatType.RANGE):"",f=n(s++),p=" ".repeat(f.length-1),h=F.formatUtils.pretty(this.configuration,a.name,F.FormatType.NAME),_=`${f} ${h}${F.formatUtils.pretty(this.configuration,"@","grey")}${u} ${c} ${d}
`,g="",b="",v="";(0,ku.default)(_).length>=process.stdout.columns&&(g=`${f} ${u}${h}
`,b=`${p} ${c} ${d}
`,(0,ku.default)(g).length>=process.stdout.columns&&(g=(0,Gu.default)(`${f} ${u}
`,0,process.stdout.columns),b=(0,Gu.default)(`${p} ${h}
`,0,process.stdout.columns),v=(0,Gu.default)(`${p} ${c} ${d}
`,0,process.stdout.columns)),_=g+b+v),r+=_}for(s;s<this.concurrency+1;)r+=`${n(s++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},RF=async(e,t,r)=>{let n=await(0,dp.default)(t,{cwd:K.npath.fromPortablePath(e),absolute:!0,expandDirectories:!0,dot:!0,ignore:r});n.sort();let i=await Promise.all(n.map(async s=>{let o=K.npath.toPortablePath(s),a=await K.xfs.statPromise(o);return{path:K.ppath.relative(e,o),size:a.isFile()?a.size:0,lastModified:a.isFile()?a.mtimeMs:0}}));return(0,oR.default)(i)},zr=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function OF(e){return new Promise(t=>setTimeout(t,e))}var cR=uR;var lR=j(I("child_process"));async function pp(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,lR.exec)(n,(i,s,o)=>{if(i&&r(i),s){let a=s.split(`
`),c=[...e.root.workspacesCwds].map(d=>{if(a.some(f=>f.startsWith(d.replace(`${e.root.cwd}/`,""))))return d}).filter(d=>!!d).map(d=>!!d&&e.root.project.workspacesByCwd.get(d)).filter(d=>!!d);t(c)}o&&t([])})})}var Qr=j(I("@yarnpkg/core"));var dR=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...dR(i,t))}return r},fR=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=dR(e,t);for(let i of n)for(let s of Qr.Manifest.hardDependencies){for(let o of i.manifest.getForScope(s).values()){let a=t.tryWorkspaceByDescriptor(o);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof qu){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,s=n.node.length<n.dep.length+4?"\u21B0":"",o=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${Qr.formatUtils.pretty(r.configuration,n.node,"white")} ${s}
 \u21B3 ${Qr.formatUtils.pretty(r.configuration,n.dep,"red")} ${o}

`,i+=Qr.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=Qr.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var As=j(q());var bs=class extends Hu.BaseCommand{constructor(){super(...arguments);this.json=fe.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=fe.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=fe.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=fe.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=fe.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=fe.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a job, but not actually run it"});this.ignoreBuildCache=fe.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=fe.Option.String("-m,--max-concurrency",{description:"is the maximum number of jobs that can run at a time, defaults to the number of logical CPUs on the current machine."});this.continueOnError=fe.Option.Boolean("--continue-on-error",!1,{description:"if a job fails, continue with the rest"});this.failFast=fe.Option.Boolean("--fail-fast",!1,{description:"if a job fails, terminate other running jobs"});this.exclude=fe.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=fe.Option.Boolean("--exclude-current",!1,{description:"run for this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=fe.Option.Boolean("--changes",!1,{description:"only run for packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=fe.Option.String("--since",{description:"only run for packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=fe.Option.String("--since-branch",{description:"only run for packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=fe.Option.Boolean("--only-current",!1,{description:"only run for the current workspace"});this.ignoreDependencies=fe.Option.Boolean("--ignore-dependencies",!1,{description:"when true, don't run for packages this one depends on"});this.buildTargets=fe.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.commandType="build"}async execute(){return await new lr("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:r,ctx:n})=>{var b,v;r.setAttributes({[Q.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[Q.YARN_BUILD_FLAGS_ALL]:this.all,[Q.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[Q.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[Q.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[Q.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[Q.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[Q.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[Q.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[Q.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[Q.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[Q.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[Q.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[Q.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[Q.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[Q.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let i=await Ue.Configuration.find(this.context.cwd,this.context.plugins),{project:s,workspace:o}=await Ue.Project.find(i,this.context.cwd);if(!o)throw new Hu.WorkspaceRequiredError(s.cwd,this.context.cwd);let a=this.all?s.topLevelWorkspace:o,u=!1;a==s.topLevelWorkspace&&(u=!0);let c=[a,...this.buildTargets.length>0?a.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?c=await pp({root:s.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(c=await pp({root:s.topLevelWorkspace,commit:(b=this.onlyGitChangesSinceCommit)!=null?b:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(Ue.structUtils.stringifyIdent(o.locator)),!u&&this.onlyCurrent&&(this.maxConcurrency="1");let d=S=>{var A,G;return!u&&this.onlyCurrent?S!=o:(G=(A=this.exclude)==null?void 0:A.some(w=>Ss.default.isMatch(Ue.structUtils.stringifyIdent(S.locator),w)||Ss.default.isMatch(S.cwd,`${i.projectCwd}${hp.default.posix.sep}${w}`)))!=null?G:!1},f=S=>!u&&this.onlyCurrent?S==o:this.buildTargets.some(A=>Ss.default.isMatch(Ue.structUtils.stringifyIdent(S.locator),A)||Ss.default.isMatch(S.cwd,`${i.projectCwd}${hp.default.posix.sep}${A}`)),p=this.buildTargets.length>0?c.filter(f):c,h=await j_(i);this.continueOnError=(v=this.continueOnError)!=null?v:!!h.bail;let _=this.maxConcurrency===void 0?(0,pR.cpus)().length:parseInt(this.maxConcurrency);r.setAttributes({[Q.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[Q.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[Q.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[Q.YARN_BUILD_CONFIG_BAIL]:h.bail,[Q.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[Q.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:_,[Q.YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES]:this.ignoreDependencies});let g=await Ue.StreamReport.start({configuration:i,json:this.json,stdout:this.context.stdout,includeLogs:!0},async S=>{let A=async(L,O,M,P,V)=>{let m=As.trace.getSpan(L),H=new Ue.miscUtils.BufferStream;H.on("data",se=>P==null?void 0:P.emit(ce.info,V,se&&se.toString()));let X=new Ue.miscUtils.BufferStream;if(X.on("data",se=>P==null?void 0:P.emit(ce.error,V,se&&se.toString())),this.forceQuit)return H.destroy(),X.destroy(),H.end(),X.end(),2;try{let se=await this.cli.run(["run",O],{cwd:M,stdout:H,stderr:X})||0;return H.end(),X.end(),se}catch(se){m==null||m.setStatus({code:As.SpanStatusCode.ERROR,message:se.message}),(typeof se=="string"||se instanceof Error)&&(m==null||m.recordException(se)),H.end(),X.end()}return 2},G=new cR({project:s,configuration:i,pluginConfiguration:h,report:S,runCommand:this.buildCommand,cli:A,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:_,continueOnError:this.continueOnError,excludeWorkspacePredicate:d,ignoreDependencies:this.ignoreDependencies,failFast:this.failFast});G.runReporter.on(ce.forceQuit,()=>{this.forceQuit=!0}),await G.setup();for(let L of p)await fR({targetWorkspace:L,project:s,supervisor:G});await G.run(n)===!1&&(S.reportError(Ue.MessageName.BUILD_FAILED,"Build failed"),r.setStatus({code:As.SpanStatusCode.ERROR,message:"Build failed"}))});return si.hasBeenTerminated=!0,g.exitCode()})}};bs.paths=[["build"]],bs.usage=fe.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var hR=bs;var Ts=class extends hR{constructor(){super(...arguments);this.buildCommand=vs.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=vs.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.ignoreDependencies=!0;this.commandType="test"}};Ts.paths=[["test"]],Ts.usage=vs.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var _R=Ts;var PF={commands:[_R]},CF=PF;return IF;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
