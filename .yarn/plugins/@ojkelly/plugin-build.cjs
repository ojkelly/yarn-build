/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-build",
factory: function (require) {
"use strict";var plugin=(()=>{var RN=Object.create;var xo=Object.defineProperty;var yN=Object.getOwnPropertyDescriptor;var bN=Object.getOwnPropertyNames;var vN=Object.getPrototypeOf,PN=Object.prototype.hasOwnProperty;var v=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),CN=(e,t)=>{for(var r in t)xo(e,r,{get:t[r],enumerable:!0})},wm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of bN(t))!PN.call(e,i)&&i!==r&&xo(e,i,{get:()=>t[i],enumerable:!(n=yN(t,i))||n.enumerable});return e};var te=(e,t,r)=>(r=e!=null?RN(vN(e)):{},wm(t||!e||!e.__esModule?xo(r,"default",{value:e,enumerable:!0}):r,e)),IN=e=>wm(xo({},"__esModule",{value:!0}),e);var Bo=c(st=>{"use strict";st.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;st.find=(e,t)=>e.nodes.find(r=>r.type===t);st.exceedsLimit=(e,t,r=1,n)=>n===!1||!st.isInteger(e)||!st.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;st.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};st.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;st.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;st.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;st.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);st.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var Uo=c((V5,xm)=>{"use strict";var Dm=Bo();xm.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&Dm.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Dm.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var Um=c(($5,Bm)=>{"use strict";Bm.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Ym=c((Y5,$m)=>{"use strict";var Gm=Um(),Lr=(e,t,r)=>{if(Gm(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Gm(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(Lr.cache.hasOwnProperty(u))return Lr.cache[u].result;let l=Math.min(e,t),d=Math.max(e,t);if(Math.abs(l-d)===1){let E=e+"|"+t;return n.capture?`(${E})`:n.wrap===!1?E:`(?:${E})`}let _=Vm(e)||Vm(t),f={min:e,max:t,a:l,b:d},p=[],h=[];if(_&&(f.isPadded=_,f.maxLen=String(f.max).length),l<0){let E=d<0?Math.abs(d):1;h=jm(E,Math.abs(l),f,n),l=f.a=0}return d>=0&&(p=jm(l,d,f,n)),f.negatives=h,f.positives=p,f.result=NN(h,p,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&p.length+h.length>1&&(f.result=`(?:${f.result})`),Lr.cache[u]=f,f.result};function NN(e,t,r){let n=Md(e,t,"-",!1,r)||[],i=Md(t,e,"",!1,r)||[],s=Md(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function LN(e,t){let r=1,n=1,i=qm(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=qm(e,r);for(i=km(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=km(t+1,n)-1;return s=[...s],s.sort(DN),s}function MN(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=wN(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,l]=n[a];u===l?s+=u:u!=="0"||l!=="9"?s+=xN(u,l,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function jm(e,t,r,n){let i=LN(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let l=i[u],d=MN(String(o),String(l),n),_="";if(!r.isPadded&&a&&a.pattern===d.pattern){a.count.length>1&&a.count.pop(),a.count.push(d.count[0]),a.string=a.pattern+Hm(a.count),o=l+1;continue}r.isPadded&&(_=BN(l,r,n)),d.string=_+d.pattern+Hm(d.count),s.push(d),o=l+1,a=d}return s}function Md(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Fm(t,"string",a)&&s.push(r+a),n&&Fm(t,"string",a)&&s.push(r+a)}return s}function wN(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function DN(e,t){return e>t?1:t>e?-1:0}function Fm(e,t,r){return e.some(n=>n[t]===r)}function qm(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function km(e,t){return e-e%Math.pow(10,t)}function Hm(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function xN(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Vm(e){return/^-?(0+)\d/.test(e)}function BN(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Lr.cache={};Lr.clearCache=()=>Lr.cache={};$m.exports=Lr});var xd=c((W5,eS)=>{"use strict";var UN=v("util"),Xm=Ym(),Wm=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),GN=e=>t=>e===!0?Number(t):String(t),wd=e=>typeof e=="number"||typeof e=="string"&&e!=="",as=e=>Number.isInteger(+e),Dd=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},jN=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,FN=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Km=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},qN=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},zm=(e,t,r,n)=>{if(r)return Xm(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},Qm=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Xm(e,t,r)},Zm=(...e)=>new RangeError("Invalid range arguments: "+UN.inspect(...e)),Jm=(e,t,r)=>{if(r.strictRanges===!0)throw Zm([e,t]);return[]},kN=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},HN=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw Zm([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),l=String(r);r=Math.max(Math.abs(r),1);let d=Dd(a)||Dd(u)||Dd(l),_=d?Math.max(a.length,u.length,l.length):0,f=d===!1&&jN(e,t,n)===!1,p=n.transform||GN(f);if(n.toRegex&&r===1)return zm(Km(e,_),Km(t,_),!0,n);let h={negatives:[],positives:[]},E=O=>h[O<0?"negatives":"positives"].push(Math.abs(O)),A=[],T=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?E(i):A.push(FN(p(i,T),_,f)),i=o?i-r:i+r,T++;return n.toRegex===!0?r>1?qN(h,n):Qm(A,null,{wrap:!1,...n}):A},VN=(e,t,r=1,n={})=>{if(!as(e)&&e.length>1||!as(t)&&t.length>1)return Jm(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),l=Math.max(s,o);if(n.toRegex&&r===1)return zm(u,l,!1,n);let d=[],_=0;for(;a?s>=o:s<=o;)d.push(i(s,_)),s=a?s-r:s+r,_++;return n.toRegex===!0?Qm(d,null,{wrap:!1,options:n}):d},Go=(e,t,r,n={})=>{if(t==null&&wd(e))return[e];if(!wd(e)||!wd(t))return Jm(e,t,n);if(typeof r=="function")return Go(e,t,1,{transform:r});if(Wm(r))return Go(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,as(r)?as(e)&&as(t)?HN(e,t,r,i):VN(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Wm(r)?kN(r,i):Go(e,t,1,r)};eS.exports=Go});var nS=c((K5,rS)=>{"use strict";var $N=xd(),tS=Bo(),YN=(e,t={})=>{let r=(n,i={})=>{let s=tS.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=tS.reduce(n.nodes),_=$N(...d,{...t,wrap:!1,toRegex:!0});if(_.length!==0)return d.length>1&&_.length>1?`(${_})`:_}if(n.nodes)for(let d of n.nodes)l+=r(d,n);return l};return r(e)};rS.exports=YN});var oS=c((X5,sS)=>{"use strict";var WN=xd(),iS=Uo(),Gn=Bo(),Mr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Gn.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(Mr(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Mr(i,s,r):i+s);return Gn.flatten(n)},KN=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Mr(a.pop(),iS(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Mr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let _=Gn.reduce(i.nodes);if(Gn.exceedsLimit(..._,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=WN(..._,t);f.length===0&&(f=iS(i,t)),a.push(Mr(a.pop(),f)),i.nodes=[];return}let u=Gn.encloseBrace(i),l=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,l=d.queue;for(let _=0;_<i.nodes.length;_++){let f=i.nodes[_];if(f.type==="comma"&&i.type==="brace"){_===1&&l.push(""),l.push("");continue}if(f.type==="close"){a.push(Mr(a.pop(),l,u));continue}if(f.value&&f.type!=="open"){l.push(Mr(l.pop(),f.value));continue}f.nodes&&n(f,i)}return l};return Gn.flatten(n(e))};sS.exports=KN});var uS=c((z5,aS)=>{"use strict";aS.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var fS=c((Q5,_S)=>{"use strict";var XN=Uo(),{MAX_LENGTH:cS,CHAR_BACKSLASH:Bd,CHAR_BACKTICK:zN,CHAR_COMMA:QN,CHAR_DOT:ZN,CHAR_LEFT_PARENTHESES:JN,CHAR_RIGHT_PARENTHESES:eL,CHAR_LEFT_CURLY_BRACE:tL,CHAR_RIGHT_CURLY_BRACE:rL,CHAR_LEFT_SQUARE_BRACKET:lS,CHAR_RIGHT_SQUARE_BRACKET:dS,CHAR_DOUBLE_QUOTE:nL,CHAR_SINGLE_QUOTE:iL,CHAR_NO_BREAK_SPACE:sL,CHAR_ZERO_WIDTH_NOBREAK_SPACE:oL}=uS(),aL=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(cS,r.maxLength):cS;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,l=e.length,d=0,_=0,f,p={},h=()=>e[d++],E=A=>{if(A.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&A.type==="text"){a.value+=A.value;return}return o.nodes.push(A),A.parent=o,A.prev=a,a=A,A};for(E({type:"bos"});d<l;)if(o=s[s.length-1],f=h(),!(f===oL||f===sL)){if(f===Bd){E({type:"text",value:(t.keepEscaping?f:"")+h()});continue}if(f===dS){E({type:"text",value:"\\"+f});continue}if(f===lS){u++;let A=!0,T;for(;d<l&&(T=h());){if(f+=T,T===lS){u++;continue}if(T===Bd){f+=h();continue}if(T===dS&&(u--,u===0))break}E({type:"text",value:f});continue}if(f===JN){o=E({type:"paren",nodes:[]}),s.push(o),E({type:"text",value:f});continue}if(f===eL){if(o.type!=="paren"){E({type:"text",value:f});continue}o=s.pop(),E({type:"text",value:f}),o=s[s.length-1];continue}if(f===nL||f===iL||f===zN){let A=f,T;for(t.keepQuotes!==!0&&(f="");d<l&&(T=h());){if(T===Bd){f+=T+h();continue}if(T===A){t.keepQuotes===!0&&(f+=T);break}f+=T}E({type:"text",value:f});continue}if(f===tL){_++;let T={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:_,commas:0,ranges:0,nodes:[]};o=E(T),s.push(o),E({type:"open",value:f});continue}if(f===rL){if(o.type!=="brace"){E({type:"text",value:f});continue}let A="close";o=s.pop(),o.close=!0,E({type:A,value:f}),_--,o=s[s.length-1];continue}if(f===QN&&_>0){if(o.ranges>0){o.ranges=0;let A=o.nodes.shift();o.nodes=[A,{type:"text",value:XN(o)}]}E({type:"comma",value:f}),o.commas++;continue}if(f===ZN&&_>0&&o.commas===0){let A=o.nodes;if(_===0||A.length===0){E({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){A.pop();let T=A[A.length-1];T.value+=a.value+f,a=T,o.ranges--;continue}E({type:"dot",value:f});continue}E({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let A=s[s.length-1],T=A.nodes.indexOf(o);A.nodes.splice(T,1,...o.nodes)}while(s.length>0);return E({type:"eos"}),i};_S.exports=aL});var ES=c((Z5,hS)=>{"use strict";var pS=Uo(),uL=nS(),cL=oS(),lL=fS(),Qe=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Qe.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Qe.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Qe.parse=(e,t={})=>lL(e,t);Qe.stringify=(e,t={})=>pS(typeof e=="string"?Qe.parse(e,t):e,t);Qe.compile=(e,t={})=>(typeof e=="string"&&(e=Qe.parse(e,t)),uL(e,t));Qe.expand=(e,t={})=>{typeof e=="string"&&(e=Qe.parse(e,t));let r=cL(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Qe.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Qe.compile(e,t):Qe.expand(e,t);hS.exports=Qe});var us=c((J5,TS)=>{"use strict";var dL=v("path"),Ot="\\\\/",gS=`[^${Ot}]`,Vt="\\.",_L="\\+",fL="\\?",jo="\\/",pL="(?=.)",mS="[^/]",Ud=`(?:${jo}|$)`,SS=`(?:^|${jo})`,Gd=`${Vt}{1,2}${Ud}`,hL=`(?!${Vt})`,EL=`(?!${SS}${Gd})`,gL=`(?!${Vt}{0,1}${Ud})`,mL=`(?!${Gd})`,SL=`[^.${jo}]`,AL=`${mS}*?`,AS={DOT_LITERAL:Vt,PLUS_LITERAL:_L,QMARK_LITERAL:fL,SLASH_LITERAL:jo,ONE_CHAR:pL,QMARK:mS,END_ANCHOR:Ud,DOTS_SLASH:Gd,NO_DOT:hL,NO_DOTS:EL,NO_DOT_SLASH:gL,NO_DOTS_SLASH:mL,QMARK_NO_DOT:SL,STAR:AL,START_ANCHOR:SS},TL={...AS,SLASH_LITERAL:`[${Ot}]`,QMARK:gS,STAR:`${gS}*?`,DOTS_SLASH:`${Vt}{1,2}(?:[${Ot}]|$)`,NO_DOT:`(?!${Vt})`,NO_DOTS:`(?!(?:^|[${Ot}])${Vt}{1,2}(?:[${Ot}]|$))`,NO_DOT_SLASH:`(?!${Vt}{0,1}(?:[${Ot}]|$))`,NO_DOTS_SLASH:`(?!${Vt}{1,2}(?:[${Ot}]|$))`,QMARK_NO_DOT:`[^.${Ot}]`,START_ANCHOR:`(?:^|[${Ot}])`,END_ANCHOR:`(?:[${Ot}]|$)`},OL={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};TS.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:OL,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:dL.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?TL:AS}}});var cs=c(qe=>{"use strict";var RL=v("path"),yL=process.platform==="win32",{REGEX_BACKSLASH:bL,REGEX_REMOVE_BACKSLASH:vL,REGEX_SPECIAL_CHARS:PL,REGEX_SPECIAL_CHARS_GLOBAL:CL}=us();qe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);qe.hasRegexChars=e=>PL.test(e);qe.isRegexChar=e=>e.length===1&&qe.hasRegexChars(e);qe.escapeRegex=e=>e.replace(CL,"\\$1");qe.toPosixSlashes=e=>e.replace(bL,"/");qe.removeBackslashes=e=>e.replace(vL,t=>t==="\\"?"":t);qe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};qe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:yL===!0||RL.sep==="\\";qe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?qe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};qe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};qe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var IS=c((tY,CS)=>{"use strict";var OS=cs(),{CHAR_ASTERISK:jd,CHAR_AT:IL,CHAR_BACKWARD_SLASH:ls,CHAR_COMMA:NL,CHAR_DOT:Fd,CHAR_EXCLAMATION_MARK:qd,CHAR_FORWARD_SLASH:PS,CHAR_LEFT_CURLY_BRACE:kd,CHAR_LEFT_PARENTHESES:Hd,CHAR_LEFT_SQUARE_BRACKET:LL,CHAR_PLUS:ML,CHAR_QUESTION_MARK:RS,CHAR_RIGHT_CURLY_BRACE:wL,CHAR_RIGHT_PARENTHESES:yS,CHAR_RIGHT_SQUARE_BRACKET:DL}=us(),bS=e=>e===PS||e===ls,vS=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},xL=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,l=-1,d=0,_=0,f=!1,p=!1,h=!1,E=!1,A=!1,T=!1,O=!1,R=!1,F=!1,y=!1,B=0,w,x,W={value:"",depth:0,isGlob:!1},ue=()=>l>=n,m=()=>u.charCodeAt(l+1),N=()=>(w=x,u.charCodeAt(++l));for(;l<n;){x=N();let Be;if(x===ls){O=W.backslashes=!0,x=N(),x===kd&&(T=!0);continue}if(T===!0||x===kd){for(B++;ue()!==!0&&(x=N());){if(x===ls){O=W.backslashes=!0,N();continue}if(x===kd){B++;continue}if(T!==!0&&x===Fd&&(x=N())===Fd){if(f=W.isBrace=!0,h=W.isGlob=!0,y=!0,i===!0)continue;break}if(T!==!0&&x===NL){if(f=W.isBrace=!0,h=W.isGlob=!0,y=!0,i===!0)continue;break}if(x===wL&&(B--,B===0)){T=!1,f=W.isBrace=!0,y=!0;break}}if(i===!0)continue;break}if(x===PS){if(s.push(l),o.push(W),W={value:"",depth:0,isGlob:!1},y===!0)continue;if(w===Fd&&l===d+1){d+=2;continue}_=l+1;continue}if(r.noext!==!0&&(x===ML||x===IL||x===jd||x===RS||x===qd)===!0&&m()===Hd){if(h=W.isGlob=!0,E=W.isExtglob=!0,y=!0,x===qd&&l===d&&(F=!0),i===!0){for(;ue()!==!0&&(x=N());){if(x===ls){O=W.backslashes=!0,x=N();continue}if(x===yS){h=W.isGlob=!0,y=!0;break}}continue}break}if(x===jd){if(w===jd&&(A=W.isGlobstar=!0),h=W.isGlob=!0,y=!0,i===!0)continue;break}if(x===RS){if(h=W.isGlob=!0,y=!0,i===!0)continue;break}if(x===LL){for(;ue()!==!0&&(Be=N());){if(Be===ls){O=W.backslashes=!0,N();continue}if(Be===DL){p=W.isBracket=!0,h=W.isGlob=!0,y=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&x===qd&&l===d){R=W.negated=!0,d++;continue}if(r.noparen!==!0&&x===Hd){if(h=W.isGlob=!0,i===!0){for(;ue()!==!0&&(x=N());){if(x===Hd){O=W.backslashes=!0,x=N();continue}if(x===yS){y=!0;break}}continue}break}if(h===!0){if(y=!0,i===!0)continue;break}}r.noext===!0&&(E=!1,h=!1);let L=u,_t="",g="";d>0&&(_t=u.slice(0,d),u=u.slice(d),_-=d),L&&h===!0&&_>0?(L=u.slice(0,_),g=u.slice(_)):h===!0?(L="",g=u):L=u,L&&L!==""&&L!=="/"&&L!==u&&bS(L.charCodeAt(L.length-1))&&(L=L.slice(0,-1)),r.unescape===!0&&(g&&(g=OS.removeBackslashes(g)),L&&O===!0&&(L=OS.removeBackslashes(L)));let S={prefix:_t,input:e,start:d,base:L,glob:g,isBrace:f,isBracket:p,isGlob:h,isExtglob:E,isGlobstar:A,negated:R,negatedExtglob:F};if(r.tokens===!0&&(S.maxDepth=0,bS(x)||o.push(W),S.tokens=o),r.parts===!0||r.tokens===!0){let Be;for(let X=0;X<s.length;X++){let At=Be?Be+1:d,Tt=s[X],ze=e.slice(At,Tt);r.tokens&&(X===0&&d!==0?(o[X].isPrefix=!0,o[X].value=_t):o[X].value=ze,vS(o[X]),S.maxDepth+=o[X].depth),(X!==0||ze!=="")&&a.push(ze),Be=Tt}if(Be&&Be+1<e.length){let X=e.slice(Be+1);a.push(X),r.tokens&&(o[o.length-1].value=X,vS(o[o.length-1]),S.maxDepth+=o[o.length-1].depth)}S.slashes=s,S.parts=a}return S};CS.exports=xL});var wS=c((rY,MS)=>{"use strict";var Fo=us(),Ze=cs(),{MAX_LENGTH:qo,POSIX_REGEX_SOURCE:BL,REGEX_NON_SPECIAL_CHARS:UL,REGEX_SPECIAL_CHARS_BACKREF:GL,REPLACEMENTS:NS}=Fo,jL=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>Ze.escapeRegex(i)).join("..")}return r},jn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,LS=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=NS[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(qo,r.maxLength):qo,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=Ze.isWindows(t),l=Fo.globChars(u),d=Fo.extglobChars(l),{DOT_LITERAL:_,PLUS_LITERAL:f,SLASH_LITERAL:p,ONE_CHAR:h,DOTS_SLASH:E,NO_DOT:A,NO_DOT_SLASH:T,NO_DOTS_SLASH:O,QMARK:R,QMARK_NO_DOT:F,STAR:y,START_ANCHOR:B}=l,w=C=>`(${a}(?:(?!${B}${C.dot?E:_}).)*?)`,x=r.dot?"":A,W=r.dot?R:F,ue=r.bash===!0?w(r):y;r.capture&&(ue=`(${ue})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Ze.removePrefix(e,m),i=e.length;let N=[],L=[],_t=[],g=s,S,Be=()=>m.index===i-1,X=m.peek=(C=1)=>e[m.index+C],At=m.advance=()=>e[++m.index]||"",Tt=()=>e.slice(m.index+1),ze=(C="",ie=0)=>{m.consumed+=C,m.index+=ie},Lo=C=>{m.output+=C.output!=null?C.output:C.value,ze(C.value)},TN=()=>{let C=1;for(;X()==="!"&&(X(2)!=="("||X(3)==="?");)At(),m.start++,C++;return C%2===0?!1:(m.negated=!0,m.start++,!0)},Mo=C=>{m[C]++,_t.push(C)},Nr=C=>{m[C]--,_t.pop()},$=C=>{if(g.type==="globstar"){let ie=m.braces>0&&(C.type==="comma"||C.type==="brace"),b=C.extglob===!0||N.length&&(C.type==="pipe"||C.type==="paren");C.type!=="slash"&&C.type!=="paren"&&!ie&&!b&&(m.output=m.output.slice(0,-g.output.length),g.type="star",g.value="*",g.output=ue,m.output+=g.output)}if(N.length&&C.type!=="paren"&&(N[N.length-1].inner+=C.value),(C.value||C.output)&&Lo(C),g&&g.type==="text"&&C.type==="text"){g.value+=C.value,g.output=(g.output||"")+C.value;return}C.prev=g,o.push(C),g=C},wo=(C,ie)=>{let b={...d[ie],conditions:1,inner:""};b.prev=g,b.parens=m.parens,b.output=m.output;let k=(r.capture?"(":"")+b.open;Mo("parens"),$({type:C,value:ie,output:m.output?"":h}),$({type:"paren",extglob:!0,value:At(),output:k}),N.push(b)},ON=C=>{let ie=C.close+(r.capture?")":""),b;if(C.type==="negate"){let k=ue;C.inner&&C.inner.length>1&&C.inner.includes("/")&&(k=w(r)),(k!==ue||Be()||/^\)+$/.test(Tt()))&&(ie=C.close=`)$))${k}`),C.inner.includes("*")&&(b=Tt())&&/^\.[^\\/.]+$/.test(b)&&(ie=C.close=`)${b})${k})`),C.prev.type==="bos"&&(m.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:S,output:ie}),Nr("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let C=!1,ie=e.replace(GL,(b,k,ce,Ue,ge,Ld)=>Ue==="\\"?(C=!0,b):Ue==="?"?k?k+Ue+(ge?R.repeat(ge.length):""):Ld===0?W+(ge?R.repeat(ge.length):""):R.repeat(ce.length):Ue==="."?_.repeat(ce.length):Ue==="*"?k?k+Ue+(ge?ue:""):ue:k?b:`\\${b}`);return C===!0&&(r.unescape===!0?ie=ie.replace(/\\/g,""):ie=ie.replace(/\\+/g,b=>b.length%2===0?"\\\\":b?"\\":"")),ie===e&&r.contains===!0?(m.output=e,m):(m.output=Ze.wrapOutput(ie,m,t),m)}for(;!Be();){if(S=At(),S==="\0")continue;if(S==="\\"){let b=X();if(b==="/"&&r.bash!==!0||b==="."||b===";")continue;if(!b){S+="\\",$({type:"text",value:S});continue}let k=/^\\+/.exec(Tt()),ce=0;if(k&&k[0].length>2&&(ce=k[0].length,m.index+=ce,ce%2!==0&&(S+="\\")),r.unescape===!0?S=At():S+=At(),m.brackets===0){$({type:"text",value:S});continue}}if(m.brackets>0&&(S!=="]"||g.value==="["||g.value==="[^")){if(r.posix!==!1&&S===":"){let b=g.value.slice(1);if(b.includes("[")&&(g.posix=!0,b.includes(":"))){let k=g.value.lastIndexOf("["),ce=g.value.slice(0,k),Ue=g.value.slice(k+2),ge=BL[Ue];if(ge){g.value=ce+ge,m.backtrack=!0,At(),!s.output&&o.indexOf(g)===1&&(s.output=h);continue}}}(S==="["&&X()!==":"||S==="-"&&X()==="]")&&(S=`\\${S}`),S==="]"&&(g.value==="["||g.value==="[^")&&(S=`\\${S}`),r.posix===!0&&S==="!"&&g.value==="["&&(S="^"),g.value+=S,Lo({value:S});continue}if(m.quotes===1&&S!=='"'){S=Ze.escapeRegex(S),g.value+=S,Lo({value:S});continue}if(S==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:S});continue}if(S==="("){Mo("parens"),$({type:"paren",value:S});continue}if(S===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(jn("opening","("));let b=N[N.length-1];if(b&&m.parens===b.parens+1){ON(N.pop());continue}$({type:"paren",value:S,output:m.parens?")":"\\)"}),Nr("parens");continue}if(S==="["){if(r.nobracket===!0||!Tt().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(jn("closing","]"));S=`\\${S}`}else Mo("brackets");$({type:"bracket",value:S});continue}if(S==="]"){if(r.nobracket===!0||g&&g.type==="bracket"&&g.value.length===1){$({type:"text",value:S,output:`\\${S}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(jn("opening","["));$({type:"text",value:S,output:`\\${S}`});continue}Nr("brackets");let b=g.value.slice(1);if(g.posix!==!0&&b[0]==="^"&&!b.includes("/")&&(S=`/${S}`),g.value+=S,Lo({value:S}),r.literalBrackets===!1||Ze.hasRegexChars(b))continue;let k=Ze.escapeRegex(g.value);if(m.output=m.output.slice(0,-g.value.length),r.literalBrackets===!0){m.output+=k,g.value=k;continue}g.value=`(${a}${k}|${g.value})`,m.output+=g.value;continue}if(S==="{"&&r.nobrace!==!0){Mo("braces");let b={type:"brace",value:S,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};L.push(b),$(b);continue}if(S==="}"){let b=L[L.length-1];if(r.nobrace===!0||!b){$({type:"text",value:S,output:S});continue}let k=")";if(b.dots===!0){let ce=o.slice(),Ue=[];for(let ge=ce.length-1;ge>=0&&(o.pop(),ce[ge].type!=="brace");ge--)ce[ge].type!=="dots"&&Ue.unshift(ce[ge].value);k=jL(Ue,r),m.backtrack=!0}if(b.comma!==!0&&b.dots!==!0){let ce=m.output.slice(0,b.outputIndex),Ue=m.tokens.slice(b.tokensIndex);b.value=b.output="\\{",S=k="\\}",m.output=ce;for(let ge of Ue)m.output+=ge.output||ge.value}$({type:"brace",value:S,output:k}),Nr("braces"),L.pop();continue}if(S==="|"){N.length>0&&N[N.length-1].conditions++,$({type:"text",value:S});continue}if(S===","){let b=S,k=L[L.length-1];k&&_t[_t.length-1]==="braces"&&(k.comma=!0,b="|"),$({type:"comma",value:S,output:b});continue}if(S==="/"){if(g.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",o.pop(),g=s;continue}$({type:"slash",value:S,output:p});continue}if(S==="."){if(m.braces>0&&g.type==="dot"){g.value==="."&&(g.output=_);let b=L[L.length-1];g.type="dots",g.output+=S,g.value+=S,b.dots=!0;continue}if(m.braces+m.parens===0&&g.type!=="bos"&&g.type!=="slash"){$({type:"text",value:S,output:_});continue}$({type:"dot",value:S,output:_});continue}if(S==="?"){if(!(g&&g.value==="(")&&r.noextglob!==!0&&X()==="("&&X(2)!=="?"){wo("qmark",S);continue}if(g&&g.type==="paren"){let k=X(),ce=S;if(k==="<"&&!Ze.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(g.value==="("&&!/[!=<:]/.test(k)||k==="<"&&!/<([!=]|\w+>)/.test(Tt()))&&(ce=`\\${S}`),$({type:"text",value:S,output:ce});continue}if(r.dot!==!0&&(g.type==="slash"||g.type==="bos")){$({type:"qmark",value:S,output:F});continue}$({type:"qmark",value:S,output:R});continue}if(S==="!"){if(r.noextglob!==!0&&X()==="("&&(X(2)!=="?"||!/[!=<:]/.test(X(3)))){wo("negate",S);continue}if(r.nonegate!==!0&&m.index===0){TN();continue}}if(S==="+"){if(r.noextglob!==!0&&X()==="("&&X(2)!=="?"){wo("plus",S);continue}if(g&&g.value==="("||r.regex===!1){$({type:"plus",value:S,output:f});continue}if(g&&(g.type==="bracket"||g.type==="paren"||g.type==="brace")||m.parens>0){$({type:"plus",value:S});continue}$({type:"plus",value:f});continue}if(S==="@"){if(r.noextglob!==!0&&X()==="("&&X(2)!=="?"){$({type:"at",extglob:!0,value:S,output:""});continue}$({type:"text",value:S});continue}if(S!=="*"){(S==="$"||S==="^")&&(S=`\\${S}`);let b=UL.exec(Tt());b&&(S+=b[0],m.index+=b[0].length),$({type:"text",value:S});continue}if(g&&(g.type==="globstar"||g.star===!0)){g.type="star",g.star=!0,g.value+=S,g.output=ue,m.backtrack=!0,m.globstar=!0,ze(S);continue}let C=Tt();if(r.noextglob!==!0&&/^\([^?]/.test(C)){wo("star",S);continue}if(g.type==="star"){if(r.noglobstar===!0){ze(S);continue}let b=g.prev,k=b.prev,ce=b.type==="slash"||b.type==="bos",Ue=k&&(k.type==="star"||k.type==="globstar");if(r.bash===!0&&(!ce||C[0]&&C[0]!=="/")){$({type:"star",value:S,output:""});continue}let ge=m.braces>0&&(b.type==="comma"||b.type==="brace"),Ld=N.length&&(b.type==="pipe"||b.type==="paren");if(!ce&&b.type!=="paren"&&!ge&&!Ld){$({type:"star",value:S,output:""});continue}for(;C.slice(0,3)==="/**";){let Do=e[m.index+4];if(Do&&Do!=="/")break;C=C.slice(3),ze("/**",3)}if(b.type==="bos"&&Be()){g.type="globstar",g.value+=S,g.output=w(r),m.output=g.output,m.globstar=!0,ze(S);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&!Ue&&Be()){m.output=m.output.slice(0,-(b.output+g.output).length),b.output=`(?:${b.output}`,g.type="globstar",g.output=w(r)+(r.strictSlashes?")":"|$)"),g.value+=S,m.globstar=!0,m.output+=b.output+g.output,ze(S);continue}if(b.type==="slash"&&b.prev.type!=="bos"&&C[0]==="/"){let Do=C[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(b.output+g.output).length),b.output=`(?:${b.output}`,g.type="globstar",g.output=`${w(r)}${p}|${p}${Do})`,g.value+=S,m.output+=b.output+g.output,m.globstar=!0,ze(S+At()),$({type:"slash",value:"/",output:""});continue}if(b.type==="bos"&&C[0]==="/"){g.type="globstar",g.value+=S,g.output=`(?:^|${p}|${w(r)}${p})`,m.output=g.output,m.globstar=!0,ze(S+At()),$({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-g.output.length),g.type="globstar",g.output=w(r),g.value+=S,m.output+=g.output,m.globstar=!0,ze(S);continue}let ie={type:"star",value:S,output:ue};if(r.bash===!0){ie.output=".*?",(g.type==="bos"||g.type==="slash")&&(ie.output=x+ie.output),$(ie);continue}if(g&&(g.type==="bracket"||g.type==="paren")&&r.regex===!0){ie.output=S,$(ie);continue}(m.index===m.start||g.type==="slash"||g.type==="dot")&&(g.type==="dot"?(m.output+=T,g.output+=T):r.dot===!0?(m.output+=O,g.output+=O):(m.output+=x,g.output+=x),X()!=="*"&&(m.output+=h,g.output+=h)),$(ie)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(jn("closing","]"));m.output=Ze.escapeLast(m.output,"["),Nr("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(jn("closing",")"));m.output=Ze.escapeLast(m.output,"("),Nr("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(jn("closing","}"));m.output=Ze.escapeLast(m.output,"{"),Nr("braces")}if(r.strictSlashes!==!0&&(g.type==="star"||g.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${p}?`}),m.backtrack===!0){m.output="";for(let C of m.tokens)m.output+=C.output!=null?C.output:C.value,C.suffix&&(m.output+=C.suffix)}return m};LS.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(qo,r.maxLength):qo,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=NS[e]||e;let s=Ze.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:h}=Fo.globChars(s),E=r.dot?_:d,A=r.dot?f:d,T=r.capture?"":"?:",O={negated:!1,prefix:""},R=r.bash===!0?".*?":p;r.capture&&(R=`(${R})`);let F=x=>x.noglobstar===!0?R:`(${T}(?:(?!${h}${x.dot?l:o}).)*?)`,y=x=>{switch(x){case"*":return`${E}${u}${R}`;case".*":return`${o}${u}${R}`;case"*.*":return`${E}${R}${o}${u}${R}`;case"*/*":return`${E}${R}${a}${u}${A}${R}`;case"**":return E+F(r);case"**/*":return`(?:${E}${F(r)}${a})?${A}${u}${R}`;case"**/*.*":return`(?:${E}${F(r)}${a})?${A}${R}${o}${u}${R}`;case"**/.*":return`(?:${E}${F(r)}${a})?${o}${u}${R}`;default:{let W=/^(.*?)\.(\w+)$/.exec(x);if(!W)return;let ue=y(W[1]);return ue?ue+o+W[2]:void 0}}},B=Ze.removePrefix(e,O),w=y(B);return w&&r.strictSlashes!==!0&&(w+=`${a}?`),w};MS.exports=LS});var xS=c((nY,DS)=>{"use strict";var FL=v("path"),qL=IS(),Vd=wS(),$d=cs(),kL=us(),HL=e=>e&&typeof e=="object"&&!Array.isArray(e),le=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(f=>le(f,t,r));return f=>{for(let p of d){let h=p(f);if(h)return h}return!1}}let n=HL(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=$d.isWindows(t),o=n?le.compileRe(e,t):le.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let d={...t,ignore:null,onMatch:null,onResult:null};u=le(i.ignore,d,r)}let l=(d,_=!1)=>{let{isMatch:f,match:p,output:h}=le.test(d,o,t,{glob:e,posix:s}),E={glob:e,state:a,regex:o,posix:s,input:d,output:h,match:p,isMatch:f};return typeof i.onResult=="function"&&i.onResult(E),f===!1?(E.isMatch=!1,_?E:!1):u(d)?(typeof i.onIgnore=="function"&&i.onIgnore(E),E.isMatch=!1,_?E:!1):(typeof i.onMatch=="function"&&i.onMatch(E),_?E:!0)};return r&&(l.state=a),l};le.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?$d.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=le.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};le.matchBase=(e,t,r,n=$d.isWindows(r))=>(t instanceof RegExp?t:le.makeRe(t,r)).test(FL.basename(e));le.isMatch=(e,t,r)=>le(t,r)(e);le.parse=(e,t)=>Array.isArray(e)?e.map(r=>le.parse(r,t)):Vd(e,{...t,fastpaths:!1});le.scan=(e,t)=>qL(e,t);le.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=le.toRegex(a,t);return n===!0&&(u.state=e),u};le.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Vd.fastpaths(e,t)),i.output||(i=Vd(e,t)),le.compileRe(i,t,r,n)};le.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};le.constants=kL;DS.exports=le});var US=c((iY,BS)=>{"use strict";BS.exports=xS()});var Wd=c((sY,qS)=>{"use strict";var jS=v("util"),FS=ES(),Rt=US(),Yd=cs(),GS=e=>e===""||e==="./",ae=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=d=>{s.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let _=Rt(String(t[d]),{...r,onResult:a},!0),f=_.state.negated||_.state.negatedExtglob;f&&o++;for(let p of e){let h=_(p,!0);!(f?!h.isMatch:h.isMatch)||(f?n.add(h.output):(n.delete(h.output),i.add(h.output)))}}let l=(o===t.length?[...s]:[...i]).filter(d=>!n.has(d));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return l};ae.match=ae;ae.matcher=(e,t)=>Rt(e,t);ae.isMatch=(e,t,r)=>Rt(t,r)(e);ae.any=ae.isMatch;ae.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=ae(e,t,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)o.includes(a)||n.add(a);return[...n]};ae.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${jS.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ae.contains(e,n,r));if(typeof t=="string"){if(GS(e)||GS(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ae.isMatch(e,t,{...r,contains:!0})};ae.matchKeys=(e,t,r)=>{if(!Yd.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ae(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};ae.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Rt(String(i),r);if(n.some(o=>s(o)))return!0}return!1};ae.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Rt(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};ae.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${jS.inspect(e)}"`);return[].concat(t).every(n=>Rt(n,r)(e))};ae.capture=(e,t,r)=>{let n=Yd.isWindows(r),s=Rt.makeRe(String(e),{...r,capture:!0}).exec(n?Yd.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};ae.makeRe=(...e)=>Rt.makeRe(...e);ae.scan=(...e)=>Rt.scan(...e);ae.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of FS(String(n),t))r.push(Rt.parse(i,t));return r};ae.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:FS(e,t)};ae.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ae.braces(e,{...t,expand:!0})};qS.exports=ae});var wA=c((EY,E1)=>{E1.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var BA=c(Je=>{"use strict";var xA=wA(),bt=process.env;Object.defineProperty(Je,"_vendors",{value:xA.map(function(e){return e.constant})});Je.name=null;Je.isPR=null;xA.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return DA(n)});if(Je[e.constant]=r,r)switch(Je.name=e.name,typeof e.pr){case"string":Je.isPR=!!bt[e.pr];break;case"object":"env"in e.pr?Je.isPR=e.pr.env in bt&&bt[e.pr.env]!==e.pr.ne:"any"in e.pr?Je.isPR=e.pr.any.some(function(n){return!!bt[n]}):Je.isPR=DA(e.pr);break;default:Je.isPR=null}});Je.isCI=!!(bt.CI||bt.CONTINUOUS_INTEGRATION||bt.BUILD_NUMBER||bt.RUN_ID||Je.name);function DA(e){return typeof e=="string"?!!bt[e]:Object.keys(e).every(function(t){return bt[t]===e[t]})}});var GA=c((mY,UA)=>{"use strict";UA.exports=BA().isCI});var FA=c((SY,jA)=>{"use strict";jA.exports=(...e)=>[...new Set([].concat(...e))]});var u_=c((AY,HA)=>{"use strict";var g1=v("stream"),qA=g1.PassThrough,m1=Array.prototype.slice;HA.exports=S1;function S1(){let e=[],t=m1.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=qA(n);function a(){for(let d=0,_=arguments.length;d<_;d++)e.push(kA(arguments[d],n));return u(),this}function u(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(l);return}Array.isArray(d)||(d=[d]);let _=d.length+1;function f(){--_>0||(r=!1,u())}function p(h){function E(){h.removeListener("merge2UnpipeEnd",E),h.removeListener("end",E),s&&h.removeListener("error",A),f()}function A(T){o.emit("error",T)}if(h._readableState.endEmitted)return f();h.on("merge2UnpipeEnd",E),h.on("end",E),s&&h.on("error",A),h.pipe(o,{end:!1}),h.resume()}for(let h=0;h<d.length;h++)p(d[h]);f()}function l(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function kA(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=kA(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(qA(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var VA=c(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.splitWhen=Vn.flatten=void 0;function A1(e){return e.reduce((t,r)=>[].concat(t,r),[])}Vn.flatten=A1;function T1(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}Vn.splitWhen=T1});var $A=c(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.isEnoentCodeError=void 0;function O1(e){return e.code==="ENOENT"}Ko.isEnoentCodeError=O1});var YA=c(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.createDirentFromStats=void 0;var c_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function R1(e,t){return new c_(e,t)}Xo.createDirentFromStats=R1});var WA=c(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.removeLeadingDotSegment=vt.escape=vt.makeAbsolute=vt.unixify=void 0;var y1=v("path"),b1=2,v1=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function P1(e){return e.replace(/\\/g,"/")}vt.unixify=P1;function C1(e,t){return y1.resolve(e,t)}vt.makeAbsolute=C1;function I1(e){return e.replace(v1,"\\$2")}vt.escape=I1;function N1(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(b1)}return e}vt.removeLeadingDotSegment=N1});var XA=c((bY,KA)=>{KA.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var QA=c((vY,zA)=>{var L1=XA(),M1={"{":"}","(":")","[":"]"},w1=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,D1=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;zA.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(L1(t))return!0;var n=w1,i;for(r&&r.strict===!1&&(n=D1);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?M1[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var JA=c((PY,ZA)=>{"use strict";var x1=QA(),B1=v("path").posix.dirname,U1=v("os").platform()==="win32",l_="/",G1=/\\/g,j1=/[\{\[].*[\}\]]$/,F1=/(^|[^\\])([\{\[]|\([^\)]+$)/,q1=/\\([\!\*\?\|\[\]\(\)\{\}])/g;ZA.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&U1&&t.indexOf(l_)<0&&(t=t.replace(G1,l_)),j1.test(t)&&(t+=l_),t+="a";do t=B1(t);while(x1(t)||F1.test(t));return t.replace(q1,"$1")}});var aT=c(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.matchAny=U.convertPatternsToRe=U.makeRe=U.getPatternParts=U.expandBraceExpansion=U.expandPatternsWithBraceExpansion=U.isAffectDepthOfReadingPattern=U.endsWithSlashGlobStar=U.hasGlobStar=U.getBaseDirectory=U.isPatternRelatedToParentDirectory=U.getPatternsOutsideCurrentDirectory=U.getPatternsInsideCurrentDirectory=U.getPositivePatterns=U.getNegativePatterns=U.isPositivePattern=U.isNegativePattern=U.convertToNegativePattern=U.convertToPositivePattern=U.isDynamicPattern=U.isStaticPattern=void 0;var k1=v("path"),H1=JA(),d_=Wd(),eT="**",V1="\\",$1=/[*?]|^!/,Y1=/\[[^[]*]/,W1=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,K1=/[!*+?@]\([^(]*\)/,X1=/,|\.\./;function tT(e,t={}){return!rT(e,t)}U.isStaticPattern=tT;function rT(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(V1)||$1.test(e)||Y1.test(e)||W1.test(e)||t.extglob!==!1&&K1.test(e)||t.braceExpansion!==!1&&z1(e))}U.isDynamicPattern=rT;function z1(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return X1.test(n)}function Q1(e){return zo(e)?e.slice(1):e}U.convertToPositivePattern=Q1;function Z1(e){return"!"+e}U.convertToNegativePattern=Z1;function zo(e){return e.startsWith("!")&&e[1]!=="("}U.isNegativePattern=zo;function nT(e){return!zo(e)}U.isPositivePattern=nT;function J1(e){return e.filter(zo)}U.getNegativePatterns=J1;function eD(e){return e.filter(nT)}U.getPositivePatterns=eD;function tD(e){return e.filter(t=>!__(t))}U.getPatternsInsideCurrentDirectory=tD;function rD(e){return e.filter(__)}U.getPatternsOutsideCurrentDirectory=rD;function __(e){return e.startsWith("..")||e.startsWith("./..")}U.isPatternRelatedToParentDirectory=__;function nD(e){return H1(e,{flipBackslashes:!1})}U.getBaseDirectory=nD;function iD(e){return e.includes(eT)}U.hasGlobStar=iD;function iT(e){return e.endsWith("/"+eT)}U.endsWithSlashGlobStar=iT;function sD(e){let t=k1.basename(e);return iT(e)||tT(t)}U.isAffectDepthOfReadingPattern=sD;function oD(e){return e.reduce((t,r)=>t.concat(sT(r)),[])}U.expandPatternsWithBraceExpansion=oD;function sT(e){return d_.braces(e,{expand:!0,nodupes:!0})}U.expandBraceExpansion=sT;function aD(e,t){let{parts:r}=d_.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}U.getPatternParts=aD;function oT(e,t){return d_.makeRe(e,t)}U.makeRe=oT;function uD(e,t){return e.map(r=>oT(r,t))}U.convertPatternsToRe=uD;function cD(e,t){return t.some(r=>r.test(e))}U.matchAny=cD});var cT=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.merge=void 0;var lD=u_();function dD(e){let t=lD(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>uT(e)),t.once("end",()=>uT(e)),t}Qo.merge=dD;function uT(e){e.forEach(t=>t.emit("close"))}});var lT=c($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.isEmpty=$n.isString=void 0;function _D(e){return typeof e=="string"}$n.isString=_D;function fD(e){return e===""}$n.isEmpty=fD});var Yt=c(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.string=be.stream=be.pattern=be.path=be.fs=be.errno=be.array=void 0;var pD=VA();be.array=pD;var hD=$A();be.errno=hD;var ED=YA();be.fs=ED;var gD=WA();be.path=gD;var mD=aT();be.pattern=mD;var SD=cT();be.stream=SD;var AD=lT();be.string=AD});var fT=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.convertPatternGroupToTask=ve.convertPatternGroupsToTasks=ve.groupPatternsByBaseDirectory=ve.getNegativePatternsAsPositive=ve.getPositivePatterns=ve.convertPatternsToTasks=ve.generate=void 0;var Wt=Yt();function TD(e,t){let r=dT(e),n=_T(e,t.ignore),i=r.filter(u=>Wt.pattern.isStaticPattern(u,t)),s=r.filter(u=>Wt.pattern.isDynamicPattern(u,t)),o=f_(i,n,!1),a=f_(s,n,!0);return o.concat(a)}ve.generate=TD;function f_(e,t,r){let n=[],i=Wt.pattern.getPatternsOutsideCurrentDirectory(e),s=Wt.pattern.getPatternsInsideCurrentDirectory(e),o=p_(i),a=p_(s);return n.push(...h_(o,t,r)),"."in a?n.push(E_(".",s,t,r)):n.push(...h_(a,t,r)),n}ve.convertPatternsToTasks=f_;function dT(e){return Wt.pattern.getPositivePatterns(e)}ve.getPositivePatterns=dT;function _T(e,t){return Wt.pattern.getNegativePatterns(e).concat(t).map(Wt.pattern.convertToPositivePattern)}ve.getNegativePatternsAsPositive=_T;function p_(e){let t={};return e.reduce((r,n)=>{let i=Wt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}ve.groupPatternsByBaseDirectory=p_;function h_(e,t,r){return Object.keys(e).map(n=>E_(n,e[n],t,r))}ve.convertPatternGroupsToTasks=h_;function E_(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Wt.pattern.convertToNegativePattern))}}ve.convertPatternGroupToTask=E_});var hT=c(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.removeDuplicateSlashes=Yn.transform=void 0;var OD=/(?!^)\/{2,}/g;function RD(e){return e.map(t=>pT(t))}Yn.transform=RD;function pT(e){return e.replace(OD,"/")}Yn.removeDuplicateSlashes=pT});var gT=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.read=void 0;function yD(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){ET(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){g_(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){ET(r,s);return}g_(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),g_(r,o)})})}Zo.read=yD;function ET(e,t){e(t)}function g_(e,t){e(null,t)}});var mT=c(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.read=void 0;function bD(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Jo.read=bD});var ST=c(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.createFileSystemAdapter=ur.FILE_SYSTEM_ADAPTER=void 0;var ea=v("fs");ur.FILE_SYSTEM_ADAPTER={lstat:ea.lstat,stat:ea.stat,lstatSync:ea.lstatSync,statSync:ea.statSync};function vD(e){return e===void 0?ur.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},ur.FILE_SYSTEM_ADAPTER),e)}ur.createFileSystemAdapter=vD});var AT=c(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});var PD=ST(),m_=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=PD.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};S_.default=m_});var xr=c(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.statSync=cr.stat=cr.Settings=void 0;var TT=gT(),CD=mT(),A_=AT();cr.Settings=A_.default;function ID(e,t,r){if(typeof t=="function"){TT.read(e,T_(),t);return}TT.read(e,T_(t),r)}cr.stat=ID;function ND(e,t){let r=T_(t);return CD.read(e,r)}cr.statSync=ND;function T_(e={}){return e instanceof A_.default?e:new A_.default(e)}});var yT=c((jY,RT)=>{var OT;RT.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(OT||(OT=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var vT=c((FY,bT)=>{bT.exports=MD;var LD=yT();function MD(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function l(){t&&t(u,r),t=null}s?LD(l):l()}function a(u,l,d){r[u]=d,(--n===0||l)&&o(l)}n?i?i.forEach(function(u){e[u](function(l,d){a(u,l,d)})}):e.forEach(function(u,l){u(function(d,_){a(l,d,_)})}):o(null),s=!1}});var O_=c(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var ta=process.versions.node.split(".");if(ta[0]===void 0||ta[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var PT=Number.parseInt(ta[0],10),wD=Number.parseInt(ta[1],10),CT=10,DD=10,xD=PT>CT,BD=PT===CT&&wD>=DD;ra.IS_SUPPORT_READDIR_WITH_FILE_TYPES=xD||BD});var IT=c(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.createDirentFromStats=void 0;var R_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function UD(e,t){return new R_(e,t)}na.createDirentFromStats=UD});var y_=c(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.fs=void 0;var GD=IT();ia.fs=GD});var b_=c(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.joinPathSegments=void 0;function jD(e,t,r){return e.endsWith(r)?e+t:e+r+t}sa.joinPathSegments=jD});var xT=c(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.readdir=lr.readdirWithFileTypes=lr.read=void 0;var FD=xr(),NT=vT(),qD=O_(),LT=y_(),MT=b_();function kD(e,t,r){if(!t.stats&&qD.IS_SUPPORT_READDIR_WITH_FILE_TYPES){wT(e,t,r);return}DT(e,t,r)}lr.read=kD;function wT(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){oa(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:MT.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){v_(r,s);return}let o=s.map(a=>HD(a,t));NT(o,(a,u)=>{if(a!==null){oa(r,a);return}v_(r,u)})})}lr.readdirWithFileTypes=wT;function HD(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=LT.fs.createDirentFromStats(e.name,i),r(null,e)})}}function DT(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){oa(r,n);return}let s=i.map(o=>{let a=MT.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{FD.stat(a,t.fsStatSettings,(l,d)=>{if(l!==null){u(l);return}let _={name:o,path:a,dirent:LT.fs.createDirentFromStats(o,d)};t.stats&&(_.stats=d),u(null,_)})}});NT(s,(o,a)=>{if(o!==null){oa(r,o);return}v_(r,a)})})}lr.readdir=DT;function oa(e,t){e(t)}function v_(e,t){e(null,t)}});var FT=c(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.readdir=dr.readdirWithFileTypes=dr.read=void 0;var VD=xr(),$D=O_(),BT=y_(),UT=b_();function YD(e,t){return!t.stats&&$D.IS_SUPPORT_READDIR_WITH_FILE_TYPES?GT(e,t):jT(e,t)}dr.read=YD;function GT(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:UT.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=BT.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}dr.readdirWithFileTypes=GT;function jT(e,t){return t.fs.readdirSync(e).map(n=>{let i=UT.joinPathSegments(e,n,t.pathSegmentSeparator),s=VD.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:BT.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}dr.readdir=jT});var qT=c(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.createFileSystemAdapter=_r.FILE_SYSTEM_ADAPTER=void 0;var Wn=v("fs");_r.FILE_SYSTEM_ADAPTER={lstat:Wn.lstat,stat:Wn.stat,lstatSync:Wn.lstatSync,statSync:Wn.statSync,readdir:Wn.readdir,readdirSync:Wn.readdirSync};function WD(e){return e===void 0?_r.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},_r.FILE_SYSTEM_ADAPTER),e)}_r.createFileSystemAdapter=WD});var kT=c(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});var KD=v("path"),XD=xr(),zD=qT(),P_=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=zD.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,KD.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new XD.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};C_.default=P_});var aa=c(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.Settings=fr.scandirSync=fr.scandir=void 0;var HT=xT(),QD=FT(),I_=kT();fr.Settings=I_.default;function ZD(e,t,r){if(typeof t=="function"){HT.read(e,N_(),t);return}HT.read(e,N_(t),r)}fr.scandir=ZD;function JD(e,t){let r=N_(t);return QD.read(e,r)}fr.scandirSync=JD;function N_(e={}){return e instanceof I_.default?e:new I_.default(e)}});var $T=c((zY,VT)=>{"use strict";function ex(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}VT.exports=ex});var WT=c((QY,L_)=>{"use strict";var tx=$T();function YT(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=tx(rx),i=null,s=null,o=0,a=null,u={push:E,drain:Pt,saturated:Pt,pause:d,paused:!1,concurrency:r,running:l,resume:p,idle:h,length:_,getQueue:f,unshift:A,empty:Pt,kill:O,killAndDrain:R,error:F};return u;function l(){return o}function d(){u.paused=!0}function _(){for(var y=i,B=0;y;)y=y.next,B++;return B}function f(){for(var y=i,B=[];y;)B.push(y.value),y=y.next;return B}function p(){if(!!u.paused){u.paused=!1;for(var y=0;y<u.concurrency;y++)o++,T()}}function h(){return o===0&&u.length()===0}function E(y,B){var w=n.get();w.context=e,w.release=T,w.value=y,w.callback=B||Pt,w.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=w,s=w):(i=w,s=w,u.saturated()):(o++,t.call(e,w.value,w.worked))}function A(y,B){var w=n.get();w.context=e,w.release=T,w.value=y,w.callback=B||Pt,o===u.concurrency||u.paused?i?(w.next=i,i=w):(i=w,s=w,u.saturated()):(o++,t.call(e,w.value,w.worked))}function T(y){y&&n.release(y);var B=i;B?u.paused?o--:(s===i&&(s=null),i=B.next,B.next=null,t.call(e,B.value,B.worked),s===null&&u.empty()):--o===0&&u.drain()}function O(){i=null,s=null,u.drain=Pt}function R(){i=null,s=null,u.drain(),u.drain=Pt}function F(y){a=y}}function Pt(){}function rx(){this.value=null,this.callback=Pt,this.next=null,this.release=Pt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=Pt,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function nx(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,d){t.call(this,l).then(function(_){d(null,_)},d)}var i=YT(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(l){return new Promise(function(d,_){s(l,function(f,p){if(f){_(f);return}d(p)})})}function u(l){return new Promise(function(d,_){o(l,function(f,p){if(f){_(f);return}d(p)})})}}L_.exports=YT;L_.exports.promise=nx});var ua=c(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.joinPathSegments=Ct.replacePathSegmentSeparator=Ct.isAppliedFilter=Ct.isFatalError=void 0;function ix(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Ct.isFatalError=ix;function sx(e,t){return e===null||e(t)}Ct.isAppliedFilter=sx;function ox(e,t){return e.split(/[/\\]/).join(t)}Ct.replacePathSegmentSeparator=ox;function ax(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Ct.joinPathSegments=ax});var D_=c(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});var ux=ua(),M_=class{constructor(t,r){this._root=t,this._settings=r,this._root=ux.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};w_.default=M_});var U_=c(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0});var cx=v("events"),lx=aa(),dx=WT(),ca=ua(),_x=D_(),x_=class extends _x.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=lx.scandir,this._emitter=new cx.EventEmitter,this._queue=dx(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!ca.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=ca.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),ca.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&ca.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};B_.default=x_});var KT=c(j_=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});var fx=U_(),G_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new fx.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{px(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{hx(t,this._storage)}),this._reader.read()}};j_.default=G_;function px(e,t){e(t)}function hx(e,t){e(null,t)}});var XT=c(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});var Ex=v("stream"),gx=U_(),F_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new gx.default(this._root,this._settings),this._stream=new Ex.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};q_.default=F_});var zT=c(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});var mx=aa(),la=ua(),Sx=D_(),k_=class extends Sx.default{constructor(){super(...arguments),this._scandir=mx.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!la.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=la.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),la.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&la.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};H_.default=k_});var QT=c($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0});var Ax=zT(),V_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Ax.default(this._root,this._settings)}read(){return this._reader.read()}};$_.default=V_});var ZT=c(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});var Tx=v("path"),Ox=aa(),Y_=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Tx.sep),this.fsScandirSettings=new Ox.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};W_.default=Y_});var X_=c(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.Settings=It.walkStream=It.walkSync=It.walk=void 0;var JT=KT(),Rx=XT(),yx=QT(),K_=ZT();It.Settings=K_.default;function bx(e,t,r){if(typeof t=="function"){new JT.default(e,da()).read(t);return}new JT.default(e,da(t)).read(r)}It.walk=bx;function vx(e,t){let r=da(t);return new yx.default(e,r).read()}It.walkSync=vx;function Px(e,t){let r=da(t);return new Rx.default(e,r).read()}It.walkStream=Px;function da(e={}){return e instanceof K_.default?e:new K_.default(e)}});var Z_=c(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0});var Cx=v("path"),Ix=xr(),eO=Yt(),z_=class{constructor(t){this._settings=t,this._fsStatSettings=new Ix.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return Cx.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:eO.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!eO.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Q_.default=z_});var tf=c(ef=>{"use strict";Object.defineProperty(ef,"__esModule",{value:!0});var Nx=v("stream"),Lx=xr(),Mx=X_(),wx=Z_(),J_=class extends wx.default{constructor(){super(...arguments),this._walkStream=Mx.walkStream,this._stat=Lx.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new Nx.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};ef.default=J_});var tO=c(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});var Kn=Yt(),rf=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=Kn.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return Kn.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Kn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Kn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Kn.array.splitWhen(t,r=>r.dynamic&&Kn.pattern.hasGlobStar(r.pattern))}};nf.default=rf});var rO=c(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var Dx=tO(),sf=class extends Dx.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,l)=>{let d=s.segments[l];return!!(d.dynamic&&d.patternRe.test(u)||!d.dynamic&&d.pattern===u)}))return!0}return!1}};of.default=sf});var nO=c(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});var _a=Yt(),xx=rO(),af=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new xx.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(_a.pattern.isAffectDepthOfReadingPattern);return _a.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=_a.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!_a.pattern.matchAny(t,r)}};uf.default=af});var iO=c(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var Br=Yt(),cf=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Br.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Br.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Br.path.makeAbsolute(this._settings.cwd,t);return Br.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=Br.path.removeLeadingDotSegment(t);return Br.pattern.matchAny(n,r)||Br.pattern.matchAny(n+"/",r)}};lf.default=cf});var sO=c(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var Bx=Yt(),df=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return Bx.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};_f.default=df});var aO=c(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});var oO=Yt(),ff=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=oO.path.makeAbsolute(this._settings.cwd,r),r=oO.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};pf.default=ff});var fa=c(Ef=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});var Ux=v("path"),Gx=nO(),jx=iO(),Fx=sO(),qx=aO(),hf=class{constructor(t){this._settings=t,this.errorFilter=new Fx.default(this._settings),this.entryFilter=new jx.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new Gx.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new qx.default(this._settings)}_getRootDirectory(t){return Ux.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Ef.default=hf});var uO=c(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});var kx=tf(),Hx=fa(),gf=class extends Hx.default{constructor(){super(...arguments),this._reader=new kx.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};mf.default=gf});var cO=c(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var Vx=v("stream"),$x=tf(),Yx=fa(),Sf=class extends Yx.default{constructor(){super(...arguments),this._reader=new $x.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new Vx.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Af.default=Sf});var lO=c(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var Wx=xr(),Kx=X_(),Xx=Z_(),Tf=class extends Xx.default{constructor(){super(...arguments),this._walkSync=Kx.walkSync,this._statSync=Wx.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Of.default=Tf});var dO=c(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});var zx=lO(),Qx=fa(),Rf=class extends Qx.default{constructor(){super(...arguments),this._reader=new zx.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};yf.default=Rf});var _O=c(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Xn=v("fs"),Zx=v("os"),Jx=Math.max(Zx.cpus().length,1);zn.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Xn.lstat,lstatSync:Xn.lstatSync,stat:Xn.stat,statSync:Xn.statSync,readdir:Xn.readdir,readdirSync:Xn.readdirSync};var bf=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Jx),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},zn.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};zn.default=bf});var If=c((TW,hO)=>{"use strict";var fO=fT(),pO=hT(),eB=uO(),tB=cO(),rB=dO(),vf=_O(),Ur=Yt();async function Pf(e,t){Qn(e);let r=Cf(e,eB.default,t),n=await Promise.all(r);return Ur.array.flatten(n)}(function(e){function t(o,a){Qn(o);let u=Cf(o,rB.default,a);return Ur.array.flatten(u)}e.sync=t;function r(o,a){Qn(o);let u=Cf(o,tB.default,a);return Ur.stream.merge(u)}e.stream=r;function n(o,a){Qn(o);let u=pO.transform([].concat(o)),l=new vf.default(a);return fO.generate(u,l)}e.generateTasks=n;function i(o,a){Qn(o);let u=new vf.default(a);return Ur.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return Qn(o),Ur.path.escape(o)}e.escapePath=s})(Pf||(Pf={}));function Cf(e,t,r){let n=pO.transform([].concat(e)),i=new vf.default(r),s=fO.generate(n,i),o=new t(i);return s.map(o.read,o)}function Qn(e){if(![].concat(e).every(n=>Ur.string.isString(n)&&!Ur.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}hO.exports=Pf});var gO=c(Gr=>{"use strict";var{promisify:nB}=v("util"),EO=v("fs");async function Nf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await nB(EO[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Lf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return EO[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}Gr.isFile=Nf.bind(null,"stat","isFile");Gr.isDirectory=Nf.bind(null,"stat","isDirectory");Gr.isSymlink=Nf.bind(null,"lstat","isSymbolicLink");Gr.isFileSync=Lf.bind(null,"statSync","isFile");Gr.isDirectorySync=Lf.bind(null,"statSync","isDirectory");Gr.isSymlinkSync=Lf.bind(null,"lstatSync","isSymbolicLink")});var OO=c((RW,Mf)=>{"use strict";var jr=v("path"),mO=gO(),SO=e=>e.length>1?`{${e.join(",")}}`:e[0],AO=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return jr.isAbsolute(r)?r:jr.join(t,r)},iB=(e,t)=>jr.extname(e)?`**/${e}`:`**/${e}.${SO(t)}`,TO=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>jr.posix.join(e,iB(r,t.extensions))):t.files?t.files.map(r=>jr.posix.join(e,`**/${r}`)):t.extensions?[jr.posix.join(e,`**/*.${SO(t.extensions)}`)]:[jr.posix.join(e,"**")]};Mf.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await mO.isDirectory(AO(n,t.cwd))?TO(n,t):n));return[].concat.apply([],r)};Mf.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>mO.isDirectorySync(AO(n,t.cwd))?TO(n,t):n);return[].concat.apply([],r)}});var LO=c((yW,NO)=>{function RO(e){return Array.isArray(e)?e:[e]}var PO="",yO=" ",wf="\\",sB=/^\s+$/,oB=/^\\!/,aB=/^\\#/,uB=/\r?\n/g,cB=/^\.*\/|^\.+$/,Df="/",bO=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",lB=(e,t,r)=>Object.defineProperty(e,t,{value:r}),dB=/([0-z])-([0-z])/g,CO=()=>!1,_B=e=>e.replace(dB,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:PO),fB=e=>{let{length:t}=e;return e.slice(0,t-t%2)},pB=[[/\\?\s+$/,e=>e.indexOf("\\")===0?yO:PO],[/\\\s/g,()=>yO],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>wf],[/\\\\/g,()=>wf],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===wf?`\\[${r}${fB(n)}${i}`:i==="]"&&n.length%2===0?`[${_B(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],vO=Object.create(null),hB=(e,t)=>{let r=vO[e];return r||(r=pB.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),vO[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Uf=e=>typeof e=="string",EB=e=>e&&Uf(e)&&!sB.test(e)&&e.indexOf("#")!==0,gB=e=>e.split(uB),xf=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},mB=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(oB,"!").replace(aB,"#");let i=hB(e,t);return new xf(r,e,n,i)},SB=(e,t)=>{throw new t(e)},Kt=(e,t,r)=>Uf(e)?e?Kt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),IO=e=>cB.test(e);Kt.isNotRelative=IO;Kt.convert=e=>e;var Bf=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){lB(this,bO,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[bO]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(EB(t)){let r=mB(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,RO(Uf(t)?gB(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Kt.convert(t);return Kt(s,t,this._allowRelativePaths?CO:SB),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Df)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(Df)+Df,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return RO(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},pa=e=>new Bf(e),AB=e=>Kt(e&&Kt.convert(e),e,CO);pa.isPathValid=AB;pa.default=pa;NO.exports=pa;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Kt.convert=e;let t=/^[a-z]:\//i;Kt.isNotRelative=r=>t.test(r)||IO(r)}});var wO=c((bW,MO)=>{"use strict";MO.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var FO=c((vW,Gf)=>{"use strict";var{promisify:TB}=v("util"),DO=v("fs"),Xt=v("path"),xO=If(),OB=LO(),gs=wO(),BO=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],RB=TB(DO.readFile),yB=e=>t=>t.startsWith("!")?"!"+Xt.posix.join(e,t.slice(1)):Xt.posix.join(e,t),bB=(e,t)=>{let r=gs(Xt.relative(t.cwd,Xt.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(yB(r))},UO=e=>{let t=OB();for(let r of e)t.add(bB(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},vB=(e,t)=>{if(e=gs(e),Xt.isAbsolute(t)){if(gs(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return Xt.join(e,t)},GO=(e,t)=>r=>e.ignores(gs(Xt.relative(t,vB(t,r.path||r)))),PB=async(e,t)=>{let r=Xt.join(t,e),n=await RB(r,"utf8");return{cwd:t,filePath:r,content:n}},CB=(e,t)=>{let r=Xt.join(t,e),n=DO.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},jO=({ignore:e=[],cwd:t=gs(process.cwd())}={})=>({ignore:e,cwd:t});Gf.exports=async e=>{e=jO(e);let t=await xO("**/.gitignore",{ignore:BO.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>PB(i,e.cwd))),n=UO(r);return GO(n,e.cwd)};Gf.exports.sync=e=>{e=jO(e);let r=xO.sync("**/.gitignore",{ignore:BO.concat(e.ignore),cwd:e.cwd}).map(i=>CB(i,e.cwd)),n=UO(r);return GO(n,e.cwd)}});var kO=c((PW,qO)=>{"use strict";var{Transform:IB}=v("stream"),ha=class extends IB{constructor(){super({objectMode:!0})}},jf=class extends ha{constructor(t){super(),this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},Ff=class extends ha{constructor(){super(),this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};qO.exports={FilterStream:jf,UniqueStream:Ff}});var WO=c((CW,Fr)=>{"use strict";var VO=v("fs"),Ea=FA(),NB=u_(),ga=If(),ma=OO(),qf=FO(),{FilterStream:LB,UniqueStream:MB}=kO(),$O=()=>!1,HO=e=>e[0]==="!",wB=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},DB=(e={})=>{if(!e.cwd)return;let t;try{t=VO.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},xB=e=>e.stats instanceof VO.Stats?e.path:e,Sa=(e,t)=>{e=Ea([].concat(e)),wB(e),DB(t);let r=[];t={ignore:[],expandDirectories:!0,...t};for(let[n,i]of e.entries()){if(HO(i))continue;let s=e.slice(n).filter(a=>HO(a)).map(a=>a.slice(1)),o={...t,ignore:t.ignore.concat(s)};r.push({pattern:i,options:o})}return r},BB=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)},kf=(e,t)=>e.options.expandDirectories?BB(e,t):[e.pattern],YO=e=>e&&e.gitignore?qf.sync({cwd:e.cwd,ignore:e.ignore}):$O,Hf=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=ma.sync(r.ignore)),{pattern:t,options:r}};Fr.exports=async(e,t)=>{let r=Sa(e,t),n=async()=>t&&t.gitignore?qf({cwd:t.cwd,ignore:t.ignore}):$O,i=async()=>{let u=await Promise.all(r.map(async l=>{let d=await kf(l,ma);return Promise.all(d.map(Hf(l)))}));return Ea(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>ga(u.pattern,u.options)));return Ea(...a).filter(u=>!s(xB(u)))};Fr.exports.sync=(e,t)=>{let r=Sa(e,t),n=[];for(let o of r){let a=kf(o,ma.sync).map(Hf(o));n.push(...a)}let i=YO(t),s=[];for(let o of n)s=Ea(s,ga.sync(o.pattern,o.options));return s.filter(o=>!i(o))};Fr.exports.stream=(e,t)=>{let r=Sa(e,t),n=[];for(let a of r){let u=kf(a,ma.sync).map(Hf(a));n.push(...u)}let i=YO(t),s=new LB(a=>!i(a)),o=new MB;return NB(n.map(a=>ga.stream(a.pattern,a.options))).pipe(s).pipe(o)};Fr.exports.generateGlobTasks=Sa;Fr.exports.hasMagic=(e,t)=>[].concat(e).some(r=>ga.isDynamicPattern(r,t));Fr.exports.gitignore=qf});var XO=c((IW,Vf)=>{"use strict";var UB=Object.prototype.hasOwnProperty,Ge="~";function ms(){}Object.create&&(ms.prototype=Object.create(null),new ms().__proto__||(Ge=!1));function GB(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function KO(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new GB(r,n||e,i),o=Ge?Ge+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function Aa(e,t){--e._eventsCount===0?e._events=new ms:delete e._events[t]}function Pe(){this._events=new ms,this._eventsCount=0}Pe.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)UB.call(r,n)&&t.push(Ge?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Pe.prototype.listeners=function(t){var r=Ge?Ge+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Pe.prototype.listenerCount=function(t){var r=Ge?Ge+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Pe.prototype.emit=function(t,r,n,i,s,o){var a=Ge?Ge+t:t;if(!this._events[a])return!1;var u=this._events[a],l=arguments.length,d,_;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,o),!0}for(_=1,d=new Array(l-1);_<l;_++)d[_-1]=arguments[_];u.fn.apply(u.context,d)}else{var f=u.length,p;for(_=0;_<f;_++)switch(u[_].once&&this.removeListener(t,u[_].fn,void 0,!0),l){case 1:u[_].fn.call(u[_].context);break;case 2:u[_].fn.call(u[_].context,r);break;case 3:u[_].fn.call(u[_].context,r,n);break;case 4:u[_].fn.call(u[_].context,r,n,i);break;default:if(!d)for(p=1,d=new Array(l-1);p<l;p++)d[p-1]=arguments[p];u[_].fn.apply(u[_].context,d)}}return!0};Pe.prototype.on=function(t,r,n){return KO(this,t,r,n,!1)};Pe.prototype.once=function(t,r,n){return KO(this,t,r,n,!0)};Pe.prototype.removeListener=function(t,r,n,i){var s=Ge?Ge+t:t;if(!this._events[s])return this;if(!r)return Aa(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&Aa(this,s);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[s]=u.length===1?u[0]:u:Aa(this,s)}return this};Pe.prototype.removeAllListeners=function(t){var r;return t?(r=Ge?Ge+t:t,this._events[r]&&Aa(this,r)):(this._events=new ms,this._eventsCount=0),this};Pe.prototype.off=Pe.prototype.removeListener;Pe.prototype.addListener=Pe.prototype.on;Pe.prefixed=Ge;Pe.EventEmitter=Pe;typeof Vf<"u"&&(Vf.exports=Pe)});var QO=c((NW,zO)=>{"use strict";zO.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var JO=c((LW,Oa)=>{"use strict";var jB=QO(),Ta=class extends Error{constructor(t){super(t),this.name="TimeoutError"}},ZO=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Ta(o);typeof e.cancel=="function"&&e.cancel(),i(a)},t);jB(e.then(n,i),()=>{clearTimeout(s)})});Oa.exports=ZO;Oa.exports.default=ZO;Oa.exports.TimeoutError=Ta});var eR=c($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});function FB(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}$f.default=FB});var tR=c(Wf=>{"use strict";Object.defineProperty(Wf,"__esModule",{value:!0});var qB=eR(),Yf=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=qB.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t?.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};Wf.default=Yf});var nR=c(Xf=>{"use strict";Object.defineProperty(Xf,"__esModule",{value:!0});var kB=XO(),rR=JO(),HB=tR(),Ra=()=>{},VB=new rR.TimeoutError,Kf=class extends kB{constructor(t){var r,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Ra,this._resolveIdle=Ra,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:HB.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Ra,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Ra,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():rR.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(VB)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Xf.default=Kf});var sR=c((xW,zf)=>{"use strict";var iR=(e,...t)=>new Promise(r=>{r(e(...t))});zf.exports=iR;zf.exports.default=iR});var aR=c((BW,Qf)=>{"use strict";var $B=sR(),oR=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...l)=>{r++;let d=$B(a,...l);u(d),d.then(n,n)},s=(a,u,...l)=>{r<e?i(a,u,...l):t.push(i.bind(null,a,u,...l))},o=(a,...u)=>new Promise(l=>s(a,l,...u));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};Qf.exports=oR;Qf.exports.default=oR});var uR=c(Jf=>{"use strict";var ya=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Jf.Semaphore=ya;var Zf=class extends ya{constructor(){super(1)}};Jf.Mutex=Zf});var lR=c((GW,cR)=>{"use strict";cR.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var ep=c((jW,dR)=>{"use strict";var YB=lR();dR.exports=e=>typeof e=="string"?e.replace(YB(),""):e});var fR=c((FW,tp)=>{"use strict";var _R=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);tp.exports=_R;tp.exports.default=_R});var ER=c((qW,hR)=>{"use strict";var pR="[\uD800-\uDBFF][\uDC00-\uDFFF]",WB=e=>e&&e.exact?new RegExp(`^${pR}$`):new RegExp(pR,"g");hR.exports=WB});var mR=c((kW,gR)=>{"use strict";gR.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var rp=c((HW,AR)=>{var Ss=mR(),SR={};for(let e of Object.keys(Ss))SR[Ss[e]]=e;var I={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};AR.exports=I;for(let e of Object.keys(I)){if(!("channels"in I[e]))throw new Error("missing channels property: "+e);if(!("labels"in I[e]))throw new Error("missing channel labels property: "+e);if(I[e].labels.length!==I[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=I[e];delete I[e].channels,delete I[e].labels,Object.defineProperty(I[e],"channels",{value:t}),Object.defineProperty(I[e],"labels",{value:r})}I.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let l=(i+s)/2;return s===i?u=0:l<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,l*100]};I.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,l=Math.max(o,a,u),d=l-Math.min(o,a,u),_=function(f){return(l-f)/6/d+1/2};return d===0?(i=0,s=0):(s=d/l,t=_(o),r=_(a),n=_(u),o===l?i=n-r:a===l?i=1/3+t-n:u===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,l*100]};I.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=I.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};I.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function KB(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}I.rgb.keyword=function(e){let t=SR[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(Ss)){let s=Ss[i],o=KB(e,s);o<r&&(r=o,n=i)}return n};I.keyword.rgb=function(e){return Ss[e]};I.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};I.rgb.lab=function(e){let t=I.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};I.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let l=0;l<3;l++)s=t+1/3*-(l-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[l]=o*255;return u};I.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};I.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};I.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};I.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),l,d,_;switch(o){default:case 6:case 0:l=a,d=u,_=r;break;case 1:l=u,d=a,_=r;break;case 2:l=r,d=a,_=u;break;case 3:l=r,d=u,_=a;break;case 4:l=u,d=r,_=a;break;case 5:l=a,d=r,_=u;break}return[l*255,d*255,_*255]};I.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};I.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};I.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};I.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,l=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};I.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};I.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};I.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?I.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};I.hsv.ansi16=function(e){return I.rgb.ansi16(I.hsv.rgb(e),e[2])};I.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};I.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};I.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};I.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};I.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};I.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};I.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};I.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};I.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};I.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};I.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};I.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};I.hwb.hcg=function(e){let t=e[1]/100,n=1-e[2]/100,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};I.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};I.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};I.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};I.gray.hsl=function(e){return[0,0,e[0]]};I.gray.hsv=I.gray.hsl;I.gray.hwb=function(e){return[0,100,e[0]]};I.gray.cmyk=function(e){return[0,0,0,e[0]]};I.gray.lab=function(e){return[e[0],0,0]};I.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};I.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var OR=c((VW,TR)=>{var ba=rp();function XB(){let e={},t=Object.keys(ba);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function zB(e){let t=XB(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(ba[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function QB(e,t){return function(r){return t(e(r))}}function ZB(e,t){let r=[t[e].parent,e],n=ba[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=QB(ba[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}TR.exports=function(e){let t=zB(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=ZB(o,t))}return r}});var yR=c(($W,RR)=>{var np=rp(),JB=OR(),Zn={},eU=Object.keys(np);function tU(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function rU(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}eU.forEach(e=>{Zn[e]={},Object.defineProperty(Zn[e],"channels",{value:np[e].channels}),Object.defineProperty(Zn[e],"labels",{value:np[e].labels});let t=JB(e);Object.keys(t).forEach(n=>{let i=t[n];Zn[e][n]=rU(i),Zn[e][n].raw=tU(i)})});RR.exports=Zn});var NR=c((YW,IR)=>{"use strict";var bR=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,vR=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};5;${n}m`},PR=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},va=e=>e,CR=(e,t,r)=>[e,t,r],Jn=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},ip,ei=(e,t,r,n)=>{ip===void 0&&(ip=yR());let i=n?10:0,s={};for(let[o,a]of Object.entries(ip)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function nU(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",Jn(t.color,"ansi",()=>ei(bR,"ansi16",va,!1)),Jn(t.color,"ansi256",()=>ei(vR,"ansi256",va,!1)),Jn(t.color,"ansi16m",()=>ei(PR,"rgb",CR,!1)),Jn(t.bgColor,"ansi",()=>ei(bR,"ansi16",va,!0)),Jn(t.bgColor,"ansi256",()=>ei(vR,"ansi256",va,!0)),Jn(t.bgColor,"ansi16m",()=>ei(PR,"rgb",CR,!0)),t}Object.defineProperty(IR,"exports",{enumerable:!0,get:nU})});var xR=c((WW,DR)=>{"use strict";var iU=fR(),sU=ER(),LR=NR(),wR=["\x1B","\x9B"],Pa=e=>`${wR[0]}[${e}m`,MR=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let s=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let o=LR.codes.get(Number.parseInt(i,10));if(o){let a=e.indexOf(o.toString());a===-1?n.push(Pa(t?o:s)):e.splice(a,1)}else if(t){n.push(Pa(0));break}else n.push(Pa(s))}if(t&&(n=n.filter((i,s)=>n.indexOf(i)===s),r!==void 0)){let i=Pa(LR.codes.get(Number.parseInt(r,10)));n=n.reduce((s,o)=>o===i?[o,...s]:[...s,o],[])}return n.join("")};DR.exports=(e,t,r)=>{let n=[...e],i=[],s=typeof r=="number"?r:n.length,o=!1,a,u=0,l="";for(let[d,_]of n.entries()){let f=!1;if(wR.includes(_)){let p=/\d[^m]*/.exec(e.slice(d,d+18));a=p&&p.length>0?p[0]:void 0,u<s&&(o=!0,a!==void 0&&i.push(a))}else o&&_==="m"&&(o=!1,f=!0);if(!o&&!f&&u++,!sU({exact:!0}).test(_)&&iU(_.codePointAt())&&(u++,typeof r!="number"&&s++),u>t&&u<=s)l+=_;else if(u===t&&!o&&a!==void 0)l=MR(i);else if(u>=s){l+=MR(i,!0,a);break}}return l}});var BR=c(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca._globalThis=void 0;Ca._globalThis=typeof globalThis=="object"?globalThis:global});var UR=c(qr=>{"use strict";var oU=qr&&qr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aU=qr&&qr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oU(t,e,r)};Object.defineProperty(qr,"__esModule",{value:!0});aU(BR(),qr)});var GR=c(kr=>{"use strict";var uU=kr&&kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cU=kr&&kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uU(t,e,r)};Object.defineProperty(kr,"__esModule",{value:!0});cU(UR(),kr)});var sp=c(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.VERSION=void 0;Ia.VERSION="1.7.0"});var qR=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.isCompatible=ti._makeCompatibilityCheck=void 0;var lU=sp(),jR=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function FR(e){let t=new Set([e]),r=new Set,n=e.match(jR);if(!n)return()=>!1;let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;let l=u.match(jR);if(!l)return s(u);let d={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return d.prerelease!=null||i.major!==d.major?s(u):i.major===0?i.minor===d.minor&&i.patch<=d.patch?o(u):s(u):i.minor<=d.minor?o(u):s(u)}}ti._makeCompatibilityCheck=FR;ti.isCompatible=FR(lU.VERSION)});var Hr=c(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.unregisterGlobal=pr.getGlobal=pr.registerGlobal=void 0;var dU=GR(),ri=sp(),_U=qR(),fU=ri.VERSION.split(".")[0],As=Symbol.for(`opentelemetry.js.api.${fU}`),Ts=dU._globalThis;function pU(e,t,r,n=!1){var i;let s=Ts[As]=(i=Ts[As])!==null&&i!==void 0?i:{version:ri.VERSION};if(!n&&s[e]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(o.stack||o.message),!1}if(s.version!==ri.VERSION){let o=new Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${ri.VERSION}`);return r.error(o.stack||o.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${ri.VERSION}.`),!0}pr.registerGlobal=pU;function hU(e){var t,r;let n=(t=Ts[As])===null||t===void 0?void 0:t.version;if(!(!n||!(0,_U.isCompatible)(n)))return(r=Ts[As])===null||r===void 0?void 0:r[e]}pr.getGlobal=hU;function EU(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${ri.VERSION}.`);let r=Ts[As];r&&delete r[e]}pr.unregisterGlobal=EU});var kR=c(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.DiagComponentLogger=void 0;var gU=Hr(),op=class{constructor(t){this._namespace=t.namespace||"DiagComponentLogger"}debug(...t){return Os("debug",this._namespace,t)}error(...t){return Os("error",this._namespace,t)}info(...t){return Os("info",this._namespace,t)}warn(...t){return Os("warn",this._namespace,t)}verbose(...t){return Os("verbose",this._namespace,t)}};Na.DiagComponentLogger=op;function Os(e,t,r){let n=(0,gU.getGlobal)("diag");if(!!n)return r.unshift(t),n[e](...r)}});var La=c(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.DiagLogLevel=void 0;var mU;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(mU=Rs.DiagLogLevel||(Rs.DiagLogLevel={}))});var HR=c(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.createLogLevelDiagLogger=void 0;var zt=La();function SU(e,t){e<zt.DiagLogLevel.NONE?e=zt.DiagLogLevel.NONE:e>zt.DiagLogLevel.ALL&&(e=zt.DiagLogLevel.ALL),t=t||{};function r(n,i){let s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",zt.DiagLogLevel.ERROR),warn:r("warn",zt.DiagLogLevel.WARN),info:r("info",zt.DiagLogLevel.INFO),debug:r("debug",zt.DiagLogLevel.DEBUG),verbose:r("verbose",zt.DiagLogLevel.VERBOSE)}}Ma.createLogLevelDiagLogger=SU});var Vr=c(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.DiagAPI=void 0;var AU=kR(),TU=HR(),VR=La(),wa=Hr(),OU="diag",ys=class{constructor(){function t(i){return function(...s){let o=(0,wa.getGlobal)("diag");if(!!o)return o[i](...s)}}let r=this,n=(i,s={logLevel:VR.DiagLogLevel.INFO})=>{var o,a,u;if(i===r){let _=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=_.stack)!==null&&o!==void 0?o:_.message),!1}typeof s=="number"&&(s={logLevel:s});let l=(0,wa.getGlobal)("diag"),d=(0,TU.createLogLevelDiagLogger)((a=s.logLevel)!==null&&a!==void 0?a:VR.DiagLogLevel.INFO,i);if(l&&!s.suppressOverrideMessage){let _=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${_}`),d.warn(`Current logger will overwrite one already registered from ${_}`)}return(0,wa.registerGlobal)("diag",d,r,!0)};r.setLogger=n,r.disable=()=>{(0,wa.unregisterGlobal)(OU,r)},r.createComponentLogger=i=>new AU.DiagComponentLogger(i),r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}static instance(){return this._instance||(this._instance=new ys),this._instance}};Da.DiagAPI=ys});var $R=c(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.BaggageImpl=void 0;var hr=class{constructor(t){this._entries=t?new Map(t):new Map}getEntry(t){let r=this._entries.get(t);if(!!r)return Object.assign({},r)}getAllEntries(){return Array.from(this._entries.entries()).map(([t,r])=>[t,r])}setEntry(t,r){let n=new hr(this._entries);return n._entries.set(t,r),n}removeEntry(t){let r=new hr(this._entries);return r._entries.delete(t),r}removeEntries(...t){let r=new hr(this._entries);for(let n of t)r._entries.delete(n);return r}clear(){return new hr}};xa.BaggageImpl=hr});var YR=c(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.baggageEntryMetadataSymbol=void 0;Ba.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var ap=c(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.baggageEntryMetadataFromString=ni.createBaggage=void 0;var RU=Vr(),yU=$R(),bU=YR(),vU=RU.DiagAPI.instance();function PU(e={}){return new yU.BaggageImpl(new Map(Object.entries(e)))}ni.createBaggage=PU;function CU(e){return typeof e!="string"&&(vU.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:bU.baggageEntryMetadataSymbol,toString(){return e}}}ni.baggageEntryMetadataFromString=CU});var bs=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.ROOT_CONTEXT=si.createContextKey=void 0;function IU(e){return Symbol.for(e)}si.createContextKey=IU;var ii=class{constructor(t){let r=this;r._currentContext=t?new Map(t):new Map,r.getValue=n=>r._currentContext.get(n),r.setValue=(n,i)=>{let s=new ii(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=n=>{let i=new ii(r._currentContext);return i._currentContext.delete(n),i}}};si.ROOT_CONTEXT=new ii});var WR=c(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.DiagConsoleLogger=void 0;var up=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],cp=class{constructor(){function t(r){return function(...n){if(console){let i=console[r];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,n)}}}for(let r=0;r<up.length;r++)this[up[r].n]=t(up[r].c)}};Ua.DiagConsoleLogger=cp});var lp=c(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.createNoopMeter=G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=G.NOOP_OBSERVABLE_GAUGE_METRIC=G.NOOP_OBSERVABLE_COUNTER_METRIC=G.NOOP_UP_DOWN_COUNTER_METRIC=G.NOOP_HISTOGRAM_METRIC=G.NOOP_COUNTER_METRIC=G.NOOP_METER=G.NoopObservableUpDownCounterMetric=G.NoopObservableGaugeMetric=G.NoopObservableCounterMetric=G.NoopObservableMetric=G.NoopHistogramMetric=G.NoopUpDownCounterMetric=G.NoopCounterMetric=G.NoopMetric=G.NoopMeter=void 0;var Ga=class{constructor(){}createHistogram(t,r){return G.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return G.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return G.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return G.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return G.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};G.NoopMeter=Ga;var oi=class{};G.NoopMetric=oi;var ja=class extends oi{add(t,r){}};G.NoopCounterMetric=ja;var Fa=class extends oi{add(t,r){}};G.NoopUpDownCounterMetric=Fa;var qa=class extends oi{record(t,r){}};G.NoopHistogramMetric=qa;var ai=class{addCallback(t){}removeCallback(t){}};G.NoopObservableMetric=ai;var ka=class extends ai{};G.NoopObservableCounterMetric=ka;var Ha=class extends ai{};G.NoopObservableGaugeMetric=Ha;var Va=class extends ai{};G.NoopObservableUpDownCounterMetric=Va;G.NOOP_METER=new Ga;G.NOOP_COUNTER_METRIC=new ja;G.NOOP_HISTOGRAM_METRIC=new qa;G.NOOP_UP_DOWN_COUNTER_METRIC=new Fa;G.NOOP_OBSERVABLE_COUNTER_METRIC=new ka;G.NOOP_OBSERVABLE_GAUGE_METRIC=new Ha;G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Va;function NU(){return G.NOOP_METER}G.createNoopMeter=NU});var KR=c(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.ValueType=void 0;var LU;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(LU=vs.ValueType||(vs.ValueType={}))});var dp=c(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.defaultTextMapSetter=ui.defaultTextMapGetter=void 0;ui.defaultTextMapGetter={get(e,t){if(e!=null)return e[t]},keys(e){return e==null?[]:Object.keys(e)}};ui.defaultTextMapSetter={set(e,t,r){e!=null&&(e[t]=r)}}});var XR=c($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.NoopContextManager=void 0;var MU=bs(),_p=class{active(){return MU.ROOT_CONTEXT}with(t,r,n,...i){return r.call(n,...i)}bind(t,r){return r}enable(){return this}disable(){return this}};$a.NoopContextManager=_p});var Cs=c(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.ContextAPI=void 0;var wU=XR(),fp=Hr(),zR=Vr(),pp="context",DU=new wU.NoopContextManager,Ps=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Ps),this._instance}setGlobalContextManager(t){return(0,fp.registerGlobal)(pp,t,zR.DiagAPI.instance())}active(){return this._getContextManager().active()}with(t,r,n,...i){return this._getContextManager().with(t,r,n,...i)}bind(t,r){return this._getContextManager().bind(t,r)}_getContextManager(){return(0,fp.getGlobal)(pp)||DU}disable(){this._getContextManager().disable(),(0,fp.unregisterGlobal)(pp,zR.DiagAPI.instance())}};Ya.ContextAPI=Ps});var hp=c(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.TraceFlags=void 0;var xU;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(xU=Is.TraceFlags||(Is.TraceFlags={}))});var Wa=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.INVALID_SPAN_CONTEXT=Nt.INVALID_TRACEID=Nt.INVALID_SPANID=void 0;var BU=hp();Nt.INVALID_SPANID="0000000000000000";Nt.INVALID_TRACEID="00000000000000000000000000000000";Nt.INVALID_SPAN_CONTEXT={traceId:Nt.INVALID_TRACEID,spanId:Nt.INVALID_SPANID,traceFlags:BU.TraceFlags.NONE}});var Xa=c(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.NonRecordingSpan=void 0;var UU=Wa(),Ep=class{constructor(t=UU.INVALID_SPAN_CONTEXT){this._spanContext=t}spanContext(){return this._spanContext}setAttribute(t,r){return this}setAttributes(t){return this}addEvent(t,r){return this}setStatus(t){return this}updateName(t){return this}end(t){}isRecording(){return!1}recordException(t,r){}};Ka.NonRecordingSpan=Ep});var Sp=c(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getSpanContext=Ve.setSpanContext=Ve.deleteSpan=Ve.setSpan=Ve.getActiveSpan=Ve.getSpan=void 0;var GU=bs(),jU=Xa(),FU=Cs(),gp=(0,GU.createContextKey)("OpenTelemetry Context Key SPAN");function mp(e){return e.getValue(gp)||void 0}Ve.getSpan=mp;function qU(){return mp(FU.ContextAPI.getInstance().active())}Ve.getActiveSpan=qU;function QR(e,t){return e.setValue(gp,t)}Ve.setSpan=QR;function kU(e){return e.deleteValue(gp)}Ve.deleteSpan=kU;function HU(e,t){return QR(e,new jU.NonRecordingSpan(t))}Ve.setSpanContext=HU;function VU(e){var t;return(t=mp(e))===null||t===void 0?void 0:t.spanContext()}Ve.getSpanContext=VU});var za=c(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.wrapSpanContext=Lt.isSpanContextValid=Lt.isValidSpanId=Lt.isValidTraceId=void 0;var ZR=Wa(),$U=Xa(),YU=/^([0-9a-f]{32})$/i,WU=/^[0-9a-f]{16}$/i;function JR(e){return YU.test(e)&&e!==ZR.INVALID_TRACEID}Lt.isValidTraceId=JR;function ey(e){return WU.test(e)&&e!==ZR.INVALID_SPANID}Lt.isValidSpanId=ey;function KU(e){return JR(e.traceId)&&ey(e.spanId)}Lt.isSpanContextValid=KU;function XU(e){return new $U.NonRecordingSpan(e)}Lt.wrapSpanContext=XU});var Rp=c(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.NoopTracer=void 0;var zU=Cs(),ty=Sp(),Ap=Xa(),QU=za(),Tp=zU.ContextAPI.getInstance(),Op=class{startSpan(t,r,n=Tp.active()){if(Boolean(r?.root))return new Ap.NonRecordingSpan;let s=n&&(0,ty.getSpanContext)(n);return ZU(s)&&(0,QU.isSpanContextValid)(s)?new Ap.NonRecordingSpan(s):new Ap.NonRecordingSpan}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??Tp.active(),l=this.startSpan(t,s,u),d=(0,ty.setSpan)(u,l);return Tp.with(d,a,void 0,l)}};Qa.NoopTracer=Op;function ZU(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var bp=c(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.ProxyTracer=void 0;var JU=Rp(),eG=new JU.NoopTracer,yp=class{constructor(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}startSpan(t,r,n){return this._getTracer().startSpan(t,r,n)}startActiveSpan(t,r,n,i){let s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)}_getTracer(){if(this._delegate)return this._delegate;let t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):eG}};Za.ProxyTracer=yp});var ry=c(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.NoopTracerProvider=void 0;var tG=Rp(),vp=class{getTracer(t,r,n){return new tG.NoopTracer}};Ja.NoopTracerProvider=vp});var Cp=c(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.ProxyTracerProvider=void 0;var rG=bp(),nG=ry(),iG=new nG.NoopTracerProvider,Pp=class{getTracer(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new rG.ProxyTracer(this,t,r,n)}getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:iG}setDelegate(t){this._delegate=t}getDelegateTracer(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)}};eu.ProxyTracerProvider=Pp});var ny=c(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.SamplingDecision=void 0;var sG;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(sG=Ns.SamplingDecision||(Ns.SamplingDecision={}))});var iy=c(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.SpanKind=void 0;var oG;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(oG=Ls.SpanKind||(Ls.SpanKind={}))});var sy=c(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.SpanStatusCode=void 0;var aG;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(aG=Ms.SpanStatusCode||(Ms.SpanStatusCode={}))});var oy=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.validateValue=ci.validateKey=void 0;var Ip="[_0-9a-z-*/]",uG=`[a-z]${Ip}{0,255}`,cG=`[a-z0-9]${Ip}{0,240}@[a-z]${Ip}{0,13}`,lG=new RegExp(`^(?:${uG}|${cG})$`),dG=/^[ -~]{0,255}[!-~]$/,_G=/,|=/;function fG(e){return lG.test(e)}ci.validateKey=fG;function pG(e){return dG.test(e)&&!_G.test(e)}ci.validateValue=pG});var dy=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.TraceStateImpl=void 0;var ay=oy(),uy=32,hG=512,cy=",",ly="=",ws=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+ly+this.get(r)),t),[]).join(cy)}_parse(t){t.length>hG||(this._internalState=t.split(cy).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(ly);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,ay.validateKey)(o)&&(0,ay.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>uy&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,uy))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new ws;return t._internalState=new Map(this._internalState),t}};tu.TraceStateImpl=ws});var _y=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.createTraceState=void 0;var EG=dy();function gG(e){return new EG.TraceStateImpl(e)}ru.createTraceState=gG});var fy=c(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.context=void 0;var mG=Cs();nu.context=mG.ContextAPI.getInstance()});var py=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.diag=void 0;var SG=Vr();iu.diag=SG.DiagAPI.instance()});var hy=c(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.NOOP_METER_PROVIDER=li.NoopMeterProvider=void 0;var AG=lp(),su=class{getMeter(t,r,n){return AG.NOOP_METER}};li.NoopMeterProvider=su;li.NOOP_METER_PROVIDER=new su});var gy=c(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.MetricsAPI=void 0;var TG=hy(),Np=Hr(),Ey=Vr(),Lp="metrics",Ds=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Ds),this._instance}setGlobalMeterProvider(t){return(0,Np.registerGlobal)(Lp,t,Ey.DiagAPI.instance())}getMeterProvider(){return(0,Np.getGlobal)(Lp)||TG.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){(0,Np.unregisterGlobal)(Lp,Ey.DiagAPI.instance())}};ou.MetricsAPI=Ds});var my=c(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.metrics=void 0;var OG=gy();au.metrics=OG.MetricsAPI.getInstance()});var Sy=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.NoopTextMapPropagator=void 0;var Mp=class{inject(t,r){}extract(t,r){return t}fields(){return[]}};uu.NoopTextMapPropagator=Mp});var Ty=c(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.deleteBaggage=Mt.setBaggage=Mt.getActiveBaggage=Mt.getBaggage=void 0;var RG=Cs(),yG=bs(),wp=(0,yG.createContextKey)("OpenTelemetry Baggage Key");function Ay(e){return e.getValue(wp)||void 0}Mt.getBaggage=Ay;function bG(){return Ay(RG.ContextAPI.getInstance().active())}Mt.getActiveBaggage=bG;function vG(e,t){return e.setValue(wp,t)}Mt.setBaggage=vG;function PG(e){return e.deleteValue(wp)}Mt.deleteBaggage=PG});var yy=c(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.PropagationAPI=void 0;var Dp=Hr(),CG=Sy(),Oy=dp(),cu=Ty(),IG=ap(),Ry=Vr(),xp="propagation",NG=new CG.NoopTextMapPropagator,xs=class{constructor(){this.createBaggage=IG.createBaggage,this.getBaggage=cu.getBaggage,this.getActiveBaggage=cu.getActiveBaggage,this.setBaggage=cu.setBaggage,this.deleteBaggage=cu.deleteBaggage}static getInstance(){return this._instance||(this._instance=new xs),this._instance}setGlobalPropagator(t){return(0,Dp.registerGlobal)(xp,t,Ry.DiagAPI.instance())}inject(t,r,n=Oy.defaultTextMapSetter){return this._getGlobalPropagator().inject(t,r,n)}extract(t,r,n=Oy.defaultTextMapGetter){return this._getGlobalPropagator().extract(t,r,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,Dp.unregisterGlobal)(xp,Ry.DiagAPI.instance())}_getGlobalPropagator(){return(0,Dp.getGlobal)(xp)||NG}};lu.PropagationAPI=xs});var by=c(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.propagation=void 0;var LG=yy();du.propagation=LG.PropagationAPI.getInstance()});var Iy=c(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.TraceAPI=void 0;var Bp=Hr(),vy=Cp(),Py=za(),di=Sp(),Cy=Vr(),Up="trace",Bs=class{constructor(){this._proxyTracerProvider=new vy.ProxyTracerProvider,this.wrapSpanContext=Py.wrapSpanContext,this.isSpanContextValid=Py.isSpanContextValid,this.deleteSpan=di.deleteSpan,this.getSpan=di.getSpan,this.getActiveSpan=di.getActiveSpan,this.getSpanContext=di.getSpanContext,this.setSpan=di.setSpan,this.setSpanContext=di.setSpanContext}static getInstance(){return this._instance||(this._instance=new Bs),this._instance}setGlobalTracerProvider(t){let r=(0,Bp.registerGlobal)(Up,this._proxyTracerProvider,Cy.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r}getTracerProvider(){return(0,Bp.getGlobal)(Up)||this._proxyTracerProvider}getTracer(t,r){return this.getTracerProvider().getTracer(t,r)}disable(){(0,Bp.unregisterGlobal)(Up,Cy.DiagAPI.instance()),this._proxyTracerProvider=new vy.ProxyTracerProvider}};_u.TraceAPI=Bs});var Ny=c(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.trace=void 0;var MG=Iy();fu.trace=MG.TraceAPI.getInstance()});var P=c(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.trace=M.propagation=M.metrics=M.diag=M.context=M.INVALID_SPAN_CONTEXT=M.INVALID_TRACEID=M.INVALID_SPANID=M.isValidSpanId=M.isValidTraceId=M.isSpanContextValid=M.createTraceState=M.TraceFlags=M.SpanStatusCode=M.SpanKind=M.SamplingDecision=M.ProxyTracerProvider=M.ProxyTracer=M.defaultTextMapSetter=M.defaultTextMapGetter=M.ValueType=M.createNoopMeter=M.DiagLogLevel=M.DiagConsoleLogger=M.ROOT_CONTEXT=M.createContextKey=M.baggageEntryMetadataFromString=void 0;var wG=ap();Object.defineProperty(M,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return wG.baggageEntryMetadataFromString}});var Ly=bs();Object.defineProperty(M,"createContextKey",{enumerable:!0,get:function(){return Ly.createContextKey}});Object.defineProperty(M,"ROOT_CONTEXT",{enumerable:!0,get:function(){return Ly.ROOT_CONTEXT}});var DG=WR();Object.defineProperty(M,"DiagConsoleLogger",{enumerable:!0,get:function(){return DG.DiagConsoleLogger}});var xG=La();Object.defineProperty(M,"DiagLogLevel",{enumerable:!0,get:function(){return xG.DiagLogLevel}});var BG=lp();Object.defineProperty(M,"createNoopMeter",{enumerable:!0,get:function(){return BG.createNoopMeter}});var UG=KR();Object.defineProperty(M,"ValueType",{enumerable:!0,get:function(){return UG.ValueType}});var My=dp();Object.defineProperty(M,"defaultTextMapGetter",{enumerable:!0,get:function(){return My.defaultTextMapGetter}});Object.defineProperty(M,"defaultTextMapSetter",{enumerable:!0,get:function(){return My.defaultTextMapSetter}});var GG=bp();Object.defineProperty(M,"ProxyTracer",{enumerable:!0,get:function(){return GG.ProxyTracer}});var jG=Cp();Object.defineProperty(M,"ProxyTracerProvider",{enumerable:!0,get:function(){return jG.ProxyTracerProvider}});var FG=ny();Object.defineProperty(M,"SamplingDecision",{enumerable:!0,get:function(){return FG.SamplingDecision}});var qG=iy();Object.defineProperty(M,"SpanKind",{enumerable:!0,get:function(){return qG.SpanKind}});var kG=sy();Object.defineProperty(M,"SpanStatusCode",{enumerable:!0,get:function(){return kG.SpanStatusCode}});var HG=hp();Object.defineProperty(M,"TraceFlags",{enumerable:!0,get:function(){return HG.TraceFlags}});var VG=_y();Object.defineProperty(M,"createTraceState",{enumerable:!0,get:function(){return VG.createTraceState}});var Gp=za();Object.defineProperty(M,"isSpanContextValid",{enumerable:!0,get:function(){return Gp.isSpanContextValid}});Object.defineProperty(M,"isValidTraceId",{enumerable:!0,get:function(){return Gp.isValidTraceId}});Object.defineProperty(M,"isValidSpanId",{enumerable:!0,get:function(){return Gp.isValidSpanId}});var jp=Wa();Object.defineProperty(M,"INVALID_SPANID",{enumerable:!0,get:function(){return jp.INVALID_SPANID}});Object.defineProperty(M,"INVALID_TRACEID",{enumerable:!0,get:function(){return jp.INVALID_TRACEID}});Object.defineProperty(M,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return jp.INVALID_SPAN_CONTEXT}});var wy=fy();Object.defineProperty(M,"context",{enumerable:!0,get:function(){return wy.context}});var Dy=py();Object.defineProperty(M,"diag",{enumerable:!0,get:function(){return Dy.diag}});var xy=my();Object.defineProperty(M,"metrics",{enumerable:!0,get:function(){return xy.metrics}});var By=by();Object.defineProperty(M,"propagation",{enumerable:!0,get:function(){return By.propagation}});var Uy=Ny();Object.defineProperty(M,"trace",{enumerable:!0,get:function(){return Uy.trace}});M.default={context:wy.context,diag:Dy.diag,metrics:xy.metrics,propagation:By.propagation,trace:Uy.trace}});var Us=c(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.isTracingSuppressed=Er.unsuppressTracing=Er.suppressTracing=void 0;var $G=P(),Fp=(0,$G.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function YG(e){return e.setValue(Fp,!0)}Er.suppressTracing=YG;function WG(e){return e.deleteValue(Fp)}Er.unsuppressTracing=WG;function KG(e){return e.getValue(Fp)===!0}Er.isTracingSuppressed=KG});var Gy=c(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.validateValue=_i.validateKey=void 0;var qp="[_0-9a-z-*/]",XG=`[a-z]${qp}{0,255}`,zG=`[a-z0-9]${qp}{0,240}@[a-z]${qp}{0,13}`,QG=new RegExp(`^(?:${XG}|${zG})$`),ZG=/^[ -~]{0,255}[!-~]$/,JG=/,|=/;function ej(e){return QG.test(e)}_i.validateKey=ej;function tj(e){return ZG.test(e)&&!JG.test(e)}_i.validateValue=tj});var kp=c(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.TraceState=void 0;var jy=Gy(),Fy=32,rj=512,qy=",",ky="=",Gs=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+ky+this.get(r)),t),[]).join(qy)}_parse(t){t.length>rj||(this._internalState=t.split(qy).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(ky);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,jy.validateKey)(o)&&(0,jy.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>Fy&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Fy))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Gs;return t._internalState=new Map(this._internalState),t}};pu.TraceState=Gs});var Vp=c(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.W3CTraceContextPropagator=Ce.parseTraceParent=Ce.TRACE_STATE_HEADER=Ce.TRACE_PARENT_HEADER=void 0;var hu=P(),nj=Us(),ij=kp();Ce.TRACE_PARENT_HEADER="traceparent";Ce.TRACE_STATE_HEADER="tracestate";var sj="00",oj="(?!ff)[\\da-f]{2}",aj="(?![0]{32})[\\da-f]{32}",uj="(?![0]{16})[\\da-f]{16}",cj="[\\da-f]{2}",lj=new RegExp(`^\\s?(${oj})-(${aj})-(${uj})-(${cj})(-.*)?\\s?$`);function Hy(e){let t=lj.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ce.parseTraceParent=Hy;var Hp=class{inject(t,r,n){let i=hu.trace.getSpanContext(t);if(!i||(0,nj.isTracingSuppressed)(t)||!(0,hu.isSpanContextValid)(i))return;let s=`${sj}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||hu.TraceFlags.NONE).toString(16)}`;n.set(r,Ce.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Ce.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ce.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=Hy(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Ce.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new ij.TraceState(typeof u=="string"?u:void 0)}return hu.trace.setSpanContext(t,o)}fields(){return[Ce.TRACE_PARENT_HEADER,Ce.TRACE_STATE_HEADER]}};Ce.W3CTraceContextPropagator=Hp});var $p=c(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.BAGGAGE_MAX_TOTAL_LENGTH=Ie.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ie.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ie.BAGGAGE_HEADER=Ie.BAGGAGE_ITEMS_SEPARATOR=Ie.BAGGAGE_PROPERTIES_SEPARATOR=Ie.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ie.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ie.BAGGAGE_PROPERTIES_SEPARATOR=";";Ie.BAGGAGE_ITEMS_SEPARATOR=",";Ie.BAGGAGE_HEADER="baggage";Ie.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ie.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ie.BAGGAGE_MAX_TOTAL_LENGTH=8192});var Yp=c(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.parseKeyPairsIntoRecord=wt.parsePairKeyValue=wt.getKeyPairs=wt.serializeKeyPairs=void 0;var dj=P(),$r=$p();function _j(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?$r.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>$r.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}wt.serializeKeyPairs=_j;function fj(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=$r.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}wt.getKeyPairs=fj;function Vy(e){let t=e.split($r.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.indexOf($r.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;let i=decodeURIComponent(r.substring(0,n).trim()),s=decodeURIComponent(r.substring(n+1).trim()),o;return t.length>0&&(o=(0,dj.baggageEntryMetadataFromString)(t.join($r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}wt.parsePairKeyValue=Vy;function pj(e){return typeof e!="string"||e.length===0?{}:e.split($r.BAGGAGE_ITEMS_SEPARATOR).map(t=>Vy(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}wt.parseKeyPairsIntoRecord=pj});var $y=c(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.W3CBaggagePropagator=void 0;var Wp=P(),hj=Us(),Yr=$p(),Kp=Yp(),Xp=class{inject(t,r,n){let i=Wp.propagation.getBaggage(t);if(!i||(0,hj.isTracingSuppressed)(t))return;let s=(0,Kp.getKeyPairs)(i).filter(a=>a.length<=Yr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Yr.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Kp.serializeKeyPairs)(s);o.length>0&&n.set(r,Yr.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,Yr.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Yr.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(Yr.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,Kp.parsePairKeyValue)(u);if(l){let d={value:l.value};l.metadata&&(d.metadata=l.metadata),o[l.key]=d}}),Object.entries(o).length===0)?t:Wp.propagation.setBaggage(t,Wp.propagation.createBaggage(o))}fields(){return[Yr.BAGGAGE_HEADER]}};Eu.W3CBaggagePropagator=Xp});var Yy=c(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.AnchoredClock=void 0;var zp=class{constructor(t,r){this._monotonicClock=r,this._epochMillis=t.now(),this._performanceMillis=r.now()}now(){let t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t}};gu.AnchoredClock=zp});var Qy=c(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.isAttributeValue=gr.isAttributeKey=gr.sanitizeAttributes=void 0;var Wy=P();function Ej(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!Ky(r)){Wy.diag.warn(`Invalid attribute key: ${r}`);continue}if(!Xy(n)){Wy.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}gr.sanitizeAttributes=Ej;function Ky(e){return typeof e=="string"&&e.length>0}gr.isAttributeKey=Ky;function Xy(e){return e==null?!0:Array.isArray(e)?gj(e):zy(e)}gr.isAttributeValue=Xy;function gj(e){let t;for(let r of e)if(r!=null){if(!t){if(zy(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function zy(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var Qp=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.loggingErrorHandler=void 0;var mj=P();function Sj(){return e=>{mj.diag.error(Aj(e))}}mu.loggingErrorHandler=Sj;function Aj(e){return typeof e=="string"?e:JSON.stringify(Tj(e))}function Tj(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var Zp=c(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.globalErrorHandler=fi.setGlobalErrorHandler=void 0;var Oj=Qp(),Zy=(0,Oj.loggingErrorHandler)();function Rj(e){Zy=e}fi.setGlobalErrorHandler=Rj;function yj(e){try{Zy(e)}catch{}}fi.globalErrorHandler=yj});var Jp=c(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.TracesSamplerValues=void 0;var bj;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(bj=js.TracesSamplerValues||(js.TracesSamplerValues={}))});var Jy=c(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su._globalThis=void 0;Su._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var th=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.getEnvWithoutDefaults=se.parseEnvironment=se.DEFAULT_ENVIRONMENT=se.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=se.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=se.DEFAULT_ATTRIBUTE_COUNT_LIMIT=se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var mr=P(),vj=Jp(),Pj=Jy(),Cj=",",Ij=["OTEL_SDK_DISABLED"];function Nj(e){return Ij.indexOf(e)>-1}var Lj=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Mj(e){return Lj.indexOf(e)>-1}var wj=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Dj(e){return wj.indexOf(e)>-1}se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;se.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;se.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;se.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;se.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:mr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:se.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:se.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:se.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:se.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:se.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:se.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:vj.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function xj(e,t,r){if(typeof r[e]>"u")return;let n=String(r[e]);t[e]=n.toLowerCase()==="true"}function Bj(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function Uj(e,t,r,n=Cj){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var Gj={ALL:mr.DiagLogLevel.ALL,VERBOSE:mr.DiagLogLevel.VERBOSE,DEBUG:mr.DiagLogLevel.DEBUG,INFO:mr.DiagLogLevel.INFO,WARN:mr.DiagLogLevel.WARN,ERROR:mr.DiagLogLevel.ERROR,NONE:mr.DiagLogLevel.NONE};function jj(e,t,r){let n=r[e];if(typeof n=="string"){let i=Gj[n.toUpperCase()];i!=null&&(t[e]=i)}}function eh(e){let t={};for(let r in se.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":jj(n,t,e);break;default:if(Nj(n))xj(n,t,e);else if(Mj(n))Bj(n,t,e);else if(Dj(n))Uj(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}se.parseEnvironment=eh;function Fj(){return typeof process<"u"&&process&&process.env?eh(process.env):eh(Pj._globalThis)}se.getEnvWithoutDefaults=Fj});var tb=c(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.getEnv=void 0;var eb=th();function qj(){let e=(0,eb.parseEnvironment)(process.env);return Object.assign({},eb.DEFAULT_ENVIRONMENT,e)}Au.getEnv=qj});var rb=c(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu._globalThis=void 0;Tu._globalThis=typeof globalThis=="object"?globalThis:global});var rh=c(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.hexToBinary=void 0;function nb(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function kj(e){let t=new Uint8Array(e.length/2),r=0;for(let n=0;n<e.length;n+=2){let i=nb(e.charCodeAt(n)),s=nb(e.charCodeAt(n+1));t[r++]=i<<4|s}return t}Ou.hexToBinary=kj});var ib=c(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.hexToBase64=void 0;var Hj=rh();function Vj(e){return Buffer.from((0,Hj.hexToBinary)(e)).toString("base64")}Ru.hexToBase64=Vj});var ab=c(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.RandomIdGenerator=void 0;var $j=8,ob=16,nh=class{constructor(){this.generateTraceId=sb(ob),this.generateSpanId=sb($j)}};bu.RandomIdGenerator=nh;var yu=Buffer.allocUnsafe(ob);function sb(e){return function(){for(let r=0;r<e/4;r++)yu.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(yu[r]>0);r++)r===e-1&&(yu[e-1]=1);return yu.toString("hex",0,e)}}});var ub=c(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.otperformance=void 0;var Yj=v("perf_hooks");vu.otperformance=Yj.performance});var ih=c(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.VERSION=void 0;Pu.VERSION="1.21.0"});var cb=c(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.MessageTypeValues=Q.RpcGrpcStatusCodeValues=Q.MessagingOperationValues=Q.MessagingDestinationKindValues=Q.HttpFlavorValues=Q.NetHostConnectionSubtypeValues=Q.NetHostConnectionTypeValues=Q.NetTransportValues=Q.FaasInvokedProviderValues=Q.FaasDocumentOperationValues=Q.FaasTriggerValues=Q.DbCassandraConsistencyLevelValues=Q.DbSystemValues=Q.SemanticAttributes=void 0;Q.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Q.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Q.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Q.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Q.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Q.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Q.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Q.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Q.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Q.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Q.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Q.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Q.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Q.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var lb=c(Wr=>{"use strict";var Wj=Wr&&Wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kj=Wr&&Wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wj(t,e,r)};Object.defineProperty(Wr,"__esModule",{value:!0});Kj(cb(),Wr)});var db=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.TelemetrySdkLanguageValues=Ne.OsTypeValues=Ne.HostArchValues=Ne.AwsEcsLaunchtypeValues=Ne.CloudPlatformValues=Ne.CloudProviderValues=Ne.SemanticResourceAttributes=void 0;Ne.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ne.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ne.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ne.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ne.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ne.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ne.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var _b=c(Kr=>{"use strict";var Xj=Kr&&Kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zj=Kr&&Kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xj(t,e,r)};Object.defineProperty(Kr,"__esModule",{value:!0});zj(db(),Kr)});var Dt=c(Sr=>{"use strict";var Qj=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fb=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qj(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});fb(lb(),Sr);fb(_b(),Sr)});var pb=c(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.SDK_INFO=void 0;var Zj=ih(),Fs=Dt();Cu.SDK_INFO={[Fs.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Fs.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Fs.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Fs.TelemetrySdkLanguageValues.NODEJS,[Fs.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Zj.VERSION}});var hb=c(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.unrefTimer=void 0;function Jj(e){e.unref()}Iu.unrefTimer=Jj});var Eb=c(et=>{"use strict";var eF=et&&et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xr=et&&et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eF(t,e,r)};Object.defineProperty(et,"__esModule",{value:!0});Xr(tb(),et);Xr(rb(),et);Xr(ib(),et);Xr(ab(),et);Xr(ub(),et);Xr(pb(),et);Xr(hb(),et)});var sh=c(zr=>{"use strict";var tF=zr&&zr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rF=zr&&zr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tF(t,e,r)};Object.defineProperty(zr,"__esModule",{value:!0});rF(Eb(),zr)});var Ab=c(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.addHrTimes=re.isTimeInput=re.isTimeInputHrTime=re.hrTimeToMicroseconds=re.hrTimeToMilliseconds=re.hrTimeToNanoseconds=re.hrTimeToTimeStamp=re.hrTimeDuration=re.timeInputToHrTime=re.hrTime=re.getTimeOrigin=re.millisToHrTime=void 0;var oh=sh(),gb=9,nF=6,iF=Math.pow(10,nF),Nu=Math.pow(10,gb);function qs(e){let t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*iF);return[r,n]}re.millisToHrTime=qs;function ah(){let e=oh.otperformance.timeOrigin;if(typeof e!="number"){let t=oh.otperformance;e=t.timing&&t.timing.fetchStart}return e}re.getTimeOrigin=ah;function mb(e){let t=qs(ah()),r=qs(typeof e=="number"?e:oh.otperformance.now());return Sb(t,r)}re.hrTime=mb;function sF(e){if(uh(e))return e;if(typeof e=="number")return e<ah()?mb(e):qs(e);if(e instanceof Date)return qs(e.getTime());throw TypeError("Invalid input type")}re.timeInputToHrTime=sF;function oF(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Nu),[r,n]}re.hrTimeDuration=oF;function aF(e){let t=gb,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}re.hrTimeToTimeStamp=aF;function uF(e){return e[0]*Nu+e[1]}re.hrTimeToNanoseconds=uF;function cF(e){return e[0]*1e3+e[1]/1e6}re.hrTimeToMilliseconds=cF;function lF(e){return e[0]*1e6+e[1]/1e3}re.hrTimeToMicroseconds=lF;function uh(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}re.isTimeInputHrTime=uh;function dF(e){return uh(e)||typeof e=="number"||e instanceof Date}re.isTimeInput=dF;function Sb(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=Nu&&(r[1]-=Nu,r[0]+=1),r}re.addHrTimes=Sb});var Ob=c(Tb=>{"use strict";Object.defineProperty(Tb,"__esModule",{value:!0})});var Rb=c(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.ExportResultCode=void 0;var _F;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(_F=ks.ExportResultCode||(ks.ExportResultCode={}))});var bb=c(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.CompositePropagator=void 0;var yb=P(),ch=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){yb.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){yb.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};Lu.CompositePropagator=ch});var Pb=c(vb=>{"use strict";Object.defineProperty(vb,"__esModule",{value:!0})});var Cb=c(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.getRPCMetadata=ft.deleteRPCMetadata=ft.setRPCMetadata=ft.RPCType=void 0;var fF=P(),lh=(0,fF.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),pF;(function(e){e.HTTP="http"})(pF=ft.RPCType||(ft.RPCType={}));function hF(e,t){return e.setValue(lh,t)}ft.setRPCMetadata=hF;function EF(e){return e.deleteValue(lh)}ft.deleteRPCMetadata=EF;function gF(e){return e.getValue(lh)}ft.getRPCMetadata=gF});var _h=c(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.AlwaysOffSampler=void 0;var mF=P(),dh=class{shouldSample(){return{decision:mF.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Mu.AlwaysOffSampler=dh});var ph=c(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.AlwaysOnSampler=void 0;var SF=P(),fh=class{shouldSample(){return{decision:SF.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};wu.AlwaysOnSampler=fh});var Nb=c(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.ParentBasedSampler=void 0;var Du=P(),AF=Zp(),Ib=_h(),hh=ph(),Eh=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,AF.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new hh.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new hh.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Ib.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new hh.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new Ib.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=Du.trace.getSpanContext(t);return!a||!(0,Du.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&Du.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&Du.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};xu.ParentBasedSampler=Eh});var Lb=c(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.TraceIdRatioBasedSampler=void 0;var gh=P(),mh=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,gh.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?gh.SamplingDecision.RECORD_AND_SAMPLED:gh.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Bu.TraceIdRatioBasedSampler=mh});var Bb=c(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.isPlainObject=void 0;var TF="[object Object]",OF="[object Null]",RF="[object Undefined]",yF=Function.prototype,Mb=yF.toString,bF=Mb.call(Object),vF=PF(Object.getPrototypeOf,Object),wb=Object.prototype,Db=wb.hasOwnProperty,Qr=Symbol?Symbol.toStringTag:void 0,xb=wb.toString;function PF(e,t){return function(r){return e(t(r))}}function CF(e){if(!IF(e)||NF(e)!==TF)return!1;let t=vF(e);if(t===null)return!0;let r=Db.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Mb.call(r)===bF}Uu.isPlainObject=CF;function IF(e){return e!=null&&typeof e=="object"}function NF(e){return e==null?e===void 0?RF:OF:Qr&&Qr in Object(e)?LF(e):MF(e)}function LF(e){let t=Db.call(e,Qr),r=e[Qr],n=!1;try{e[Qr]=void 0,n=!0}catch{}let i=xb.call(e);return n&&(t?e[Qr]=r:delete e[Qr]),i}function MF(e){return xb.call(e)}});var qb=c(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.merge=void 0;var Ub=Bb(),wF=20;function DF(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=jb(t,e.shift(),0,r);return t}Fu.merge=DF;function Sh(e){return ju(e)?e.slice():e}function jb(e,t,r=0,n){let i;if(!(r>wF)){if(r++,Gu(e)||Gu(t)||Fb(t))i=Sh(t);else if(ju(e)){if(i=e.slice(),ju(t))for(let s=0,o=t.length;s<o;s++)i.push(Sh(t[s]));else if(Hs(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=Sh(t[u])}}}else if(Hs(e))if(Hs(t)){if(!xF(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(Gu(l))typeof l>"u"?delete i[u]:i[u]=l;else{let d=i[u],_=l;if(Gb(e,u,n)||Gb(t,u,n))delete i[u];else{if(Hs(d)&&Hs(_)){let f=n.get(d)||[],p=n.get(_)||[];f.push({obj:e,key:u}),p.push({obj:t,key:u}),n.set(d,f),n.set(_,p)}i[u]=jb(i[u],l,r,n)}}}}else i=t;return i}}function Gb(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function ju(e){return Array.isArray(e)}function Fb(e){return typeof e=="function"}function Hs(e){return!Gu(e)&&!ju(e)&&!Fb(e)&&typeof e=="object"}function Gu(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function xF(e,t){return!(!(0,Ub.isPlainObject)(e)||!(0,Ub.isPlainObject)(t))}});var kb=c(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.callWithTimeout=hi.TimeoutError=void 0;var pi=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,pi.prototype)}};hi.TimeoutError=pi;function BF(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new pi("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}hi.callWithTimeout=BF});var Vb=c(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.isUrlIgnored=Ei.urlMatches=void 0;function Hb(e,t){return typeof t=="string"?e===t:!!e.match(t)}Ei.urlMatches=Hb;function UF(e,t){if(!t)return!1;for(let r of t)if(Hb(e,r))return!0;return!1}Ei.isUrlIgnored=UF});var $b=c(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.isWrapped=void 0;function GF(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}qu.isWrapped=GF});var Yb=c(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.Deferred=void 0;var Ah=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};ku.Deferred=Ah});var Wb=c(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.BindOnceFuture=void 0;var jF=Yb(),Th=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new jF.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Hu.BindOnceFuture=Th});var Xb=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu._export=void 0;var Kb=P(),FF=Us();function qF(e,t){return new Promise(r=>{Kb.context.with((0,FF.suppressTracing)(Kb.context.active()),()=>{e.export(t,n=>{r(n)})})})}Vu._export=qF});var $e=c(H=>{"use strict";var kF=H&&H.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J=H&&H.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kF(t,e,r)};Object.defineProperty(H,"__esModule",{value:!0});H.internal=H.baggageUtils=void 0;J($y(),H);J(Yy(),H);J(Qy(),H);J(Zp(),H);J(Qp(),H);J(Ab(),H);J(Ob(),H);J(rh(),H);J(Rb(),H);H.baggageUtils=Yp();J(sh(),H);J(bb(),H);J(Vp(),H);J(Pb(),H);J(Cb(),H);J(_h(),H);J(ph(),H);J(Nb(),H);J(Lb(),H);J(Us(),H);J(kp(),H);J(th(),H);J(qb(),H);J(Jp(),H);J(kb(),H);J(Vb(),H);J($b(),H);J(Wb(),H);J(ih(),H);var HF=Xb();H.internal={_export:HF._export}});var zb=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.ExceptionEventName=void 0;$u.ExceptionEventName="exception"});var Rh=c(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.Span=void 0;var pt=P(),Le=$e(),Zr=Dt(),VF=zb(),Oh=class{constructor(t,r,n,i,s,o,a=[],u,l,d){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:pt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a;let _=Date.now();this._performanceStartTime=Le.otperformance.now(),this._performanceOffset=_-(this._performanceStartTime+(0,Le.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??_),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,d!=null&&this.setAttributes(d),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(pt.diag.warn(`Invalid attribute key: ${t}`),this):(0,Le.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),this):(pt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return pt.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&pt.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Le.isTimeInput)(r)&&((0,Le.isTimeInput)(n)||(n=r),r=void 0);let i=(0,Le.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t){if(this._isSpanEnded()){pt.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(t),this._duration=(0,Le.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(pt.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&pt.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(t){if(typeof t=="number"&&t<Le.otperformance.now())return(0,Le.hrTime)(t+this._performanceOffset);if(typeof t=="number")return(0,Le.millisToHrTime)(t);if(t instanceof Date)return(0,Le.millisToHrTime)(t.getTime());if((0,Le.isTimeInputHrTime)(t))return t;if(this._startTimeProvided)return(0,Le.millisToHrTime)(Date.now());let r=Le.otperformance.now()-this._performanceStartTime;return(0,Le.addHrTimes)(this.startTime,(0,Le.millisToHrTime)(r))}isRecording(){return this._ended===!1}recordException(t,r){let n={};typeof t=="string"?n[Zr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Zr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Zr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Zr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Zr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Zr.SemanticAttributes.EXCEPTION_TYPE]||n[Zr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(VF.ExceptionEventName,n,r):pt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&pt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(pt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Yu.Span=Oh});var $s=c(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.SamplingDecision=void 0;var $F;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})($F=Vs.SamplingDecision||(Vs.SamplingDecision={}))});var Ku=c(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.AlwaysOffSampler=void 0;var YF=$s(),yh=class{shouldSample(){return{decision:YF.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Wu.AlwaysOffSampler=yh});var zu=c(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.AlwaysOnSampler=void 0;var WF=$s(),bh=class{shouldSample(){return{decision:WF.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Xu.AlwaysOnSampler=bh});var Ch=c(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.ParentBasedSampler=void 0;var Qu=P(),KF=$e(),Qb=Ku(),vh=zu(),Ph=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,KF.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new vh.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new vh.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Qb.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new vh.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new Qb.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=Qu.trace.getSpanContext(t);return!a||!(0,Qu.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&Qu.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&Qu.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Zu.ParentBasedSampler=Ph});var Nh=c(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.TraceIdRatioBasedSampler=void 0;var XF=P(),Zb=$s(),Ih=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,XF.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?Zb.SamplingDecision.RECORD_AND_SAMPLED:Zb.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Ju.TraceIdRatioBasedSampler=Ih});var wh=c(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.buildSamplerFromEnv=mi.loadDefaultConfig=void 0;var ec=P(),Ae=$e(),Jb=Ku(),Lh=zu(),Mh=Ch(),e0=Nh(),zF=(0,Ae.getEnv)(),QF=Ae.TracesSamplerValues.AlwaysOn,gi=1;function ZF(){return{sampler:r0(zF),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Ae.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Ae.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Ae.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Ae.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,Ae.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}mi.loadDefaultConfig=ZF;function r0(e=(0,Ae.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case Ae.TracesSamplerValues.AlwaysOn:return new Lh.AlwaysOnSampler;case Ae.TracesSamplerValues.AlwaysOff:return new Jb.AlwaysOffSampler;case Ae.TracesSamplerValues.ParentBasedAlwaysOn:return new Mh.ParentBasedSampler({root:new Lh.AlwaysOnSampler});case Ae.TracesSamplerValues.ParentBasedAlwaysOff:return new Mh.ParentBasedSampler({root:new Jb.AlwaysOffSampler});case Ae.TracesSamplerValues.TraceIdRatio:return new e0.TraceIdRatioBasedSampler(t0(e));case Ae.TracesSamplerValues.ParentBasedTraceIdRatio:return new Mh.ParentBasedSampler({root:new e0.TraceIdRatioBasedSampler(t0(e))});default:return ec.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${QF}".`),new Lh.AlwaysOnSampler}}mi.buildSamplerFromEnv=r0;function t0(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return ec.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${gi}.`),gi;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(ec.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${gi}.`),gi):t<0||t>1?(ec.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${gi}.`),gi):t}});var xh=c(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.reconfigureLimits=Si.mergeConfig=void 0;var n0=wh(),Dh=$e();function JF(e){let t={sampler:(0,n0.buildSamplerFromEnv)()},r=(0,n0.loadDefaultConfig)(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}Si.mergeConfig=JF;function eq(e){var t,r,n,i,s,o,a,u,l,d,_,f;let p=Object.assign({},e.spanLimits),h=(0,Dh.getEnvWithoutDefaults)();return p.attributeCountLimit=(o=(s=(i=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:h.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Dh.DEFAULT_ATTRIBUTE_COUNT_LIMIT,p.attributeValueLengthLimit=(f=(_=(d=(u=(a=e.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(l=e.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&d!==void 0?d:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:Dh.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:p})}Si.reconfigureLimits=eq});var i0=c(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.BatchSpanProcessorBase=void 0;var Ai=P(),Jr=$e(),Bh=class{constructor(t,r){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let n=(0,Jr.getEnv)();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new Jr.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Ai.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Ai.TraceFlags.SAMPLED)!==0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&Ai.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(Ai.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Ai.context.with((0,Jr.suppressTracing)(Ai.context.active()),()=>{let i=this._finishedSpans.splice(0,this._maxExportBatchSize),s=()=>this._exporter.export(i,a=>{var u;clearTimeout(n),a.code===Jr.ExportResultCode.SUCCESS?t():r((u=a.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),o=i.map(a=>a.resource).filter(a=>a.asyncAttributesPending);o.length===0?s():Promise.all(o.map(a=>{var u;return(u=a.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(a)})).then(s,a=>{(0,Jr.globalErrorHandler)(a),r(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let t=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,(0,Jr.globalErrorHandler)(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(()=>t(),this._scheduledDelayMillis),(0,Jr.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};tc.BatchSpanProcessorBase=Bh});var s0=c(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.BatchSpanProcessor=void 0;var tq=i0(),Uh=class extends tq.BatchSpanProcessorBase{onShutdown(){}};rc.BatchSpanProcessor=Uh});var u0=c(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.RandomIdGenerator=void 0;var rq=8,a0=16,Gh=class{constructor(){this.generateTraceId=o0(a0),this.generateSpanId=o0(rq)}};ic.RandomIdGenerator=Gh;var nc=Buffer.allocUnsafe(a0);function o0(e){return function(){for(let r=0;r<e/4;r++)nc.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(nc[r]>0);r++)r===e-1&&(nc[e-1]=1);return nc.toString("hex",0,e)}}});var l0=c(Ar=>{"use strict";var nq=Ar&&Ar.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),c0=Ar&&Ar.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&nq(t,e,r)};Object.defineProperty(Ar,"__esModule",{value:!0});c0(s0(),Ar);c0(u0(),Ar)});var sc=c(en=>{"use strict";var iq=en&&en.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sq=en&&en.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iq(t,e,r)};Object.defineProperty(en,"__esModule",{value:!0});sq(l0(),en)});var d0=c(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.Tracer=void 0;var Te=P(),oc=$e(),oq=Rh(),aq=xh(),uq=sc(),jh=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,aq.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new uq.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Te.context.active()){var i,s,o;r.root&&(n=Te.trace.deleteSpan(n));let a=Te.trace.getSpan(n);if((0,oc.isTracingSuppressed)(n))return Te.diag.debug("Instrumentation suppressed, returning Noop Span"),Te.trace.wrapSpanContext(Te.INVALID_SPAN_CONTEXT);let u=a?.spanContext(),l=this._idGenerator.generateSpanId(),d,_,f;!u||!Te.trace.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,_=u.traceState,f=u.spanId);let p=(i=r.kind)!==null&&i!==void 0?i:Te.SpanKind.INTERNAL,h=((s=r.links)!==null&&s!==void 0?s:[]).map(y=>({context:y.context,attributes:(0,oc.sanitizeAttributes)(y.attributes)})),E=(0,oc.sanitizeAttributes)(r.attributes),A=this._sampler.shouldSample(n,d,t,p,E,h);_=(o=A.traceState)!==null&&o!==void 0?o:_;let T=A.decision===Te.SamplingDecision.RECORD_AND_SAMPLED?Te.TraceFlags.SAMPLED:Te.TraceFlags.NONE,O={traceId:d,spanId:l,traceFlags:T,traceState:_};if(A.decision===Te.SamplingDecision.NOT_RECORD)return Te.diag.debug("Recording is off, propagating context in a non-recording span"),Te.trace.wrapSpanContext(O);let R=(0,oc.sanitizeAttributes)(Object.assign(E,A.attributes));return new oq.Span(this,n,t,O,p,f,h,r.startTime,void 0,R)}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??Te.context.active(),l=this.startSpan(t,s,u),d=Te.trace.setSpan(u,l);return Te.context.with(d,a,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};ac.Tracer=jh});var _0=c(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.defaultServiceName=void 0;function cq(){return`unknown_service:${process.argv0}`}uc.defaultServiceName=cq});var Fh=c(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.normalizeType=Ti.normalizeArch=void 0;var lq=e=>{switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}};Ti.normalizeArch=lq;var dq=e=>{switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}};Ti.normalizeType=dq});var lc=c(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.execAsync=void 0;var _q=v("child_process"),fq=v("util");cc.execAsync=fq.promisify(_q.exec)});var f0=c(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.getMachineId=void 0;var pq=lc(),hq=P();async function Eq(){try{let t=(await(0,pq.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!t)return"";let r=t.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(e){hq.diag.debug(`error reading machine id: ${e}`)}return""}dc.getMachineId=Eq});var p0=c(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.getMachineId=void 0;var gq=v("fs"),mq=P();async function Sq(){let e=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let t of e)try{return(await gq.promises.readFile(t,{encoding:"utf8"})).trim()}catch(r){mq.diag.debug(`error reading machine id: ${r}`)}return""}_c.getMachineId=Sq});var E0=c(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.getMachineId=void 0;var Aq=v("fs"),Tq=lc(),h0=P();async function Oq(){try{return(await Aq.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(e){h0.diag.debug(`error reading machine id: ${e}`)}try{return(await(0,Tq.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(e){h0.diag.debug(`error reading machine id: ${e}`)}return""}fc.getMachineId=Oq});var m0=c(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.getMachineId=void 0;var g0=v("process"),Rq=lc(),yq=P();async function bq(){let e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe";g0.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in g0.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t);try{let n=(await(0,Rq.execAsync)(`${t} ${e}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(r){yq.diag.debug(`error reading machine id: ${r}`)}return""}pc.getMachineId=bq});var S0=c(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.getMachineId=void 0;var vq=P();async function Pq(){return vq.diag.debug("could not read machine-id: unsupported platform"),""}hc.getMachineId=Pq});var A0=c(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.getMachineId=void 0;var Cq=v("process"),Oi;Qt.getMachineId=Oi;switch(Cq.platform){case"darwin":Qt.getMachineId=Oi=f0().getMachineId;break;case"linux":Qt.getMachineId=Oi=p0().getMachineId;break;case"freebsd":Qt.getMachineId=Oi=E0().getMachineId;break;case"win32":Qt.getMachineId=Oi=m0().getMachineId;break;default:Qt.getMachineId=Oi=S0().getMachineId}});var Hh=c(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.hostDetectorSync=void 0;var qh=Dt(),Iq=tn(),T0=v("os"),Nq=Fh(),Lq=A0(),kh=class{detect(t){let r={[qh.SemanticResourceAttributes.HOST_NAME]:(0,T0.hostname)(),[qh.SemanticResourceAttributes.HOST_ARCH]:(0,Nq.normalizeArch)((0,T0.arch)())};return new Iq.Resource(r,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,Lq.getMachineId)().then(t=>{let r={};return t&&(r[qh.SemanticResourceAttributes.HOST_ID]=t),r})}};Ec.hostDetectorSync=new kh});var O0=c(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.hostDetector=void 0;var Mq=Hh(),Vh=class{detect(t){return Promise.resolve(Mq.hostDetectorSync.detect(t))}};gc.hostDetector=new Vh});var Yh=c(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.osDetectorSync=void 0;var R0=Dt(),wq=tn(),y0=v("os"),Dq=Fh(),$h=class{detect(t){let r={[R0.SemanticResourceAttributes.OS_TYPE]:(0,Dq.normalizeType)((0,y0.platform)()),[R0.SemanticResourceAttributes.OS_VERSION]:(0,y0.release)()};return new wq.Resource(r)}};mc.osDetectorSync=new $h});var b0=c(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.osDetector=void 0;var xq=Yh(),Wh=class{detect(t){return Promise.resolve(xq.osDetectorSync.detect(t))}};Sc.osDetector=new Wh});var Xh=c(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.processDetectorSync=void 0;var Bq=P(),Zt=Dt(),Uq=tn(),Gq=v("os"),Kh=class{detect(t){let r={[Zt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[Zt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[Zt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[Zt.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[Zt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[Zt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[Zt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(r[Zt.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let n=Gq.userInfo();r[Zt.SemanticResourceAttributes.PROCESS_OWNER]=n.username}catch(n){Bq.diag.debug(`error obtaining process owner: ${n}`)}return new Uq.Resource(r)}};Ac.processDetectorSync=new Kh});var v0=c(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.processDetector=void 0;var jq=Xh(),zh=class{detect(t){return Promise.resolve(jq.processDetectorSync.detect(t))}};Tc.processDetector=new zh});var P0=c(tt=>{"use strict";var Fq=tt&&tt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),rn=tt&&tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fq(t,e,r)};Object.defineProperty(tt,"__esModule",{value:!0});rn(_0(),tt);rn(O0(),tt);rn(b0(),tt);rn(Hh(),tt);rn(Yh(),tt);rn(v0(),tt);rn(Xh(),tt)});var Qh=c(nn=>{"use strict";var qq=nn&&nn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kq=nn&&nn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qq(t,e,r)};Object.defineProperty(nn,"__esModule",{value:!0});kq(P0(),nn)});var tn=c(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Resource=void 0;var C0=P(),sn=Dt(),Zh=$e(),Hq=Qh(),xt=class{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=r?.then(i=>(this._attributes=Object.assign({},this._attributes,i),this.asyncAttributesPending=!1,i),i=>(C0.diag.debug("a resource's async attributes promise rejected: %s",i),this.asyncAttributesPending=!1,{}))}static empty(){return xt.EMPTY}static default(){return new xt({[sn.SemanticResourceAttributes.SERVICE_NAME]:(0,Hq.defaultServiceName)(),[sn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Zh.SDK_INFO[sn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[sn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Zh.SDK_INFO[sn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[sn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Zh.SDK_INFO[sn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var t;return this.asyncAttributesPending&&C0.diag.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(t){var r;if(!t)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new xt(n);let i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(([s,o])=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),s),(a=t._syncAttributes)!==null&&a!==void 0?a:t.attributes),o)});return new xt(n,i)}};Oc.Resource=xt;xt.EMPTY=new xt({})});var N0=c(I0=>{"use strict";Object.defineProperty(I0,"__esModule",{value:!0})});var M0=c(L0=>{"use strict";Object.defineProperty(L0,"__esModule",{value:!0})});var D0=c(w0=>{"use strict";Object.defineProperty(w0,"__esModule",{value:!0})});var x0=c(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.browserDetector=void 0;var Vq=Ys(),Jh=class{detect(t){return Promise.resolve(Vq.browserDetectorSync.detect(t))}};Rc.browserDetector=new Jh});var tE=c(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.envDetectorSync=void 0;var $q=P(),Yq=$e(),Wq=Dt(),Kq=tn(),eE=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(t){let r={},n=(0,Yq.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){$q.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[Wq.SemanticResourceAttributes.SERVICE_NAME]=s),new Kq.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=decodeURIComponent(a)}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)}_isBaggageOctetString(t){for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};yc.envDetectorSync=new eE});var B0=c(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.envDetector=void 0;var Xq=tE(),rE=class{detect(t){return Promise.resolve(Xq.envDetectorSync.detect(t))}};bc.envDetector=new rE});var U0=c(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.browserDetectorSync=void 0;var vc=Dt(),nE=Ys(),zq=P(),iE=class{detect(t){if(!(typeof navigator<"u"))return nE.Resource.empty();let n={[vc.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[vc.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[vc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[vc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(zq.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),nE.Resource.empty()):new nE.Resource(Object.assign({},t))}};Pc.browserDetectorSync=new iE});var G0=c(Bt=>{"use strict";var Qq=Bt&&Bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cc=Bt&&Bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qq(t,e,r)};Object.defineProperty(Bt,"__esModule",{value:!0});Cc(x0(),Bt);Cc(B0(),Bt);Cc(U0(),Bt);Cc(tE(),Bt)});var j0=c(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.isPromiseLike=void 0;var Zq=e=>e!==null&&typeof e=="object"&&typeof e.then=="function";Ic.isPromiseLike=Zq});var q0=c(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.detectResourcesSync=yi.detectResources=void 0;var Ws=tn(),Ri=P(),Jq=j0(),ek=async(e={})=>{let t=await Promise.all((e.detectors||[]).map(async r=>{try{let n=await r.detect(e);return Ri.diag.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return Ri.diag.debug(`${r.constructor.name} failed: ${n.message}`),Ws.Resource.empty()}}));return F0(t),t.reduce((r,n)=>r.merge(n),Ws.Resource.empty())};yi.detectResources=ek;var tk=(e={})=>{var t;let r=((t=e.detectors)!==null&&t!==void 0?t:[]).map(i=>{try{let s=i.detect(e),o;if((0,Jq.isPromiseLike)(s)){let a=async()=>(await s).attributes;o=new Ws.Resource({},a())}else o=s;return o.waitForAsyncAttributes?o.waitForAsyncAttributes().then(()=>Ri.diag.debug(`${i.constructor.name} found resource.`,o)):Ri.diag.debug(`${i.constructor.name} found resource.`,o),o}catch(s){return Ri.diag.error(`${i.constructor.name} failed: ${s.message}`),Ws.Resource.empty()}}),n=r.reduce((i,s)=>i.merge(s),Ws.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{F0(r)}),n};yi.detectResourcesSync=tk;var F0=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=JSON.stringify(t.attributes,null,4);Ri.diag.verbose(r)}})}});var Ys=c(rt=>{"use strict";var rk=rt&&rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),on=rt&&rt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rk(t,e,r)};Object.defineProperty(rt,"__esModule",{value:!0});on(tn(),rt);on(N0(),rt);on(Qh(),rt);on(M0(),rt);on(D0(),rt);on(G0(),rt);on(q0(),rt)});var k0=c(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.MultiSpanProcessor=void 0;var nk=$e(),sE=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,nk.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Nc.MultiSpanProcessor=sE});var aE=c(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.NoopSpanProcessor=void 0;var oE=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Lc.NoopSpanProcessor=oE});var V0=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.BasicTracerProvider=an.ForceFlushState=void 0;var bi=P(),Pi=$e(),H0=Ys(),ik=Mc(),sk=wh(),ok=k0(),ak=aE(),uk=sc(),ck=xh(),vi;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(vi=an.ForceFlushState||(an.ForceFlushState={}));var Ks=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,Pi.merge)({},(0,sk.loadDefaultConfig)(),(0,ck.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:H0.Resource.empty(),this.resource=H0.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new uk.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new ak.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${n?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new ik.Tracer({name:t,version:r,schemaUrl:n?.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>bi.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new ok.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){bi.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&bi.context.setGlobalContextManager(t.contextManager),t.propagator&&bi.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=vi.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==vi.timeout&&(s=vi.resolved,i(s))}).catch(a=>{clearTimeout(o),s=vi.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==vi.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=this.constructor._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=this.constructor._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,Pi.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||bi.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new Pi.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,Pi.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none"||t==="")return;let r=this._getSpanExporter(t);return r||bi.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};an.BasicTracerProvider=Ks;Ks._registeredPropagators=new Map([["tracecontext",()=>new Pi.W3CTraceContextPropagator],["baggage",()=>new Pi.W3CBaggagePropagator]]);Ks._registeredExporters=new Map});var $0=c(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.ConsoleSpanExporter=void 0;var uE=$e(),cE=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(t){var r;return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(r=t.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,uE.hrTimeToMicroseconds)(t.startTime),duration:(0,uE.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:uE.ExportResultCode.SUCCESS})}};wc.ConsoleSpanExporter=cE});var W0=c(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.InMemorySpanExporter=void 0;var Y0=$e(),lE=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:Y0.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:Y0.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Dc.InMemorySpanExporter=lE});var X0=c(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0})});var z0=c(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.SimpleSpanProcessor=void 0;var lk=P(),Ci=$e(),dE=class{constructor(t){this._exporter=t,this._shutdownOnce=new Ci.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(t,r){}onEnd(t){var r,n;if(this._shutdownOnce.isCalled||(t.spanContext().traceFlags&lk.TraceFlags.SAMPLED)===0)return;let i=()=>Ci.internal._export(this._exporter,[t]).then(s=>{var o;s.code!==Ci.ExportResultCode.SUCCESS&&(0,Ci.globalErrorHandler)((o=s.error)!==null&&o!==void 0?o:new Error(`SimpleSpanProcessor: span export failed (status ${s})`))}).catch(s=>{(0,Ci.globalErrorHandler)(s)});if(t.resource.asyncAttributesPending){let s=(n=(r=t.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(r).then(()=>(s!=null&&this._unresolvedExports.delete(s),i()),o=>(0,Ci.globalErrorHandler)(o));s!=null&&this._unresolvedExports.add(s)}else i()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};xc.SimpleSpanProcessor=dE});var Z0=c(Q0=>{"use strict";Object.defineProperty(Q0,"__esModule",{value:!0})});var ev=c(J0=>{"use strict";Object.defineProperty(J0,"__esModule",{value:!0})});var rv=c(tv=>{"use strict";Object.defineProperty(tv,"__esModule",{value:!0})});var iv=c(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0})});var ov=c(sv=>{"use strict";Object.defineProperty(sv,"__esModule",{value:!0})});var Mc=c(oe=>{"use strict";var dk=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Se=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dk(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});Se(d0(),oe);Se(V0(),oe);Se(sc(),oe);Se($0(),oe);Se(W0(),oe);Se(X0(),oe);Se(z0(),oe);Se(Z0(),oe);Se(aE(),oe);Se(Ku(),oe);Se(zu(),oe);Se(Ch(),oe);Se(Nh(),oe);Se($s(),oe);Se(Rh(),oe);Se(ev(),oe);Se(rv(),oe);Se(iv(),oe);Se(ov(),oe)});var Bc=c(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isTracingSuppressed=Tr.unsuppressTracing=Tr.suppressTracing=void 0;var _k=P(),_E=(0,_k.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function fk(e){return e.setValue(_E,!0)}Tr.suppressTracing=fk;function pk(e){return e.deleteValue(_E)}Tr.unsuppressTracing=pk;function hk(e){return e.getValue(_E)===!0}Tr.isTracingSuppressed=hk});var fE=c(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.BAGGAGE_MAX_TOTAL_LENGTH=Me.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Me.BAGGAGE_MAX_NAME_VALUE_PAIRS=Me.BAGGAGE_HEADER=Me.BAGGAGE_ITEMS_SEPARATOR=Me.BAGGAGE_PROPERTIES_SEPARATOR=Me.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Me.BAGGAGE_KEY_PAIR_SEPARATOR="=";Me.BAGGAGE_PROPERTIES_SEPARATOR=";";Me.BAGGAGE_ITEMS_SEPARATOR=",";Me.BAGGAGE_HEADER="baggage";Me.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Me.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Me.BAGGAGE_MAX_TOTAL_LENGTH=8192});var pE=c(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.parseKeyPairsIntoRecord=Ut.parsePairKeyValue=Ut.getKeyPairs=Ut.serializeKeyPairs=void 0;var Ek=P(),un=fE();function gk(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?un.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>un.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}Ut.serializeKeyPairs=gk;function mk(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=un.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}Ut.getKeyPairs=mk;function av(e){let t=e.split(un.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(un.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,Ek.baggageEntryMetadataFromString)(t.join(un.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Ut.parsePairKeyValue=av;function Sk(e){return typeof e!="string"||e.length===0?{}:e.split(un.BAGGAGE_ITEMS_SEPARATOR).map(t=>av(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}Ut.parseKeyPairsIntoRecord=Sk});var uv=c(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.W3CBaggagePropagator=void 0;var hE=P(),Ak=Bc(),cn=fE(),EE=pE(),gE=class{inject(t,r,n){let i=hE.propagation.getBaggage(t);if(!i||(0,Ak.isTracingSuppressed)(t))return;let s=(0,EE.getKeyPairs)(i).filter(a=>a.length<=cn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,cn.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,EE.serializeKeyPairs)(s);o.length>0&&n.set(r,cn.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,cn.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(cn.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(cn.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,EE.parsePairKeyValue)(u);if(l){let d={value:l.value};l.metadata&&(d.metadata=l.metadata),o[l.key]=d}}),Object.entries(o).length===0)?t:hE.propagation.setBaggage(t,hE.propagation.createBaggage(o))}fields(){return[cn.BAGGAGE_HEADER]}};Uc.W3CBaggagePropagator=gE});var fv=c(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});Or.isAttributeValue=Or.isAttributeKey=Or.sanitizeAttributes=void 0;var cv=P();function Tk(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!lv(r)){cv.diag.warn(`Invalid attribute key: ${r}`);continue}if(!dv(n)){cv.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Or.sanitizeAttributes=Tk;function lv(e){return typeof e=="string"&&e.length>0}Or.isAttributeKey=lv;function dv(e){return e==null?!0:Array.isArray(e)?Ok(e):_v(e)}Or.isAttributeValue=dv;function Ok(e){let t;for(let r of e)if(r!=null){if(!t){if(_v(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function _v(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var mE=c(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.loggingErrorHandler=void 0;var Rk=P();function yk(){return e=>{Rk.diag.error(bk(e))}}Gc.loggingErrorHandler=yk;function bk(e){return typeof e=="string"?e:JSON.stringify(vk(e))}function vk(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var SE=c(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.globalErrorHandler=Ii.setGlobalErrorHandler=void 0;var Pk=mE(),pv=(0,Pk.loggingErrorHandler)();function Ck(e){pv=e}Ii.setGlobalErrorHandler=Ck;function Ik(e){try{pv(e)}catch{}}Ii.globalErrorHandler=Ik});var AE=c(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.TracesSamplerValues=void 0;var Nk;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(Nk=Xs.TracesSamplerValues||(Xs.TracesSamplerValues={}))});var TE=c(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.parseEnvironment=je.DEFAULT_ENVIRONMENT=je.DEFAULT_ATTRIBUTE_COUNT_LIMIT=je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Rr=P(),Lk=AE(),Mk=",",wk=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function Dk(e){return wk.indexOf(e)>-1}var xk=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function Bk(e){return xk.indexOf(e)>-1}je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;je.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;je.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Rr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:je.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:je.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:Lk.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function Uk(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function Gk(e,t,r,n=Mk){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var jk={ALL:Rr.DiagLogLevel.ALL,VERBOSE:Rr.DiagLogLevel.VERBOSE,DEBUG:Rr.DiagLogLevel.DEBUG,INFO:Rr.DiagLogLevel.INFO,WARN:Rr.DiagLogLevel.WARN,ERROR:Rr.DiagLogLevel.ERROR,NONE:Rr.DiagLogLevel.NONE};function Fk(e,t,r){let n=r[e];if(typeof n=="string"){let i=jk[n.toUpperCase()];i!=null&&(t[e]=i)}}function qk(e){let t={};for(let r in je.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":Fk(n,t,e);break;default:if(Dk(n))Uk(n,t,e);else if(Bk(n))Gk(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}je.parseEnvironment=qk});var Ev=c(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.getEnv=void 0;var kk=v("os"),hv=TE();function Hk(){let e=(0,hv.parseEnvironment)(process.env);return Object.assign({HOSTNAME:kk.hostname()},hv.DEFAULT_ENVIRONMENT,e)}jc.getEnv=Hk});var gv=c(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc._globalThis=void 0;Fc._globalThis=typeof globalThis=="object"?globalThis:global});var mv=c(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.hexToBase64=void 0;function Vk(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}qc.hexToBase64=Vk});var Tv=c(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.RandomIdGenerator=void 0;var $k=8,Av=16,OE=class{constructor(){this.generateTraceId=Sv(Av),this.generateSpanId=Sv($k)}};Hc.RandomIdGenerator=OE;var kc=Buffer.allocUnsafe(Av);function Sv(e){return function(){for(let r=0;r<e/4;r++)kc.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(kc[r]>0);r++)r===e-1&&(kc[e-1]=1);return kc.toString("hex",0,e)}}});var Ov=c(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.otperformance=void 0;var Yk=v("perf_hooks");Vc.otperformance=Yk.performance});var Yc=c($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.VERSION=void 0;$c.VERSION="1.3.1"});var Rv=c(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.MessageTypeValues=Z.RpcGrpcStatusCodeValues=Z.MessagingOperationValues=Z.MessagingDestinationKindValues=Z.HttpFlavorValues=Z.NetHostConnectionSubtypeValues=Z.NetHostConnectionTypeValues=Z.NetTransportValues=Z.FaasInvokedProviderValues=Z.FaasDocumentOperationValues=Z.FaasTriggerValues=Z.DbCassandraConsistencyLevelValues=Z.DbSystemValues=Z.SemanticAttributes=void 0;Z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var yv=c(ln=>{"use strict";var Wk=ln&&ln.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Kk=ln&&ln.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wk(t,e,r)};Object.defineProperty(ln,"__esModule",{value:!0});Kk(Rv(),ln)});var bv=c(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.TelemetrySdkLanguageValues=we.OsTypeValues=we.HostArchValues=we.AwsEcsLaunchtypeValues=we.CloudPlatformValues=we.CloudProviderValues=we.SemanticResourceAttributes=void 0;we.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};we.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};we.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};we.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};we.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};we.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};we.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var vv=c(dn=>{"use strict";var Xk=dn&&dn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zk=dn&&dn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Xk(t,e,r)};Object.defineProperty(dn,"__esModule",{value:!0});zk(bv(),dn)});var br=c(yr=>{"use strict";var Qk=yr&&yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pv=yr&&yr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Qk(t,e,r)};Object.defineProperty(yr,"__esModule",{value:!0});Pv(yv(),yr);Pv(vv(),yr)});var Cv=c(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.SDK_INFO=void 0;var Zk=Yc(),zs=br();Wc.SDK_INFO={[zs.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[zs.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[zs.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:zs.TelemetrySdkLanguageValues.NODEJS,[zs.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Zk.VERSION}});var Iv=c(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.unrefTimer=void 0;function Jk(e){e.unref()}Kc.unrefTimer=Jk});var Nv=c(nt=>{"use strict";var e2=nt&&nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_n=nt&&nt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&e2(t,e,r)};Object.defineProperty(nt,"__esModule",{value:!0});_n(Ev(),nt);_n(gv(),nt);_n(mv(),nt);_n(Tv(),nt);_n(Ov(),nt);_n(Cv(),nt);_n(Iv(),nt)});var RE=c(fn=>{"use strict";var t2=fn&&fn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),r2=fn&&fn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&t2(t,e,r)};Object.defineProperty(fn,"__esModule",{value:!0});r2(Nv(),fn)});var wv=c(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.isTimeInput=fe.isTimeInputHrTime=fe.hrTimeToMicroseconds=fe.hrTimeToMilliseconds=fe.hrTimeToNanoseconds=fe.hrTimeToTimeStamp=fe.hrTimeDuration=fe.timeInputToHrTime=fe.hrTime=void 0;var yE=RE(),bE=9,Qs=Math.pow(10,bE);function Xc(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(bE))*Qs;return[r,n]}function Lv(){let e=yE.otperformance.timeOrigin;if(typeof e!="number"){let t=yE.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Mv(e){let t=Xc(Lv()),r=Xc(typeof e=="number"?e:yE.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>Qs&&(i-=Qs,n+=1),[n,i]}fe.hrTime=Mv;function n2(e){if(vE(e))return e;if(typeof e=="number")return e<Lv()?Mv(e):Xc(e);if(e instanceof Date)return Xc(e.getTime());throw TypeError("Invalid input type")}fe.timeInputToHrTime=n2;function i2(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Qs),[r,n]}fe.hrTimeDuration=i2;function s2(e){let t=bE,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}fe.hrTimeToTimeStamp=s2;function o2(e){return e[0]*Qs+e[1]}fe.hrTimeToNanoseconds=o2;function a2(e){return Math.round(e[0]*1e3+e[1]/1e6)}fe.hrTimeToMilliseconds=a2;function u2(e){return Math.round(e[0]*1e6+e[1]/1e3)}fe.hrTimeToMicroseconds=u2;function vE(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}fe.isTimeInputHrTime=vE;function c2(e){return vE(e)||typeof e=="number"||e instanceof Date}fe.isTimeInput=c2});var xv=c(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0})});var Bv=c(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.ExportResultCode=void 0;var l2;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(l2=Zs.ExportResultCode||(Zs.ExportResultCode={}))});var Gv=c(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.CompositePropagator=void 0;var Uv=P(),PE=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){Uv.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){Uv.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};zc.CompositePropagator=PE});var jv=c(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.validateValue=Ni.validateKey=void 0;var CE="[_0-9a-z-*/]",d2=`[a-z]${CE}{0,255}`,_2=`[a-z0-9]${CE}{0,240}@[a-z]${CE}{0,13}`,f2=new RegExp(`^(?:${d2}|${_2})$`),p2=/^[ -~]{0,255}[!-~]$/,h2=/,|=/;function E2(e){return f2.test(e)}Ni.validateKey=E2;function g2(e){return p2.test(e)&&!h2.test(e)}Ni.validateValue=g2});var IE=c(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.TraceState=void 0;var Fv=jv(),qv=32,m2=512,kv=",",Hv="=",Js=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+Hv+this.get(r)),t),[]).join(kv)}_parse(t){t.length>m2||(this._internalState=t.split(kv).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(Hv);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,Fv.validateKey)(o)&&(0,Fv.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>qv&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,qv))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Js;return t._internalState=new Map(this._internalState),t}};Qc.TraceState=Js});var $v=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.W3CTraceContextPropagator=De.parseTraceParent=De.TRACE_STATE_HEADER=De.TRACE_PARENT_HEADER=void 0;var Zc=P(),S2=Bc(),A2=IE();De.TRACE_PARENT_HEADER="traceparent";De.TRACE_STATE_HEADER="tracestate";var T2="00",O2="(?!ff)[\\da-f]{2}",R2="(?![0]{32})[\\da-f]{32}",y2="(?![0]{16})[\\da-f]{16}",b2="[\\da-f]{2}",v2=new RegExp(`^\\s?(${O2})-(${R2})-(${y2})-(${b2})(-.*)?\\s?$`);function Vv(e){let t=v2.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}De.parseTraceParent=Vv;var NE=class{inject(t,r,n){let i=Zc.trace.getSpanContext(t);if(!i||(0,S2.isTracingSuppressed)(t)||!(0,Zc.isSpanContextValid)(i))return;let s=`${T2}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Zc.TraceFlags.NONE).toString(16)}`;n.set(r,De.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,De.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,De.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=Vv(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,De.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new A2.TraceState(typeof u=="string"?u:void 0)}return Zc.trace.setSpanContext(t,o)}fields(){return[De.TRACE_PARENT_HEADER,De.TRACE_STATE_HEADER]}};De.W3CTraceContextPropagator=NE});var Wv=c(Yv=>{"use strict";Object.defineProperty(Yv,"__esModule",{value:!0})});var Kv=c(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.getRPCMetadata=ht.deleteRPCMetadata=ht.setRPCMetadata=ht.RPCType=void 0;var P2=P(),LE=(0,P2.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),C2;(function(e){e.HTTP="http"})(C2=ht.RPCType||(ht.RPCType={}));function I2(e,t){return e.setValue(LE,t)}ht.setRPCMetadata=I2;function N2(e){return e.deleteValue(LE)}ht.deleteRPCMetadata=N2;function L2(e){return e.getValue(LE)}ht.getRPCMetadata=L2});var wE=c(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.AlwaysOffSampler=void 0;var M2=P(),ME=class{shouldSample(){return{decision:M2.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Jc.AlwaysOffSampler=ME});var xE=c(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.AlwaysOnSampler=void 0;var w2=P(),DE=class{shouldSample(){return{decision:w2.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};el.AlwaysOnSampler=DE});var zv=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.ParentBasedSampler=void 0;var tl=P(),D2=SE(),Xv=wE(),BE=xE(),UE=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,D2.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new BE.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new BE.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Xv.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new BE.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new Xv.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=tl.trace.getSpanContext(t);return!a||!(0,tl.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&tl.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&tl.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};rl.ParentBasedSampler=UE});var Qv=c(nl=>{"use strict";Object.defineProperty(nl,"__esModule",{value:!0});nl.TraceIdRatioBasedSampler=void 0;var GE=P(),jE=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,GE.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?GE.SamplingDecision.RECORD_AND_SAMPLED:GE.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};nl.TraceIdRatioBasedSampler=jE});var rP=c(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.isPlainObject=void 0;var x2="[object Object]",B2="[object Null]",U2="[object Undefined]",G2=Function.prototype,Zv=G2.toString,j2=Zv.call(Object),F2=q2(Object.getPrototypeOf,Object),Jv=Object.prototype,eP=Jv.hasOwnProperty,pn=Symbol?Symbol.toStringTag:void 0,tP=Jv.toString;function q2(e,t){return function(r){return e(t(r))}}function k2(e){if(!H2(e)||V2(e)!==x2)return!1;let t=F2(e);if(t===null)return!0;let r=eP.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Zv.call(r)===j2}il.isPlainObject=k2;function H2(e){return e!=null&&typeof e=="object"}function V2(e){return e==null?e===void 0?U2:B2:pn&&pn in Object(e)?$2(e):Y2(e)}function $2(e){let t=eP.call(e,pn),r=e[pn],n=!1;try{e[pn]=void 0,n=!0}catch{}let i=tP.call(e);return n&&(t?e[pn]=r:delete e[pn]),i}function Y2(e){return tP.call(e)}});var aP=c(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.merge=void 0;var nP=rP(),W2=20;function K2(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=sP(t,e.shift(),0,r);return t}al.merge=K2;function FE(e){return ol(e)?e.slice():e}function sP(e,t,r=0,n){let i;if(!(r>W2)){if(r++,sl(e)||sl(t)||oP(t))i=FE(t);else if(ol(e)){if(i=e.slice(),ol(t))for(let s=0,o=t.length;s<o;s++)i.push(FE(t[s]));else if(eo(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=FE(t[u])}}}else if(eo(e))if(eo(t)){if(!X2(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(sl(l))typeof l>"u"?delete i[u]:i[u]=l;else{let d=i[u],_=l;if(iP(e,u,n)||iP(t,u,n))delete i[u];else{if(eo(d)&&eo(_)){let f=n.get(d)||[],p=n.get(_)||[];f.push({obj:e,key:u}),p.push({obj:t,key:u}),n.set(d,f),n.set(_,p)}i[u]=sP(i[u],l,r,n)}}}}else i=t;return i}}function iP(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function ol(e){return Array.isArray(e)}function oP(e){return typeof e=="function"}function eo(e){return!sl(e)&&!ol(e)&&!oP(e)&&typeof e=="object"}function sl(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function X2(e,t){return!(!(0,nP.isPlainObject)(e)||!(0,nP.isPlainObject)(t))}});var cP=c(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.isUrlIgnored=Li.urlMatches=void 0;function uP(e,t){return typeof t=="string"?e===t:!!e.match(t)}Li.urlMatches=uP;function z2(e,t){if(!t)return!1;for(let r of t)if(uP(e,r))return!0;return!1}Li.isUrlIgnored=z2});var lP=c(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.isWrapped=void 0;function Q2(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}ul.isWrapped=Q2});var dP=c(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.Deferred=void 0;var qE=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};cl.Deferred=qE});var _P=c(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.BindOnceFuture=void 0;var Z2=dP(),kE=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new Z2.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};ll.BindOnceFuture=kE});var Oe=c(K=>{"use strict";var J2=K&&K.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ne=K&&K.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&J2(t,e,r)};Object.defineProperty(K,"__esModule",{value:!0});K.baggageUtils=void 0;ne(uv(),K);ne(fv(),K);ne(SE(),K);ne(mE(),K);ne(wv(),K);ne(xv(),K);ne(Bv(),K);ne(Yc(),K);K.baggageUtils=pE();ne(RE(),K);ne(Gv(),K);ne($v(),K);ne(Wv(),K);ne(Kv(),K);ne(wE(),K);ne(xE(),K);ne(zv(),K);ne(Qv(),K);ne(Bc(),K);ne(IE(),K);ne(TE(),K);ne(aP(),K);ne(AE(),K);ne(cP(),K);ne(lP(),K);ne(_P(),K);ne(Yc(),K)});var to=c(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.invalidTimeout=ot.configureExporterTimeout=ot.appendRootPathToUrlIfNeeded=ot.appendResourcePathToUrl=ot.parseHeaders=void 0;var pP=P(),fP=Oe(),hP=1e4;function eH(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n<"u"?t[r]=String(n):pP.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}ot.parseHeaders=eH;function tH(e,t){return e.endsWith("/")||(e=e+"/"),e+t}ot.appendResourcePathToUrl=tH;function rH(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}ot.appendRootPathToUrlIfNeeded=rH;function nH(e){return typeof e=="number"?e<=0?HE(e,hP):e:iH()}ot.configureExporterTimeout=nH;function iH(){var e;let t=Number((e=(0,fP.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,fP.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?HE(t,hP):t}function HE(e,t){return pP.diag.warn("Timeout must be greater than 0",e),t}ot.invalidTimeout=HE});var _l=c(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.OTLPExporterBase=void 0;var EP=P(),ro=Oe(),sH=to(),VE=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new ro.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:1/0,this.timeoutMillis=(0,sH.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:ro.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:ro.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:ro.ExportResultCode.SUCCESS})}).catch(n=>{r({code:ro.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{EP.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return EP.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};dl.OTLPExporterBase=VE});var $E=c(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.CompressionAlgorithm=void 0;var oH;(function(e){e.NONE="none",e.GZIP="gzip"})(oH=no.CompressionAlgorithm||(no.CompressionAlgorithm={}))});var pl=c(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.OTLPExporterError=void 0;var YE=class extends Error{constructor(t,r,n){super(t),this.name="OTLPExporterError",this.data=n,this.code=r}};fl.OTLPExporterError=YE});var zE=c(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.configureCompression=vr.createHttpAgent=vr.sendWithHttp=void 0;var mP=v("url"),SP=v("http"),AP=v("https"),aH=v("zlib"),uH=v("stream"),XE=P(),hl=$E(),gP=Oe(),WE=pl(),KE;function cH(e,t,r,n,i){let s=e.timeoutMillis,o=new mP.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),l=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},s),d={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(o.protocol==="http:"?SP.request:AP.request)(d,p=>{let h="";p.on("data",E=>h+=E),p.on("aborted",()=>{if(a){let E=new WE.OTLPExporterError("Request Timeout");i(E)}}),p.on("end",()=>{if(!a){if(p.statusCode&&p.statusCode<299)XE.diag.debug(`statusCode: ${p.statusCode}`,h),n();else{let E=new WE.OTLPExporterError(p.statusMessage,p.statusCode,h);i(E)}clearTimeout(l)}})});switch(f.on("error",p=>{if(a){let h=new WE.OTLPExporterError("Request Timeout",p.code);i(h)}else clearTimeout(l),i(p)}),e.compression){case hl.CompressionAlgorithm.GZIP:{KE||(KE=aH.createGzip()),f.setHeader("Content-Encoding","gzip"),lH(t).on("error",i).pipe(KE).on("error",i).pipe(f);break}default:f.end(t);break}}vr.sendWithHttp=cH;function lH(e){let t=new uH.Readable;return t.push(e),t.push(null),t}function dH(e){if(e.httpAgentOptions&&e.keepAlive===!1){XE.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new mP.URL(e.url).protocol==="http:"?SP.Agent:AP.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){XE.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}vr.createHttpAgent=dH;function _H(e){return e||(((0,gP.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,gP.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===hl.CompressionAlgorithm.GZIP?hl.CompressionAlgorithm.GZIP:hl.CompressionAlgorithm.NONE)}vr.configureCompression=_H});var RP=c(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.OTLPExporterNodeBase=void 0;var fH=_l(),pH=to(),QE=zE(),TP=P(),OP=Oe(),ZE=class extends fH.OTLPExporterBase{constructor(t={}){super(t),this.DEFAULT_HEADERS={},t.metadata&&TP.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,pH.parseHeaders)(t.headers),OP.baggageUtils.parseKeyPairsIntoRecord((0,OP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,QE.createHttpAgent)(t),this.compression=(0,QE.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){TP.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,QE.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};El.OTLPExporterNodeBase=ZE});var yP=c(Jt=>{"use strict";var hH=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JE=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hH(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});JE(RP(),Jt);JE(zE(),Jt);JE($E(),Jt)});var vP=c(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.sendWithXhr=Mi.sendWithBeacon=void 0;var bP=P(),eg=pl();function EH(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))bP.diag.debug("sendBeacon - can send",e),n();else{let s=new eg.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}Mi.sendWithBeacon=EH;function gH(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([d,_])=>{u.setRequestHeader(d,_)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),bP.diag.debug("xhr success",e),i();else if(o){let d=new eg.OTLPExporterError("Request Timeout",u.status);s(d)}else{let d=new eg.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(d)}}}Mi.sendWithXhr=gH});var IP=c(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.OTLPExporterBrowserBase=void 0;var mH=_l(),SH=to(),PP=vP(),AH=P(),CP=Oe(),tg=class extends mH.OTLPExporterBase{constructor(t={}){super(t),this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,SH.parseHeaders)(t.headers),CP.baggageUtils.parseKeyPairsIntoRecord((0,CP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){AH.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,l)=>{this._useXHR?(0,PP.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,l):(0,PP.sendWithBeacon)(s,this.url,{type:"application/json"},u,l)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};gl.OTLPExporterBrowserBase=tg});var NP=c(hn=>{"use strict";var TH=hn&&hn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OH=hn&&hn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TH(t,e,r)};Object.defineProperty(hn,"__esModule",{value:!0});OH(IP(),hn)});var LP=c(er=>{"use strict";var RH=er&&er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yH=er&&er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RH(t,e,r)};Object.defineProperty(er,"__esModule",{value:!0});er.OTLPExporterBrowserBase=void 0;yH(yP(),er);var bH=NP();Object.defineProperty(er,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return bH.OTLPExporterBrowserBase}})});var rg=c(Gt=>{"use strict";var vH=Gt&&Gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ml=Gt&&Gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vH(t,e,r)};Object.defineProperty(Gt,"__esModule",{value:!0});ml(_l(),Gt);ml(LP(),Gt);ml(pl(),Gt);ml(to(),Gt)});var wP=c(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0})});var xP=c(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0})});var UP=c(BP=>{"use strict";Object.defineProperty(BP,"__esModule",{value:!0})});var GP=c(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.ESpanKind=void 0;var PH;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(PH=io.ESpanKind||(io.ESpanKind={}))});var Sl=c(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.bufToHex=at.hexToBuf=at.toAnyValue=at.toKeyValue=at.toAttributes=void 0;function CH(e){return Object.keys(e).map(t=>ng(t,e[t]))}at.toAttributes=CH;function ng(e,t){return{key:e,value:ig(t)}}at.toKeyValue=ng;function ig(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(ig)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>ng(r,n))}}:{}}at.toAnyValue=ig;function IH(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}at.hexToBuf=IH;function NH(e){return("0"+e.toString(16)).slice(-2)}function LH(e){if(!(e==null||e.length===0))return Array.from(e).map(NH).join("")}at.bufToHex=LH});var qP=c(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.toOtlpSpanEvent=Pr.toOtlpLink=Pr.sdkSpanToOtlpSpan=void 0;var sg=Oe(),og=Sl(),so=Oe();function MH(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?so.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:so.hexToBase64(r.traceId),spanId:t?r.spanId:so.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,sg.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,sg.hrTimeToNanoseconds)(e.endTime),attributes:(0,og.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(FP),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>jP(s,t)),droppedLinksCount:0}}Pr.sdkSpanToOtlpSpan=MH;function jP(e,t){return{attributes:e.attributes?(0,og.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:so.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:so.hexToBase64(e.context.traceId),droppedAttributesCount:0}}Pr.toOtlpLink=jP;function FP(e){return{attributes:e.attributes?(0,og.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,sg.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}Pr.toOtlpSpanEvent=FP});var kP=c(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.createExportTraceServiceRequest=void 0;var wH=Sl(),DH=qP();function xH(e,t){return{resourceSpans:UH(e,t)}}Al.createExportTraceServiceRequest=xH;function BH(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function UH(e,t){let r=BH(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],l=a.values(),d=l.next();for(;!d.done;){let f=d.value;if(f.length>0){let{name:p,version:h,schemaUrl:E}=f[0].instrumentationLibrary,A=f.map(T=>(0,DH.sdkSpanToOtlpSpan)(T,t));u.push({scope:{name:p,version:h},spans:A,schemaUrl:E})}d=l.next()}let _={resource:{attributes:(0,wH.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(_),s=i.next()}return n}});var ag=c(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=q.NOOP_OBSERVABLE_GAUGE_METRIC=q.NOOP_OBSERVABLE_COUNTER_METRIC=q.NOOP_UP_DOWN_COUNTER_METRIC=q.NOOP_HISTOGRAM_METRIC=q.NOOP_COUNTER_METRIC=q.NOOP_METER=q.NoopObservableUpDownCounterMetric=q.NoopObservableGaugeMetric=q.NoopObservableCounterMetric=q.NoopObservableMetric=q.NoopHistogramMetric=q.NoopUpDownCounterMetric=q.NoopCounterMetric=q.NoopMetric=q.NoopMeter=void 0;var Tl=class{constructor(){}createHistogram(t,r){return q.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return q.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return q.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return q.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return q.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};q.NoopMeter=Tl;var wi=class{};q.NoopMetric=wi;var Ol=class extends wi{add(t,r){}};q.NoopCounterMetric=Ol;var Rl=class extends wi{add(t,r){}};q.NoopUpDownCounterMetric=Rl;var yl=class extends wi{record(t,r){}};q.NoopHistogramMetric=yl;var Di=class{addCallback(t){}removeCallback(t){}};q.NoopObservableMetric=Di;var bl=class extends Di{};q.NoopObservableCounterMetric=bl;var vl=class extends Di{};q.NoopObservableGaugeMetric=vl;var Pl=class extends Di{};q.NoopObservableUpDownCounterMetric=Pl;q.NOOP_METER=new Tl;q.NOOP_COUNTER_METRIC=new Ol;q.NOOP_HISTOGRAM_METRIC=new yl;q.NOOP_UP_DOWN_COUNTER_METRIC=new Rl;q.NOOP_OBSERVABLE_COUNTER_METRIC=new bl;q.NOOP_OBSERVABLE_GAUGE_METRIC=new vl;q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Pl});var ug=c(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.NOOP_METER_PROVIDER=xi.NoopMeterProvider=void 0;var GH=ag(),Cl=class{getMeter(t,r,n){return GH.NOOP_METER}};xi.NoopMeterProvider=Cl;xi.NOOP_METER_PROVIDER=new Cl});var VP=c(HP=>{"use strict";Object.defineProperty(HP,"__esModule",{value:!0})});var YP=c($P=>{"use strict";Object.defineProperty($P,"__esModule",{value:!0})});var WP=c(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.ValueType=void 0;var jH;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(jH=oo.ValueType||(oo.ValueType={}))});var XP=c(KP=>{"use strict";Object.defineProperty(KP,"__esModule",{value:!0})});var zP=c(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il._globalThis=void 0;Il._globalThis=typeof globalThis=="object"?globalThis:global});var QP=c(En=>{"use strict";var FH=En&&En.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qH=En&&En.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FH(t,e,r)};Object.defineProperty(En,"__esModule",{value:!0});qH(zP(),En)});var ZP=c(gn=>{"use strict";var kH=gn&&gn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),HH=gn&&gn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kH(t,e,r)};Object.defineProperty(gn,"__esModule",{value:!0});HH(QP(),gn)});var JP=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.API_BACKWARDS_COMPATIBILITY_VERSION=jt.makeGetter=jt._global=jt.GLOBAL_METRICS_API_KEY=void 0;var VH=ZP();jt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");jt._global=VH._globalThis;function $H(e,t,r){return n=>n===e?t:r}jt.makeGetter=$H;jt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var tC=c(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});Nl.MetricsAPI=void 0;var eC=ug(),ut=JP(),ao=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ao),this._instance}setGlobalMeterProvider(t){return ut._global[ut.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(ut._global[ut.GLOBAL_METRICS_API_KEY]=(0,ut.makeGetter)(ut.API_BACKWARDS_COMPATIBILITY_VERSION,t,eC.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=ut._global[ut.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(ut._global,ut.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:eC.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete ut._global[ut.GLOBAL_METRICS_API_KEY]}};Nl.MetricsAPI=ao});var Ui=c(Ye=>{"use strict";var YH=Ye&&Ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Bi=Ye&&Ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&YH(t,e,r)};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.metrics=void 0;Bi(ag(),Ye);Bi(ug(),Ye);Bi(VP(),Ye);Bi(YP(),Ye);Bi(WP(),Ye);Bi(XP(),Ye);var WH=tC();Ye.metrics=WH.MetricsAPI.getInstance()});var Ll=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.AggregationTemporality=void 0;var KH;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(KH=uo.AggregationTemporality||(uo.AggregationTemporality={}))});var lo=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.DataPointType=void 0;var XH;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(XH=co.DataPointType||(co.DataPointType={}))});var rC=c(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});Ml.ConsoleMetricExporter=void 0;var zH=Ll(),QH=Oe(),cg=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t??zH.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:QH.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};Ml.ConsoleMetricExporter=cg});var iC=c(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0})});var tr=c(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.setEquals=pe.FlatMap=pe.isPromiseAllSettledRejectionResult=pe.PromiseAllSettled=pe.callWithTimeout=pe.TimeoutError=pe.instrumentationScopeId=pe.hashAttributes=pe.isNotNullish=void 0;function ZH(e){return e!=null}pe.isNotNullish=ZH;function JH(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}pe.hashAttributes=JH;function eV(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}pe.instrumentationScopeId=eV;var Gi=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,Gi.prototype)}};pe.TimeoutError=Gi;function tV(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new Gi("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}pe.callWithTimeout=tV;async function rV(e){return Promise.all(e.map(async t=>{try{return{status:"fulfilled",value:await t}}catch(r){return{status:"rejected",reason:r}}}))}pe.PromiseAllSettled=rV;function nV(e){return e.status==="rejected"}pe.isPromiseAllSettledRejectionResult=nV;function iV(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}pe.FlatMap=iV;function sV(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}pe.setEquals=sV});var dg=c(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.MetricReader=void 0;var sC=P(),oC=tr(),lg=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t?.timeoutMillis})}async shutdown(t){if(this._shutdown){sC.diag.error("Cannot call shutdown twice.");return}t?.timeoutMillis==null?await this.onShutdown():await(0,oC.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){sC.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(t?.timeoutMillis==null){await this.onForceFlush();return}await(0,oC.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};wl.MetricReader=lg});var lC=c(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.PeriodicExportingMetricReader=void 0;var aC=P(),uC=Oe(),oV=dg(),cC=tr(),_g=class extends oV.MetricReader{constructor(t){var r,n;if(super(),t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&aC.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==uC.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,cC.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof cC.TimeoutError){aC.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,uC.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};Dl.PeriodicExportingMetricReader=_g});var mn=c(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.isDescriptorCompatibleWith=Et.createInstrumentDescriptorWithView=Et.createInstrumentDescriptor=Et.InstrumentType=void 0;var aV=Ui(),uV;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(uV=Et.InstrumentType||(Et.InstrumentType={}));function cV(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r?.description)!==null&&n!==void 0?n:"",unit:(i=r?.unit)!==null&&i!==void 0?i:"",valueType:(s=r?.valueType)!==null&&s!==void 0?s:aV.ValueType.DOUBLE}}Et.createInstrumentDescriptor=cV;function lV(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}Et.createInstrumentDescriptorWithView=lV;function dV(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}Et.isDescriptorCompatibleWith=dV});var Bl=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isObservableInstrument=he.ObservableUpDownCounterInstrument=he.ObservableGaugeInstrument=he.ObservableCounterInstrument=he.ObservableInstrument=he.HistogramInstrument=he.CounterInstrument=he.UpDownCounterInstrument=he.SyncInstrument=void 0;var xl=P(),_V=Ui(),ji=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=xl.context.active()){this._descriptor.valueType===_V.ValueType.INT&&!Number.isInteger(t)&&(xl.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};he.SyncInstrument=ji;var fg=class extends ji{add(t,r,n){this._record(t,r,n)}};he.UpDownCounterInstrument=fg;var pg=class extends ji{add(t,r,n){if(t<0){xl.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.CounterInstrument=pg;var hg=class extends ji{record(t,r,n){if(t<0){xl.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.HistogramInstrument=hg;var Sn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};he.ObservableInstrument=Sn;var Eg=class extends Sn{};he.ObservableCounterInstrument=Eg;var gg=class extends Sn{};he.ObservableGaugeInstrument=gg;var mg=class extends Sn{};he.ObservableUpDownCounterInstrument=mg;function fV(e){return e instanceof Sn}he.isObservableInstrument=fV});var Ag=c(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.Meter=void 0;var ct=mn(),Fi=Bl(),Sg=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new Fi.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Fi.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Fi.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Fi.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Fi.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,ct.createInstrumentDescriptor)(t,ct.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Fi.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Ul.Meter=Sg});var dC=c(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.defaultServiceName=void 0;function pV(){return`unknown_service:${process.argv0}`}Gl.defaultServiceName=pV});var fC=c(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.detectResources=void 0;var _C=An(),Tg=P(),hV=v("util"),EV=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return Tg.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return Tg.diag.debug(`${n.constructor.name} failed: ${i.message}`),_C.Resource.empty()}}));return gV(r),r.reduce((n,i)=>n.merge(i),_C.Resource.empty())};jl.detectResources=EV;var gV=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=hV.inspect(t.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});Tg.diag.verbose(r)}})}});var EC=c(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.hostDetector=void 0;var pC=br(),mV=An(),hC=v("os"),Og=class{async detect(t){let r={[pC.SemanticResourceAttributes.HOST_NAME]:(0,hC.hostname)(),[pC.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,hC.arch)())};return new mV.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Fl.hostDetector=new Og});var SC=c(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.osDetector=void 0;var gC=br(),SV=An(),mC=v("os"),Rg=class{async detect(t){let r={[gC.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,mC.platform)()),[gC.SemanticResourceAttributes.OS_VERSION]:(0,mC.release)()};return new SV.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};ql.osDetector=new Rg});var AC=c(Ft=>{"use strict";var AV=Ft&&Ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kl=Ft&&Ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AV(t,e,r)};Object.defineProperty(Ft,"__esModule",{value:!0});kl(dC(),Ft);kl(fC(),Ft);kl(EC(),Ft);kl(SC(),Ft)});var yg=c(Tn=>{"use strict";var TV=Tn&&Tn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OV=Tn&&Tn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TV(t,e,r)};Object.defineProperty(Tn,"__esModule",{value:!0});OV(AC(),Tn)});var An=c(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.Resource=void 0;var On=br(),bg=Oe(),RV=yg(),rr=class{constructor(t){this.attributes=t}static empty(){return rr.EMPTY}static default(){return new rr({[On.SemanticResourceAttributes.SERVICE_NAME]:(0,RV.defaultServiceName)(),[On.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:bg.SDK_INFO[On.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[On.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:bg.SDK_INFO[On.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[On.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:bg.SDK_INFO[On.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new rr(r)}};Hl.Resource=rr;rr.EMPTY=new rr({})});var OC=c(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0})});var yC=c(RC=>{"use strict";Object.defineProperty(RC,"__esModule",{value:!0})});var bC=c($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.browserDetector=void 0;var yV=P(),Vl=br(),vg=Cg(),Pg=class{async detect(t){if(!(typeof navigator<"u"))return vg.Resource.empty();let n={[Vl.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Vl.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Vl.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Vl.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(yV.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),vg.Resource.empty()):new vg.Resource(Object.assign({},t))}};$l.browserDetector=new Pg});var vC=c(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.envDetector=void 0;var bV=P(),vV=Oe(),PV=br(),CV=An(),Ig=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,vV.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){bV.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[PV.SemanticResourceAttributes.SERVICE_NAME]=s),new CV.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Yl.envDetector=new Ig});var PC=c(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.processDetector=void 0;var IV=P(),lt=br(),Ng=An(),Lg=class{async detect(t){if(typeof process!="object")return Ng.Resource.empty();let r={[lt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[lt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[lt.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[lt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[lt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[lt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[lt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[lt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[lt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[lt.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[lt.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[lt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(IV.diag.debug("ProcessDetector failed: Unable to find required process resources. "),Ng.Resource.empty()):new Ng.Resource(Object.assign({},t))}};Wl.processDetector=new Lg});var CC=c(nr=>{"use strict";var NV=nr&&nr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mg=nr&&nr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NV(t,e,r)};Object.defineProperty(nr,"__esModule",{value:!0});Mg(bC(),nr);Mg(vC(),nr);Mg(PC(),nr)});var Cg=c(gt=>{"use strict";var LV=gt&&gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_o=gt&&gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LV(t,e,r)};Object.defineProperty(gt,"__esModule",{value:!0});_o(An(),gt);_o(yg(),gt);_o(OC(),gt);_o(yC(),gt);_o(CC(),gt)});var Kl=c(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.ExactPredicate=qi.PatternPredicate=void 0;var MV=/[\^$\\.+?()[\]{}|]/g,fo=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(fo.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(MV,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};qi.PatternPredicate=fo;var wg=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};qi.ExactPredicate=wg});var xg=c(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.InstrumentSelector=void 0;var wV=Kl(),Dg=class{constructor(t){var r;this._nameFilter=new wV.PatternPredicate((r=t?.name)!==null&&r!==void 0?r:"*"),this._type=t?.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Xl.InstrumentSelector=Dg});var Gg=c(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.MeterSelector=void 0;var Bg=Kl(),Ug=class{constructor(t){this._nameFilter=new Bg.ExactPredicate(t?.name),this._versionFilter=new Bg.ExactPredicate(t?.version),this._schemaUrlFilter=new Bg.ExactPredicate(t?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};zl.MeterSelector=Ug});var ho=c(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.AggregatorKind=void 0;var DV;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(DV=po.AggregatorKind||(po.AggregatorKind={}))});var IC=c(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.DropAggregator=void 0;var xV=ho(),jg=class{constructor(){this.kind=xV.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};Ql.DropAggregator=jg});var NC=c(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.HistogramAggregator=Hi.HistogramAccumulation=void 0;var BV=ho(),UV=lo();function GV(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var ki=class{constructor(t,r=GV(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Hi.HistogramAccumulation=ki;var Fg=class{constructor(t){this._boundaries=t,this.kind=BV.AggregatorKind.HISTOGRAM}createAccumulation(){return new ki(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new ki(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new ki(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:UV.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Hi.HistogramAggregator=Fg});var LC=c($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.LastValueAggregator=$i.LastValueAccumulation=void 0;var jV=ho(),Eo=Oe(),FV=lo(),Vi=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,Eo.hrTime)()}toPointValue(){return this._current}};$i.LastValueAccumulation=Vi;var qg=class{constructor(){this.kind=jV.AggregatorKind.LAST_VALUE}createAccumulation(){return new Vi}merge(t,r){let n=(0,Eo.hrTimeToMicroseconds)(r.sampleTime)>=(0,Eo.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Vi(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,Eo.hrTimeToMicroseconds)(r.sampleTime)>=(0,Eo.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Vi(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:FV.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};$i.LastValueAggregator=qg});var MC=c(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.SumAggregator=Wi.SumAccumulation=void 0;var qV=ho(),kV=lo(),Yi=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Wi.SumAccumulation=Yi;var kg=class{constructor(){this.kind=qV.AggregatorKind.SUM}createAccumulation(){return new Yi}merge(t,r){return new Yi(t.toPointValue()+r.toPointValue())}diff(t,r){return new Yi(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:kV.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Wi.SumAggregator=kg});var wC=c(qt=>{"use strict";var HV=qt&&qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Zl=qt&&qt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HV(t,e,r)};Object.defineProperty(qt,"__esModule",{value:!0});Zl(IC(),qt);Zl(NC(),qt);Zl(LC(),qt);Zl(MC(),qt)});var Vg=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.DefaultAggregation=xe.ExplicitBucketHistogramAggregation=xe.HistogramAggregation=xe.LastValueAggregation=xe.SumAggregation=xe.DropAggregation=xe.Aggregation=void 0;var VV=P(),go=wC(),Ki=mn(),ir=class{static Drop(){return DC}static Sum(){return xC}static LastValue(){return BC}static Histogram(){return UC}static Default(){return $V}};xe.Aggregation=ir;var Rn=class extends ir{createAggregator(t){return Rn.DEFAULT_INSTANCE}};xe.DropAggregation=Rn;Rn.DEFAULT_INSTANCE=new go.DropAggregator;var yn=class extends ir{createAggregator(t){return yn.DEFAULT_INSTANCE}};xe.SumAggregation=yn;yn.DEFAULT_INSTANCE=new go.SumAggregator;var bn=class extends ir{createAggregator(t){return bn.DEFAULT_INSTANCE}};xe.LastValueAggregation=bn;bn.DEFAULT_INSTANCE=new go.LastValueAggregator;var vn=class extends ir{createAggregator(t){return vn.DEFAULT_INSTANCE}};xe.HistogramAggregation=vn;vn.DEFAULT_INSTANCE=new go.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var Hg=class extends ir{constructor(t){if(super(),t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-1/0),n=t.indexOf(1/0);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new go.HistogramAggregator(this._boundaries)}};xe.ExplicitBucketHistogramAggregation=Hg;var Jl=class extends ir{_resolve(t){switch(t.type){case Ki.InstrumentType.COUNTER:case Ki.InstrumentType.UP_DOWN_COUNTER:case Ki.InstrumentType.OBSERVABLE_COUNTER:case Ki.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return xC;case Ki.InstrumentType.OBSERVABLE_GAUGE:return BC;case Ki.InstrumentType.HISTOGRAM:return UC}return VV.diag.warn(`Unable to recognize instrument type: ${t.type}`),DC}createAggregator(t){return this._resolve(t).createAggregator(t)}};xe.DefaultAggregation=Jl;var DC=new Rn,xC=new yn,BC=new bn,UC=new vn,$V=new Jl});var Yg=c(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.FilteringAttributesProcessor=Cr.NoopAttributesProcessor=Cr.AttributesProcessor=void 0;var mo=class{static Noop(){return YV}};Cr.AttributesProcessor=mo;var ed=class extends mo{process(t,r){return t}};Cr.NoopAttributesProcessor=ed;var $g=class extends mo{constructor(t){super(),this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};Cr.FilteringAttributesProcessor=$g;var YV=new ed});var Kg=c(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.View=void 0;var WV=Vg(),KV=Yg(),Wg=class{constructor(t){var r,n;this.name=t?.name,this.description=t?.description,this.aggregation=(r=t?.aggregation)!==null&&r!==void 0?r:WV.Aggregation.Default(),this.attributesProcessor=(n=t?.attributesProcessor)!==null&&n!==void 0?n:KV.AttributesProcessor.Noop()}};td.View=Wg});var GC=c(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.ViewRegistry=void 0;var XV=xg(),zV=Gg(),QV=Kg(),Xi=class{constructor(){this._registeredViews=[]}addView(t,r=new XV.InstrumentSelector,n=new zV.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[Xi.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};rd.ViewRegistry=Xi;Xi.DEFAULT_VIEW=new QV.View});var zg=c(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.MetricStorage=void 0;var ZV=mn(),Xg=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,ZV.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};nd.MetricStorage=Xg});var So=c(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.AttributeHashMap=zi.HashMap=void 0;var JV=tr(),id=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r??(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n??(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r??(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};zi.HashMap=id;var Qg=class extends id{constructor(){super(JV.hashAttributes)}};zi.AttributeHashMap=Qg});var em=c(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.DeltaMetricProcessor=void 0;var Zg=So(),Jg=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new Zg.AttributeHashMap,this._cumulativeMemoStorage=new Zg.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i?.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s?.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new Zg.AttributeHashMap,t}};sd.DeltaMetricProcessor=Jg});var tm=c(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.TemporalMetricProcessor=void 0;var jC=Ll(),e$=So(),Qi=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),l=u,d;if(this._reportHistory.has(t)){let _=this._reportHistory.get(t);a=_.collectionTime,d=_.aggregationTemporality,d===jC.AggregationTemporality.CUMULATIVE&&(l=Qi.merge(_.accumulations,u,this._aggregator))}else d=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:l,collectionTime:o,aggregationTemporality:d}),this._aggregator.toMetricData(n,d,t$(l),d===jC.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new e$.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=Qi.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,l,d]=a.value,_=(i=t.get(u,d))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(_,l),d),a=o.next()}return s}};od.TemporalMetricProcessor=Qi;function t$(e){return Array.from(e.entries())}});var FC=c(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.AsyncMetricStorage=void 0;var r$=zg(),n$=em(),i$=tm(),s$=So(),rm=class extends r$.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new n$.DeltaMetricProcessor(r),this._temporalMetricStorage=new i$.TemporalMetricProcessor(r)}record(t){let r=new s$.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};ad.AsyncMetricStorage=rm});var $C=c(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.getConflictResolutionRecipe=We.getDescriptionResolutionRecipe=We.getTypeConflictResolutionRecipe=We.getUnitConflictResolutionRecipe=We.getValueTypeConflictResolutionRecipe=We.getIncompatibilityDetails=void 0;function o$(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}We.getIncompatibilityDetails=o$;function qC(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}We.getValueTypeConflictResolutionRecipe=qC;function kC(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}We.getUnitConflictResolutionRecipe=kC;function HC(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}We.getTypeConflictResolutionRecipe=HC;function VC(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}We.getDescriptionResolutionRecipe=VC;function a$(e,t){return e.valueType!==t.valueType?qC(e,t):e.unit!==t.unit?kC(e,t):e.type!==t.type?HC(e,t):e.description!==t.description?VC(e,t):""}We.getConflictResolutionRecipe=a$});var WC=c(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.MetricStorageRegistry=void 0;var u$=mn(),YC=P(),ud=$C(),Ao=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new Ao}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,u$.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),YC.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,ud.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,ud.getConflictResolutionRecipe)(o,r))),i=s):YC.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,ud.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,ud.getConflictResolutionRecipe)(o,r))}return i??(n.push(t),t)}};cd.MetricStorageRegistry=Ao});var KC=c(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.MultiMetricStorage=void 0;var nm=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};ld.MultiMetricStorage=nm});var om=c(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.BatchObservableResultImpl=Zi.ObservableResultImpl=void 0;var XC=P(),zC=Ui(),QC=So(),c$=Bl(),im=class{constructor(t){this._descriptor=t,this._buffer=new QC.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===zC.ValueType.INT&&!Number.isInteger(t)&&(XC.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};Zi.ObservableResultImpl=im;var sm=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,c$.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new QC.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===zC.ValueType.INT&&!Number.isInteger(r)&&(XC.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};Zi.BatchObservableResultImpl=sm});var eI=c(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.ObservableRegistry=void 0;var l$=P(),ZC=Bl(),JC=om(),To=tr(),am=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(ZC.isObservableInstrument));if(n.size===0){l$.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(ZC.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,To.PromiseAllSettled)([...r,...n])).filter(To.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new JC.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,To.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new JC.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,To.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,To.setEquals)(n.instruments,r))}};dd.ObservableRegistry=am});var tI=c(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.SyncMetricStorage=void 0;var d$=zg(),_$=em(),f$=tm(),um=class extends d$.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new _$.DeltaMetricProcessor(r),this._temporalMetricStorage=new f$.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};_d.SyncMetricStorage=um});var nI=c(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.MeterSharedState=void 0;var rI=mn(),p$=Ag(),fd=tr(),h$=FC(),E$=WC(),g$=KC(),m$=eI(),S$=tI(),cm=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new E$.MetricStorageRegistry,this.observableRegistry=new m$.ObservableRegistry,this.meter=new p$.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,rI.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new S$.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(fd.isNotNullish);return n.length===1?n[0]:new g$.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,rI.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new h$.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(fd.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n?.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(fd.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(fd.isNotNullish)},errors:i}}};pd.MeterSharedState=cm});var iI=c(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.MeterProviderSharedState=void 0;var A$=Oe(),T$=tr(),O$=GC(),R$=nI(),lm=class{constructor(t){this.resource=t,this.viewRegistry=new O$.ViewRegistry,this.sdkStartTime=(0,A$.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,T$.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new R$.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};hd.MeterProviderSharedState=lm});var sI=c(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.MetricCollector=void 0;var y$=Oe(),b$=tr(),dm=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,y$.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,b$.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Ed.MetricCollector=dm});var oI=c(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.MeterProvider=void 0;var _m=P(),v$=Ui(),P$=Cg(),C$=iI(),I$=xg(),N$=Gg(),L$=Kg(),M$=sI(),w$=Yg(),D$=Kl();function x$(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var fm=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new C$.MeterProviderSharedState((r=t?.resource)!==null&&r!==void 0?r:P$.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(_m.diag.warn("A shutdown MeterProvider cannot provide a Meter"),v$.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new M$.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(x$(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r?.instrument)===null||n===void 0?void 0:n.name)==null||D$.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new w$.FilteringAttributesProcessor(t.attributeKeys));let s=new L$.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new I$.InstrumentSelector(r?.instrument),a=new N$.MeterSelector(r?.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){_m.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){_m.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};gd.MeterProvider=fm});var aI=c(Ee=>{"use strict";var B$=Ee&&Ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kt=Ee&&Ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&B$(t,e,r)};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.TimeoutError=Ee.InstrumentType=void 0;kt(Ll(),Ee);kt(lo(),Ee);kt(rC(),Ee);kt(iC(),Ee);kt(dg(),Ee);kt(lC(),Ee);var U$=mn();Object.defineProperty(Ee,"InstrumentType",{enumerable:!0,get:function(){return U$.InstrumentType}});kt(Ag(),Ee);kt(oI(),Ee);kt(om(),Ee);var G$=tr();Object.defineProperty(Ee,"TimeoutError",{enumerable:!0,get:function(){return G$.TimeoutError}});kt(Vg(),Ee)});var dI=c(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.toMetric=Ir.toScopeMetrics=Ir.toResourceMetrics=void 0;var uI=Ui(),md=Oe(),Ht=aI(),pm=Sl();function j$(e){return{resource:{attributes:(0,pm.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:cI(e.scopeMetrics)}}Ir.toResourceMetrics=j$;function cI(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>lI(n)),schemaUrl:t.scope.schemaUrl})))}Ir.toScopeMetrics=cI;function lI(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=$$(e.aggregationTemporality);if(e.dataPointType===Ht.DataPointType.SINGULAR){let n=q$(e),i=e.descriptor.type===Ht.InstrumentType.COUNTER||e.descriptor.type===Ht.InstrumentType.OBSERVABLE_COUNTER;H$(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else V$(e)&&(t.histogram={aggregationTemporality:r,dataPoints:k$(e)});return t}Ir.toMetric=lI;function F$(e,t){let r={attributes:(0,pm.toAttributes)(e.attributes),startTimeUnixNano:(0,md.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,md.hrTimeToNanoseconds)(e.endTime)};return t===uI.ValueType.INT?r.asInt=e.value:t===uI.ValueType.DOUBLE&&(r.asDouble=e.value),r}function q$(e){return e.dataPoints.map(t=>F$(t,e.descriptor.valueType))}function k$(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,pm.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,md.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,md.hrTimeToNanoseconds)(t.endTime)}})}function H$(e){return e.descriptor.type===Ht.InstrumentType.COUNTER||e.descriptor.type===Ht.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===Ht.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===Ht.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function V$(e){return e.dataPointType===Ht.DataPointType.HISTOGRAM}function $$(e){return e===Ht.AggregationTemporality.DELTA?1:e===Ht.AggregationTemporality.CUMULATIVE?2:0}});var _I=c(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.createExportMetricsServiceRequest=void 0;var Y$=dI();function W$(e){return{resourceMetrics:e.map(t=>(0,Y$.toResourceMetrics)(t))}}Sd.createExportMetricsServiceRequest=W$});var fI=c(Ke=>{"use strict";var K$=Ke&&Ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ad=Ke&&Ke.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&K$(t,e,r)};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.createExportMetricsServiceRequest=Ke.createExportTraceServiceRequest=void 0;Ad(wP(),Ke);Ad(xP(),Ke);Ad(UP(),Ke);Ad(GP(),Ke);var X$=kP();Object.defineProperty(Ke,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return X$.createExportTraceServiceRequest}});var z$=_I();Object.defineProperty(Ke,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return z$.createExportMetricsServiceRequest}})});var hI=c(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.OTLPTraceExporter=void 0;var Ji=Oe(),Q$=rg(),pI=rg(),Z$=fI(),hm="v1/traces",J$=`http://localhost:4318/${hm}`,Em=class extends Q$.OTLPExporterNodeBase{constructor(t={}){super(t),this.headers=Object.assign(this.headers,Ji.baggageUtils.parseKeyPairsIntoRecord((0,Ji.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,Z$.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,Ji.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,pI.appendRootPathToUrlIfNeeded)((0,Ji.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,hm):(0,Ji.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,pI.appendResourcePathToUrl)((0,Ji.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,hm):J$}};Td.OTLPTraceExporter=Em});var EI=c(Pn=>{"use strict";var e5=Pn&&Pn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t5=Pn&&Pn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&e5(t,e,r)};Object.defineProperty(Pn,"__esModule",{value:!0});t5(hI(),Pn)});var gI=c(Cn=>{"use strict";var r5=Cn&&Cn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n5=Cn&&Cn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&r5(t,e,r)};Object.defineProperty(Cn,"__esModule",{value:!0});n5(EI(),Cn)});var mI=c(In=>{"use strict";var i5=In&&In.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s5=In&&In.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&i5(t,e,r)};Object.defineProperty(In,"__esModule",{value:!0});s5(gI(),In)});var KI=c((wn,WI)=>{"use strict";var vm=v("crypto");wn=WI.exports=vo;function vo(e,t){return t=$I(e,t),I5(e,t)}wn.sha1=function(e){return vo(e)};wn.keys=function(e){return vo(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};wn.MD5=function(e){return vo(e,{algorithm:"md5",encoding:"hex"})};wn.keysMD5=function(e){return vo(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var os=vm.getHashes?vm.getHashes().slice():["sha1","md5"];os.push("passthrough");var HI=["buffer","hex","binary","base64"];function $I(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=t.ignoreUnknown===!0,r.respectType=t.respectType!==!1,r.respectFunctionNames=t.respectFunctionNames!==!1,r.respectFunctionProperties=t.respectFunctionProperties!==!1,r.unorderedArrays=t.unorderedArrays===!0,r.unorderedSets=t.unorderedSets!==!1,r.unorderedObjects=t.unorderedObjects!==!1,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,typeof e>"u")throw new Error("Object argument required.");for(var n=0;n<os.length;++n)os[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=os[n]);if(os.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+os.join(", "));if(HI.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+HI.join(", "));return r}function VI(e){if(typeof e!="function")return!1;var t=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return t.exec(Function.prototype.toString.call(e))!=null}function I5(e,t){var r;t.algorithm!=="passthrough"?r=vm.createHash(t.algorithm):r=new YI,typeof r.write>"u"&&(r.write=r.update,r.end=r.update);var n=Pm(t,r);if(n.dispatch(e),r.update||r.end(""),r.digest)return r.digest(t.encoding==="buffer"?void 0:t.encoding);var i=r.read();return t.encoding==="buffer"?i:i.toString(t.encoding)}wn.writeToStream=function(e,t,r){return typeof r>"u"&&(r=t,t={}),t=$I(e,t),Pm(t,r).dispatch(e)};function Pm(e,t,r){r=r||[];var n=function(i){return t.update?t.update(i,"utf8"):t.write(i,"utf8")};return{dispatch:function(i){e.replacer&&(i=e.replacer(i));var s=typeof i;return i===null&&(s="null"),this["_"+s](i)},_object:function(i){var s=/\[object (.*)\]/i,o=Object.prototype.toString.call(i),a=s.exec(o);a?a=a[1]:a="unknown:["+o+"]",a=a.toLowerCase();var u=null;if((u=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+u+"]");if(r.push(i),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(a!=="object"&&a!=="function"&&a!=="asyncfunction")if(this["_"+a])this["_"+a](i);else{if(e.ignoreUnknown)return n("["+a+"]");throw new Error('Unknown object type "'+a+'"')}else{var l=Object.keys(i);e.unorderedObjects&&(l=l.sort()),e.respectType!==!1&&!VI(i)&&l.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(l=l.filter(function(_){return!e.excludeKeys(_)})),n("object:"+l.length+":");var d=this;return l.forEach(function(_){d.dispatch(_),n(":"),e.excludeValues||d.dispatch(i[_]),n(",")})}},_array:function(i,s){s=typeof s<"u"?s:e.unorderedArrays!==!1;var o=this;if(n("array:"+i.length+":"),!s||i.length<=1)return i.forEach(function(l){return o.dispatch(l)});var a=[],u=i.map(function(l){var d=new YI,_=r.slice(),f=Pm(e,d,_);return f.dispatch(l),a=a.concat(_.slice(r.length)),d.read().toString()});return r=r.concat(a),u.sort(),this._array(u,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),VI(i)?this.dispatch("[native]"):this.dispatch(i.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),e.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_set:function(i){n("set:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function YI(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}});var q5={};CN(q5,{default:()=>F5});var Cd=v("@yarnpkg/cli"),Fe=v("@yarnpkg/core"),de=v("clipanion"),Mm=te(v("path")),Po=te(Wd()),aN=v("os");var Es=v("@yarnpkg/fslib"),V=te(v("typanion"));function nA(e){return typeof e>"u"||e===null}function VL(e){return typeof e=="object"&&e!==null}function $L(e){return Array.isArray(e)?e:nA(e)?[]:[e]}function YL(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function WL(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function KL(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var XL=nA,zL=VL,QL=$L,ZL=WL,JL=KL,eM=YL,me={isNothing:XL,isObject:zL,toArray:QL,repeat:ZL,isNegativeZero:JL,extend:eM};function iA(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function _s(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=iA(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}_s.prototype=Object.create(Error.prototype);_s.prototype.constructor=_s;_s.prototype.toString=function(t){return this.name+": "+iA(this,t)};var ke=_s;function Kd(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Xd(e,t){return me.repeat(" ",t-e.length)+e}function tM(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,l,d=Math.min(e.line+t.linesAfter,i.length).toString().length,_=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)l=Kd(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),_),a=me.repeat(" ",t.indent)+Xd((e.line-u+1).toString(),d)+" | "+l.str+`
`+a;for(l=Kd(e.buffer,n[o],i[o],e.position,_),a+=me.repeat(" ",t.indent)+Xd((e.line+1).toString(),d)+" | "+l.str+`
`,a+=me.repeat("-",t.indent+d+3+l.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)l=Kd(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),_),a+=me.repeat(" ",t.indent)+Xd((e.line+u+1).toString(),d)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var rM=tM,nM=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],iM=["scalar","sequence","mapping"];function sM(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function oM(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(nM.indexOf(r)===-1)throw new ke('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=sM(t.styleAliases||null),iM.indexOf(this.kind)===-1)throw new ke('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Re=oM;function kS(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function aM(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Qd(e){return this.extend(e)}Qd.prototype.extend=function(t){var r=[],n=[];if(t instanceof Re)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ke("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Re))throw new ke("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ke("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ke("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Re))throw new ke("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Qd.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=kS(i,"implicit"),i.compiledExplicit=kS(i,"explicit"),i.compiledTypeMap=aM(i.compiledImplicit,i.compiledExplicit),i};var uM=Qd,cM=new Re("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),lM=new Re("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),dM=new Re("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),_M=new uM({explicit:[cM,lM,dM]});function fM(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function pM(){return null}function hM(e){return e===null}var EM=new Re("tag:yaml.org,2002:null",{kind:"scalar",resolve:fM,construct:pM,predicate:hM,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function gM(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function mM(e){return e==="true"||e==="True"||e==="TRUE"}function SM(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var AM=new Re("tag:yaml.org,2002:bool",{kind:"scalar",resolve:gM,construct:mM,predicate:SM,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function TM(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function OM(e){return 48<=e&&e<=55}function RM(e){return 48<=e&&e<=57}function yM(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!TM(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!OM(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!RM(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function bM(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function vM(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!me.isNegativeZero(e)}var PM=new Re("tag:yaml.org,2002:int",{kind:"scalar",resolve:yM,construct:bM,predicate:vM,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),CM=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function IM(e){return!(e===null||!CM.test(e)||e[e.length-1]==="_")}function NM(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var LM=/^[-+]?[0-9]+e/;function MM(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(me.isNegativeZero(e))return"-0.0";return r=e.toString(10),LM.test(r)?r.replace("e",".e"):r}function wM(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||me.isNegativeZero(e))}var DM=new Re("tag:yaml.org,2002:float",{kind:"scalar",resolve:IM,construct:NM,predicate:wM,represent:MM,defaultStyle:"lowercase"}),sA=_M.extend({implicit:[EM,AM,PM,DM]}),xM=sA,oA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),aA=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function BM(e){return e===null?!1:oA.exec(e)!==null||aA.exec(e)!==null}function UM(e){var t,r,n,i,s,o,a,u=0,l=null,d,_,f;if(t=oA.exec(e),t===null&&(t=aA.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],_=+(t[11]||0),l=(d*60+_)*6e4,t[9]==="-"&&(l=-l)),f=new Date(Date.UTC(r,n,i,s,o,a,u)),l&&f.setTime(f.getTime()-l),f}function GM(e){return e.toISOString()}var jM=new Re("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:BM,construct:UM,instanceOf:Date,represent:GM});function FM(e){return e==="<<"||e===null}var qM=new Re("tag:yaml.org,2002:merge",{kind:"scalar",resolve:FM}),r_=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function kM(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=r_;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function HM(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=r_,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function VM(e){var t="",r=0,n,i,s=e.length,o=r_;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function $M(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var YM=new Re("tag:yaml.org,2002:binary",{kind:"scalar",resolve:kM,construct:HM,predicate:$M,represent:VM}),WM=Object.prototype.hasOwnProperty,KM=Object.prototype.toString;function XM(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,KM.call(i)!=="[object Object]")return!1;for(s in i)if(WM.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function zM(e){return e!==null?e:[]}var QM=new Re("tag:yaml.org,2002:omap",{kind:"sequence",resolve:XM,construct:zM}),ZM=Object.prototype.toString;function JM(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],ZM.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function ew(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var tw=new Re("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:JM,construct:ew}),rw=Object.prototype.hasOwnProperty;function nw(e){if(e===null)return!0;var t,r=e;for(t in r)if(rw.call(r,t)&&r[t]!==null)return!1;return!0}function iw(e){return e!==null?e:{}}var sw=new Re("tag:yaml.org,2002:set",{kind:"mapping",resolve:nw,construct:iw}),uA=xM.extend({implicit:[jM,qM],explicit:[YM,QM,tw,sw]}),ar=Object.prototype.hasOwnProperty,ko=1,cA=2,lA=3,Ho=4,zd=1,ow=2,HS=3,aw=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,uw=/[\x85\u2028\u2029]/,cw=/[,\[\]\{\}]/,dA=/^(?:!|!!|![a-z\-]+!)$/i,_A=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function VS(e){return Object.prototype.toString.call(e)}function yt(e){return e===10||e===13}function Dr(e){return e===9||e===32}function He(e){return e===9||e===32||e===10||e===13}function qn(e){return e===44||e===91||e===93||e===123||e===125}function lw(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function dw(e){return e===120?2:e===117?4:e===85?8:0}function _w(e){return 48<=e&&e<=57?e-48:-1}function $S(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function fw(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var fA=new Array(256),pA=new Array(256);for(wr=0;wr<256;wr++)fA[wr]=$S(wr)?1:0,pA[wr]=$S(wr);var wr;function pw(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||uA,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function hA(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=rM(r),new ke(t,r)}function D(e,t){throw hA(e,t)}function Vo(e,t){e.onWarning&&e.onWarning.call(null,hA(e,t))}var YS={YAML:function(t,r,n){var i,s,o;t.version!==null&&D(t,"duplication of %YAML directive"),n.length!==1&&D(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&D(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&D(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Vo(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&D(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],dA.test(i)||D(t,"ill-formed tag handle (first argument) of the TAG directive"),ar.call(t.tagMap,i)&&D(t,'there is a previously declared suffix for "'+i+'" tag handle'),_A.test(s)||D(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{D(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function or(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||D(e,"expected valid JSON character");else aw.test(a)&&D(e,"the stream contains non-printable characters");e.result+=a}}function WS(e,t,r,n){var i,s,o,a;for(me.isObject(r)||D(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],ar.call(t,s)||(t[s]=r[s],n[s]=!0)}function kn(e,t,r,n,i,s,o,a,u){var l,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,d=i.length;l<d;l+=1)Array.isArray(i[l])&&D(e,"nested arrays are not supported inside keys"),typeof i=="object"&&VS(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&VS(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,d=s.length;l<d;l+=1)WS(e,t,s[l],r);else WS(e,t,s,r);else!e.json&&!ar.call(r,i)&&ar.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,D(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function n_(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):D(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function _e(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Dr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(yt(i))for(n_(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Vo(e,"deficient indentation"),n}function Wo(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||He(r)))}function i_(e,t){t===1?e.result+=" ":t>1&&(e.result+=me.repeat(`
`,t-1))}function hw(e,t,r){var n,i,s,o,a,u,l,d,_=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),He(p)||qn(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),He(i)||r&&qn(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),He(i)||r&&qn(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),He(n))break}else{if(e.position===e.lineStart&&Wo(e)||r&&qn(p))break;if(yt(p))if(u=e.line,l=e.lineStart,d=e.lineIndent,_e(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=l,e.lineIndent=d;break}}a&&(or(e,s,o,!1),i_(e,e.line-u),s=o=e.position,a=!1),Dr(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return or(e,s,o,!1),e.result?!0:(e.kind=_,e.result=f,!1)}function Ew(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(or(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else yt(r)?(or(e,n,i,!0),i_(e,_e(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Wo(e)?D(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);D(e,"unexpected end of the stream within a single quoted scalar")}function gw(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return or(e,r,e.position,!0),e.position++,!0;if(a===92){if(or(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),yt(a))_e(e,!1,t);else if(a<256&&fA[a])e.result+=pA[a],e.position++;else if((o=dw(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=lw(a))>=0?s=(s<<4)+o:D(e,"expected hexadecimal character");e.result+=fw(s),e.position++}else D(e,"unknown escape sequence");r=n=e.position}else yt(a)?(or(e,r,n,!0),i_(e,_e(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Wo(e)?D(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}D(e,"unexpected end of the stream within a double quoted scalar")}function mw(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,l,d,_,f,p,h=Object.create(null),E,A,T,O;if(O=e.input.charCodeAt(e.position),O===91)d=93,p=!1,a=[];else if(O===123)d=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),O=e.input.charCodeAt(++e.position);O!==0;){if(_e(e,!0,t),O=e.input.charCodeAt(e.position),O===d)return e.position++,e.tag=o,e.anchor=u,e.kind=p?"mapping":"sequence",e.result=a,!0;r?O===44&&D(e,"expected the node content, but found ','"):D(e,"missed comma between flow collection entries"),A=E=T=null,_=f=!1,O===63&&(l=e.input.charCodeAt(e.position+1),He(l)&&(_=f=!0,e.position++,_e(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Hn(e,t,ko,!1,!0),A=e.tag,E=e.result,_e(e,!0,t),O=e.input.charCodeAt(e.position),(f||e.line===n)&&O===58&&(_=!0,O=e.input.charCodeAt(++e.position),_e(e,!0,t),Hn(e,t,ko,!1,!0),T=e.result),p?kn(e,a,h,A,E,T,n,i,s):_?a.push(kn(e,null,h,A,E,T,n,i,s)):a.push(E),_e(e,!0,t),O=e.input.charCodeAt(e.position),O===44?(r=!0,O=e.input.charCodeAt(++e.position)):r=!1}D(e,"unexpected end of the stream within a flow collection")}function Sw(e,t){var r,n,i=zd,s=!1,o=!1,a=t,u=0,l=!1,d,_;if(_=e.input.charCodeAt(e.position),_===124)n=!1;else if(_===62)n=!0;else return!1;for(e.kind="scalar",e.result="";_!==0;)if(_=e.input.charCodeAt(++e.position),_===43||_===45)zd===i?i=_===43?HS:ow:D(e,"repeat of a chomping mode identifier");else if((d=_w(_))>=0)d===0?D(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?D(e,"repeat of an indentation width identifier"):(a=t+d-1,o=!0);else break;if(Dr(_)){do _=e.input.charCodeAt(++e.position);while(Dr(_));if(_===35)do _=e.input.charCodeAt(++e.position);while(!yt(_)&&_!==0)}for(;_!==0;){for(n_(e),e.lineIndent=0,_=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&_===32;)e.lineIndent++,_=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),yt(_)){u++;continue}if(e.lineIndent<a){i===HS?e.result+=me.repeat(`
`,s?1+u:u):i===zd&&s&&(e.result+=`
`);break}for(n?Dr(_)?(l=!0,e.result+=me.repeat(`
`,s?1+u:u)):l?(l=!1,e.result+=me.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=me.repeat(`
`,u):e.result+=me.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!yt(_)&&_!==0;)_=e.input.charCodeAt(++e.position);or(e,r,e.position,!1)}return!0}function KS(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!He(o))));){if(a=!0,e.position++,_e(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,Hn(e,t,lA,!1,!0),s.push(e.result),_e(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)D(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function Aw(e,t,r){var n,i,s,o,a,u,l=e.tag,d=e.anchor,_={},f=Object.create(null),p=null,h=null,E=null,A=!1,T=!1,O;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=_),O=e.input.charCodeAt(e.position);O!==0;){if(!A&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,D(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(O===63||O===58)&&He(n))O===63?(A&&(kn(e,_,f,p,h,null,o,a,u),p=h=E=null),T=!0,A=!0,i=!0):A?(A=!1,i=!0):D(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,O=n;else{if(o=e.line,a=e.lineStart,u=e.position,!Hn(e,r,cA,!1,!0))break;if(e.line===s){for(O=e.input.charCodeAt(e.position);Dr(O);)O=e.input.charCodeAt(++e.position);if(O===58)O=e.input.charCodeAt(++e.position),He(O)||D(e,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(kn(e,_,f,p,h,null,o,a,u),p=h=E=null),T=!0,A=!1,i=!1,p=e.tag,h=e.result;else if(T)D(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=d,!0}else if(T)D(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(A&&(o=e.line,a=e.lineStart,u=e.position),Hn(e,t,Ho,!0,i)&&(A?h=e.result:E=e.result),A||(kn(e,_,f,p,h,E,o,a,u),p=h=E=null),_e(e,!0,-1),O=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&O!==0)D(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return A&&kn(e,_,f,p,h,null,o,a,u),T&&(e.tag=l,e.anchor=d,e.kind="mapping",e.result=_),T}function Tw(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&D(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):D(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!He(o);)o===33&&(n?D(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),dA.test(i)||D(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),cw.test(s)&&D(e,"tag suffix cannot contain flow indicator characters")}s&&!_A.test(s)&&D(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{D(e,"tag name is malformed: "+s)}return r?e.tag=s:ar.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:D(e,'undeclared tag handle "'+i+'"'),!0}function Ow(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&D(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!He(r)&&!qn(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Rw(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!He(n)&&!qn(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&D(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),ar.call(e.anchorMap,r)||D(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],_e(e,!0,-1),!0}function Hn(e,t,r,n,i){var s,o,a,u=1,l=!1,d=!1,_,f,p,h,E,A;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ho===r||lA===r,n&&_e(e,!0,-1)&&(l=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;Tw(e)||Ow(e);)_e(e,!0,-1)?(l=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=l||i),(u===1||Ho===r)&&(ko===r||cA===r?E=t:E=t+1,A=e.position-e.lineStart,u===1?a&&(KS(e,A)||Aw(e,A,E))||mw(e,E)?d=!0:(o&&Sw(e,E)||Ew(e,E)||gw(e,E)?d=!0:Rw(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&D(e,"alias node should not have any properties")):hw(e,E,ko===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=a&&KS(e,A))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&D(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),_=0,f=e.implicitTypes.length;_<f;_+=1)if(h=e.implicitTypes[_],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(ar.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,p=e.typeMap.multi[e.kind||"fallback"],_=0,f=p.length;_<f;_+=1)if(e.tag.slice(0,p[_].tag.length)===p[_].tag){h=p[_];break}h||D(e,"unknown tag !<"+e.tag+">"),e.result!==null&&h.kind!==e.kind&&D(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):D(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function yw(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(_e(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!He(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&D(e,"directive name must not be less than one character in length");o!==0;){for(;Dr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!yt(o));break}if(yt(o))break;for(r=e.position;o!==0&&!He(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&n_(e),ar.call(YS,n)?YS[n](e,n,i):Vo(e,'unknown document directive "'+n+'"')}if(_e(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,_e(e,!0,-1)):s&&D(e,"directives end mark is expected"),Hn(e,e.lineIndent-1,Ho,!1,!0),_e(e,!0,-1),e.checkLineBreaks&&uw.test(e.input.slice(t,e.position))&&Vo(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Wo(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,_e(e,!0,-1));return}if(e.position<e.length-1)D(e,"end of the stream or a document separator is expected");else return}function EA(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new pw(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,D(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)yw(r);return r.documents}function bw(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=EA(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function vw(e,t){var r=EA(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ke("expected a single document in the stream, but found more")}}var Pw=bw,Cw=vw,gA={loadAll:Pw,load:Cw},mA=Object.prototype.toString,SA=Object.prototype.hasOwnProperty,s_=65279,Iw=9,fs=10,Nw=13,Lw=32,Mw=33,ww=34,Zd=35,Dw=37,xw=38,Bw=39,Uw=42,AA=44,Gw=45,$o=58,jw=61,Fw=62,qw=63,kw=64,TA=91,OA=93,Hw=96,RA=123,Vw=124,yA=125,ye={};ye[0]="\\0";ye[7]="\\a";ye[8]="\\b";ye[9]="\\t";ye[10]="\\n";ye[11]="\\v";ye[12]="\\f";ye[13]="\\r";ye[27]="\\e";ye[34]='\\"';ye[92]="\\\\";ye[133]="\\N";ye[160]="\\_";ye[8232]="\\L";ye[8233]="\\P";var $w=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Yw=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ww(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&SA.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function Kw(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ke("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+me.repeat("0",n-t.length)+t}var Xw=1,ps=2;function zw(e){this.schema=e.schema||uA,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=me.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Ww(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ps:Xw,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function XS(e,t){for(var r=me.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Jd(e,t){return`
`+me.repeat(" ",e.indent*t)}function Qw(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Yo(e){return e===Lw||e===Iw}function hs(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==s_||65536<=e&&e<=1114111}function zS(e){return hs(e)&&e!==s_&&e!==Nw&&e!==fs}function QS(e,t,r){var n=zS(e),i=n&&!Yo(e);return(r?n:n&&e!==AA&&e!==TA&&e!==OA&&e!==RA&&e!==yA)&&e!==Zd&&!(t===$o&&!i)||zS(t)&&!Yo(t)&&e===Zd||t===$o&&i}function Zw(e){return hs(e)&&e!==s_&&!Yo(e)&&e!==Gw&&e!==qw&&e!==$o&&e!==AA&&e!==TA&&e!==OA&&e!==RA&&e!==yA&&e!==Zd&&e!==xw&&e!==Uw&&e!==Mw&&e!==Vw&&e!==jw&&e!==Fw&&e!==Bw&&e!==ww&&e!==Dw&&e!==kw&&e!==Hw}function Jw(e){return!Yo(e)&&e!==$o}function ds(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function bA(e){var t=/^\n* /;return t.test(e)}var vA=1,e_=2,PA=3,CA=4,Fn=5;function e1(e,t,r,n,i,s,o,a){var u,l=0,d=null,_=!1,f=!1,p=n!==-1,h=-1,E=Zw(ds(e,0))&&Jw(ds(e,e.length-1));if(t||o)for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=ds(e,u),!hs(l))return Fn;E=E&&QS(l,d,a),d=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=ds(e,u),l===fs)_=!0,p&&(f=f||u-h-1>n&&e[h+1]!==" ",h=u);else if(!hs(l))return Fn;E=E&&QS(l,d,a),d=l}f=f||p&&u-h-1>n&&e[h+1]!==" "}return!_&&!f?E&&!o&&!i(e)?vA:s===ps?Fn:e_:r>9&&bA(e)?Fn:o?s===ps?Fn:e_:f?CA:PA}function t1(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ps?'""':"''";if(!e.noCompatMode&&($w.indexOf(t)!==-1||Yw.test(t)))return e.quotingType===ps?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(l){return Qw(e,l)}switch(e1(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case vA:return t;case e_:return"'"+t.replace(/'/g,"''")+"'";case PA:return"|"+ZS(t,e.indent)+JS(XS(t,s));case CA:return">"+ZS(t,e.indent)+JS(XS(r1(t,o),s));case Fn:return'"'+n1(t)+'"';default:throw new ke("impossible error: invalid scalar style")}}()}function ZS(e,t){var r=bA(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function JS(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function r1(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,eA(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+eA(u,t),i=s}return n}function eA(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function n1(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ds(e,i),n=ye[r],!n&&hs(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Kw(r);return t}function i1(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),($t(e,t,a,!1,!1)||typeof a>"u"&&$t(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function tA(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),($t(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&$t(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Jd(e,t)),e.dump&&fs===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function s1(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,l,d;for(o=0,a=s.length;o<a;o+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=s[o],l=r[u],e.replacer&&(l=e.replacer.call(r,u,l)),$t(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),$t(e,t,l,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function o1(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,l,d,_,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new ke("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Jd(e,t)),l=o[a],d=r[l],e.replacer&&(d=e.replacer.call(r,l,d)),$t(e,t+1,l,!0,!0,!0)&&(_=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,_&&(e.dump&&fs===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,_&&(f+=Jd(e,t)),$t(e,t+1,d,!0,_)&&(e.dump&&fs===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}function rA(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,mA.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(SA.call(a.represent,u))n=a.represent[u](t,u);else throw new ke("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function $t(e,t,r,n,i,s,o){e.tag=null,e.dump=r,rA(e,r,!1)||rA(e,r,!0);var a=mA.call(e.dump),u=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",_,f;if(d&&(_=e.duplicates.indexOf(r),f=_!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[_])e.dump="*ref_"+_;else{if(d&&f&&!e.usedDuplicates[_]&&(e.usedDuplicates[_]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(o1(e,t,e.dump,i),f&&(e.dump="&ref_"+_+e.dump)):(s1(e,t,e.dump),f&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?tA(e,t-1,e.dump,i):tA(e,t,e.dump,i),f&&(e.dump="&ref_"+_+e.dump)):(i1(e,t,e.dump),f&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&t1(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ke("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function a1(e,t){var r=[],n=[],i,s;for(t_(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function t_(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)t_(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)t_(e[n[i]],t,r)}function u1(e,t){t=t||{};var r=new zw(t);r.noRefs||a1(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),$t(r,0,n,!0,!0)?r.dump+`
`:""}var c1=u1,l1={dump:c1};function o_(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var IA=sA;var NA=gA.load,oY=gA.loadAll,aY=l1.dump;var uY=o_("safeLoad","load"),cY=o_("safeLoadAll","loadAll"),lY=o_("safeDump","dump");var d1=".yarnbuildrc.yml",_1=".bundleignore",f1=V.isObject({folders:V.isObject({input:V.isOneOf([V.isString(),V.isArray(V.isString())]),output:V.isNullable(V.isOneOf([V.isString(),V.isArray(V.isString())]))}),exclude:V.isArray(V.isString()),bail:V.isBoolean(),hideYarnBuildBadge:V.isBoolean(),ignoreFile:V.isString()}),p1=V.isObject({input:V.isOptional(V.isOneOf([V.isString(),V.isArray(V.isString())])),output:V.isOptional(V.isNullable(V.isOneOf([V.isString(),V.isArray(V.isString())]))),tsconfig:V.isOptional(V.isString())}),a_={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:_1};async function h1(e){let t=d1,r=Es.ppath.join(e.projectCwd||e.startingCwd,t);if(Es.xfs.existsSync(r)){let n=await Es.xfs.readFilePromise(r,"utf8"),i=[];try{let s=NA(n,{schema:IA});if(f1(s,{errors:i}))return s;console.warn(i)}catch{let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return a_}async function LA(e){let t=await h1(e);return{...a_,...t,folders:{...a_.folders,...t.folders??{}}}}function MA(e){let t={...e["yarn.build"]};return p1(t)?t:{}}var j=v("@yarnpkg/core"),Xe=te(GA()),XI=v("os"),Y=v("@yarnpkg/fslib");var Nm=te(WO()),zI=v("events"),QI=te(nR()),ZI=te(aR()),Cm=te(uR()),vd=te(ep()),Pd=te(xR());var z={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var yI=te(P()),bI=te(Vp());var SI=te(Mc()),AI=te(Ys()),TI=te(Dt()),OI=te(mI()),RI=te(Mc()),es=te(P());process.env.DEBUG&&es.diag.setLogger(new es.DiagConsoleLogger,es.DiagLogLevel.DEBUG);var Oo=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new OI.OTLPTraceExporter,r=new SI.BasicTracerProvider({resource:new AI.Resource({[TI.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new RI.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var Nn=te(P()),sr=class{constructor(t){this.name=t,this._tracer=Oo.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:yI.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){let n;if(typeof t.ctx>"u"?n=Nn.context.active():n=t.ctx,!!t.propegateFromEnv||t?.spanOptions?.kind==4){let o=process.env.TRACEPARENT;if(typeof o=="string"){let a=(0,bI.parseTraceParent)(o??"");a&&(n=Nn.trace.setSpanContext(Nn.context.active(),a))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=Nn.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(o){if((typeof o=="string"||o instanceof Error)&&this.recordException(i,o),!t.supressExceptions)throw o}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx>"u"?i=Nn.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var rs=class{constructor(){this.tracer=new sr("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new Ln(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let s=t.dependencies[i];if(!r.has(s.id)){if(n.has(s.id))throw new Ro(t.id,s.id);this.resolveNode(s,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let s=new Set,o=new Set,a={};for(let u of r)this.resolveQueue(u,s,a);return n?(await this.dryRunLoop(s,a,o,0),a):(await new Promise(u=>{this.workLoop(i,s,a,o,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((s,o)=>{this.dryRunCallback(s,i-1),r[s.id]={success:!0,done:!0},n.delete(o)}),t.size!==0&&t.forEach(s=>{s.canStart(r)&&s?.node?.runCallback&&(n.add(s.node),t.delete(s))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,s){if(r.size!==0&&r.forEach(o=>{o.canStart(n)&&(o?.node?.runCallback?(o?.node?.runCallback(t,n),i.add(o.node)):n[o.node.id]={success:!0,done:!0},r.delete(o))}),i.forEach((o,a)=>{n[o.id].done&&i.delete(a)}),Object.keys(n).map(o=>n[o]?.done??!0).every(o=>o===!0)){s();return}setTimeout(()=>this.workLoop(t,r,n,i,s),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(s=>{let o=t.dependencies[s];if(i.push(o.id),!n[o.id]&&o.runCallback){n[o.id]={...rs.RunLogInit};let a=this.resolveQueue(o,r,n),u={node:o,canStart:rs.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]={...rs.RunLogInit};let s={node:t,canStart:rs.QueueItemCanStart(i)};r.add(s)}return i}},ts=rs;ts.RunLogInit={success:!1,done:!1},ts.QueueItemCanStart=t=>r=>t.map(n=>r[n]?.done??!0).every(n=>n===!0);var Ln=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,Ln.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies>"u"||Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},Ro=class extends Error{constructor(r,n){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=r,this.dep=n}};var vI=te(ep()),o5="\x1B",it=o5+"[",gm=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);gm.cursorUp(t)}static cursorUp(t=1){process.stdout.write(it+`${t}A`)}static cursorSave(){process.stdout.write(it+"s")}static cursorRestore(){process.stdout.write(it+"u")}static autoWrap(t){t?process.stdout.write(it+"?7h"):process.stdout.write(it+"?7l")}static clearScreenDown(){process.stdout.write(it+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(it+"6n")})}static setScrollableRegion(t,r){process.stdout.write(it+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(it+"r")}static moveTo(t){process.stdout.write(it+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(it+"H")}static alternateScreen(){process.stdout.write(it+"?1049h")}static mainScreen(){process.stdout.write(it+"?1049l")}static linesRequired(t,r){let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((0,vI.default)(t).match(n)??[""]).length-1}},dt=gm;dt.row=0,dt.column=0;var CI=v("child_process"),II=v("util");var PI=()=>process.platform==="win32"?"windows":"unix";var a5=(0,II.promisify)(CI.exec),NI=async e=>{let t=PI(),r=(({platform:i,pid:s})=>{switch(i){case"unix":return`pgrep "-P ${s}"`;case"windows":return`wmic process where (ParentProcessId=${s}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await a5(r);n=i.split(`
`).filter(Boolean).map(s=>parseInt(s,10)).filter(s=>!isNaN(s))}catch{}return n};var ns={hasBeenTerminated:!1,callId:0},Od=async(e=0)=>{if(e!==ns.callId||ns.hasBeenTerminated)return;let t=process.pid;(await NI(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch{}});let n=ns.callId+1;ns.callId=n,setTimeout(async()=>{Od(n)},50)};var JI=te(P());var ee=te(v("path"),1),bm=te(v("fs"),1),jI=te(v("module"),1);var LI=e=>e!==null&&typeof e=="object",is=(e,t)=>Object.assign(new Error(`[${e}]: ${t}`),{code:e}),MI="ERR_INVALID_PACKAGE_CONFIG",mm="ERR_INVALID_PACKAGE_TARGET",u5="ERR_PACKAGE_PATH_NOT_EXPORTED";var c5=/^\d+$/,l5=/^(\.{1,2}|node_modules)$/i,d5=/\/|\\/,wI=(e=>(e.Export="exports",e.Import="imports",e))(wI||{}),Sm=(e,t,r,n,i)=>{if(t==null)return[];if(typeof t=="string"){let[s,...o]=t.split(d5);if(s===".."||o.some(a=>l5.test(a)))throw is(mm,`Invalid "${e}" target "${t}" defined in the package config`);return[i?t.replace(/\*/g,i):t]}if(Array.isArray(t))return t.flatMap(s=>Sm(e,s,r,n,i));if(LI(t)){for(let s of Object.keys(t)){if(c5.test(s))throw is(MI,"Cannot contain numeric property keys");if(s==="default"||n.includes(s))return Sm(e,t[s],r,n,i)}return[]}throw is(mm,`Invalid "${e}" target "${t}"`)},yo="*",_5=(e,t)=>{let r=e.indexOf(yo),n=t.indexOf(yo);return r===n?t.length>e.length:n>r};function f5(e,t){if(!t.includes(yo)&&e.hasOwnProperty(t))return[t];let r,n;for(let i of Object.keys(e))if(i.includes(yo)){let[s,o,a]=i.split(yo);if(a===void 0&&t.startsWith(s)&&t.endsWith(o)){let u=t.slice(s.length,-o.length||void 0);u&&(!r||_5(r,i))&&(r=i,n=u)}}return[r,n]}var p5=e=>Object.keys(e).reduce((t,r)=>{let n=r===""||r[0]!==".";if(t===void 0||t===n)return n;throw is(MI,'"exports" cannot contain some keys starting with "." and some not')},void 0),h5=/^\w+:/,DI=(e,t,r)=>{if(!e)throw new Error('"exports" is required');t=t===""?".":`./${t}`,(typeof e=="string"||Array.isArray(e)||LI(e)&&p5(e))&&(e={".":e});let[n,i]=f5(e,t),s=Sm(wI.Export,e[n],t,r,i);if(s.length===0)throw is(u5,t==="."?'No "exports" main defined':`Package subpath '${t}' is not defined by "exports"`);for(let o of s)if(!o.startsWith("./")&&!h5.test(o))throw is(mm,`Invalid "exports" target "${o}" defined in the package config`);return s};function Mn(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}var bd=e=>{let t=bm.default[e];return function(r,...n){let i=`${e}:${n.join(":")}`,s=r?.get(i);return s===void 0&&(s=Reflect.apply(t,bm.default,n),r?.set(i,s)),s}},mt=bd("existsSync"),E5=bd("realpathSync"),g5=bd("readFileSync"),Rd=bd("statSync"),m5=(e,t,r)=>{for(;;){let n=ee.default.posix.join(e,t);if(mt(r,n))return n;let i=ee.default.dirname(e);if(i===e)return;e=i}},S5=/^\.{1,2}(\/.*)?$/,Am=e=>{let t=Mn(e);return S5.test(t)?t:`./${t}`};function A5(e,t=!1){let r=e.length,n=0,i="",s=0,o=16,a=0,u=0,l=0,d=0,_=0;function f(R,F){let y=0,B=0;for(;y<R||!F;){let w=e.charCodeAt(n);if(w>=48&&w<=57)B=B*16+w-48;else if(w>=65&&w<=70)B=B*16+w-65+10;else if(w>=97&&w<=102)B=B*16+w-97+10;else break;n++,y++}return y<R&&(B=-1),B}function p(R){n=R,i="",s=0,o=16,_=0}function h(){let R=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&ss(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&ss(e.charCodeAt(n)))for(n++;n<e.length&&ss(e.charCodeAt(n));)n++;else return _=3,e.substring(R,n);let F=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&ss(e.charCodeAt(n))){for(n++;n<e.length&&ss(e.charCodeAt(n));)n++;F=n}else _=3;return e.substring(R,F)}function E(){let R="",F=n;for(;;){if(n>=r){R+=e.substring(F,n),_=2;break}let y=e.charCodeAt(n);if(y===34){R+=e.substring(F,n),n++;break}if(y===92){if(R+=e.substring(F,n),n++,n>=r){_=2;break}switch(e.charCodeAt(n++)){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+=`
`;break;case 114:R+="\r";break;case 116:R+="	";break;case 117:let B=f(4,!0);B>=0?R+=String.fromCharCode(B):_=4;break;default:_=5}F=n;continue}if(y>=0&&y<=31)if(bo(y)){R+=e.substring(F,n),_=2;break}else _=6;n++}return R}function A(){if(i="",_=0,s=n,u=a,d=l,n>=r)return s=r,o=17;let R=e.charCodeAt(n);if(Tm(R)){do n++,i+=String.fromCharCode(R),R=e.charCodeAt(n);while(Tm(R));return o=15}if(bo(R))return n++,i+=String.fromCharCode(R),R===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,o=14;switch(R){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,i=E(),o=10;case 47:let F=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!bo(e.charCodeAt(n));)n++;return i=e.substring(F,n),o=12}if(e.charCodeAt(n+1)===42){n+=2;let y=r-1,B=!1;for(;n<y;){let w=e.charCodeAt(n);if(w===42&&e.charCodeAt(n+1)===47){n+=2,B=!0;break}n++,bo(w)&&(w===13&&e.charCodeAt(n)===10&&n++,a++,l=n)}return B||(n++,_=1),i=e.substring(F,n),o=13}return i+=String.fromCharCode(R),n++,o=16;case 45:if(i+=String.fromCharCode(R),n++,n===r||!ss(e.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),o=11;default:for(;n<r&&T(R);)n++,R=e.charCodeAt(n);if(s!==n){switch(i=e.substring(s,n),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(R),n++,o=16}}function T(R){if(Tm(R)||bo(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function O(){let R;do R=A();while(R>=12&&R<=15);return R}return{setPosition:p,getPosition:()=>n,scan:t?O:A,getToken:()=>o,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>n-s,getTokenStartLine:()=>u,getTokenStartCharacter:()=>s-d,getTokenError:()=>_}}function Tm(e){return e===32||e===9}function bo(e){return e===10||e===13}function ss(e){return e>=48&&e<=57}var xI;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(xI||(xI={}));var yd;(function(e){e.DEFAULT={allowTrailingComma:!1}})(yd||(yd={}));function T5(e,t=[],r=yd.DEFAULT){let n=null,i=[],s=[];function o(a){Array.isArray(i)?i.push(a):n!==null&&(i[n]=a)}return O5(e,{onObjectBegin:()=>{let a={};o(a),s.push(i),i=a,n=null},onObjectProperty:a=>{n=a},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{let a=[];o(a),s.push(i),i=a,n=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:o,onError:(a,u,l)=>{t.push({error:a,offset:u,length:l})}},r),i[0]}function O5(e,t,r=yd.DEFAULT){let n=A5(e,!1),i=[];function s(N){return N?()=>N(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function o(N){return N?()=>N(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(N){return N?L=>N(L,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function u(N){return N?L=>N(L,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}let l=o(t.onObjectBegin),d=u(t.onObjectProperty),_=s(t.onObjectEnd),f=o(t.onArrayBegin),p=s(t.onArrayEnd),h=u(t.onLiteralValue),E=a(t.onSeparator),A=s(t.onComment),T=a(t.onError),O=r&&r.disallowComments,R=r&&r.allowTrailingComma;function F(){for(;;){let N=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:O||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(N){case 12:case 13:O?y(10):A();break;case 16:y(1);break;case 15:case 14:break;default:return N}}}function y(N,L=[],_t=[]){if(T(N),L.length+_t.length>0){let g=n.getToken();for(;g!==17;){if(L.indexOf(g)!==-1){F();break}else if(_t.indexOf(g)!==-1)break;g=F()}}}function B(N){let L=n.getTokenValue();return N?h(L):(d(L),i.push(L)),F(),!0}function w(){switch(n.getToken()){case 11:let N=n.getTokenValue(),L=Number(N);isNaN(L)&&(y(2),L=0),h(L);break;case 7:h(null);break;case 8:h(!0);break;case 9:h(!1);break;default:return!1}return F(),!0}function x(){return n.getToken()!==10?(y(3,[],[2,5]),!1):(B(!1),n.getToken()===6?(E(":"),F(),m()||y(4,[],[2,5])):y(5,[],[2,5]),i.pop(),!0)}function W(){l(),F();let N=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(N||y(4,[],[]),E(","),F(),n.getToken()===2&&R)break}else N&&y(6,[],[]);x()||y(4,[],[2,5]),N=!0}return _(),n.getToken()!==2?y(7,[2],[]):F(),!0}function ue(){f(),F();let N=!0,L=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(L||y(4,[],[]),E(","),F(),n.getToken()===4&&R)break}else L&&y(6,[],[]);N?(i.push(0),N=!1):i[i.length-1]++,m()||y(4,[],[4,5]),L=!0}return p(),N||i.pop(),n.getToken()!==4?y(8,[4],[]):F(),!0}function m(){switch(n.getToken()){case 3:return ue();case 1:return W();case 10:return B(!0);default:return w()}}return F(),n.getToken()===17?r.allowEmptyContent?!0:(y(4,[],[]),!1):m()?(n.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}var BI;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(BI||(BI={}));var UI;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(UI||(UI={}));var R5=T5,GI;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(GI||(GI={}));var FI=(e,t)=>R5(g5(t,e,"utf8")),y5=Symbol("implicitBaseUrl"),b5=()=>{let{findPnpApi:e}=jI.default;return e&&e(process.cwd())},Om=(e,t,r,n)=>{let i=`resolveFromPackageJsonPath:${e}:${t}:${r}`;if(n!=null&&n.has(i))return n.get(i);let s=FI(e,n);if(!s)return;let o=t||"tsconfig.json";if(!r&&s.exports)try{let[a]=DI(s.exports,t,["require","types"]);o=a}catch{return!1}else!t&&s.tsconfig&&(o=s.tsconfig);return o=ee.default.join(e,"..",o),n?.set(i,o),o},Rm="package.json",ym="tsconfig.json",v5=(e,t,r)=>{let n=e;if(e===".."&&(n=ee.default.join(n,ym)),e[0]==="."&&(n=ee.default.resolve(t,n)),ee.default.isAbsolute(n)){if(mt(r,n)){if(Rd(r,n).isFile())return n}else if(!n.endsWith(".json")){let p=`${n}.json`;if(mt(r,p))return p}return}let[i,...s]=e.split("/"),o=i[0]==="@"?`${i}/${s.shift()}`:i,a=s.join("/"),u=b5();if(u){let{resolveRequest:p}=u;try{if(o===e){let h=p(ee.default.join(o,Rm),t);if(h){let E=Om(h,a,!1,r);if(E&&mt(r,E))return E}}else{let h;try{h=p(e,t,{extensions:[".json"]})}catch{h=p(ee.default.join(e,ym),t)}if(h)return h}}catch{}}let l=m5(t,ee.default.join("node_modules",o),r);if(!l||!Rd(r,l).isDirectory())return;let d=ee.default.join(l,Rm);if(mt(r,d)){let p=Om(d,a,!1,r);if(p===!1)return;if(p&&mt(r,p)&&Rd(r,p).isFile())return p}let _=ee.default.join(l,a),f=_.endsWith(".json");if(!f){let p=`${_}.json`;if(mt(r,p))return p}if(mt(r,_)){if(Rd(r,_).isDirectory()){let p=ee.default.join(_,Rm);if(mt(r,p)){let E=Om(p,"",!0,r);if(E&&mt(r,E))return E}let h=ee.default.join(_,ym);if(mt(r,h))return h}else if(f)return _}},P5=(e,t,r,n)=>{let i=v5(e,t,n);if(!i)throw new Error(`File '${e}' not found.`);if(r.has(i))throw new Error(`Circularity detected while resolving configuration: ${i}`);r.add(i);let s=ee.default.dirname(i),o=qI(i,n,r);delete o.references;let{compilerOptions:a}=o;if(a){let u=["baseUrl","outDir"];for(let l of u){let d=a[l];d&&(a[l]=Mn(ee.default.relative(t,ee.default.join(s,d)))||"./")}}return o.files&&(o.files=o.files.map(u=>Mn(ee.default.relative(t,ee.default.join(s,u))))),o.include&&(o.include=o.include.map(u=>Mn(ee.default.relative(t,ee.default.join(s,u))))),o.exclude&&(o.exclude=o.exclude.map(u=>Mn(ee.default.relative(t,ee.default.join(s,u))))),o},qI=(e,t,r=new Set)=>{let n;try{n=E5(t,e)}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}let i=FI(n,t)||{};if(typeof i!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);let s=ee.default.dirname(n);if(i.compilerOptions){let{compilerOptions:o}=i;o.paths&&!o.baseUrl&&(o[y5]=s)}if(i.extends){let o=Array.isArray(i.extends)?i.extends:[i.extends];delete i.extends;for(let a of o.reverse()){let u=P5(a,s,r,t),l={...u,...i,compilerOptions:{...u.compilerOptions,...i.compilerOptions}};u.watchOptions&&(l.watchOptions={...u.watchOptions,...i.watchOptions}),i=l}}if(i.compilerOptions){let{compilerOptions:o}=i,a=["baseUrl","rootDir"];for(let l of a){let d=o[l];if(d){let _=ee.default.resolve(s,d),f=Am(ee.default.relative(s,_));o[l]=f}}let{outDir:u}=o;u&&(Array.isArray(i.exclude)||(i.exclude=[]),i.exclude.includes(u)||i.exclude.push(u),o.outDir=Am(u))}else i.compilerOptions={};if(i.files&&(i.files=i.files.map(Am)),i.include&&(i.include=i.include.map(Mn)),i.watchOptions){let{watchOptions:o}=i;o.excludeDirectories&&(o.excludeDirectories=o.excludeDirectories.map(a=>Mn(ee.default.resolve(s,a))))}return i},kI=(e,t=new Map)=>qI(e,t);var{join:U8}=ee.default.posix;var C5=["node_modules","bower_components","jspm_packages"],G8=`(?!(${C5.join("|")})(/|$))`;var j8=process.platform==="win32";var eN=te(KI()),N5="yarn.build.json",tN=80,L5="-".repeat(tN);var Im=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:s,pluginConfiguration:o,dryRun:a,ignoreRunCache:u,verbose:l,concurrency:d,continueOnError:_,excludeWorkspacePredicate:f,ignoreDependencies:p,failFast:h}){this.tracer=new sr("yarn.build");this.runGraph=new ts;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new zI.EventEmitter;this.ignoreDependencies=!1;this.failFast=!1;this.runReport={mutex:new Cm.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.checkIfRunIsRequiredCache={};this.planCache={};this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on("pending",(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on("start",(t,r,n,i)=>{this.runReport.mutex.acquire().then(s=>{this.runReport.workspaces[t]={...this.runReport.workspaces[t],start:Date.now(),runScript:i,name:n,locator:r},s()})}),this.runReporter.on("info",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on("error",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on("success",t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t]={...this.runReport.workspaces[t],done:!0},this.runReport.successCount++;let n=this.runReport.workspaces[t];if(Xe.default){let i=`\u2705 ${t}`.padEnd(60),s=Dn(0,n.runtimeSeconds??0).padStart(19);process.stdout.write(`${i}${s}
`)}r()})}),this.runReporter.on("skipped",t=>{this.runReport.mutex.acquire().then(r=>{if(this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r(),Xe.default){let n=`\u23E9 ${t} `.padEnd(60),i="--".padStart(19);process.stdout.write(`${n}${i}
`)}})}),this.runReporter.on("ignored",t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r();let n=this.runReport.workspaces[t],i=this.runLog?.get(`${t}#${this.runCommand}`);if(Xe.default){let s=`[IGNORE${i?.exitCode?`: ${i?.exitCode}`:""}] ${n.name} `.padEnd(60),o="--".padStart(19);process.stdout.write(`${s}${o}
`)}})}),this.runReporter.on("fail",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],s=this.runLog?.get(`${t}#${this.runCommand}`);if(Xe.default){let o=`\u274C ${t}`.padEnd(50),a=`${s?.exitCode?`(exit code: ${s?.exitCode})`:"\u2192"} ${Dn(0,i.runtimeSeconds??0)}`.padStart(29);process.stdout.write(`${o}${a}
`)}})})};this.getDependenciesCount=async t=>{let r=0;for(let n of j.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");if(typeof this.planCache[r.relativeCwd]<"u")return this.planCache[r.relativeCwd];this.runGraph.checkCyclical(t);let n=!1,i=!1;if(this.runMutexes[r.relativeCwd]=new Cm.Mutex,this.ignoreDependencies===!1)for(let o of j.Manifest.hardDependencies)for(let a of r.manifest.getForScope(o).values()){let u=this.project.tryWorkspaceByDescriptor(a);if(u===null||this.excludeWorkspacePredicate(u)||typeof u.manifest.scripts.get(this.runCommand)>"u")continue;let l=this.runGraph.addNode(u.relativeCwd);t.addDependency(l),this.runGraph.checkCyclical(l),await this.plan(l,u)&&(this.runGraph.addRunCallback(l,this.createRunItem(u)),i=!0,this.removeFromExcluded(u))}let s=!1;if(r!==this.project.topLevelWorkspace&&(s=await this.checkIfRunIsRequired(r)),this.runReporter.emit("pending",r.relativeCwd,r.anchoredLocator),i||s)n=!0,this.runReporter.emit("pending",r.relativeCwd,r.anchoredLocator,`${r.manifest.name?.scope?`@${r.manifest.name?.scope}/`:""}${r.manifest.name?.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);else{let o=this.runLog?.get(`${r.relativeCwd}#${this.runCommand}`);o&&this.runLog?.set(`${r.relativeCwd}#${this.runCommand}`,{checksum:o.checksum,status:"succeeded",rerun:!1,command:this.runCommand})}if(n){let o=r.getRecursiveWorkspaceDependents();for(let u of o)this.markWorkspaceForRerun(u);let a=Array.from(r.getRecursiveWorkspaceDependencies()).filter(u=>this.isWorkspaceMarkedForRerun(u));for(let u of a){let l=u.getRecursiveWorkspaceDependents();for(let d of l)this.markWorkspaceForRerun(d)}}return this.planCache[r.relativeCwd]=n,n};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",s={1:[]};this.runGraph.dryRunCallback=(u,l)=>{s[l]?s[l].push(u.id):s[l]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let o=(u,l,d,_)=>{let f=d?"\u2514\u2500":_&&d?"\u2514\u2500\u252C\u2500":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f}[${u}] ${l}`},a=Object.keys(s);return a.forEach((u,l)=>{let d=parseInt(u),_=s[d],f=l==a.length-1;_.forEach((p,h)=>{let E=this.runGraph.getNode(p);i+=o(d,p,h==_.length-1,f),E instanceof Ln&&E.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(Xe.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),Xe.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;Xe.default||dt.pad(this.concurrency+3),Xe.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":this.runTargets[0]?.relativeCwd??"Nothing to run",Xe.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let s=this.generateFinalReport();return typeof s=="string"&&process.stdout.write(`
${s}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";Xe.default?this.updateProgressCI(t):(n=this.generateProgressString(t),dt.cursorUp(dt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),dt.clearScreenDown()),typeof n<"u"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,w5(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>j.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=j.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=j.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),s=j.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${s} ${Dn(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{Xe.default||(dt.cursorUp(dt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),dt.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),Xe.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(a.fail&&s.push(o),!(this.runReport.failCount!==0&&a.fail===!1)){if(a.stdout.length!==0||a.stderr.length!==0){let u=this.formatHeader(`Output: ${j.formatUtils.pretty(this.configuration,o,j.FormatType.PATH)}`,2);r+=`
${u+`
`}`}a.stdout.length!==0&&a.stdout.forEach(u=>{u.split(`
`).forEach(d=>{typeof d<"u"&&d.length!==0&&(r+=`${d+`
`}`)})}),a.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,a.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(f=>{typeof f<"u"&&f.length!==0&&(r+=`${f+`
`}`)})}))}}if(s.length>=2){r+=`${this.grey(L5)+`
`}`;let o=this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`);r+=`${o}`,s.forEach(a=>{let u=`- ${j.formatUtils.pretty(this.configuration,a,j.FormatType.PATH)}`;r+=`${u+`
`}`})}}let n=this.formatHeader(`${j.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?j.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:o,ignoredCount:a,skipCount:u}=this.runReport,l=this.runGraph.runSize-a,d=l-o-s-u,_=j.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),f=j.formatUtils.pretty(this.configuration,`Fail: ${o}`,"red"),p=j.formatUtils.pretty(this.configuration,`Skipped: ${u}`,"white"),h=j.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),E=j.formatUtils.pretty(this.configuration,`Up to date: ${d}`,"white"),A=j.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=_+`
`,r+=E+`
`,r+=f+`
`,this.verbose&&o>0&&Object.keys(this.runReport.workspaces).forEach(T=>{let O=this.runReport.workspaces[T];O.fail&&(r+=` - ${j.formatUtils.pretty(this.configuration,T,"grey")}${j.formatUtils.pretty(this.configuration,O.locator,"IDENT")}
`)}),r+=p+`
`,this.verbose&&u>0&&Object.keys(this.runReport.workspaces).forEach(T=>{let O=this.runReport.workspaces[T];O.skipped&&(r+=` - ${j.formatUtils.pretty(this.configuration,T,"grey")}${j.formatUtils.pretty(this.configuration,O.locator,"IDENT")}
`)}),r+=h+`
`,this.verbose&&this.excluded.size>0)for(let T of this.excluded)r+=` - ${j.formatUtils.pretty(this.configuration,T.relativeCwd,"grey")}${j.formatUtils.pretty(this.configuration,T.anchoredLocator,"IDENT")}
`;r+=A+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces){let o=this.runReport.workspaces[s];i+=o.runtimeSeconds??0}if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,a=Date.now()-this.runReport.runStart,u=Dn(a,s);r+=`Cumulative: (cpu): ${Dn(0,i)}
`,r+=`Saved: ${u}
`}return this.runReport.runStart&&(r+="Runtime (wall): "+Dn(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:s})=>{let o=t.relativeCwd,a={[z.PACKAGE_NAME]:t.anchoredLocator.name,[z.PACKAGE_DIRECTORY]:t.relativeCwd,[z.PACKAGE_COMMAND]:this.runCommand};typeof t.anchoredLocator.scope=="string"&&(a[z.PACKAGE_SCOPE]=`@${t.anchoredLocator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[z.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let l=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit("start",t.relativeCwd,t.anchoredLocator,`${t.manifest.name?.scope?`@${t.manifest.name?.scope}/`:""}${t.manifest.name?.name}`,u),i.addEvent("start"),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit("info",t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit("ignored",t.relativeCwd),i.addEvent("ignored"),!0;try{if(this.runReport.failCount!==0&&!this.continueOnError&&(this.runReporter.emit("skipped",t.relativeCwd),i.addEvent("skipped"),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"skipped",rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let d=await this.cli(s,this.runCommand,t.cwd,this.runReporter,o);if(i.setAttribute(z.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,d),d!==0)return this.runReporter.emit("fail",t.relativeCwd),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"failed",rerun:!0,command:this.runCommand,exitCode:`${d}`}),this.failFast===!0&&(Xe.default&&process.stdout.write(`--fail-fast is set, terminating all processes
`),Od()),!1;this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"succeeded",rerun:!1,command:this.runCommand}),this.runReporter.emit("success",t.relativeCwd)}catch(d){return this.runReporter.emit("fail",t.relativeCwd,d),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"failed",rerun:!0,command:this.runCommand}),(typeof d=="string"||d instanceof Error)&&i.recordException(d),i.setStatus({code:JI.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),Od()),!1}return!1}));let E=d??(0,XI.cpus)().length;this.configuration=s,this.pluginConfiguration=o,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=l,this.concurrency=E,this.continueOnError=_,this.limit=(0,ZI.default)(E),this.queue=new QI.default({concurrency:E,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=Y.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"})),this.ignoreDependencies=p,this.failFast=h}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return Y.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return Y.ppath.resolve(this.project.cwd,".yarn",N5)}async readRunLog(){let t=new Map;try{let r=await Y.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{checksum:r.packages[n].checksum,status:r.packages[n].status,rerun:r.packages[n].rerun,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await Y.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:{...t&&t.packages}};for(let[n]of this.runLog)r.packages[n]={...r.packages[n],...this.runLog.get(n)};await Y.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}if(typeof t.manifest.scripts.get(this.runCommand)>"u")return;let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}markWorkspaceForRerun(t){if(typeof t.manifest.scripts.get(this.runCommand)>"u")return;let r=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:r?.checksum??"",status:"succeeded",rerun:!0,command:this.runCommand})}isWorkspaceMarkedForRerun(t){return typeof t.manifest.scripts.get(this.runCommand)>"u"?!1:this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`)?.rerun??!1}async checkIfRunIsRequired(t){if(typeof this.checkIfRunIsRequiredCache[t.relativeCwd]<"u")return this.checkIfRunIsRequiredCache[t.relativeCwd];if(typeof t.manifest.scripts.get(this.runCommand)!="string")return this.checkIfRunIsRequiredCache[t.relativeCwd]=!1,!1;let r=!1;this.ignoreRunCache&&(r=!0);let n=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);n?.rerun&&(r=!0);for(let f of t.getRecursiveWorkspaceDependencies())if(this.checkIfRunIsRequiredCache[f.relativeCwd]===!0){r=!0;break}let i=MA(t.manifest.raw),s=i?.input!=null,o=typeof i?.output<"u",a=i.input??this.pluginConfiguration.folders.input,u=new Set,l=new Set(Array.isArray(a)?a:[a]),d=i.output??[],_=new Set(Array.isArray(d)?d:[d]);if(o||(typeof t?.manifest?.raw?.bin=="string"?_.add(t.manifest.raw.bin):typeof t?.manifest?.raw?.directories?.bin=="string"?_.add(t.manifest.raw.directories.bin):typeof t?.manifest?.raw?.files=="string"?_.add(t.manifest.raw.files):Array.isArray(t?.manifest?.raw?.files)?t.manifest.raw.files.forEach(f=>f&&_.add(f)):typeof t?.manifest?.raw?.main=="string"&&_.add(t.manifest.raw.main)),!s||!o)try{let f=i.tsconfig??"tsconfig.json",p=Y.xfs.pathUtils.join(t.cwd,Y.npath.toPortablePath(f));if(await Y.xfs.existsPromise(p)){let E=kI(Y.npath.fromPortablePath(p)),A=Y.ppath.dirname(p);if(!s){if(E.compilerOptions?.incremental){let T=E.compilerOptions.tsBuildInfoFile??`${Y.ppath.basename(p,Y.ppath.extname(p))}.tsbuildinfo`,O=Y.ppath.join(A,Y.npath.toPortablePath(T)),R=Y.ppath.relative(t.cwd,O);u.add(R)}E.include?.forEach(T=>{let O=Y.ppath.join(A,Y.npath.toPortablePath(T)),R=Y.ppath.relative(t.cwd,O);l.add(R)}),E.exclude?.forEach(T=>{let O=Y.ppath.join(A,Y.npath.toPortablePath(T)),R=Y.ppath.relative(t.cwd,O);u.add(R)})}if(!o&&E.compilerOptions?.outDir!=null){let T=Y.ppath.join(A,Y.npath.toPortablePath(Y.npath.toPortablePath(E.compilerOptions.outDir))),O=Y.ppath.relative(t.cwd,T);_.add(O)}}}catch(f){console.warn(t.relativeCwd,`
`,f)}_.size===0&&(Array.isArray(this.pluginConfiguration.folders.output)?this.pluginConfiguration.folders.output.forEach(f=>f&&_.add(f)):typeof this.pluginConfiguration.folders.output=="string"&&_.add(this.pluginConfiguration.folders.output));{let f=[...new Set(["node_modules",..._,...u])].map(E=>Y.npath.toPortablePath(E)),p=[...l].map(E=>Y.npath.toPortablePath(E)),h=await this.runReport.mutex.acquire();try{let E=await M5(t.cwd,p,f);if(n?.checksum!==E&&(r=!0),!r){let A=Y.npath.fromPortablePath(t.cwd);(await Promise.all([..._].map(async O=>{try{return(await(0,Nm.default)(O,{dot:!0,cwd:A})).length===0}catch{return!1}}))).some(O=>O===!0)&&(r=!0)}this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:E,status:r?"succeeded":"pending",rerun:r,command:this.runCommand})}catch(E){this.runReport.workspaces[t.relativeCwd]?.stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${E})`))}finally{h()}}return this.checkIfRunIsRequiredCache[t.relativeCwd]=r,r}formatHeader(t,r=0,n=!1){let i="-",s=i.repeat(r),o=this.grey(s),a=this.grey("["),u=this.grey("]"),l=`${o}${a} ${t} ${u}`,d=(0,vd.default)(l).length,_=n?"[ yarn.build ]":"",f=Math.max(tN-(d+_.length),0),p=i.repeat(f),h=this.grey(p),E=this.grey(_);return`${l}${h}${E}`}generateHeaderString(){return`${j.formatUtils.pretty(this.configuration,`${this.runCommand}`,j.FormatType.CODE)} for ${j.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",j.FormatType.SCOPE)}${this.dryRun?j.formatUtils.pretty(this.configuration," --dry-run",j.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-n.start)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=o=>this.grey(`[${o}]`),i=j.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let s=1;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(!a||!a.start||a.done)continue;let u=j.formatUtils.pretty(this.configuration,o,j.FormatType.PATH),l=j.formatUtils.pretty(this.configuration,`(${a.runScript})`,j.FormatType.REFERENCE),d=a.start?j.formatUtils.pretty(this.configuration,Dn(a.start,t),j.FormatType.RANGE):"",_=n(s++),f=" ".repeat(_.length-1),p=j.formatUtils.pretty(this.configuration,a.name,j.FormatType.NAME),h=`${_} ${p}${j.formatUtils.pretty(this.configuration,"@","grey")}${u} ${l} ${d}
`,E="",A="",T="";(0,vd.default)(h).length>=process.stdout.columns&&(E=`${_} ${u}${p}
`,A=`${f} ${l} ${d}
`,(0,vd.default)(E).length>=process.stdout.columns&&(E=(0,Pd.default)(`${_} ${u}
`,0,process.stdout.columns),A=(0,Pd.default)(`${f} ${p}
`,0,process.stdout.columns),T=(0,Pd.default)(`${f} ${l} ${d}
`,0,process.stdout.columns)),h=E+A+T),r+=h}for(s;s<this.concurrency+1;)r+=`${n(s++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},M5=async(e,t,r)=>{let n=await(0,Nm.default)(t,{cwd:Y.npath.fromPortablePath(e),absolute:!0,expandDirectories:!0,dot:!0,ignore:r});n.sort();let i=await Promise.all(n.map(async s=>{let o=Y.npath.toPortablePath(s),a=await Y.xfs.statPromise(o);return{path:Y.ppath.relative(e,o),size:a.isFile()?a.size:0,lastModified:a.isFile()?a.mtimeMs:0}}));return(0,eN.default)(i)},Dn=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function w5(e){return new Promise(t=>setTimeout(t,e))}var rN=Im;var nN=v("child_process"),iN=v("util"),D5=(0,iN.promisify)(nN.exec);function x5(e){let{commit:t,sinceBranch:r}=e;if(t)return`git diff --name-only ..${t}`;if(r)return`git diff --name-only ${r}...`;throw new Error("Unable to determine how to detect changes.")}async function Lm(e){try{let t=x5(e),{stdout:r}=await D5(t),n=r.split(`
`),s=e.root.project.workspaces.filter(o=>n.some(a=>a.startsWith(o.relativeCwd.replace(/^\.\//,"")))).reduce((o,a)=>{let u=a.getRecursiveWorkspaceDependents();return new Set([...o,...u,a])},new Set);return Array.from(s.values())}catch{return[]}}var xn=v("@yarnpkg/core");var sN=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...sN(i,t))}return r},oN=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=sN(e,t);for(let i of n)for(let s of xn.Manifest.hardDependencies){for(let o of i.manifest.getForScope(s).values()){let a=t.tryWorkspaceByDescriptor(o);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof Ro){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,s=n.node.length<n.dep.length+4?"\u21B0":"",o=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${xn.formatUtils.pretty(r.configuration,n.node,"white")} ${s}
 \u21B3 ${xn.formatUtils.pretty(r.configuration,n.dep,"red")} ${o}

`,i+=xn.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=xn.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var Co=te(P());var Bn=class extends Cd.BaseCommand{constructor(){super(...arguments);this.json=de.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=de.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=de.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=de.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=de.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=de.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a job, but not actually run it"});this.ignoreBuildCache=de.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=de.Option.String("-m,--max-concurrency",{description:"is the maximum number of jobs that can run at a time, defaults to the number of logical CPUs on the current machine."});this.continueOnError=de.Option.Boolean("--continue-on-error",!1,{description:"if a job fails, continue with the rest"});this.failFast=de.Option.Boolean("--fail-fast",!1,{description:"if a job fails, terminate other running jobs"});this.exclude=de.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=de.Option.Boolean("--exclude-current",!1,{description:"run for this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=de.Option.Boolean("--changes",!1,{description:"only run for packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=de.Option.String("--since",{description:"only run for packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=de.Option.String("--since-branch",{description:"only run for packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=de.Option.Boolean("--only-current",!1,{description:"only run for the current workspace"});this.ignoreDependencies=de.Option.Boolean("--ignore-dependencies",!1,{description:"when true, don't run for packages this one depends on"});this.buildTargets=de.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.commandType="build"}async execute(){return await new sr("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:n,ctx:i})=>{n.setAttributes({[z.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[z.YARN_BUILD_FLAGS_ALL]:this.all,[z.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[z.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[z.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[z.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[z.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[z.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[z.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[z.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[z.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[z.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[z.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[z.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[z.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[z.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let s=await Fe.Configuration.find(this.context.cwd,this.context.plugins),{project:o,workspace:a}=await Fe.Project.find(s,this.context.cwd);if(!a)throw new Cd.WorkspaceRequiredError(o.cwd,this.context.cwd);let u=this.all?o.topLevelWorkspace:a,l=!1;u==o.topLevelWorkspace&&(l=!0);let d=[u,...this.buildTargets.length>0?u.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?d=await Lm({root:o.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(d=await Lm({root:o.topLevelWorkspace,commit:this.onlyGitChangesSinceCommit??"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(Fe.structUtils.stringifyIdent(a.anchoredLocator)),!l&&this.onlyCurrent&&(this.maxConcurrency="1");let _=T=>!l&&this.onlyCurrent?T!=a:this.exclude?.some(O=>Po.default.isMatch(Fe.structUtils.stringifyIdent(T.anchoredLocator),O)||Po.default.isMatch(T.cwd,`${s.projectCwd}${Mm.default.posix.sep}${O}`))??!1,f=T=>!l&&this.onlyCurrent?T==a:this.buildTargets.some(O=>Po.default.isMatch(Fe.structUtils.stringifyIdent(T.anchoredLocator),O)||Po.default.isMatch(T.cwd,`${s.projectCwd}${Mm.default.posix.sep}${O}`)),p=this.buildTargets.length>0?d.filter(f):d,h=await LA(s);this.continueOnError=this.continueOnError??!!h.bail;let E=this.maxConcurrency===void 0?(0,aN.cpus)().length:parseInt(this.maxConcurrency);n.setAttributes({[z.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[z.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[z.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[z.YARN_BUILD_CONFIG_BAIL]:h.bail,[z.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[z.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:E,[z.YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES]:this.ignoreDependencies});let A=await Fe.StreamReport.start({configuration:s,json:this.json,stdout:this.context.stdout,includeLogs:!0},async T=>{let O=async(y,B,w,x,W)=>{let ue=Co.trace.getSpan(y),m=new Fe.miscUtils.BufferStream;m.on("data",L=>x?.emit("info",W,L&&L.toString()));let N=new Fe.miscUtils.BufferStream;if(N.on("data",L=>x?.emit("error",W,L&&L.toString())),this.forceQuit)return m.destroy(),N.destroy(),m.end(),N.end(),2;try{let L=await this.cli.run(["run",B],{cwd:w,stdout:m,stderr:N})||0;return m.end(),N.end(),L}catch(L){ue?.setStatus({code:Co.SpanStatusCode.ERROR,message:L.message}),(typeof L=="string"||L instanceof Error)&&ue?.recordException(L),m.end(),N.end()}return 2},R=new rN({project:o,configuration:s,pluginConfiguration:h,report:T,runCommand:this.buildCommand,cli:O,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:E,continueOnError:this.continueOnError,excludeWorkspacePredicate:_,ignoreDependencies:this.ignoreDependencies,failFast:this.failFast});R.runReporter.on("force-quit",()=>{this.forceQuit=!0}),await R.setup();for(let y of p)await oN({targetWorkspace:y,project:o,supervisor:R});await R.run(i)===!1&&(T.reportError(Fe.MessageName.BUILD_FAILED,"Build failed"),n.setStatus({code:Co.SpanStatusCode.ERROR,message:"Build failed"}))});return ns.hasBeenTerminated=!0,A.exitCode()})}};Bn.paths=[["build"]],Bn.usage=de.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var mN=v("@yarnpkg/cli"),SN=v("@yarnpkg/core"),Nd=v("@yarnpkg/core"),AN=v("clipanion");var St=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var uN=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>St(i)),n=Array.from(t.workspaces.values()).map(i=>St(i.manifest.name));return r.filter(i=>n.includes(i))};var cN=({project:e,workspaceName:t})=>e.workspaces.find(n=>St(n.manifest.name)===t);var _N=v("@yarnpkg/core");var B5={firstCharacters:"\u27A4 ",tabString:"\u2502 "},lN="gray",Io=({format:e,padding:t,step:r=5,characters:n=B5})=>{let{firstCharacters:i,tabString:s}=n,o=s.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((l,d)=>d<o.length?o[d]:l).join("");process.stdout.write(e(u,lN))}process.stdout.write(e(i,lN))};var U5=_N.FormatType.NAME,dN="red",fN=({format:e,circular:t,dependency:r,parents:n,current:i,project:s,padding:o=0})=>{if(t){Io({format:e,padding:o+1}),process.stdout.write(e(r,U5)),process.stdout.write(e(" -> circular dependency",dN)),process.stdout.write(`
`);return}let a=cN({project:s,workspaceName:r});if(!a){Io({format:e,padding:o+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",dN)),process.stdout.write(`
`);return}Id({format:e,project:s,parent:i,parents:[...n,i],padding:o+1,workspace:a})};var pN=({format:e,workspace:t,parent:r,parents:n,project:i,padding:s=0})=>{let o=uN({workspace:t,project:i});for(let a of o)fN({format:e,workspace:t,project:i,padding:s,parent:r,parents:n,current:St(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var hN=v("@yarnpkg/core");var G5=hN.FormatType.NAME,EN=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=St(n);Io({format:e,padding:r}),process.stdout.write(e(i,G5)),process.stdout.write(`
`)};var Id=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:s})=>{EN({workspace:t,padding:i,format:e}),pN({parents:n,workspace:t,project:r,padding:i,parent:s,format:e})};var No=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var gN=({workspace:e,format:t})=>{let r=St(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),No({padding:1})};var Un=class extends mN.BaseCommand{async execute(){let t=await Nd.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await Nd.Project.find(t,this.context.cwd);if(!n)return 0;let i=(s,o)=>SN.formatUtils.pretty(t,s,o);return No({padding:1}),gN({workspace:n,format:i}),Id({parents:[],workspace:n,project:r,format:i}),No({padding:2}),0}};Un.paths=[["build","query"]],Un.usage=AN.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var j5={commands:[Bn,Un]},F5=j5;return IN(q5);})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
