/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-build",
factory: function (require) {
var plugin=(()=>{var nc=Object.create,Ct=Object.defineProperty,ic=Object.defineProperties,oc=Object.getOwnPropertyDescriptor,sc=Object.getOwnPropertyDescriptors,ac=Object.getOwnPropertyNames,Pi=Object.getOwnPropertySymbols,uc=Object.getPrototypeOf,Li=Object.prototype.hasOwnProperty,lc=Object.prototype.propertyIsEnumerable;var Ni=(e,t,r)=>t in e?Ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))Li.call(t,r)&&Ni(e,r,t[r]);if(Pi)for(var r of Pi(t))lc.call(t,r)&&Ni(e,r,t[r]);return e},V=(e,t)=>ic(e,sc(t)),cc=e=>Ct(e,"__esModule",{value:!0});var T=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var C=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fc=(e,t)=>{for(var r in t)Ct(e,r,{get:t[r],enumerable:!0})},pc=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ac(t))!Li.call(e,n)&&n!=="default"&&Ct(e,n,{get:()=>t[n],enumerable:!(r=oc(t,n))||r.enumerable});return e},O=e=>pc(cc(Ct(e!=null?nc(uc(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Qi=C((zm,Ki)=>{function Bi(e){return Array.isArray(e)?e:[e]}var Hi="",qi=" ",jr="\\",hc=/^\s+$/,dc=/^\\!/,mc=/^\\#/,gc=/\r?\n/g,yc=/^\.*\/|^\.+$/,Ur="/",ji=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",vc=(e,t,r)=>Object.defineProperty(e,t,{value:r}),bc=/([0-z])-([0-z])/g,xc=e=>e.replace(bc,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Hi),_c=e=>{let{length:t}=e;return e.slice(0,t-t%2)},Cc=[[/\\?\s+$/,e=>e.indexOf("\\")===0?qi:Hi],[/\\\s/g,()=>qi],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>jr],[/\\\\/g,()=>jr],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===jr?`\\[${r}${_c(n)}${i}`:i==="]"&&n.length%2==0?`[${xc(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Ui=Object.create(null),Ac=(e,t,r)=>{let n=Ui[e];if(n)return n;let i=Cc.reduce((o,s)=>o.replace(s[0],s[1].bind(e)),e);return Ui[e]=r?new RegExp(i,"i"):new RegExp(i)},Gr=e=>typeof e=="string",wc=e=>e&&Gr(e)&&!hc.test(e)&&e.indexOf("#")!==0,Ec=e=>e.split(gc),Gi=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},Rc=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(dc,"!").replace(mc,"#");let i=Ac(e,n,t);return new Gi(r,e,n,i)},Sc=(e,t)=>{throw new t(e)},Ne=(e,t,r)=>Gr(e)?e?Ne.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Wi=e=>yc.test(e);Ne.isNotRelative=Wi;Ne.convert=e=>e;var Yi=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,vc(this,ji,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[ji]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(wc(t)){let r=Rc(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Bi(Gr(t)?Ec(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(o=>{let{negative:s}=o;if(i===s&&n!==i||s&&!n&&!i&&!r)return;o.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let o=t&&Ne.convert(t);return Ne(o,t,Sc),this._t(o,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Ur)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let o=this._t(i.join(Ur)+Ur,r,n,i);return r[t]=o.ignored?o:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Bi(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},or=e=>new Yi(e),kc=()=>!1,Ic=e=>Ne(e&&Ne.convert(e),e,kc);or.isPathValid=Ic;or.default=or;Ki.exports=or;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Ne.convert=e;let t=/^[a-z]:\//i;Ne.isNotRelative=r=>t.test(r)||Wi(r)}});var zi=C(Wr=>{var Xe=T("path"),qe=process.platform==="win32",je=T("fs"),Tc=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Oc(){var e;if(Tc){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function Pc(e){return typeof e=="function"?e:Oc()}var Xm=Xe.normalize;qe?Fe=/(.*?)(?:[\/\\]+|$)/g:Fe=/(.*?)(?:[\/]+|$)/g;var Fe;qe?At=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:At=/^[\/]*/;var At;Wr.realpathSync=function(t,r){if(t=Xe.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},o={},s,a,u,l;f();function f(){var b=At.exec(t);s=b[0].length,a=b[0],u=b[0],l="",qe&&!o[u]&&(je.lstatSync(u),o[u]=!0)}for(;s<t.length;){Fe.lastIndex=s;var p=Fe.exec(t);if(l=a,a+=p[0],u=l+p[1],s=Fe.lastIndex,!(o[u]||r&&r[u]===u)){var c;if(r&&Object.prototype.hasOwnProperty.call(r,u))c=r[u];else{var h=je.lstatSync(u);if(!h.isSymbolicLink()){o[u]=!0,r&&(r[u]=u);continue}var d=null;if(!qe){var m=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(m)&&(d=i[m])}d===null&&(je.statSync(u),d=je.readlinkSync(u)),c=Xe.resolve(l,d),r&&(r[u]=c),qe||(i[m]=d)}t=Xe.resolve(c,t.slice(s)),f()}}return r&&(r[n]=t),t};Wr.realpath=function(t,r,n){if(typeof n!="function"&&(n=Pc(r),r=null),t=Xe.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,o={},s={},a,u,l,f;p();function p(){var b=At.exec(t);a=b[0].length,u=b[0],l=b[0],f="",qe&&!s[l]?je.lstat(l,function(x){if(x)return n(x);s[l]=!0,c()}):process.nextTick(c)}function c(){if(a>=t.length)return r&&(r[i]=t),n(null,t);Fe.lastIndex=a;var b=Fe.exec(t);return f=u,u+=b[0],l=f+b[1],a=Fe.lastIndex,s[l]||r&&r[l]===l?process.nextTick(c):r&&Object.prototype.hasOwnProperty.call(r,l)?m(r[l]):je.lstat(l,h)}function h(b,x){if(b)return n(b);if(!x.isSymbolicLink())return s[l]=!0,r&&(r[l]=l),process.nextTick(c);if(!qe){var _=x.dev.toString(32)+":"+x.ino.toString(32);if(o.hasOwnProperty(_))return d(null,o[_],l)}je.stat(l,function(S){if(S)return n(S);je.readlink(l,function(P,L){qe||(o[_]=L),d(P,L)})})}function d(b,x,_){if(b)return n(b);var S=Xe.resolve(f,x);r&&(r[_]=S),m(S)}function m(b){t=Xe.resolve(b,t.slice(a)),p()}}});var zr=C((Vm,Ji)=>{Ji.exports=Ue;Ue.realpath=Ue;Ue.sync=Qr;Ue.realpathSync=Qr;Ue.monkeypatch=Nc;Ue.unmonkeypatch=Fc;var st=T("fs"),Yr=st.realpath,Kr=st.realpathSync,Lc=process.version,Xi=/^v[0-5]\./.test(Lc),Zi=zi();function Vi(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Ue(e,t,r){if(Xi)return Yr(e,t,r);typeof t=="function"&&(r=t,t=null),Yr(e,t,function(n,i){Vi(n)?Zi.realpath(e,t,r):r(n,i)})}function Qr(e,t){if(Xi)return Kr(e,t);try{return Kr(e,t)}catch(r){if(Vi(r))return Zi.realpathSync(e,t);throw r}}function Nc(){st.realpath=Ue,st.realpathSync=Qr}function Fc(){st.realpath=Yr,st.realpathSync=Kr}});var to=C((Jm,eo)=>{eo.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);$c(i)?r.push.apply(r,i):r.push(i)}return r};var $c=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var so=C((eg,oo)=>{"use strict";oo.exports=ro;function ro(e,t,r){e instanceof RegExp&&(e=no(e,r)),t instanceof RegExp&&(t=no(t,r));var n=io(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function no(e,t){var r=t.match(e);return r?r[0]:null}ro.range=io;function io(e,t,r){var n,i,o,s,a,u=r.indexOf(e),l=r.indexOf(t,u+1),f=u;if(u>=0&&l>0){if(e===t)return[u,l];for(n=[],o=r.length;f>=0&&!a;)f==u?(n.push(f),u=r.indexOf(e,f+1)):n.length==1?a=[n.pop(),l]:(i=n.pop(),i<o&&(o=i,s=l),l=r.indexOf(t,f+1)),f=u<l&&u>=0?u:l;n.length&&(a=[o,s])}return a}});var mo=C((tg,ho)=>{var Dc=to(),ao=so();ho.exports=Hc;var uo="\0SLASH"+Math.random()+"\0",lo="\0OPEN"+Math.random()+"\0",Xr="\0CLOSE"+Math.random()+"\0",co="\0COMMA"+Math.random()+"\0",fo="\0PERIOD"+Math.random()+"\0";function Zr(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Mc(e){return e.split("\\\\").join(uo).split("\\{").join(lo).split("\\}").join(Xr).split("\\,").join(co).split("\\.").join(fo)}function Bc(e){return e.split(uo).join("\\").split(lo).join("{").split(Xr).join("}").split(co).join(",").split(fo).join(".")}function po(e){if(!e)return[""];var t=[],r=ao("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=po(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),t.push.apply(t,s),t}function Hc(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),at(Mc(e),!0).map(Bc)):[]}function qc(e){return"{"+e+"}"}function jc(e){return/^-?0\d/.test(e)}function Uc(e,t){return e<=t}function Gc(e,t){return e>=t}function at(e,t){var r=[],n=ao("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Xr+n.post,at(e)):[e];var u;if(s)u=n.body.split(/\.\./);else if(u=po(n.body),u.length===1&&(u=at(u[0],!1).map(qc),u.length===1)){var f=n.post.length?at(n.post,!1):[""];return f.map(function(v){return n.pre+u[0]+v})}var l=n.pre,f=n.post.length?at(n.post,!1):[""],p;if(s){var c=Zr(u[0]),h=Zr(u[1]),d=Math.max(u[0].length,u[1].length),m=u.length==3?Math.abs(Zr(u[2])):1,b=Uc,x=h<c;x&&(m*=-1,b=Gc);var _=u.some(jc);p=[];for(var S=c;b(S,h);S+=m){var P;if(o)P=String.fromCharCode(S),P==="\\"&&(P="");else if(P=String(S),_){var L=d-P.length;if(L>0){var Q=new Array(L+1).join("0");S<0?P="-"+Q+P.slice(1):P=Q+P}}p.push(P)}}else p=Dc(u,function(j){return at(j,!1)});for(var D=0;D<p.length;D++)for(var I=0;I<f.length;I++){var E=l+p[D]+f[I];(!t||s||E)&&r.push(E)}return r}});var ar=C((rg,_o)=>{_o.exports=Ce;Ce.Minimatch=re;var wt={sep:"/"};try{wt=T("path")}catch(e){}var Vr=Ce.GLOBSTAR=re.GLOBSTAR={},Wc=mo(),go={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Jr="[^/]",en=Jr+"*?",Yc="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Kc="(?:(?!(?:\\/|^)\\.).)*?",yo=Qc("().*{}+?[]^$\\!");function Qc(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var vo=/\/+/;Ce.filter=zc;function zc(e,t){return t=t||{},function(r,n,i){return Ce(r,e,t)}}function bo(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Ce.defaults=function(e){if(!e||!Object.keys(e).length)return Ce;var t=Ce,r=function(i,o,s){return t.minimatch(i,o,bo(e,s))};return r.Minimatch=function(i,o){return new t.Minimatch(i,bo(e,o))},r};re.defaults=function(e){return!e||!Object.keys(e).length?re:Ce.defaults(e).Minimatch};function Ce(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new re(t,r).match(e)}function re(e,t){if(!(this instanceof re))return new re(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),wt.sep!=="/"&&(e=e.split(wt.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}re.prototype.debug=function(){};re.prototype.make=Xc;function Xc(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(vo)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}re.prototype.parseNegate=Zc;function Zc(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Ce.braceExpand=function(e,t){return xo(e,t)};re.prototype.braceExpand=xo;function xo(e,t){if(t||(this instanceof re?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:Wc(e)}re.prototype.parse=Vc;var sr={};function Vc(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return Vr;if(e==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],u,l=!1,f=-1,p=-1,c=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function d(){if(u){switch(u){case"*":n+=en,i=!0;break;case"?":n+=Jr,i=!0;break;default:n+="\\"+u;break}h.debug("clearStateChar %j %j",u,n),u=!1}}for(var m=0,b=e.length,x;m<b&&(x=e.charAt(m));m++){if(this.debug("%s	%s %s %j",e,m,n,x),o&&yo[x]){n+="\\"+x,o=!1;continue}switch(x){case"/":return!1;case"\\":d(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,m,n,x),l){this.debug("  in class"),x==="!"&&m===p+1&&(x="^"),n+=x;continue}h.debug("call clearStateChar %j",u),d(),u=x,r.noext&&d();continue;case"(":if(l){n+="(";continue}if(!u){n+="\\(";continue}s.push({type:u,start:m-1,reStart:n.length,open:go[u].open,close:go[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(l||!s.length){n+="\\)";continue}d(),i=!0;var _=s.pop();n+=_.close,_.type==="!"&&a.push(_),_.reEnd=n.length;continue;case"|":if(l||!s.length||o){n+="\\|",o=!1;continue}d(),n+="|";continue;case"[":if(d(),l){n+="\\"+x;continue}l=!0,p=m,f=n.length,n+=x;continue;case"]":if(m===p+1||!l){n+="\\"+x,o=!1;continue}if(l){var S=e.substring(p+1,m);try{RegExp("["+S+"]")}catch(de){var P=this.parse(S,sr);n=n.substr(0,f)+"\\["+P[0]+"\\]",i=i||P[1],l=!1;continue}}i=!0,l=!1,n+=x;continue;default:d(),o?o=!1:yo[x]&&!(x==="^"&&l)&&(n+="\\"),n+=x}}for(l&&(S=e.substr(p+1),P=this.parse(S,sr),n=n.substr(0,f)+"\\["+P[0],i=i||P[1]),_=s.pop();_;_=s.pop()){var L=n.slice(_.reStart+_.open.length);this.debug("setting tail",n,_),L=L.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(de,ie,He){return He||(He="\\"),ie+ie+He+"|"}),this.debug(`tail=%j
   %s`,L,L,_,n);var Q=_.type==="*"?en:_.type==="?"?Jr:"\\"+_.type;i=!0,n=n.slice(0,_.reStart)+Q+"\\("+L}d(),o&&(n+="\\\\");var D=!1;switch(n.charAt(0)){case".":case"[":case"(":D=!0}for(var I=a.length-1;I>-1;I--){var E=a[I],j=n.slice(0,E.reStart),v=n.slice(E.reStart,E.reEnd-8),H=n.slice(E.reEnd-8,E.reEnd),q=n.slice(E.reEnd);H+=q;var Ie=j.split("(").length-1,g=q;for(m=0;m<Ie;m++)g=g.replace(/\)[+*?]?/,"");q=g;var y="";q===""&&t!==sr&&(y="$");var ne=j+v+q+y+H;n=ne}if(n!==""&&i&&(n="(?=.)"+n),D&&(n=c+n),t===sr)return[n,i];if(!i)return tf(e);var M=r.nocase?"i":"";try{var fe=new RegExp("^"+n+"$",M)}catch(de){return new RegExp("$.")}return fe._glob=e,fe._src=n,fe}Ce.makeRe=function(e,t){return new re(e,t||{}).makeRe()};re.prototype.makeRe=Jc;function Jc(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?en:t.dot?Yc:Kc,n=t.nocase?"i":"",i=e.map(function(o){return o.map(function(s){return s===Vr?r:typeof s=="string"?rf(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(o){this.regexp=!1}return this.regexp}Ce.match=function(e,t,r){r=r||{};var n=new re(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};re.prototype.match=ef;function ef(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;wt.sep!=="/"&&(e=e.split(wt.sep).join("/")),e=e.split(vo),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=e.length-1;o>=0&&(i=e[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=e;r.matchBase&&s.length===1&&(a=[i]);var u=this.matchOne(a,s,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}re.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,s=e.length,a=t.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u=t[o],l=e[i];if(this.debug(t,u,l),u===!1)return!1;if(u===Vr){this.debug("GLOBSTAR",[t,u,l]);var f=i,p=o+1;if(p===a){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;f<s;){var c=e[f];if(this.debug(`
globstar while`,e,f,t,p,c),this.matchOne(e.slice(f),t.slice(p),r))return this.debug("globstar found match!",f,s,c),!0;if(c==="."||c===".."||!n.dot&&c.charAt(0)==="."){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,f,t,p),f===s))}var h;if(typeof u=="string"?(n.nocase?h=l.toLowerCase()===u.toLowerCase():h=l===u,this.debug("string match",u,l,h)):(h=l.match(u),this.debug("pattern match",u,l,h)),!h)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a){var d=i===s-1&&e[i]==="";return d}throw new Error("wtf?")};function tf(e){return e.replace(/\\(.)/g,"$1")}function rf(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Co=C((ng,tn)=>{typeof Object.create=="function"?tn.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:tn.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Ao=C((ig,nn)=>{try{if(rn=T("util"),typeof rn.inherits!="function")throw"";nn.exports=rn.inherits}catch(e){nn.exports=Co()}var rn});var lr=C((og,ur)=>{"use strict";function wo(e){return e.charAt(0)==="/"}function Eo(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}ur.exports=process.platform==="win32"?Eo:wo;ur.exports.posix=wo;ur.exports.win32=Eo});var sn=C(Ge=>{Ge.setopts=lf;Ge.ownProp=Ro;Ge.makeAbs=Et;Ge.finish=cf;Ge.mark=ff;Ge.isIgnored=ko;Ge.childrenIgnored=pf;function Ro(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var nf=T("fs"),ut=T("path"),of=ar(),So=lr(),on=of.Minimatch;function sf(e,t){return e.localeCompare(t,"en")}function af(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(uf))}function uf(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new on(r,{dot:!0})}return{matcher:new on(e,{dot:!0}),gmatcher:t}}function lf(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||nf,e.maxLength=r.maxLength||Infinity,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),af(e,r),e.changedCwd=!1;var n=process.cwd();Ro(r,"cwd")?(e.cwd=ut.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||ut.resolve(e.cwd,"/"),e.root=ut.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=So(e.cwd)?e.cwd:Et(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new on(t,r),e.options=e.minimatch.options}function cf(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var a=Object.keys(o);t?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(sf)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(u){var l=!/\/$/.test(u),f=e.cache[u]||e.cache[Et(e,u)];return l&&f&&(l=f!=="DIR"&&!Array.isArray(f)),l}))}e.ignore.length&&(r=r.filter(function(u){return!ko(e,u)})),e.found=r}function ff(e,t){var r=Et(e,t),n=e.cache[r],i=t;if(n){var o=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=Et(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function Et(e,t){var r=t;return t.charAt(0)==="/"?r=ut.join(e.root,t):So(t)||t===""?r=t:e.changedCwd?r=ut.resolve(e.cwd,t):r=ut.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function ko(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function pf(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var Lo=C((cg,Po)=>{Po.exports=Oo;Oo.GlobSync=te;var hf=zr(),Io=ar(),ag=Io.Minimatch,ug=ln().Glob,lg=T("util"),an=T("path"),To=T("assert"),cr=lr(),Ze=sn(),df=Ze.setopts,un=Ze.ownProp,mf=Ze.childrenIgnored,gf=Ze.isIgnored;function Oo(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new te(e,t).found}function te(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof te))return new te(e,t);if(df(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}te.prototype._finish=function(){if(To(this instanceof te),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var o=hf.realpathSync(i,e.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}Ze.finish(this)};te.prototype._process=function(e,t,r){To(this instanceof te);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var o=e.slice(n),s;i===null?s=".":((cr(i)||cr(e.join("/")))&&(!i||!cr(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!mf(this,s)){var u=o[0]===Io.GLOBSTAR;u?this._processGlobStar(i,s,a,o,t,r):this._processReaddir(i,s,a,o,t,r)}};te.prototype._processReaddir=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){for(var a=n[0],u=!!this.minimatch.negate,l=a._glob,f=this.dot||l.charAt(0)===".",p=[],c=0;c<s.length;c++){var h=s[c];if(h.charAt(0)!=="."||f){var d;u&&!e?d=!h.match(a):d=h.match(a),d&&p.push(h)}}var m=p.length;if(m!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var c=0;c<m;c++){var h=p[c];e&&(e.slice(-1)!=="/"?h=e+"/"+h:h=e+h),h.charAt(0)==="/"&&!this.nomount&&(h=an.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var c=0;c<m;c++){var h=p[c],b;e?b=[e,h]:b=[h],this._process(b.concat(n),i,o)}}}};te.prototype._emitMatch=function(e,t){if(!gf(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};te.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};te.prototype._readdir=function(e,t){var r;if(t&&!un(this.symlinks,e))return this._readdirInGlobStar(e);if(un(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};te.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};te.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};te.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){var a=n.slice(1),u=e?[e]:[],l=u.concat(a);this._process(l,i,!1);var f=s.length,p=this.symlinks[r];if(!(p&&o))for(var c=0;c<f;c++){var h=s[c];if(!(h.charAt(0)==="."&&!this.dot)){var d=u.concat(s[c],a);this._process(d,i,!0);var m=u.concat(s[c],n);this._process(m,i,!0)}}}};te.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&cr(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=an.join(this.root,e):(e=an.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};te.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&un(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(a){i=o}else i=o}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};te.prototype._mark=function(e){return Ze.mark(this,e)};te.prototype._makeAbs=function(e){return Ze.makeAbs(this,e)}});var cn=C((fg,Fo)=>{Fo.exports=No;function No(e,t){if(e&&t)return No(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var pn=C((pg,fn)=>{var $o=cn();fn.exports=$o(fr);fn.exports.strict=$o(Do);fr.proto=fr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return fr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Do(this)},configurable:!0})});function fr(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function Do(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var Bo=C((hg,Mo)=>{var yf=cn(),Rt=Object.create(null),vf=pn();Mo.exports=yf(bf);function bf(e,t){return Rt[e]?(Rt[e].push(t),null):(Rt[e]=[t],xf(e))}function xf(e){return vf(function t(){var r=Rt[e],n=r.length,i=_f(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Rt[e]}})}function _f(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var ln=C((gg,qo)=>{qo.exports=Je;var Cf=zr(),Ho=ar(),dg=Ho.Minimatch,Af=Ao(),wf=T("events").EventEmitter,hn=T("path"),dn=T("assert"),St=lr(),mn=Lo(),Ve=sn(),Ef=Ve.setopts,gn=Ve.ownProp,yn=Bo(),mg=T("util"),Rf=Ve.childrenIgnored,Sf=Ve.isIgnored,kf=pn();function Je(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return mn(e,t)}return new U(e,t,r)}Je.sync=mn;var If=Je.GlobSync=mn.GlobSync;Je.glob=Je;function Tf(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}Je.hasMagic=function(e,t){var r=Tf({},t);r.noprocess=!0;var n=new U(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};Je.Glob=U;Af(U,wf);function U(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new If(e,t)}if(!(this instanceof U))return new U(e,t,r);Ef(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=kf(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}U.prototype._finish=function(){if(dn(this instanceof U),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Ve.finish(this),this.emit("end",this.found)}};U.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e==0&&t._finish()}};U.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,o=n.length;if(o===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),Cf.realpath(a,i.realpathCache,function(l,f){l?l.syscall==="stat"?s[a]=!0:i.emit("error",l):s[f]=!0,--o==0&&(i.matches[e]=s,t())})})};U.prototype._mark=function(e){return Ve.mark(this,e)};U.prototype._makeAbs=function(e){return Ve.makeAbs(this,e)};U.prototype.abort=function(){this.aborted=!0,this.emit("abort")};U.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};U.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};U.prototype._process=function(e,t,r,n){if(dn(this instanceof U),dn(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var o;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:o=null;break;default:o=e.slice(0,i).join("/");break}var s=e.slice(i),a;o===null?a=".":((St(o)||St(e.join("/")))&&(!o||!St(o))&&(o="/"+o),a=o);var u=this._makeAbs(a);if(Rf(this,a))return n();var l=s[0]===Ho.GLOBSTAR;l?this._processGlobStar(o,a,u,s,t,r,n):this._processReaddir(o,a,u,s,t,r,n)}};U.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,l){return a._processReaddir2(e,t,r,n,i,o,l,s)})};U.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();for(var u=n[0],l=!!this.minimatch.negate,f=u._glob,p=this.dot||f.charAt(0)===".",c=[],h=0;h<s.length;h++){var d=s[h];if(d.charAt(0)!=="."||p){var m;l&&!e?m=!d.match(u):m=d.match(u),m&&c.push(d)}}var b=c.length;if(b===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<b;h++){var d=c[h];e&&(e!=="/"?d=e+"/"+d:d=e+d),d.charAt(0)==="/"&&!this.nomount&&(d=hn.join(this.root,d)),this._emitMatch(i,d)}return a()}n.shift();for(var h=0;h<b;h++){var d=c[h],x;e&&(e!=="/"?d=e+"/"+d:d=e+d),this._process([d].concat(n),i,o,a)}a()};U.prototype._emitMatch=function(e,t){if(!this.aborted&&!Sf(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=St(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};U.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=yn(r,o);i&&n.fs.lstat(e,i);function o(s,a){if(s&&s.code==="ENOENT")return t();var u=a&&a.isSymbolicLink();n.symlinks[e]=u,!u&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};U.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=yn("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!gn(this.symlinks,e))return this._readdirInGlobStar(e,r);if(gn(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,Of(this,e,r))}};function Of(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}U.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};U.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};U.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,l){a._processGlobStar2(e,t,r,n,i,o,l,s)})};U.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var u=n.slice(1),l=e?[e]:[],f=l.concat(u);this._process(f,i,!1,a);var p=this.symlinks[r],c=s.length;if(p&&o)return a();for(var h=0;h<c;h++){var d=s[h];if(!(d.charAt(0)==="."&&!this.dot)){var m=l.concat(s[h],u);this._process(m,i,!0,a);var b=l.concat(s[h],n);this._process(b,i,!0,a)}}a()};U.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};U.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&St(e)&&!this.nomount){var o=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=hn.join(this.root,e):(e=hn.resolve(this.root,e),o&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};U.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&gn(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,s)}var u=this,l=yn("stat\0"+r,f);l&&u.fs.lstat(r,l);function f(p,c){if(c&&c.isSymbolicLink())return u.fs.stat(r,function(h,d){h?u._stat2(e,r,null,c,t):u._stat2(e,r,h,d,t)});u._stat2(e,r,p,c,t)}};U.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var o=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&s==="FILE"?i():i(null,s,n)}});var Uo=C((yg,et)=>{var kt=ln(),jo=function(e,t){return new Promise((r,n)=>{kt(e,t,(i,o)=>i===null?r(o):n(i))})};et.exports=jo;et.exports.glob=kt;et.exports.Glob=kt.Glob;et.exports.hasMagic=kt.hasMagic;et.exports.promise=jo;et.exports.sync=kt.sync});var lt=C((Tg,tt)=>{"use strict";function zo(e){return typeof e=="undefined"||e===null}function Nf(e){return typeof e=="object"&&e!==null}function Ff(e){return Array.isArray(e)?e:zo(e)?[]:[e]}function $f(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function Df(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function Mf(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}tt.exports.isNothing=zo;tt.exports.isObject=Nf;tt.exports.toArray=Ff;tt.exports.repeat=Df;tt.exports.isNegativeZero=Mf;tt.exports.extend=$f});var ct=C((Og,Zo)=>{"use strict";function Xo(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function It(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Xo(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}It.prototype=Object.create(Error.prototype);It.prototype.constructor=It;It.prototype.toString=function(t){return this.name+": "+Xo(this,t)};Zo.exports=It});var Jo=C((Pg,Vo)=>{"use strict";var Tt=lt();function bn(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function xn(e,t){return Tt.repeat(" ",t-e.length)+e}function Bf(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",u,l,f=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+f+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)l=bn(e.buffer,n[s-u],i[s-u],e.position-(n[s]-n[s-u]),p),a=Tt.repeat(" ",t.indent)+xn((e.line-u+1).toString(),f)+" | "+l.str+`
`+a;for(l=bn(e.buffer,n[s],i[s],e.position,p),a+=Tt.repeat(" ",t.indent)+xn((e.line+1).toString(),f)+" | "+l.str+`
`,a+=Tt.repeat("-",t.indent+f+3+l.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)l=bn(e.buffer,n[s+u],i[s+u],e.position-(n[s]-n[s+u]),p),a+=Tt.repeat(" ",t.indent)+xn((e.line+u+1).toString(),f)+" | "+l.str+`
`;return a.replace(/\n$/,"")}Vo.exports=Bf});var oe=C((Lg,ts)=>{"use strict";var es=ct(),Hf=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],qf=["scalar","sequence","mapping"];function jf(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function Uf(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Hf.indexOf(r)===-1)throw new es('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=jf(t.styleAliases||null),qf.indexOf(this.kind)===-1)throw new es('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}ts.exports=Uf});var An=C((Ng,ns)=>{"use strict";var Ot=ct(),_n=oe();function rs(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function Gf(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Cn(e){return this.extend(e)}Cn.prototype.extend=function(t){var r=[],n=[];if(t instanceof _n)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ot("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof _n))throw new Ot("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Ot("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Ot("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof _n))throw new Ot("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Cn.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=rs(i,"implicit"),i.compiledExplicit=rs(i,"explicit"),i.compiledTypeMap=Gf(i.compiledImplicit,i.compiledExplicit),i};ns.exports=Cn});var wn=C((Fg,is)=>{"use strict";var Wf=oe();is.exports=new Wf("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var En=C(($g,os)=>{"use strict";var Yf=oe();os.exports=new Yf("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Rn=C((Dg,ss)=>{"use strict";var Kf=oe();ss.exports=new Kf("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var Sn=C((Mg,as)=>{"use strict";var Qf=An();as.exports=new Qf({explicit:[wn(),En(),Rn()]})});var kn=C((Bg,us)=>{"use strict";var zf=oe();function Xf(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function Zf(){return null}function Vf(e){return e===null}us.exports=new zf("tag:yaml.org,2002:null",{kind:"scalar",resolve:Xf,construct:Zf,predicate:Vf,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var In=C((Hg,ls)=>{"use strict";var Jf=oe();function ep(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function tp(e){return e==="true"||e==="True"||e==="TRUE"}function rp(e){return Object.prototype.toString.call(e)==="[object Boolean]"}ls.exports=new Jf("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ep,construct:tp,predicate:rp,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Tn=C((qg,cs)=>{"use strict";var np=lt(),ip=oe();function op(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function sp(e){return 48<=e&&e<=55}function ap(e){return 48<=e&&e<=57}function up(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!op(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!sp(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!ap(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function lp(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function cp(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!np.isNegativeZero(e)}cs.exports=new ip("tag:yaml.org,2002:int",{kind:"scalar",resolve:up,construct:lp,predicate:cp,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var On=C((jg,ps)=>{"use strict";var fs=lt(),fp=oe(),pp=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function hp(e){return!(e===null||!pp.test(e)||e[e.length-1]==="_")}function dp(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var mp=/^[-+]?[0-9]+e/;function gp(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(fs.isNegativeZero(e))return"-0.0";return r=e.toString(10),mp.test(r)?r.replace("e",".e"):r}function yp(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||fs.isNegativeZero(e))}ps.exports=new fp("tag:yaml.org,2002:float",{kind:"scalar",resolve:hp,construct:dp,predicate:yp,represent:gp,defaultStyle:"lowercase"})});var Pn=C((Ug,hs)=>{"use strict";hs.exports=Sn().extend({implicit:[kn(),In(),Tn(),On()]})});var Ln=C((Gg,ds)=>{"use strict";ds.exports=Pn()});var Nn=C((Wg,ys)=>{"use strict";var vp=oe(),ms=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),gs=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function bp(e){return e===null?!1:ms.exec(e)!==null||gs.exec(e)!==null}function xp(e){var t,r,n,i,o,s,a,u=0,l=null,f,p,c;if(t=ms.exec(e),t===null&&(t=gs.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(f=+t[10],p=+(t[11]||0),l=(f*60+p)*6e4,t[9]==="-"&&(l=-l)),c=new Date(Date.UTC(r,n,i,o,s,a,u)),l&&c.setTime(c.getTime()-l),c}function _p(e){return e.toISOString()}ys.exports=new vp("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:bp,construct:xp,instanceOf:Date,represent:_p})});var Fn=C((Yg,vs)=>{"use strict";var Cp=oe();function Ap(e){return e==="<<"||e===null}vs.exports=new Cp("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ap})});var Dn=C((Kg,bs)=>{"use strict";var wp=oe(),$n=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Ep(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=$n;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function Rp(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=$n,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function Sp(e){var t="",r=0,n,i,o=e.length,s=$n;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function kp(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}bs.exports=new wp("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Ep,construct:Rp,predicate:kp,represent:Sp})});var Mn=C((Qg,xs)=>{"use strict";var Ip=oe(),Tp=Object.prototype.hasOwnProperty,Op=Object.prototype.toString;function Pp(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,Op.call(i)!=="[object Object]")return!1;for(o in i)if(Tp.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Lp(e){return e!==null?e:[]}xs.exports=new Ip("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Pp,construct:Lp})});var Bn=C((zg,_s)=>{"use strict";var Np=oe(),Fp=Object.prototype.toString;function $p(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],Fp.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function Dp(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}_s.exports=new Np("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:$p,construct:Dp})});var Hn=C((Xg,Cs)=>{"use strict";var Mp=oe(),Bp=Object.prototype.hasOwnProperty;function Hp(e){if(e===null)return!0;var t,r=e;for(t in r)if(Bp.call(r,t)&&r[t]!==null)return!1;return!0}function qp(e){return e!==null?e:{}}Cs.exports=new Mp("tag:yaml.org,2002:set",{kind:"mapping",resolve:Hp,construct:qp})});var hr=C((Zg,As)=>{"use strict";As.exports=Ln().extend({implicit:[Nn(),Fn()],explicit:[Dn(),Mn(),Bn(),Hn()]})});var Bs=C((Vg,Gn)=>{"use strict";var rt=lt(),ws=ct(),jp=Jo(),Up=hr(),We=Object.prototype.hasOwnProperty,dr=1,Es=2,Rs=3,mr=4,qn=1,Gp=2,Ss=3,Wp=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Yp=/[\x85\u2028\u2029]/,Kp=/[,\[\]\{\}]/,ks=/^(?:!|!!|![a-z\-]+!)$/i,Is=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ts(e){return Object.prototype.toString.call(e)}function Te(e){return e===10||e===13}function nt(e){return e===9||e===32}function pe(e){return e===9||e===32||e===10||e===13}function ft(e){return e===44||e===91||e===93||e===123||e===125}function Qp(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function zp(e){return e===120?2:e===117?4:e===85?8:0}function Xp(e){return 48<=e&&e<=57?e-48:-1}function Os(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function Zp(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Ps=new Array(256),Ls=new Array(256);for(var pt=0;pt<256;pt++)Ps[pt]=Os(pt)?1:0,Ls[pt]=Os(pt);function Vp(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Up,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ns(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=jp(r),new ws(t,r)}function k(e,t){throw Ns(e,t)}function gr(e,t){e.onWarning&&e.onWarning.call(null,Ns(e,t))}var Fs={YAML:function(t,r,n){var i,o,s;t.version!==null&&k(t,"duplication of %YAML directive"),n.length!==1&&k(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&k(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&k(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&gr(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&k(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],ks.test(i)||k(t,"ill-formed tag handle (first argument) of the TAG directive"),We.call(t.tagMap,i)&&k(t,'there is a previously declared suffix for "'+i+'" tag handle'),Is.test(o)||k(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(s){k(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Ye(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||k(e,"expected valid JSON character");else Wp.test(a)&&k(e,"the stream contains non-printable characters");e.result+=a}}function $s(e,t,r,n){var i,o,s,a;for(rt.isObject(r)||k(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],We.call(t,o)||(t[o]=r[o],n[o]=!0)}function ht(e,t,r,n,i,o,s,a,u){var l,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,f=i.length;l<f;l+=1)Array.isArray(i[l])&&k(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Ts(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&Ts(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,f=o.length;l<f;l+=1)$s(e,t,o[l],r);else $s(e,t,o,r);else!e.json&&!We.call(r,i)&&We.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,k(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function jn(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):k(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function J(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;nt(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Te(i))for(jn(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&gr(e,"deficient indentation"),n}function yr(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||pe(r)))}function Un(e,t){t===1?e.result+=" ":t>1&&(e.result+=rt.repeat(`
`,t-1))}function Jp(e,t,r){var n,i,o,s,a,u,l,f,p=e.kind,c=e.result,h;if(h=e.input.charCodeAt(e.position),pe(h)||ft(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),pe(i)||r&&ft(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),pe(i)||r&&ft(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),pe(n))break}else{if(e.position===e.lineStart&&yr(e)||r&&ft(h))break;if(Te(h))if(u=e.line,l=e.lineStart,f=e.lineIndent,J(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=l,e.lineIndent=f;break}}a&&(Ye(e,o,s,!1),Un(e,e.line-u),o=s=e.position,a=!1),nt(h)||(s=e.position+1),h=e.input.charCodeAt(++e.position)}return Ye(e,o,s,!1),e.result?!0:(e.kind=p,e.result=c,!1)}function eh(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Ye(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Te(r)?(Ye(e,n,i,!0),Un(e,J(e,!1,t)),n=i=e.position):e.position===e.lineStart&&yr(e)?k(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);k(e,"unexpected end of the stream within a single quoted scalar")}function th(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Ye(e,r,e.position,!0),e.position++,!0;if(a===92){if(Ye(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Te(a))J(e,!1,t);else if(a<256&&Ps[a])e.result+=Ls[a],e.position++;else if((s=zp(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=Qp(a))>=0?o=(o<<4)+s:k(e,"expected hexadecimal character");e.result+=Zp(o),e.position++}else k(e,"unknown escape sequence");r=n=e.position}else Te(a)?(Ye(e,r,n,!0),Un(e,J(e,!1,t)),r=n=e.position):e.position===e.lineStart&&yr(e)?k(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}k(e,"unexpected end of the stream within a double quoted scalar")}function rh(e,t){var r=!0,n,i,o,s=e.tag,a,u=e.anchor,l,f,p,c,h,d=Object.create(null),m,b,x,_;if(_=e.input.charCodeAt(e.position),_===91)f=93,h=!1,a=[];else if(_===123)f=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),_=e.input.charCodeAt(++e.position);_!==0;){if(J(e,!0,t),_=e.input.charCodeAt(e.position),_===f)return e.position++,e.tag=s,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?_===44&&k(e,"expected the node content, but found ','"):k(e,"missed comma between flow collection entries"),b=m=x=null,p=c=!1,_===63&&(l=e.input.charCodeAt(e.position+1),pe(l)&&(p=c=!0,e.position++,J(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,dt(e,t,dr,!1,!0),b=e.tag,m=e.result,J(e,!0,t),_=e.input.charCodeAt(e.position),(c||e.line===n)&&_===58&&(p=!0,_=e.input.charCodeAt(++e.position),J(e,!0,t),dt(e,t,dr,!1,!0),x=e.result),h?ht(e,a,d,b,m,x,n,i,o):p?a.push(ht(e,null,d,b,m,x,n,i,o)):a.push(m),J(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(r=!0,_=e.input.charCodeAt(++e.position)):r=!1}k(e,"unexpected end of the stream within a flow collection")}function nh(e,t){var r,n,i=qn,o=!1,s=!1,a=t,u=0,l=!1,f,p;if(p=e.input.charCodeAt(e.position),p===124)n=!1;else if(p===62)n=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)qn===i?i=p===43?Ss:Gp:k(e,"repeat of a chomping mode identifier");else if((f=Xp(p))>=0)f===0?k(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?k(e,"repeat of an indentation width identifier"):(a=t+f-1,s=!0);else break;if(nt(p)){do p=e.input.charCodeAt(++e.position);while(nt(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!Te(p)&&p!==0)}for(;p!==0;){for(jn(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),Te(p)){u++;continue}if(e.lineIndent<a){i===Ss?e.result+=rt.repeat(`
`,o?1+u:u):i===qn&&o&&(e.result+=`
`);break}for(n?nt(p)?(l=!0,e.result+=rt.repeat(`
`,o?1+u:u)):l?(l=!1,e.result+=rt.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=rt.repeat(`
`,u):e.result+=rt.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,r=e.position;!Te(p)&&p!==0;)p=e.input.charCodeAt(++e.position);Ye(e,r,e.position,!1)}return!0}function Ds(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!pe(s))));){if(a=!0,e.position++,J(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,dt(e,t,Rs,!1,!0),o.push(e.result),J(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)k(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function ih(e,t,r){var n,i,o,s,a,u,l=e.tag,f=e.anchor,p={},c=Object.create(null),h=null,d=null,m=null,b=!1,x=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),_=e.input.charCodeAt(e.position);_!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(_===63||_===58)&&pe(n))_===63?(b&&(ht(e,p,c,h,d,null,s,a,u),h=d=m=null),x=!0,b=!0,i=!0):b?(b=!1,i=!0):k(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=n;else{if(s=e.line,a=e.lineStart,u=e.position,!dt(e,r,Es,!1,!0))break;if(e.line===o){for(_=e.input.charCodeAt(e.position);nt(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),pe(_)||k(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(ht(e,p,c,h,d,null,s,a,u),h=d=m=null),x=!0,b=!1,i=!1,h=e.tag,d=e.result;else if(x)k(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=f,!0}else if(x)k(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(b&&(s=e.line,a=e.lineStart,u=e.position),dt(e,t,mr,!0,i)&&(b?d=e.result:m=e.result),b||(ht(e,p,c,h,d,m,s,a,u),h=d=m=null),J(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&_!==0)k(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&ht(e,p,c,h,d,null,s,a,u),x&&(e.tag=l,e.anchor=f,e.kind="mapping",e.result=p),x}function oh(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&k(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):k(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!pe(s);)s===33&&(n?k(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),ks.test(i)||k(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Kp.test(o)&&k(e,"tag suffix cannot contain flow indicator characters")}o&&!Is.test(o)&&k(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(a){k(e,"tag name is malformed: "+o)}return r?e.tag=o:We.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:k(e,'undeclared tag handle "'+i+'"'),!0}function sh(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&k(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!pe(r)&&!ft(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ah(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!pe(n)&&!ft(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),We.call(e.anchorMap,r)||k(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],J(e,!0,-1),!0}function dt(e,t,r,n,i){var o,s,a,u=1,l=!1,f=!1,p,c,h,d,m,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=mr===r||Rs===r,n&&J(e,!0,-1)&&(l=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;oh(e)||sh(e);)J(e,!0,-1)?(l=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=l||i),(u===1||mr===r)&&(dr===r||Es===r?m=t:m=t+1,b=e.position-e.lineStart,u===1?a&&(Ds(e,b)||ih(e,b,m))||rh(e,m)?f=!0:(s&&nh(e,m)||eh(e,m)||th(e,m)?f=!0:ah(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&k(e,"alias node should not have any properties")):Jp(e,m,dr===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(f=a&&Ds(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&k(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,c=e.implicitTypes.length;p<c;p+=1)if(d=e.implicitTypes[p],d.resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(We.call(e.typeMap[e.kind||"fallback"],e.tag))d=e.typeMap[e.kind||"fallback"][e.tag];else for(d=null,h=e.typeMap.multi[e.kind||"fallback"],p=0,c=h.length;p<c;p+=1)if(e.tag.slice(0,h[p].tag.length)===h[p].tag){d=h[p];break}d||k(e,"unknown tag !<"+e.tag+">"),e.result!==null&&d.kind!==e.kind&&k(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result,e.tag)?(e.result=d.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):k(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function uh(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(J(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!pe(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&k(e,"directive name must not be less than one character in length");s!==0;){for(;nt(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Te(s));break}if(Te(s))break;for(r=e.position;s!==0&&!pe(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&jn(e),We.call(Fs,n)?Fs[n](e,n,i):gr(e,'unknown document directive "'+n+'"')}if(J(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,J(e,!0,-1)):o&&k(e,"directives end mark is expected"),dt(e,e.lineIndent-1,mr,!1,!0),J(e,!0,-1),e.checkLineBreaks&&Yp.test(e.input.slice(t,e.position))&&gr(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&yr(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,J(e,!0,-1));return}if(e.position<e.length-1)k(e,"end of the stream or a document separator is expected");else return}function Ms(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Vp(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,k(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)uh(r);return r.documents}function lh(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=Ms(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function ch(e,t){var r=Ms(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new ws("expected a single document in the stream, but found more")}}Gn.exports.loadAll=lh;Gn.exports.load=ch});var sa=C((Jg,oa)=>{"use strict";var vr=lt(),Pt=ct(),fh=hr(),Hs=Object.prototype.toString,qs=Object.prototype.hasOwnProperty,Wn=65279,ph=9,Lt=10,hh=13,dh=32,mh=33,gh=34,Yn=35,yh=37,vh=38,bh=39,xh=42,js=44,_h=45,br=58,Ch=61,Ah=62,wh=63,Eh=64,Us=91,Gs=93,Rh=96,Ws=123,Sh=124,Ys=125,se={};se[0]="\\0";se[7]="\\a";se[8]="\\b";se[9]="\\t";se[10]="\\n";se[11]="\\v";se[12]="\\f";se[13]="\\r";se[27]="\\e";se[34]='\\"';se[92]="\\\\";se[133]="\\N";se[160]="\\_";se[8232]="\\L";se[8233]="\\P";var kh=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Ih=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Th(e,t){var r,n,i,o,s,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&qs.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}function Oh(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Pt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+vr.repeat("0",n-t.length)+t}var Ph=1,Nt=2;function Lh(e){this.schema=e.schema||fh,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=vr.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Th(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Nt:Ph,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ks(e,t){for(var r=vr.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function Kn(e,t){return`
`+vr.repeat(" ",e.indent*t)}function Nh(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function xr(e){return e===dh||e===ph}function Ft(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Wn||65536<=e&&e<=1114111}function Qs(e){return Ft(e)&&e!==Wn&&e!==hh&&e!==Lt}function zs(e,t,r){var n=Qs(e),i=n&&!xr(e);return(r?n:n&&e!==js&&e!==Us&&e!==Gs&&e!==Ws&&e!==Ys)&&e!==Yn&&!(t===br&&!i)||Qs(t)&&!xr(t)&&e===Yn||t===br&&i}function Fh(e){return Ft(e)&&e!==Wn&&!xr(e)&&e!==_h&&e!==wh&&e!==br&&e!==js&&e!==Us&&e!==Gs&&e!==Ws&&e!==Ys&&e!==Yn&&e!==vh&&e!==xh&&e!==mh&&e!==Sh&&e!==Ch&&e!==Ah&&e!==bh&&e!==gh&&e!==yh&&e!==Eh&&e!==Rh}function $h(e){return!xr(e)&&e!==br}function $t(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Xs(e){var t=/^\n* /;return t.test(e)}var Zs=1,Qn=2,Vs=3,Js=4,mt=5;function Dh(e,t,r,n,i,o,s,a){var u,l=0,f=null,p=!1,c=!1,h=n!==-1,d=-1,m=Fh($t(e,0))&&$h($t(e,e.length-1));if(t||s)for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=$t(e,u),!Ft(l))return mt;m=m&&zs(l,f,a),f=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=$t(e,u),l===Lt)p=!0,h&&(c=c||u-d-1>n&&e[d+1]!==" ",d=u);else if(!Ft(l))return mt;m=m&&zs(l,f,a),f=l}c=c||h&&u-d-1>n&&e[d+1]!==" "}return!p&&!c?m&&!s&&!i(e)?Zs:o===Nt?mt:Qn:r>9&&Xs(e)?mt:s?o===Nt?mt:Qn:c?Js:Vs}function Mh(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Nt?'""':"''";if(!e.noCompatMode&&(kh.indexOf(t)!==-1||Ih.test(t)))return e.quotingType===Nt?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(l){return Nh(e,l)}switch(Dh(t,a,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case Zs:return t;case Qn:return"'"+t.replace(/'/g,"''")+"'";case Vs:return"|"+ea(t,e.indent)+ta(Ks(t,o));case Js:return">"+ea(t,e.indent)+ta(Ks(Bh(t,s),o));case mt:return'"'+Hh(t,s)+'"';default:throw new Pt("impossible error: invalid scalar style")}}()}function ea(e,t){var r=Xs(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function ta(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Bh(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,ra(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",n+=a+(!i&&!o&&u!==""?`
`:"")+ra(u,t),i=o}return n}function ra(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function Hh(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=$t(e,i),n=se[r],!n&&Ft(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||Oh(r);return t}function qh(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),($e(e,t,a,!1,!1)||typeof a=="undefined"&&$e(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function na(e,t,r,n){var i="",o=e.tag,s,a,u;for(s=0,a=r.length;s<a;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),($e(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&$e(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Kn(e,t)),e.dump&&Lt===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function jh(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,u,l,f;for(s=0,a=o.length;s<a;s+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),u=o[s],l=r[u],e.replacer&&(l=e.replacer.call(r,u,l)),!!$e(e,t,u,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!$e(e,t,l,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}function Uh(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,u,l,f,p,c;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Pt("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)c="",(!n||i!=="")&&(c+=Kn(e,t)),l=s[a],f=r[l],e.replacer&&(f=e.replacer.call(r,l,f)),!!$e(e,t+1,l,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&Lt===e.dump.charCodeAt(0)?c+="?":c+="? "),c+=e.dump,p&&(c+=Kn(e,t)),!!$e(e,t+1,f,!0,p)&&(e.dump&&Lt===e.dump.charCodeAt(0)?c+=":":c+=": ",c+=e.dump,i+=c));e.tag=o,e.dump=i||"{}"}function ia(e,t,r){var n,i,o,s,a,u;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,Hs.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(qs.call(a.represent,u))n=a.represent[u](t,u);else throw new Pt("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function $e(e,t,r,n,i,o,s){e.tag=null,e.dump=r,ia(e,r,!1)||ia(e,r,!0);var a=Hs.call(e.dump),u=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",p,c;if(f&&(p=e.duplicates.indexOf(r),c=p!==-1),(e.tag!==null&&e.tag!=="?"||c||e.indent!==2&&t>0)&&(i=!1),c&&e.usedDuplicates[p])e.dump="*ref_"+p;else{if(f&&c&&!e.usedDuplicates[p]&&(e.usedDuplicates[p]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(Uh(e,t,e.dump,i),c&&(e.dump="&ref_"+p+e.dump)):(jh(e,t,e.dump),c&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?na(e,t-1,e.dump,i):na(e,t,e.dump,i),c&&(e.dump="&ref_"+p+e.dump)):(qh(e,t,e.dump),c&&(e.dump="&ref_"+p+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Mh(e,e.dump,t,o,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Pt("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function Gh(e,t){var r=[],n=[],i,o;for(zn(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function zn(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)zn(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)zn(e[n[i]],t,r)}function Wh(e,t){t=t||{};var r=new Lh(t);r.noRefs||Gh(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),$e(r,0,n,!0,!0)?r.dump+`
`:""}oa.exports.dump=Wh});var ua=C((e0,le)=>{"use strict";var aa=Bs(),Yh=sa();function Xn(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}le.exports.Type=oe();le.exports.Schema=An();le.exports.FAILSAFE_SCHEMA=Sn();le.exports.JSON_SCHEMA=Pn();le.exports.CORE_SCHEMA=Ln();le.exports.DEFAULT_SCHEMA=hr();le.exports.load=aa.load;le.exports.loadAll=aa.loadAll;le.exports.dump=Yh.dump;le.exports.YAMLException=ct();le.exports.types={binary:Dn(),float:On(),map:Rn(),null:kn(),pairs:Bn(),set:Hn(),timestamp:Nn(),bool:In(),int:Tn(),merge:Fn(),omap:Mn(),seq:En(),str:wn()};le.exports.safeLoad=Xn("safeLoad","load");le.exports.safeLoadAll=Xn("safeLoadAll","loadAll");le.exports.safeDump=Xn("safeDump","dump")});var Ar=C(Ae=>{"use strict";Ae.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Ae.find=(e,t)=>e.nodes.find(r=>r.type===t);Ae.exceedsLimit=(e,t,r=1,n)=>n===!1||!Ae.isInteger(e)||!Ae.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;Ae.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Ae.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;Ae.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Ae.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Ae.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Ae.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var wr=C((h0,ma)=>{"use strict";var da=Ar();ma.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&da.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||s)&&da.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var ya=C((d0,ga)=>{"use strict";ga.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Ra=C((m0,Ea)=>{"use strict";var va=ya(),it=(e,t,r)=>{if(va(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(va(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=F({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+o+s+a;if(it.cache.hasOwnProperty(u))return it.cache[u].result;let l=Math.min(e,t),f=Math.max(e,t);if(Math.abs(l-f)===1){let m=e+"|"+t;return n.capture?`(${m})`:n.wrap===!1?m:`(?:${m})`}let p=wa(e)||wa(t),c={min:e,max:t,a:l,b:f},h=[],d=[];if(p&&(c.isPadded=p,c.maxLen=String(c.max).length),l<0){let m=f<0?Math.abs(f):1;d=ba(m,Math.abs(l),c,n),l=c.a=0}return f>=0&&(h=ba(l,f,c,n)),c.negatives=d,c.positives=h,c.result=Xh(d,h,n),n.capture===!0?c.result=`(${c.result})`:n.wrap!==!1&&h.length+d.length>1&&(c.result=`(?:${c.result})`),it.cache[u]=c,c.result};function Xh(e,t,r){let n=Jn(e,t,"-",!1,r)||[],i=Jn(t,e,"",!1,r)||[],o=Jn(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function Zh(e,t){let r=1,n=1,i=_a(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=_a(e,r);for(i=Ca(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=Ca(t+1,n)-1;return o=[...o],o.sort(ed),o}function Vh(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=Jh(e,t),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[u,l]=n[a];u===l?o+=u:u!=="0"||l!=="9"?o+=td(u,l,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function ba(e,t,r,n){let i=Zh(e,t),o=[],s=e,a;for(let u=0;u<i.length;u++){let l=i[u],f=Vh(String(s),String(l),n),p="";if(!r.isPadded&&a&&a.pattern===f.pattern){a.count.length>1&&a.count.pop(),a.count.push(f.count[0]),a.string=a.pattern+Aa(a.count),s=l+1;continue}r.isPadded&&(p=rd(l,r,n)),f.string=p+f.pattern+Aa(f.count),o.push(f),s=l+1,a=f}return o}function Jn(e,t,r,n,i){let o=[];for(let s of e){let{string:a}=s;!n&&!xa(t,"string",a)&&o.push(r+a),n&&xa(t,"string",a)&&o.push(r+a)}return o}function Jh(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function ed(e,t){return e>t?1:t>e?-1:0}function xa(e,t,r){return e.some(n=>n[t]===r)}function _a(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Ca(e,t){return e-e%Math.pow(10,t)}function Aa(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function td(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function wa(e){return/^-?(0+)\d/.test(e)}function rd(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}it.cache={};it.clearCache=()=>it.cache={};Ea.exports=it});var ri=C((g0,Na)=>{"use strict";var nd=T("util"),Sa=Ra(),ka=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),id=e=>t=>e===!0?Number(t):String(t),ei=e=>typeof e=="number"||typeof e=="string"&&e!=="",Ht=e=>Number.isInteger(+e),ti=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},od=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,sd=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Ia=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},ad=(e,t)=>{e.negatives.sort((s,a)=>s<a?-1:s>a?1:0),e.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},Ta=(e,t,r,n)=>{if(r)return Sa(e,t,F({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},Oa=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Sa(e,t,r)},Pa=(...e)=>new RangeError("Invalid range arguments: "+nd.inspect(...e)),La=(e,t,r)=>{if(r.strictRanges===!0)throw Pa([e,t]);return[]},ud=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},ld=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw Pa([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(e),u=String(t),l=String(r);r=Math.max(Math.abs(r),1);let f=ti(a)||ti(u)||ti(l),p=f?Math.max(a.length,u.length,l.length):0,c=f===!1&&od(e,t,n)===!1,h=n.transform||id(c);if(n.toRegex&&r===1)return Ta(Ia(e,p),Ia(t,p),!0,n);let d={negatives:[],positives:[]},m=_=>d[_<0?"negatives":"positives"].push(Math.abs(_)),b=[],x=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?m(i):b.push(sd(h(i,x),p,c)),i=s?i-r:i+r,x++;return n.toRegex===!0?r>1?ad(d,n):Oa(b,null,F({wrap:!1},n)):b},cd=(e,t,r=1,n={})=>{if(!Ht(e)&&e.length>1||!Ht(t)&&t.length>1)return La(e,t,n);let i=n.transform||(c=>String.fromCharCode(c)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=o>s,u=Math.min(o,s),l=Math.max(o,s);if(n.toRegex&&r===1)return Ta(u,l,!1,n);let f=[],p=0;for(;a?o>=s:o<=s;)f.push(i(o,p)),o=a?o-r:o+r,p++;return n.toRegex===!0?Oa(f,null,{wrap:!1,options:n}):f},Er=(e,t,r,n={})=>{if(t==null&&ei(e))return[e];if(!ei(e)||!ei(t))return La(e,t,n);if(typeof r=="function")return Er(e,t,1,{transform:r});if(ka(r))return Er(e,t,0,r);let i=F({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Ht(r)?Ht(e)&&Ht(t)?ld(e,t,r,i):cd(e,t,Math.max(Math.abs(r),1),i):r!=null&&!ka(r)?ud(r,i):Er(e,t,1,r)};Na.exports=Er});var Da=C((y0,$a)=>{"use strict";var fd=ri(),Fa=Ar(),pd=(e,t={})=>{let r=(n,i={})=>{let o=Fa.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||s===!0,u=t.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let f=Fa.reduce(n.nodes),p=fd(...f,V(F({},t),{wrap:!1,toRegex:!0}));if(p.length!==0)return f.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let f of n.nodes)l+=r(f,n);return l};return r(e)};$a.exports=pd});var Ha=C((v0,Ba)=>{"use strict";var hd=ri(),Ma=wr(),gt=Ar(),ot=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?gt.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push(ot(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?ot(i,o,r):i+o);return gt.flatten(n)},dd=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(ot(a.pop(),Ma(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(ot(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=gt.reduce(i.nodes);if(gt.exceedsLimit(...p,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=hd(...p,t);c.length===0&&(c=Ma(i,t)),a.push(ot(a.pop(),c)),i.nodes=[];return}let u=gt.encloseBrace(i),l=i.queue,f=i;for(;f.type!=="brace"&&f.type!=="root"&&f.parent;)f=f.parent,l=f.queue;for(let p=0;p<i.nodes.length;p++){let c=i.nodes[p];if(c.type==="comma"&&i.type==="brace"){p===1&&l.push(""),l.push("");continue}if(c.type==="close"){a.push(ot(a.pop(),l,u));continue}if(c.value&&c.type!=="open"){l.push(ot(l.pop(),c.value));continue}c.nodes&&n(c,i)}return l};return gt.flatten(n(e))};Ba.exports=dd});var ja=C((b0,qa)=>{"use strict";qa.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Ka=C((x0,Ya)=>{"use strict";var md=wr(),{MAX_LENGTH:Ua,CHAR_BACKSLASH:ni,CHAR_BACKTICK:gd,CHAR_COMMA:yd,CHAR_DOT:vd,CHAR_LEFT_PARENTHESES:bd,CHAR_RIGHT_PARENTHESES:xd,CHAR_LEFT_CURLY_BRACE:_d,CHAR_RIGHT_CURLY_BRACE:Cd,CHAR_LEFT_SQUARE_BRACKET:Ga,CHAR_RIGHT_SQUARE_BRACKET:Wa,CHAR_DOUBLE_QUOTE:Ad,CHAR_SINGLE_QUOTE:wd,CHAR_NO_BREAK_SPACE:Ed,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Rd}=ja(),Sd=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(Ua,r.maxLength):Ua;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,a=i,u=0,l=e.length,f=0,p=0,c,h={},d=()=>e[f++],m=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return s.nodes.push(b),b.parent=s,b.prev=a,a=b,b};for(m({type:"bos"});f<l;)if(s=o[o.length-1],c=d(),!(c===Rd||c===Ed)){if(c===ni){m({type:"text",value:(t.keepEscaping?c:"")+d()});continue}if(c===Wa){m({type:"text",value:"\\"+c});continue}if(c===Ga){u++;let b=!0,x;for(;f<l&&(x=d());){if(c+=x,x===Ga){u++;continue}if(x===ni){c+=d();continue}if(x===Wa&&(u--,u===0))break}m({type:"text",value:c});continue}if(c===bd){s=m({type:"paren",nodes:[]}),o.push(s),m({type:"text",value:c});continue}if(c===xd){if(s.type!=="paren"){m({type:"text",value:c});continue}s=o.pop(),m({type:"text",value:c}),s=o[o.length-1];continue}if(c===Ad||c===wd||c===gd){let b=c,x;for(t.keepQuotes!==!0&&(c="");f<l&&(x=d());){if(x===ni){c+=x+d();continue}if(x===b){t.keepQuotes===!0&&(c+=x);break}c+=x}m({type:"text",value:c});continue}if(c===_d){p++;let b=a.value&&a.value.slice(-1)==="$"||s.dollar===!0;s=m({type:"brace",open:!0,close:!1,dollar:b,depth:p,commas:0,ranges:0,nodes:[]}),o.push(s),m({type:"open",value:c});continue}if(c===Cd){if(s.type!=="brace"){m({type:"text",value:c});continue}let b="close";s=o.pop(),s.close=!0,m({type:b,value:c}),p--,s=o[o.length-1];continue}if(c===yd&&p>0){if(s.ranges>0){s.ranges=0;let b=s.nodes.shift();s.nodes=[b,{type:"text",value:md(s)}]}m({type:"comma",value:c}),s.commas++;continue}if(c===vd&&p>0&&s.commas===0){let b=s.nodes;if(p===0||b.length===0){m({type:"text",value:c});continue}if(a.type==="dot"){if(s.range=[],a.value+=c,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){b.pop();let x=b[b.length-1];x.value+=a.value+c,a=x,s.ranges--;continue}m({type:"dot",value:c});continue}m({type:"text",value:c})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(_=>{_.nodes||(_.type==="open"&&(_.isOpen=!0),_.type==="close"&&(_.isClose=!0),_.nodes||(_.type="text"),_.invalid=!0)});let b=o[o.length-1],x=b.nodes.indexOf(s);b.nodes.splice(x,1,...s.nodes)}while(o.length>0);return m({type:"eos"}),i};Ya.exports=Sd});var Xa=C((_0,za)=>{"use strict";var Qa=wr(),kd=Da(),Id=Ha(),Td=Ka(),ge=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=ge.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(ge.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};ge.parse=(e,t={})=>Td(e,t);ge.stringify=(e,t={})=>typeof e=="string"?Qa(ge.parse(e,t),t):Qa(e,t);ge.compile=(e,t={})=>(typeof e=="string"&&(e=ge.parse(e,t)),kd(e,t));ge.expand=(e,t={})=>{typeof e=="string"&&(e=ge.parse(e,t));let r=Id(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};ge.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?ge.compile(e,t):ge.expand(e,t);za.exports=ge});var qt=C((C0,tu)=>{"use strict";var Od=T("path"),Oe="\\\\/",Za=`[^${Oe}]`,Me="\\.",Pd="\\+",Ld="\\?",Rr="\\/",Nd="(?=.)",Va="[^/]",ii=`(?:${Rr}|$)`,Ja=`(?:^|${Rr})`,oi=`${Me}{1,2}${ii}`,Fd=`(?!${Me})`,$d=`(?!${Ja}${oi})`,Dd=`(?!${Me}{0,1}${ii})`,Md=`(?!${oi})`,Bd=`[^.${Rr}]`,Hd=`${Va}*?`,eu={DOT_LITERAL:Me,PLUS_LITERAL:Pd,QMARK_LITERAL:Ld,SLASH_LITERAL:Rr,ONE_CHAR:Nd,QMARK:Va,END_ANCHOR:ii,DOTS_SLASH:oi,NO_DOT:Fd,NO_DOTS:$d,NO_DOT_SLASH:Dd,NO_DOTS_SLASH:Md,QMARK_NO_DOT:Bd,STAR:Hd,START_ANCHOR:Ja},qd=V(F({},eu),{SLASH_LITERAL:`[${Oe}]`,QMARK:Za,STAR:`${Za}*?`,DOTS_SLASH:`${Me}{1,2}(?:[${Oe}]|$)`,NO_DOT:`(?!${Me})`,NO_DOTS:`(?!(?:^|[${Oe}])${Me}{1,2}(?:[${Oe}]|$))`,NO_DOT_SLASH:`(?!${Me}{0,1}(?:[${Oe}]|$))`,NO_DOTS_SLASH:`(?!${Me}{1,2}(?:[${Oe}]|$))`,QMARK_NO_DOT:`[^.${Oe}]`,START_ANCHOR:`(?:^|[${Oe}])`,END_ANCHOR:`(?:[${Oe}]|$)`}),jd={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};tu.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:jd,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Od.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?qd:eu}}});var jt=C(he=>{"use strict";var Ud=T("path"),Gd=process.platform==="win32",{REGEX_BACKSLASH:Wd,REGEX_REMOVE_BACKSLASH:Yd,REGEX_SPECIAL_CHARS:Kd,REGEX_SPECIAL_CHARS_GLOBAL:Qd}=qt();he.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);he.hasRegexChars=e=>Kd.test(e);he.isRegexChar=e=>e.length===1&&he.hasRegexChars(e);he.escapeRegex=e=>e.replace(Qd,"\\$1");he.toPosixSlashes=e=>e.replace(Wd,"/");he.removeBackslashes=e=>e.replace(Yd,t=>t==="\\"?"":t);he.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};he.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Gd===!0||Ud.sep==="\\";he.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?he.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};he.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};he.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var lu=C((w0,uu)=>{"use strict";var ru=jt(),{CHAR_ASTERISK:si,CHAR_AT:zd,CHAR_BACKWARD_SLASH:Ut,CHAR_COMMA:Xd,CHAR_DOT:ai,CHAR_EXCLAMATION_MARK:ui,CHAR_FORWARD_SLASH:nu,CHAR_LEFT_CURLY_BRACE:li,CHAR_LEFT_PARENTHESES:ci,CHAR_LEFT_SQUARE_BRACKET:Zd,CHAR_PLUS:Vd,CHAR_QUESTION_MARK:iu,CHAR_RIGHT_CURLY_BRACE:Jd,CHAR_RIGHT_PARENTHESES:ou,CHAR_RIGHT_SQUARE_BRACKET:em}=qt(),su=e=>e===nu||e===Ut,au=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},tm=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],u=e,l=-1,f=0,p=0,c=!1,h=!1,d=!1,m=!1,b=!1,x=!1,_=!1,S=!1,P=!1,L=!1,Q=0,D,I,E={value:"",depth:0,isGlob:!1},j=()=>l>=n,v=()=>u.charCodeAt(l+1),H=()=>(D=I,u.charCodeAt(++l));for(;l<n;){I=H();let ne;if(I===Ut){_=E.backslashes=!0,I=H(),I===li&&(x=!0);continue}if(x===!0||I===li){for(Q++;j()!==!0&&(I=H());){if(I===Ut){_=E.backslashes=!0,H();continue}if(I===li){Q++;continue}if(x!==!0&&I===ai&&(I=H())===ai){if(c=E.isBrace=!0,d=E.isGlob=!0,L=!0,i===!0)continue;break}if(x!==!0&&I===Xd){if(c=E.isBrace=!0,d=E.isGlob=!0,L=!0,i===!0)continue;break}if(I===Jd&&(Q--,Q===0)){x=!1,c=E.isBrace=!0,L=!0;break}}if(i===!0)continue;break}if(I===nu){if(o.push(l),s.push(E),E={value:"",depth:0,isGlob:!1},L===!0)continue;if(D===ai&&l===f+1){f+=2;continue}p=l+1;continue}if(r.noext!==!0&&(I===Vd||I===zd||I===si||I===iu||I===ui)===!0&&v()===ci){if(d=E.isGlob=!0,m=E.isExtglob=!0,L=!0,I===ui&&l===f&&(P=!0),i===!0){for(;j()!==!0&&(I=H());){if(I===Ut){_=E.backslashes=!0,I=H();continue}if(I===ou){d=E.isGlob=!0,L=!0;break}}continue}break}if(I===si){if(D===si&&(b=E.isGlobstar=!0),d=E.isGlob=!0,L=!0,i===!0)continue;break}if(I===iu){if(d=E.isGlob=!0,L=!0,i===!0)continue;break}if(I===Zd){for(;j()!==!0&&(ne=H());){if(ne===Ut){_=E.backslashes=!0,H();continue}if(ne===em){h=E.isBracket=!0,d=E.isGlob=!0,L=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&I===ui&&l===f){S=E.negated=!0,f++;continue}if(r.noparen!==!0&&I===ci){if(d=E.isGlob=!0,i===!0){for(;j()!==!0&&(I=H());){if(I===ci){_=E.backslashes=!0,I=H();continue}if(I===ou){L=!0;break}}continue}break}if(d===!0){if(L=!0,i===!0)continue;break}}r.noext===!0&&(m=!1,d=!1);let q=u,Ie="",g="";f>0&&(Ie=u.slice(0,f),u=u.slice(f),p-=f),q&&d===!0&&p>0?(q=u.slice(0,p),g=u.slice(p)):d===!0?(q="",g=u):q=u,q&&q!==""&&q!=="/"&&q!==u&&su(q.charCodeAt(q.length-1))&&(q=q.slice(0,-1)),r.unescape===!0&&(g&&(g=ru.removeBackslashes(g)),q&&_===!0&&(q=ru.removeBackslashes(q)));let y={prefix:Ie,input:e,start:f,base:q,glob:g,isBrace:c,isBracket:h,isGlob:d,isExtglob:m,isGlobstar:b,negated:S,negatedExtglob:P};if(r.tokens===!0&&(y.maxDepth=0,su(I)||s.push(E),y.tokens=s),r.parts===!0||r.tokens===!0){let ne;for(let M=0;M<o.length;M++){let fe=ne?ne+1:f,de=o[M],ie=e.slice(fe,de);r.tokens&&(M===0&&f!==0?(s[M].isPrefix=!0,s[M].value=Ie):s[M].value=ie,au(s[M]),y.maxDepth+=s[M].depth),(M!==0||ie!=="")&&a.push(ie),ne=de}if(ne&&ne+1<e.length){let M=e.slice(ne+1);a.push(M),r.tokens&&(s[s.length-1].value=M,au(s[s.length-1]),y.maxDepth+=s[s.length-1].depth)}y.slashes=o,y.parts=a}return y};uu.exports=tm});var hu=C((E0,pu)=>{"use strict";var Sr=qt(),ye=jt(),{MAX_LENGTH:kr,POSIX_REGEX_SOURCE:rm,REGEX_NON_SPECIAL_CHARS:nm,REGEX_SPECIAL_CHARS_BACKREF:im,REPLACEMENTS:cu}=Sr,om=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>ye.escapeRegex(i)).join("..")}return r},yt=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,fu=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=cu[e]||e;let r=F({},t),n=typeof r.maxLength=="number"?Math.min(kr,r.maxLength):kr,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=ye.isWindows(t),l=Sr.globChars(u),f=Sr.extglobChars(l),{DOT_LITERAL:p,PLUS_LITERAL:c,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:m,NO_DOT:b,NO_DOT_SLASH:x,NO_DOTS_SLASH:_,QMARK:S,QMARK_NO_DOT:P,STAR:L,START_ANCHOR:Q}=l,D=w=>`(${a}(?:(?!${Q}${w.dot?m:p}).)*?)`,I=r.dot?"":b,E=r.dot?S:P,j=r.bash===!0?D(r):L;r.capture&&(j=`(${j})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let v={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=ye.removePrefix(e,v),i=e.length;let H=[],q=[],Ie=[],g=o,y,ne=()=>v.index===i-1,M=v.peek=(w=1)=>e[v.index+w],fe=v.advance=()=>e[++v.index]||"",de=()=>e.slice(v.index+1),ie=(w="",Y=0)=>{v.consumed+=w,v.index+=Y},He=w=>{v.output+=w.output!=null?w.output:w.value,ie(w.value)},tc=()=>{let w=1;for(;M()==="!"&&(M(2)!=="("||M(3)==="?");)fe(),v.start++,w++;return w%2==0?!1:(v.negated=!0,v.start++,!0)},tr=w=>{v[w]++,Ie.push(w)},ze=w=>{v[w]--,Ie.pop()},$=w=>{if(g.type==="globstar"){let Y=v.braces>0&&(w.type==="comma"||w.type==="brace"),A=w.extglob===!0||H.length&&(w.type==="pipe"||w.type==="paren");w.type!=="slash"&&w.type!=="paren"&&!Y&&!A&&(v.output=v.output.slice(0,-g.output.length),g.type="star",g.value="*",g.output=j,v.output+=g.output)}if(H.length&&w.type!=="paren"&&(H[H.length-1].inner+=w.value),(w.value||w.output)&&He(w),g&&g.type==="text"&&w.type==="text"){g.value+=w.value,g.output=(g.output||"")+w.value;return}w.prev=g,s.push(w),g=w},rr=(w,Y)=>{let A=V(F({},f[Y]),{conditions:1,inner:""});A.prev=g,A.parens=v.parens,A.output=v.output;let N=(r.capture?"(":"")+A.open;tr("parens"),$({type:w,value:Y,output:v.output?"":d}),$({type:"paren",extglob:!0,value:fe(),output:N}),H.push(A)},rc=w=>{let Y=w.close+(r.capture?")":""),A;if(w.type==="negate"){let N=j;w.inner&&w.inner.length>1&&w.inner.includes("/")&&(N=D(r)),(N!==j||ne()||/^\)+$/.test(de()))&&(Y=w.close=`)$))${N}`),w.inner.includes("*")&&(A=de())&&/^\.[^\\/.]+$/.test(A)&&(Y=w.close=`)${A})${N})`),w.prev.type==="bos"&&(v.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:y,output:Y}),ze("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let w=!1,Y=e.replace(im,(A,N,X,ue,ee,qr)=>ue==="\\"?(w=!0,A):ue==="?"?N?N+ue+(ee?S.repeat(ee.length):""):qr===0?E+(ee?S.repeat(ee.length):""):S.repeat(X.length):ue==="."?p.repeat(X.length):ue==="*"?N?N+ue+(ee?j:""):j:N?A:`\\${A}`);return w===!0&&(r.unescape===!0?Y=Y.replace(/\\/g,""):Y=Y.replace(/\\+/g,A=>A.length%2==0?"\\\\":A?"\\":"")),Y===e&&r.contains===!0?(v.output=e,v):(v.output=ye.wrapOutput(Y,v,t),v)}for(;!ne();){if(y=fe(),y==="\0")continue;if(y==="\\"){let A=M();if(A==="/"&&r.bash!==!0||A==="."||A===";")continue;if(!A){y+="\\",$({type:"text",value:y});continue}let N=/^\\+/.exec(de()),X=0;if(N&&N[0].length>2&&(X=N[0].length,v.index+=X,X%2!=0&&(y+="\\")),r.unescape===!0?y=fe():y+=fe(),v.brackets===0){$({type:"text",value:y});continue}}if(v.brackets>0&&(y!=="]"||g.value==="["||g.value==="[^")){if(r.posix!==!1&&y===":"){let A=g.value.slice(1);if(A.includes("[")&&(g.posix=!0,A.includes(":"))){let N=g.value.lastIndexOf("["),X=g.value.slice(0,N),ue=g.value.slice(N+2),ee=rm[ue];if(ee){g.value=X+ee,v.backtrack=!0,fe(),!o.output&&s.indexOf(g)===1&&(o.output=d);continue}}}(y==="["&&M()!==":"||y==="-"&&M()==="]")&&(y=`\\${y}`),y==="]"&&(g.value==="["||g.value==="[^")&&(y=`\\${y}`),r.posix===!0&&y==="!"&&g.value==="["&&(y="^"),g.value+=y,He({value:y});continue}if(v.quotes===1&&y!=='"'){y=ye.escapeRegex(y),g.value+=y,He({value:y});continue}if(y==='"'){v.quotes=v.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:y});continue}if(y==="("){tr("parens"),$({type:"paren",value:y});continue}if(y===")"){if(v.parens===0&&r.strictBrackets===!0)throw new SyntaxError(yt("opening","("));let A=H[H.length-1];if(A&&v.parens===A.parens+1){rc(H.pop());continue}$({type:"paren",value:y,output:v.parens?")":"\\)"}),ze("parens");continue}if(y==="["){if(r.nobracket===!0||!de().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(yt("closing","]"));y=`\\${y}`}else tr("brackets");$({type:"bracket",value:y});continue}if(y==="]"){if(r.nobracket===!0||g&&g.type==="bracket"&&g.value.length===1){$({type:"text",value:y,output:`\\${y}`});continue}if(v.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(yt("opening","["));$({type:"text",value:y,output:`\\${y}`});continue}ze("brackets");let A=g.value.slice(1);if(g.posix!==!0&&A[0]==="^"&&!A.includes("/")&&(y=`/${y}`),g.value+=y,He({value:y}),r.literalBrackets===!1||ye.hasRegexChars(A))continue;let N=ye.escapeRegex(g.value);if(v.output=v.output.slice(0,-g.value.length),r.literalBrackets===!0){v.output+=N,g.value=N;continue}g.value=`(${a}${N}|${g.value})`,v.output+=g.value;continue}if(y==="{"&&r.nobrace!==!0){tr("braces");let A={type:"brace",value:y,output:"(",outputIndex:v.output.length,tokensIndex:v.tokens.length};q.push(A),$(A);continue}if(y==="}"){let A=q[q.length-1];if(r.nobrace===!0||!A){$({type:"text",value:y,output:y});continue}let N=")";if(A.dots===!0){let X=s.slice(),ue=[];for(let ee=X.length-1;ee>=0&&(s.pop(),X[ee].type!=="brace");ee--)X[ee].type!=="dots"&&ue.unshift(X[ee].value);N=om(ue,r),v.backtrack=!0}if(A.comma!==!0&&A.dots!==!0){let X=v.output.slice(0,A.outputIndex),ue=v.tokens.slice(A.tokensIndex);A.value=A.output="\\{",y=N="\\}",v.output=X;for(let ee of ue)v.output+=ee.output||ee.value}$({type:"brace",value:y,output:N}),ze("braces"),q.pop();continue}if(y==="|"){H.length>0&&H[H.length-1].conditions++,$({type:"text",value:y});continue}if(y===","){let A=y,N=q[q.length-1];N&&Ie[Ie.length-1]==="braces"&&(N.comma=!0,A="|"),$({type:"comma",value:y,output:A});continue}if(y==="/"){if(g.type==="dot"&&v.index===v.start+1){v.start=v.index+1,v.consumed="",v.output="",s.pop(),g=o;continue}$({type:"slash",value:y,output:h});continue}if(y==="."){if(v.braces>0&&g.type==="dot"){g.value==="."&&(g.output=p);let A=q[q.length-1];g.type="dots",g.output+=y,g.value+=y,A.dots=!0;continue}if(v.braces+v.parens===0&&g.type!=="bos"&&g.type!=="slash"){$({type:"text",value:y,output:p});continue}$({type:"dot",value:y,output:p});continue}if(y==="?"){if(!(g&&g.value==="(")&&r.noextglob!==!0&&M()==="("&&M(2)!=="?"){rr("qmark",y);continue}if(g&&g.type==="paren"){let N=M(),X=y;if(N==="<"&&!ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(g.value==="("&&!/[!=<:]/.test(N)||N==="<"&&!/<([!=]|\w+>)/.test(de()))&&(X=`\\${y}`),$({type:"text",value:y,output:X});continue}if(r.dot!==!0&&(g.type==="slash"||g.type==="bos")){$({type:"qmark",value:y,output:P});continue}$({type:"qmark",value:y,output:S});continue}if(y==="!"){if(r.noextglob!==!0&&M()==="("&&(M(2)!=="?"||!/[!=<:]/.test(M(3)))){rr("negate",y);continue}if(r.nonegate!==!0&&v.index===0){tc();continue}}if(y==="+"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){rr("plus",y);continue}if(g&&g.value==="("||r.regex===!1){$({type:"plus",value:y,output:c});continue}if(g&&(g.type==="bracket"||g.type==="paren"||g.type==="brace")||v.parens>0){$({type:"plus",value:y});continue}$({type:"plus",value:c});continue}if(y==="@"){if(r.noextglob!==!0&&M()==="("&&M(2)!=="?"){$({type:"at",extglob:!0,value:y,output:""});continue}$({type:"text",value:y});continue}if(y!=="*"){(y==="$"||y==="^")&&(y=`\\${y}`);let A=nm.exec(de());A&&(y+=A[0],v.index+=A[0].length),$({type:"text",value:y});continue}if(g&&(g.type==="globstar"||g.star===!0)){g.type="star",g.star=!0,g.value+=y,g.output=j,v.backtrack=!0,v.globstar=!0,ie(y);continue}let w=de();if(r.noextglob!==!0&&/^\([^?]/.test(w)){rr("star",y);continue}if(g.type==="star"){if(r.noglobstar===!0){ie(y);continue}let A=g.prev,N=A.prev,X=A.type==="slash"||A.type==="bos",ue=N&&(N.type==="star"||N.type==="globstar");if(r.bash===!0&&(!X||w[0]&&w[0]!=="/")){$({type:"star",value:y,output:""});continue}let ee=v.braces>0&&(A.type==="comma"||A.type==="brace"),qr=H.length&&(A.type==="pipe"||A.type==="paren");if(!X&&A.type!=="paren"&&!ee&&!qr){$({type:"star",value:y,output:""});continue}for(;w.slice(0,3)==="/**";){let nr=e[v.index+4];if(nr&&nr!=="/")break;w=w.slice(3),ie("/**",3)}if(A.type==="bos"&&ne()){g.type="globstar",g.value+=y,g.output=D(r),v.output=g.output,v.globstar=!0,ie(y);continue}if(A.type==="slash"&&A.prev.type!=="bos"&&!ue&&ne()){v.output=v.output.slice(0,-(A.output+g.output).length),A.output=`(?:${A.output}`,g.type="globstar",g.output=D(r)+(r.strictSlashes?")":"|$)"),g.value+=y,v.globstar=!0,v.output+=A.output+g.output,ie(y);continue}if(A.type==="slash"&&A.prev.type!=="bos"&&w[0]==="/"){let nr=w[1]!==void 0?"|$":"";v.output=v.output.slice(0,-(A.output+g.output).length),A.output=`(?:${A.output}`,g.type="globstar",g.output=`${D(r)}${h}|${h}${nr})`,g.value+=y,v.output+=A.output+g.output,v.globstar=!0,ie(y+fe()),$({type:"slash",value:"/",output:""});continue}if(A.type==="bos"&&w[0]==="/"){g.type="globstar",g.value+=y,g.output=`(?:^|${h}|${D(r)}${h})`,v.output=g.output,v.globstar=!0,ie(y+fe()),$({type:"slash",value:"/",output:""});continue}v.output=v.output.slice(0,-g.output.length),g.type="globstar",g.output=D(r),g.value+=y,v.output+=g.output,v.globstar=!0,ie(y);continue}let Y={type:"star",value:y,output:j};if(r.bash===!0){Y.output=".*?",(g.type==="bos"||g.type==="slash")&&(Y.output=I+Y.output),$(Y);continue}if(g&&(g.type==="bracket"||g.type==="paren")&&r.regex===!0){Y.output=y,$(Y);continue}(v.index===v.start||g.type==="slash"||g.type==="dot")&&(g.type==="dot"?(v.output+=x,g.output+=x):r.dot===!0?(v.output+=_,g.output+=_):(v.output+=I,g.output+=I),M()!=="*"&&(v.output+=d,g.output+=d)),$(Y)}for(;v.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(yt("closing","]"));v.output=ye.escapeLast(v.output,"["),ze("brackets")}for(;v.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(yt("closing",")"));v.output=ye.escapeLast(v.output,"("),ze("parens")}for(;v.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(yt("closing","}"));v.output=ye.escapeLast(v.output,"{"),ze("braces")}if(r.strictSlashes!==!0&&(g.type==="star"||g.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${h}?`}),v.backtrack===!0){v.output="";for(let w of v.tokens)v.output+=w.output!=null?w.output:w.value,w.suffix&&(v.output+=w.suffix)}return v};fu.fastpaths=(e,t)=>{let r=F({},t),n=typeof r.maxLength=="number"?Math.min(kr,r.maxLength):kr,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=cu[e]||e;let o=ye.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:f,NO_DOTS:p,NO_DOTS_SLASH:c,STAR:h,START_ANCHOR:d}=Sr.globChars(o),m=r.dot?p:f,b=r.dot?c:f,x=r.capture?"":"?:",_={negated:!1,prefix:""},S=r.bash===!0?".*?":h;r.capture&&(S=`(${S})`);let P=I=>I.noglobstar===!0?S:`(${x}(?:(?!${d}${I.dot?l:s}).)*?)`,L=I=>{switch(I){case"*":return`${m}${u}${S}`;case".*":return`${s}${u}${S}`;case"*.*":return`${m}${S}${s}${u}${S}`;case"*/*":return`${m}${S}${a}${u}${b}${S}`;case"**":return m+P(r);case"**/*":return`(?:${m}${P(r)}${a})?${b}${u}${S}`;case"**/*.*":return`(?:${m}${P(r)}${a})?${b}${S}${s}${u}${S}`;case"**/.*":return`(?:${m}${P(r)}${a})?${s}${u}${S}`;default:{let E=/^(.*?)\.(\w+)$/.exec(I);if(!E)return;let j=L(E[1]);return j?j+s+E[2]:void 0}}},Q=ye.removePrefix(e,_),D=L(Q);return D&&r.strictSlashes!==!0&&(D+=`${a}?`),D};pu.exports=fu});var mu=C((R0,du)=>{"use strict";var sm=T("path"),am=lu(),fi=hu(),pi=jt(),um=qt(),lm=e=>e&&typeof e=="object"&&!Array.isArray(e),Z=(e,t,r=!1)=>{if(Array.isArray(e)){let f=e.map(c=>Z(c,t,r));return c=>{for(let h of f){let d=h(c);if(d)return d}return!1}}let n=lm(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=pi.isWindows(t),s=n?Z.compileRe(e,t):Z.makeRe(e,t,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(i.ignore){let f=V(F({},t),{ignore:null,onMatch:null,onResult:null});u=Z(i.ignore,f,r)}let l=(f,p=!1)=>{let{isMatch:c,match:h,output:d}=Z.test(f,s,t,{glob:e,posix:o}),m={glob:e,state:a,regex:s,posix:o,input:f,output:d,match:h,isMatch:c};return typeof i.onResult=="function"&&i.onResult(m),c===!1?(m.isMatch=!1,p?m:!1):u(f)?(typeof i.onIgnore=="function"&&i.onIgnore(m),m.isMatch=!1,p?m:!1):(typeof i.onMatch=="function"&&i.onMatch(m),p?m:!0)};return r&&(l.state=a),l};Z.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?pi.toPosixSlashes:null),a=e===n,u=a&&s?s(e):e;return a===!1&&(u=s?s(e):e,a=u===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Z.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};Z.matchBase=(e,t,r,n=pi.isWindows(r))=>(t instanceof RegExp?t:Z.makeRe(t,r)).test(sm.basename(e));Z.isMatch=(e,t,r)=>Z(t,r)(e);Z.parse=(e,t)=>Array.isArray(e)?e.map(r=>Z.parse(r,t)):fi(e,V(F({},t),{fastpaths:!1}));Z.scan=(e,t)=>am(e,t);Z.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=Z.toRegex(a,t);return n===!0&&(u.state=e),u};Z.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=fi.fastpaths(e,t)),i.output||(i=fi(e,t)),Z.compileRe(i,t,r,n)};Z.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Z.constants=um;du.exports=Z});var yu=C((S0,gu)=>{"use strict";gu.exports=mu()});var Cu=C((k0,_u)=>{"use strict";var vu=T("util"),bu=Xa(),Pe=yu(),hi=jt(),xu=e=>e===""||e==="./",K=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,a=f=>{o.add(f.output),r&&r.onResult&&r.onResult(f)};for(let f=0;f<t.length;f++){let p=Pe(String(t[f]),V(F({},r),{onResult:a}),!0),c=p.state.negated||p.state.negatedExtglob;c&&s++;for(let h of e){let d=p(h,!0);!(c?!d.isMatch:d.isMatch)||(c?n.add(d.output):(n.delete(d.output),i.add(d.output)))}}let l=(s===t.length?[...o]:[...i]).filter(f=>!n.has(f));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(f=>f.replace(/\\/g,"")):t}return l};K.match=K;K.matcher=(e,t)=>Pe(e,t);K.isMatch=(e,t,r)=>Pe(t,r)(e);K.any=K.isMatch;K.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=K(e,t,V(F({},r),{onResult:o}));for(let a of i)s.includes(a)||n.add(a);return[...n]};K.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${vu.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>K.contains(e,n,r));if(typeof t=="string"){if(xu(e)||xu(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return K.isMatch(e,t,V(F({},r),{contains:!0}))};K.matchKeys=(e,t,r)=>{if(!hi.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=K(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};K.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Pe(String(i),r);if(n.some(s=>o(s)))return!0}return!1};K.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Pe(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};K.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${vu.inspect(e)}"`);return[].concat(t).every(n=>Pe(n,r)(e))};K.capture=(e,t,r)=>{let n=hi.isWindows(r),o=Pe.makeRe(String(e),V(F({},r),{capture:!0})).exec(n?hi.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};K.makeRe=(...e)=>Pe.makeRe(...e);K.scan=(...e)=>Pe.scan(...e);K.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of bu(String(n),t))r.push(Pe.parse(i,t));return r};K.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:bu(e,t)};K.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return K.braces(e,V(F({},t),{expand:!0}))};_u.exports=K});var Au=C((I0,cm)=>{cm.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var Ru=C(ve=>{"use strict";var wu=Au(),Le=process.env;Object.defineProperty(ve,"_vendors",{value:wu.map(function(e){return e.constant})});ve.name=null;ve.isPR=null;wu.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return Eu(n)});if(ve[e.constant]=r,r)switch(ve.name=e.name,typeof e.pr){case"string":ve.isPR=!!Le[e.pr];break;case"object":"env"in e.pr?ve.isPR=e.pr.env in Le&&Le[e.pr.env]!==e.pr.ne:"any"in e.pr?ve.isPR=e.pr.any.some(function(n){return!!Le[n]}):ve.isPR=Eu(e.pr);break;default:ve.isPR=null}});ve.isCI=!!(Le.CI||Le.CONTINUOUS_INTEGRATION||Le.BUILD_NUMBER||Le.RUN_ID||ve.name);function Eu(e){return typeof e=="string"?!!Le[e]:Object.keys(e).every(function(t){return Le[t]===e[t]})}});var ku=C((O0,Su)=>{"use strict";Su.exports=Ru().isCI});var Tu=C((P0,di)=>{"use strict";var fm=Object.prototype.hasOwnProperty,ce="~";function Gt(){}Object.create&&(Gt.prototype=Object.create(null),new Gt().__proto__||(ce=!1));function pm(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function Iu(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new pm(r,n||e,i),s=ce?ce+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function Ir(e,t){--e._eventsCount==0?e._events=new Gt:delete e._events[t]}function ae(){this._events=new Gt,this._eventsCount=0}ae.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)fm.call(r,n)&&t.push(ce?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};ae.prototype.listeners=function(t){var r=ce?ce+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};ae.prototype.listenerCount=function(t){var r=ce?ce+t:t,n=this._events[r];return n?n.fn?1:n.length:0};ae.prototype.emit=function(t,r,n,i,o,s){var a=ce?ce+t:t;if(!this._events[a])return!1;var u=this._events[a],l=arguments.length,f,p;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,o),!0;case 6:return u.fn.call(u.context,r,n,i,o,s),!0}for(p=1,f=new Array(l-1);p<l;p++)f[p-1]=arguments[p];u.fn.apply(u.context,f)}else{var c=u.length,h;for(p=0;p<c;p++)switch(u[p].once&&this.removeListener(t,u[p].fn,void 0,!0),l){case 1:u[p].fn.call(u[p].context);break;case 2:u[p].fn.call(u[p].context,r);break;case 3:u[p].fn.call(u[p].context,r,n);break;case 4:u[p].fn.call(u[p].context,r,n,i);break;default:if(!f)for(h=1,f=new Array(l-1);h<l;h++)f[h-1]=arguments[h];u[p].fn.apply(u[p].context,f)}}return!0};ae.prototype.on=function(t,r,n){return Iu(this,t,r,n,!1)};ae.prototype.once=function(t,r,n){return Iu(this,t,r,n,!0)};ae.prototype.removeListener=function(t,r,n,i){var o=ce?ce+t:t;if(!this._events[o])return this;if(!r)return Ir(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&Ir(this,o);else{for(var a=0,u=[],l=s.length;a<l;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=u.length===1?u[0]:u:Ir(this,o)}return this};ae.prototype.removeAllListeners=function(t){var r;return t?(r=ce?ce+t:t,this._events[r]&&Ir(this,r)):(this._events=new Gt,this._eventsCount=0),this};ae.prototype.off=ae.prototype.removeListener;ae.prototype.addListener=ae.prototype.on;ae.prefixed=ce;ae.EventEmitter=ae;typeof di!="undefined"&&(di.exports=ae)});var Pu=C((L0,Ou)=>{"use strict";Ou.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var Nu=C((N0,Tr)=>{"use strict";var hm=Pu(),mi=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},Lu=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let o=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let s=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new mi(s);typeof e.cancel=="function"&&e.cancel(),i(a)},t);hm(e.then(n,i),()=>{clearTimeout(o)})});Tr.exports=Lu;Tr.exports.default=Lu;Tr.exports.TimeoutError=mi});var Fu=C(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});function dm(e,t,r){let n=0,i=e.length;for(;i>0;){let o=i/2|0,s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}gi.default=dm});var Du=C(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});var mm=Fu(),$u=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=mm.default(this._queue,n,(o,s)=>s.priority-o.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};yi.default=$u});var Hu=C(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});var gm=Tu(),Mu=Nu(),ym=Du(),Or=()=>{},vm=new Mu.TimeoutError,Bu=class extends gm{constructor(t){var r,n,i,o;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Or,this._resolveIdle=Or,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:ym.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Or,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Or,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let s=this._timeout===void 0&&r.timeout===void 0?t():Mu.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(vm)});n(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(o,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};vi.default=Bu});var ju=C((M0,bi)=>{"use strict";var qu=(e,...t)=>new Promise(r=>{r(e(...t))});bi.exports=qu;bi.exports.default=qu});var Gu=C((B0,xi)=>{"use strict";var bm=ju(),Uu=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...l)=>{r++;let f=bm(a,...l);u(f),f.then(n,n)},o=(a,u,...l)=>{r<e?i(a,u,...l):t.push(i.bind(null,a,u,...l))},s=(a,...u)=>new Promise(l=>o(a,l,...u));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};xi.exports=Uu;xi.exports.default=Uu});var Yu=C(Ci=>{"use strict";var _i=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Ci.Semaphore=_i;var Wu=class extends _i{constructor(){super(1)}};Ci.Mutex=Wu});var Qu=C((q0,Ku)=>{"use strict";Ku.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var Ai=C((j0,zu)=>{"use strict";var xm=Qu();zu.exports=e=>typeof e=="string"?e.replace(xm(),""):e});var Zu=C((U0,wi)=>{"use strict";var Xu=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);wi.exports=Xu;wi.exports.default=Xu});var el=C((G0,Ju)=>{"use strict";var Vu="[\uD800-\uDBFF][\uDC00-\uDFFF]",_m=e=>e&&e.exact?new RegExp(`^${Vu}$`):new RegExp(Vu,"g");Ju.exports=_m});var rl=C((W0,tl)=>{"use strict";tl.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Ei=C((Y0,il)=>{var Wt=rl(),nl={};for(let e of Object.keys(Wt))nl[Wt[e]]=e;var R={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};il.exports=R;for(let e of Object.keys(R)){if(!("channels"in R[e]))throw new Error("missing channels property: "+e);if(!("labels"in R[e]))throw new Error("missing channel labels property: "+e);if(R[e].labels.length!==R[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=R[e];delete R[e].channels,delete R[e].labels,Object.defineProperty(R[e],"channels",{value:t}),Object.defineProperty(R[e],"labels",{value:r})}R.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,a,u;o===i?a=0:t===o?a=(r-n)/s:r===o?a=2+(n-t)/s:n===o&&(a=4+(t-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let l=(i+o)/2;return o===i?u=0:l<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,l*100]};R.rgb.hsv=function(e){let t,r,n,i,o,s=e[0]/255,a=e[1]/255,u=e[2]/255,l=Math.max(s,a,u),f=l-Math.min(s,a,u),p=function(c){return(l-c)/6/f+1/2};return f===0?(i=0,o=0):(o=f/l,t=p(s),r=p(a),n=p(u),s===l?i=n-r:a===l?i=1/3+t-n:u===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,l*100]};R.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=R.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};R.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),o=(1-t-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Cm(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}R.rgb.keyword=function(e){let t=nl[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(Wt)){let o=Wt[i],s=Cm(e,o);s<r&&(r=s,n=i)}return n};R.keyword.rgb=function(e){return Wt[e]};R.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};R.rgb.lab=function(e){let t=R.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};R.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let l=0;l<3;l++)o=t+1/3*-(l-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,u[l]=s*255;return u};R.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[t,a*100,s*100]};R.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};R.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,o*100,s*100]};R.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*t),a=1-n;o=6*t-s,(s&1)!=0&&(o=1-o);let u=r+o*(a-r),l,f,p;switch(s){default:case 6:case 0:l=a,f=u,p=r;break;case 1:l=u,f=a,p=r;break;case 2:l=r,f=a,p=u;break;case 3:l=r,f=u,p=a;break;case 4:l=u,f=r,p=a;break;case 5:l=a,f=r,p=u;break}return[l*255,f*255,p*255]};R.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};R.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};R.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(t-r),s=200*(r-n);return[i,o,s]};R.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;let a=o**3,u=i**3,l=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};R.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[t,s,i]};R.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[t,o,s]};R.rgb.ansi16=function(e,t=null){let[r,n,i]=e,o=t===null?R.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};R.hsv.ansi16=function(e){return R.rgb.ansi16(R.hsv.rgb(e),e[2])};R.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};R.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};R.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};R.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};R.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};R.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===t?u=(r-n)/s%6:i===r?u=2+(n-t)/s:u=4+(t-r)/s,u/=6,u%=1,[u*360,s*100,a*100]};R.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};R.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};R.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=t%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};R.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};R.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};R.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};R.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};R.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};R.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};R.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};R.gray.hsl=function(e){return[0,0,e[0]]};R.gray.hsv=R.gray.hsl;R.gray.hwb=function(e){return[0,100,e[0]]};R.gray.cmyk=function(e){return[0,0,0,e[0]]};R.gray.lab=function(e){return[e[0],0,0]};R.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};R.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var sl=C((K0,ol)=>{var Pr=Ei();function Am(){let e={},t=Object.keys(Pr);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function wm(e){let t=Am(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(Pr[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function Em(e,t){return function(r){return t(e(r))}}function Rm(e,t){let r=[t[e].parent,e],n=Pr[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=Em(Pr[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}ol.exports=function(e){let t=wm(e),r={},n=Object.keys(t);for(let i=n.length,o=0;o<i;o++){let s=n[o];t[s].parent!==null&&(r[s]=Rm(s,t))}return r}});var ul=C((Q0,al)=>{var Ri=Ei(),Sm=sl(),vt={},km=Object.keys(Ri);function Im(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Tm(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}km.forEach(e=>{vt[e]={},Object.defineProperty(vt[e],"channels",{value:Ri[e].channels}),Object.defineProperty(vt[e],"labels",{value:Ri[e].labels});let t=Sm(e);Object.keys(t).forEach(n=>{let i=t[n];vt[e][n]=Tm(i),vt[e][n].raw=Im(i)})});al.exports=vt});var dl=C((z0,hl)=>{"use strict";var ll=(e,t)=>(...r)=>`[${e(...r)+t}m`,cl=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},fl=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Lr=e=>e,pl=(e,t,r)=>[e,t,r],bt=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},Si,xt=(e,t,r,n)=>{Si===void 0&&(Si=ul());let i=n?10:0,o={};for(let[s,a]of Object.entries(Si)){let u=s==="ansi16"?"ansi":s;s===t?o[u]=e(r,i):typeof a=="object"&&(o[u]=e(a[t],i))}return o};function Om(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,o]of Object.entries(n))t[i]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[i]=t[i],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",bt(t.color,"ansi",()=>xt(ll,"ansi16",Lr,!1)),bt(t.color,"ansi256",()=>xt(cl,"ansi256",Lr,!1)),bt(t.color,"ansi16m",()=>xt(fl,"rgb",pl,!1)),bt(t.bgColor,"ansi",()=>xt(ll,"ansi16",Lr,!0)),bt(t.bgColor,"ansi256",()=>xt(cl,"ansi256",Lr,!0)),bt(t.bgColor,"ansi16m",()=>xt(fl,"rgb",pl,!0)),t}Object.defineProperty(hl,"exports",{enumerable:!0,get:Om})});var bl=C((X0,vl)=>{"use strict";var Pm=Zu(),Lm=el(),ml=dl(),gl=["","\x9B"],Nr=e=>`${gl[0]}[${e}m`,yl=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let o=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let s=ml.codes.get(Number.parseInt(i,10));if(s){let a=e.indexOf(s.toString());a===-1?n.push(Nr(t?s:o)):e.splice(a,1)}else if(t){n.push(Nr(0));break}else n.push(Nr(o))}if(t&&(n=n.filter((i,o)=>n.indexOf(i)===o),r!==void 0)){let i=Nr(ml.codes.get(Number.parseInt(r,10)));n=n.reduce((o,s)=>s===i?[s,...o]:[...o,s],[])}return n.join("")};vl.exports=(e,t,r)=>{let n=[...e],i=[],o=typeof r=="number"?r:n.length,s=!1,a,u=0,l="";for(let[f,p]of n.entries()){let c=!1;if(gl.includes(p)){let h=/\d[^m]*/.exec(e.slice(f,f+18));a=h&&h.length>0?h[0]:void 0,u<o&&(s=!0,a!==void 0&&i.push(a))}else s&&p==="m"&&(s=!1,c=!0);if(!s&&!c&&u++,!Lm({exact:!0}).test(p)&&Pm(p.codePointAt())&&(u++,typeof r!="number"&&o++),u>t&&u<=o)l+=p;else if(u===t&&!s&&a!==void 0)l=yl(i);else if(u>=o){l+=yl(i,!0,a);break}}return l}});var Gm={};fc(Gm,{default:()=>Um});var Mt=O(T("@yarnpkg/cli")),me=O(T("@yarnpkg/core")),fa=O(T("@yarnpkg/libzip")),G=O(T("@yarnpkg/fslib")),De=O(T("clipanion")),Vn=O(T("path"));var ir=".bundleignore";var Fi=O(T("fs")),$i=async e=>{try{return(0,Fi.readFileSync)(e,"utf-8").split(`
`)}catch(t){return[]}};var Di=O(T("path")),Mi=({ignoreFile:e,cwd:t})=>(0,Di.join)(t,e);var Yo=O(Qi());var Go=O(Uo()),Wo=async({cwd:e})=>{try{return(await(0,Go.default)(`${e}/**/*`,{dot:!0})).map(r=>{var n;return(n=r.split(`${e}/`)[1])!=null?n:""}).filter(Boolean)}catch(t){return[]}};var vn=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=Mi({ignoreFile:t,cwd:r}),i=(0,Yo.default)().add([...e,...await $i(n)]);return(await Wo({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var Ko=["package.json","package.yaml","package.yml"];var pr=O(T("path")),Pf={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,pr.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>Ko.map(t=>(0,pr.join)(e,t))},Lf=({cwd:e,rootDir:t})=>[...new Set(...[Object.values(Pf).map(r=>r({cwd:e,rootDir:t})).flat()])],Qo=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>Lf({cwd:r,rootDir:t})).flat();var Dt=O(T("@yarnpkg/fslib")),z=O(T("typanion")),_r=O(ua());var Kh=".yarnbuildrc.yml",Qh=z.isObject({folders:z.isObject({input:z.isString(),output:z.isString()}),exclude:z.isArray(z.isString()),bail:z.isBoolean(),ignoreFile:z.isString(),maxConcurrency:z.isOptional(z.applyCascade(z.isNumber(),[z.isInteger(),z.isInInclusiveRange(1,128)]))}),Zn={folders:{input:".",output:"build"},exclude:[],bail:!1,ignoreFile:ir,maxConcurrency:8};async function la(e){let t=Kh,r=Dt.ppath.join(e.projectCwd||e.startingCwd,t);if(Dt.xfs.existsSync(r)){let n=await Dt.xfs.readFilePromise(r,"utf8"),i=[];try{let o=(0,_r.load)(n,{schema:_r.JSON_SCHEMA});if(Qh(o,{errors:i}))return o;console.warn(i)}catch(o){let s="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(s=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${s}`)}}return Zn}async function ca(e){return await la(e)}async function Cr(e){var r;let t=await la(e);return V(F(F({},Zn),t),{folders:F(F({},Zn.folders),(r=t.folders)!=null?r:{})})}var Bt=class extends Mt.BaseCommand{constructor(){super(...arguments);this.json=De.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.outputDirectory=De.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=De.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your projecty root"});this.archiveName=De.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=De.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=De.Option.String("--ignore-file",ir,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}async removeUnusedPackages(t,r,n){var u;let{project:i,workspace:o}=await me.Project.find(n,r);if(!o)throw new Mt.WorkspaceRequiredError(i.cwd,r);let s=new Set([o]),a=await ca(n);this.exclude=a.exclude?[...this.exclude,...a.exclude]:this.exclude,this.ignoreFile=(u=a==null?void 0:a.ignoreFile)!=null?u:this.ignoreFile;for(let l of s)for(let f of me.Manifest.hardDependencies)for(let p of l.manifest.getForScope(f).values()){let c=i.tryWorkspaceByDescriptor(p);c!==null&&s.add(c)}for(let l of i.workspaces)s.has(l)||l.cwd!==t&&await G.xfs.removePromise(l.cwd)}async removeEmptyDirectories({cwd:t}){if(!G.xfs.statSync(t).isDirectory())return!1;let n=await G.xfs.readdirPromise(t);for(let i of n)await this.removeEmptyDirectories({cwd:G.ppath.join(t,i)});return n=await G.xfs.readdirPromise(t),n.length===0?(await G.xfs.removePromise(t),!0):!1}async removeExcluded({tmpDir:t,excluded:r,nonRemovableFiles:n,yarnDirectory:i,cacheDirectory:o,shouldRemoveEmptyDirectories:s=!1}){let a=`${t}/.git`;try{await G.xfs.lstatPromise(a)&&await G.xfs.removePromise(a)}catch(u){}await Promise.all(r.map(async u=>{if(!u.startsWith(i)&&!u.startsWith(o)&&!n.includes(u)&&!!u.startsWith(t))try{await G.xfs.lstatPromise(u)&&await G.xfs.removePromise(u)}catch(l){}})),s&&await this.removeEmptyDirectories({cwd:t})}async execute(){return await G.xfs.mktempPromise(async t=>{var L,Q,D,I;let r=`${this.context.cwd}`,n=G.ppath.join(r,this.archiveName);if(typeof this.outputDirectory=="string"){let E=pa(this.outputDirectory);if(G.xfs.existsSync(E)||await G.xfs.mkdirPromise(E),G.xfs.readdirSync(E).length!=0)return console.error("ERROR: --output-directory is not empty"),1;n=G.ppath.join(E,this.archiveName)}let i=await me.Configuration.find(this.context.cwd,this.context.plugins);if(i.projectCwd===null)throw new Error("Can't find project directory");let o=r.replace(i.projectCwd,""),s=!1,a;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")return console.error("ERROR: you set --no-compress, but did not specify --output-directory"),1;if(a=pa(this.outputDirectory),a.startsWith(i.projectCwd))return console.error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`),1;s=!0}let u=new G.NodeFS;await G.xfs.copyPromise(t,i.projectCwd,{baseFs:u});let l=`${t}${o}`,f=`${l}/${this.archiveName}`,p=this.exclude;try{await G.xfs.lstatPromise(f)&&p.push(f)}catch(E){}let c=await me.Configuration.find(l,this.context.plugins);c.use("<custom>",{enableNetwork:!1},l);let h=await me.Cache.find(c),d=`${t}/.yarn`,m=h.cwd;await this.removeUnusedPackages(t,l,c);let{project:b,workspace:x}=await me.Project.find(c,l);if(!x)throw new Mt.WorkspaceRequiredError(b.cwd,l);let _=new Set([x]),S=Qo({workspaces:b.workspaces,rootDir:t});p=await vn({cwd:t,ignoreFile:this.ignoreFile,exclude:p});for(let E of _)for(let j of me.Manifest.hardDependencies)for(let v of E.manifest.getForScope(j).values()){let H=b.tryWorkspaceByDescriptor(v);H!==null&&_.add(H)}for(let E of _){let j=await vn({cwd:E.cwd,ignoreFile:this.ignoreFile,exclude:p});await this.removeExcluded({tmpDir:t,excluded:j,nonRemovableFiles:S,yarnDirectory:d,cacheDirectory:m,shouldRemoveEmptyDirectories:!1})}await this.removeExcluded({tmpDir:t,excluded:p,nonRemovableFiles:S,yarnDirectory:d,cacheDirectory:m,shouldRemoveEmptyDirectories:!0});for(let E of b.workspaces)E.manifest.devDependencies.clear(),!_.has(E)&&(E.manifest.dependencies.clear(),E.manifest.peerDependencies.clear());if((Q=(L=x==null?void 0:x.manifest)==null?void 0:L.raw)==null?void 0:Q.main){let E=x.relativeCwd+Vn.default.posix.sep+((I=(D=x==null?void 0:x.manifest)==null?void 0:D.raw)==null?void 0:I.main),j=".pnp.cjs";G.xfs.writeFilePromise(`${t}${Vn.default.posix.sep}entrypoint.js`,zh(E,j))}return(await me.StreamReport.start({configuration:c,json:this.json,stdout:this.context.stdout,includeLogs:!0},async E=>{if(await b.install({cache:h,report:E}),s&&typeof a!="undefined")E.reportInfo(null,"Moving build to output directory"),await u.copyPromise(a,t);else{let j=await(0,fa.getLibzipPromise)();E.reportInfo(null,"Creating archive");let v=new G.ZipFS(n,{create:!0,libzip:j}),H="bundle";E.reportInfo(null,"Copying files to archive"),await v.copyPromise(H,t,{baseFs:u}),v.saveAndClose(),E.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:n})}})).exitCode()})}};Bt.paths=[["bundle"]],Bt.usage=De.Command.Usage({category:"Build commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var ha=Bt,zh=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function pa(e){let t=G.npath.toPortablePath(e);return G.ppath.resolve(t)}var Mr=O(T("@yarnpkg/cli")),xe=O(T("@yarnpkg/core")),_e=O(T("clipanion")),$l=O(T("path")),Oi=O(Cu());var B=O(T("@yarnpkg/core")),Kt=O(ku()),Sl=O(T("os")),Ee=O(T("@yarnpkg/fslib")),kl=O(T("events")),Il=O(Hu()),Qe=O(T("path")),Tl=O(Gu()),Ti=O(Yu()),Qt=O(Ai()),Fr=O(bl());var _t=class{constructor(){this.nodes={};this.size=0;this.runSize=0;this.ran=new Set}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new xl(t,this);return this.nodes[t]=r,this.size++,r}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}async resolve(t){let r=new Set,n=new Set;await this.resolveNode(t,r,n)}async resolveNode(t,r,n){n.add(t.id);for(let i of t.dependencies)if(!r.has(i.id)){if(n.has(i.id))throw new _l(`${t.id} has a cyclic dependency on ${i.id}`);await this.resolveNode(i,r,n)}r.add(t.id),n.delete(t.id)}async run(t){let r=new Set,n=new Set,i={};for(let o of t)this.resolveQueue(o,r,i);return await new Promise(o=>{this.workLoop(r,i,n,o)}),i}workLoop(t,r,n,i){if(t.size!==0&&t.forEach(o=>{var s,a;o.canStart(r)&&(((s=o==null?void 0:o.node)==null?void 0:s.runCallback)?((a=o==null?void 0:o.node)==null||a.runCallback(r),n.add(o.node)):r[o.node.id]={success:!0,done:!0},t.delete(o))}),n.forEach((o,s)=>{r[o.id].done&&n.delete(s)}),Object.keys(r).map(o=>{var s,a;return(a=(s=r[o])==null?void 0:s.done)!=null?a:!0}).every(o=>o===!0)){i();return}setTimeout(()=>this.workLoop(t,r,n,i),30)}resolveQueue(t,r,n){let i=[];for(let o of t.dependencies)if(i.push(o.id),!n[o.id]&&o.runCallback){n[o.id]=F({},_t.RunLogInit);let s=this.resolveQueue(o,r,n),a={node:o,canStart:_t.QueueItemCanStart(s)};r.add(a)}if(!n[t.id]&&t.runCallback){n[t.id]=F({},_t.RunLogInit);let o={node:t,canStart:_t.QueueItemCanStart(i)};r.add(o)}return i}},Yt=_t;Yt.RunLogInit={success:!1,done:!1},Yt.QueueItemCanStart=t=>r=>t.map(n=>{var i,o;return(o=(i=r[n])==null?void 0:i.done)!=null?o:!0}).every(n=>n===!0);var xl=class{constructor(t,r){this.id=t,this.dependencies=[],this.graph=r}addDependency(t){return this.dependencies.push(t),this}addWorkSpace(t){return this.workspace=t,this}addRunCallback(t){return this.runCallback?this:(this.runCallback=r=>t().then(n=>{r[this.id]={done:!0,success:n}}),this.graph.runSize++,this)}},_l=class extends Error{constructor(t){super(t);this.name="CyclicDependencyError",this.code="YN0003"}};var Cl=O(Ai()),Nm="",be=Nm+"[",ki=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);ki.cursorUp(t)}static cursorUp(t=1){process.stdout.write(be+`${t}A`)}static cursorSave(){process.stdout.write(be+"s")}static cursorRestore(){process.stdout.write(be+"u")}static autoWrap(t){t?process.stdout.write(be+"?7h"):process.stdout.write(be+"?7l")}static clearScreenDown(){process.stdout.write(be+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(be+"6n")})}static setScrollableRegion(t,r){process.stdout.write(be+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(be+"r")}static moveTo(t){process.stdout.write(be+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(be+"H")}static alternateScreen(){process.stdout.write(be+"?1049h")}static mainScreen(){process.stdout.write(be+"?1049l")}static linesRequired(t,r){var o;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((o=(0,Cl.default)(t).match(n))!=null?o:[""]).length-1}},we=ki;we.row=0,we.column=0;var wl=O(T("child_process")),El=O(T("util"));var Al=()=>process.platform==="win32"?"windows":"unix";var Fm=(0,El.promisify)(wl.exec),Rl=async e=>{let t=Al(),r=(({platform:i,pid:o})=>{switch(i){case"unix":return`pgrep "-P ${o}"`;case"windows":return`wmic process where (ParentProcessId=${o}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await Fm(r);n=i.split(`
`).filter(Boolean).map(o=>parseInt(o,10)).filter(o=>!isNaN(o))}catch(i){}return n};var Ke={hasBeenTerminated:!1,callId:0},Ii=async(e=0)=>{if(e!==Ke.callId||Ke.hasBeenTerminated)return;let t=process.pid;(await Rl(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(o){}});let n=Ke.callId+1;Ke.callId=n,setTimeout(async()=>{Ii(n)},50)};var $m="yarn.build.json",Ol=80,Dm="-".repeat(Ol),Re;(function(o){o.pending="pending",o.skipped="skipped",o.inProgress="inProgress",o.failed="failed",o.succeeded="succeeded"})(Re||(Re={}));var W;(function(l){l.pending="pending",l.start="start",l.info="info",l.error="error",l.skipped="skipped",l.success="success",l.fail="fail",l.finish="finish",l.forceQuit="force-quit"})(W||(W={}));var Pl=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:o,pluginConfiguration:s,dryRun:a,ignoreRunCache:u,verbose:l,concurrency:f,shouldBailInstantly:p}){this.runGraph=new Yt;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.shouldBailInstantly=!1;this.entrypoints=[];this.runReporter=new kl.EventEmitter;this.runReport={mutex:new Ti.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,bail:!1,workspaces:{},done:!1};this.nextUnitOfWork=[];this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(W.pending,(t,r)=>{this.runReport.mutex.acquire().then(n=>{this.runReport.workspaces[t]={name:r,stdout:[],stderr:[],done:!1,fail:!1},n()})}),this.runReporter.on(W.start,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]=V(F({},this.runReport.workspaces[t]),{start:Date.now(),runScript:n,name:r}),i()})}),this.runReporter.on(W.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(W.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{this.runReport.workspaces[t].stderr.push(r),this.logError(`${t} ${r}`),n()})}),this.runReporter.on(W.success,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t]=V(F({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++,r()})}),this.runReporter.on(W.skipped,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r()})}),this.runReporter.on(W.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,this.logError(`${t} ${r}`),n()})})};this.getDependenciesCount=async t=>{let r=0;for(let n of B.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async t=>{var o,s,a,u,l;let r=this.runGraph.addNode(t.relativeCwd).addWorkSpace(t),n=!1;this.runMutexes[t.relativeCwd]=new Ti.Mutex;for(let f of B.Manifest.hardDependencies)for(let p of t.manifest.getForScope(f).values()){let c=this.project.tryWorkspaceByDescriptor(p);if(c===null)continue;let h=this.runGraph.addNode(c.relativeCwd).addWorkSpace(c);r.addDependency(h);let d=await this.plan(c),m=!1;c!==this.project.topLevelWorkspace&&(m=await this.checkIfRunIsRequired(c)),(m||d)&&(n=!0,h.addRunCallback(this.createRunItem(c)))}let i=!1;if(t!==this.project.topLevelWorkspace&&(i=await this.checkIfRunIsRequired(t)),this.runReporter.emit(W.pending,t.relativeCwd),n||i)return this.runReporter.emit(W.pending,t.relativeCwd,`${((o=t.manifest.name)==null?void 0:o.scope)?`@${(s=t.manifest.name)==null?void 0:s.scope}/`:""}${(a=t.manifest.name)==null?void 0:a.name}`),r.addRunCallback(this.createRunItem(t)),!0;{let f=(u=this.runLog)==null?void 0:u.get(`${t.relativeCwd}#${this.runCommand}`);f&&((l=this.runLog)==null||l.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:f.lastModified,status:Re.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}))}return!1};this.run=async()=>{var i,o;if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),!this.dryRun&&!Kt.default&&(we.pad(this.concurrency+3),this.raf(this.waitUntilDone)),this.dryRun)return!0;this.currentRunTarget=this.runTargets.length>1?"All":(o=(i=this.runTargets[0])==null?void 0:i.relativeCwd)!=null?o:"Nothing to run",Kt.default||process.stderr.write(`
`);let t=this.generateHeaderString();await this.runGraph.run(this.entrypoints);let r=await this.runReport.mutex.acquire();if(this.runReport.done=!0,r(),Kt.default||(we.cursorUp(we.linesRequired(this.runReport.previousOutput,process.stdout.columns)),we.clearScreenDown()),this.runReport.failCount!==0){let s=[];process.stdout.write(this.formatHeader(t)+`
`);let a=!1;for(let u in this.runReport.workspaces){let l=this.runReport.workspaces[u];if(l.fail&&s.push(u),l.stdout.length!==0||l.stderr.length!==0){a=!0;let f=this.formatHeader(`Output: ${B.formatUtils.pretty(this.configuration,u,B.FormatType.NAME)}`,2);process.stdout.write(f+`
`)}if(l.stdout.length!==0&&(a=!0,l.stdout.forEach(f=>{f.split(`
`).forEach(c=>{c.length!==0&&process.stdout.write(c+`
`)})})),l.stderr.length!==0){a=!0;let f="[stderr]";process.stderr.write(f+`
`),l.stderr.forEach(p=>{(p instanceof Error?p.toString():`${p}`).split(`
`).forEach(d=>{d.length!==0&&process.stderr.write(d+`
`)})})}}if(a&&process.stdout.write(this.grey(Dm)+`
`),s.length>0){let u=this.grey(`ERROR for script ${t}
The following packages returned an error.
`);process.stderr.write(u),s.forEach(l=>{let f=`- ${B.formatUtils.pretty(this.configuration,l,B.FormatType.NAME)}`;process.stderr.write(f+`
`)})}process.stderr.write(this.grey("Search `Output: path` to find the start of the output.\n"))}let n=this.generateFinalReport();return process.stdout.write(n),await this.saveRunLog(),this.runReport.failCount===0};this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=this.generateProgressString(t);we.cursorUp(we.linesRequired(this.runReport.previousOutput,process.stdout.columns)),we.clearScreenDown(),process.stdout.write(r),this.runReport.previousOutput=r,Mm(90).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>B.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=B.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=B.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),o=B.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${o} ${zt(this.runReport.runStart,t)}`)+`
`}return r};this.generateFinalReport=()=>{var i;let t=this.formatHeader(`${B.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?B.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`)+`
`,r=this.formatHeader("Summary")+`
`;if(this.runReport.runStart){let o=this.runReport.skipCount+(this.runReport.totalJobs-this.runReport.skipCount-this.runReport.failCount-this.runReport.successCount),s=B.formatUtils.pretty(this.configuration,`Success: ${this.runReport.successCount}`,"green"),a=B.formatUtils.pretty(this.configuration,`Fail: ${this.runReport.failCount}`,"red"),u=B.formatUtils.pretty(this.configuration,`Skipped: ${o}`,"white"),l=B.formatUtils.pretty(this.configuration,`Total: ${this.runReport.totalJobs}`,"white");r+=s+`
`+a+`
`+u+`
`+l+`
`+this.grey("---")+`
`}let n=50;for(let o in this.runReport.workspaces)n+=(i=this.runReport.workspaces[o].runtimeSeconds)!=null?i:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let o=n,a=Date.now()-this.runReport.runStart,u=zt(a,o);Kt.default||(r+=`Cumulative: (cpu): ${zt(0,n)}
`,r+=`Saved: ${u}
`)}return this.runReport.runStart&&(r+="Runtime (wall): "+zt(Date.now(),this.runReport.runStart)+`
`),r+=t,r};this.createRunItem=t=>async()=>await this.limit(async()=>{var o,s,a,u,l,f,p,c,h;let r=t.relativeCwd,n=t.manifest.scripts.get(this.runCommand),i=(o=this.runLog)==null?void 0:o.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(W.start,t.relativeCwd,`${((s=t.manifest.name)==null?void 0:s.scope)?`@${(a=t.manifest.name)==null?void 0:a.scope}/`:""}${(u=t.manifest.name)==null?void 0:u.name}`,n),!n)return this.verbose&&this.runReporter.emit(W.info,t.relativeCwd,`Missing \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(W.success,t.relativeCwd),!0;try{if(this.runReport.bail)return this.runReporter.emit(W.skipped,t.relativeCwd),(l=this.runLog)==null||l.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:i==null?void 0:i.lastModified,status:Re.skipped,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),!1;let d=await this.cli(this.runCommand,t.cwd,this.runReporter,r);if(d!==0)return this.shouldBailInstantly&&this.runReport.bail&&d>100?(this.runReporter.emit(W.skipped,t.relativeCwd),(f=this.runLog)==null||f.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:i==null?void 0:i.lastModified,status:Re.skipped,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),!1):(this.runReporter.emit(W.fail,t.relativeCwd),(p=this.runLog)==null||p.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:i==null?void 0:i.lastModified,status:Re.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.shouldBailInstantly&&!this.runReport.bail&&(this.runReport.bail=!0,Ii()),!1);(c=this.runLog)==null||c.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:i==null?void 0:i.lastModified,status:Re.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.runReporter.emit(W.success,t.relativeCwd)}catch(d){return this.runReporter.emit(W.fail,t.relativeCwd,d),(h=this.runLog)==null||h.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:i==null?void 0:i.lastModified,status:Re.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),!1}return!0});let c=f!=null?f:Math.max(1,(0,Sl.cpus)().length);this.configuration=o,this.pluginConfiguration=s,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=l,this.concurrency=c,this.shouldBailInstantly=p!=null?p:this.shouldBailInstantly,this.limit=(0,Tl.default)(c),this.queue=new Il.default({concurrency:c,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.verbose&&(this.errorLogFile=Ee.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"}))}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return Ee.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return Ee.ppath.resolve(this.project.cwd,".yarn",$m)}async readRunLog(){let t=new Map;try{let r=await Ee.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{lastModified:r.packages[n].lastModified,status:r.packages[n].status,haveCheckedForRerun:!1,rerun:!0,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await Ee.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:F({},t&&t.packages)};for(let[n,i]of this.runLog)i.status===Re.succeeded&&(r.packages[n]=F(F({},r.packages[n]),this.runLog.get(n)));await Ee.xfs.writeJsonPromise(this.getRunLogPath(),r)}logError(t){this.verbose&&process.stderr.write((0,Qt.default)(t)+`
`)}async addRunTarget(t,r=!1){this.entrypoints.push(this.runGraph.addNode(t.relativeCwd));let n=await this.plan(t);if(r){let i=1+await this.getDependenciesCount(t);this.runReport.totalJobs=i}n&&this.runTargets.push(t)}async checkIfRunIsRequired(t){var a,u,l,f,p;if(this.ignoreRunCache===!0)return!0;let r=!1,n=Ee.ppath.resolve(t.project.cwd,t.relativeCwd),i,o;((a=t==null?void 0:t.manifest)==null?void 0:a.raw["yarn.build"])&&typeof(t==null?void 0:t.manifest.raw["yarn.build"].output)=="string"?i=`${n}${Qe.default.posix.sep}${t==null?void 0:t.manifest.raw["yarn.build"].output}`:this.pluginConfiguration.folders.output?i=`${n}${Qe.default.posix.sep}${this.pluginConfiguration.folders.output}`:(t==null?void 0:t.manifest.raw.main)&&(i=`${n}${Qe.default.posix.sep}${t==null?void 0:t.manifest.raw.main.substring(0,t==null?void 0:t.manifest.raw.main.lastIndexOf(Qe.default.posix.sep))}`),((u=t==null?void 0:t.manifest)==null?void 0:u.raw["yarn.build"])&&typeof(t==null?void 0:t.manifest.raw["yarn.build"].input)=="string"?o=`${n}${Qe.default.posix.sep}${t==null?void 0:t.manifest.raw["yarn.build"].input}`:this.pluginConfiguration.folders.input&&(o=`${n}${Qe.default.posix.sep}${this.pluginConfiguration.folders.input}`),(o==null?void 0:o.endsWith("/."))&&(o=o.substring(0,o.length-2));let s=await this.runReport.mutex.acquire();try{let c=(l=this.runLog)==null?void 0:l.get(`${t.relativeCwd}#${this.runCommand}`);if(c==null?void 0:c.haveCheckedForRerun)return(f=c==null?void 0:c.rerun)!=null?f:!0;let h=await Ll(o!=null?o:n,i);(c==null?void 0:c.lastModified)!==h&&(r=!0),(p=this.runLog)==null||p.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:h,status:r?Re.succeeded:Re.pending,haveCheckedForRerun:!0,rerun:r,command:this.runCommand})}catch(c){this.logError(`${t.relativeCwd}: failed to get lastModified (${c})`)}finally{s()}return r}formatHeader(t,r=0){let n=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,i=(0,Qt.default)(n).length;return n+this.grey("-".repeat(Ol-i))}generateHeaderString(){return`${B.formatUtils.pretty(this.configuration,`${this.runCommand}`,B.FormatType.CODE)} for ${B.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",B.FormatType.SCOPE)}${this.dryRun?B.formatUtils.pretty(this.configuration," --dry-run",B.FormatType.NAME):""}`}generateProgressString(t){let r="",n=s=>this.grey(`[${s}]`),i=B.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`;let o=1;for(let s in this.runReport.workspaces){let a=this.runReport.workspaces[s];if(!a||!a.start||a.done)continue;this.runReport.runStart&&(this.runReport.workspaces[s].runtimeSeconds=t-this.runReport.runStart);let u=B.formatUtils.pretty(this.configuration,s,B.FormatType.NAME),l=B.formatUtils.pretty(this.configuration,`(${a.runScript})`,B.FormatType.REFERENCE),f=a.start?B.formatUtils.pretty(this.configuration,zt(a.start,t),B.FormatType.RANGE):"",p=n(o++),c=" ".repeat(p.length-1),h=B.formatUtils.pretty(this.configuration,a.name,B.FormatType.NAME),d=`${p} ${u}${h} ${l} ${f}
`,m="",b="",x="";(0,Qt.default)(d).length>=process.stdout.columns&&(m=`${p} ${u}${h}
`,b=`${c} ${l} ${f}
`,(0,Qt.default)(m).length>=process.stdout.columns&&(m=(0,Fr.default)(`${p} ${u}
`,0,process.stdout.columns),b=(0,Fr.default)(`${c} ${h}
`,0,process.stdout.columns),x=(0,Fr.default)(`${c} ${l} ${f}
`,0,process.stdout.columns)),d=m+b+x),r+=d}for(o;o<this.concurrency+1;)r+=`${n(o++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},Ll=async(e,t)=>{let r=0,n=await Ee.xfs.readdirPromise(e);return await Promise.all(n.map(async i=>{let o=`${e}${Qe.default.posix.sep}${i}`;if(t&&o.startsWith(t))return;let s=await Ee.xfs.statPromise(o);if(s.isFile()&&s.mtimeMs>r&&(r=s.mtimeMs),s.isDirectory()){let a=await Ll(o,t);a>r&&(r=a)}})),r},zt=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function Mm(e){return new Promise(t=>setTimeout(t,e))}var $r=Pl;var Nl=O(T("@yarnpkg/core")),Fl=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...Fl(i,t))}return r},Dr=async({targetWorkspace:e,project:t,supervisor:r})=>{if(e.workspacesCwds.size!==0){let n=Fl(e,t);r.runReport.totalJobs=n.length;for(let i of n){for(let o of Nl.Manifest.hardDependencies)for(let s of i.manifest.getForScope(o).values()){let a=t.tryWorkspaceByDescriptor(s);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e,!0)};var Xt=class extends Mr.BaseCommand{constructor(){super(...arguments);this.json=_e.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=_e.Option.Boolean("-A,--all",!1,{description:"Build all workspaces of a project"});this.buildCommand=_e.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=_e.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=_e.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=_e.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a build, but not actually run it"});this.ignoreBuildCache=_e.Option.Boolean("--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=_e.Option.String("-m,--max-concurrency",{description:"is the maximum number of builds that can run at a time, defaults to the number of logical CPUs on the current machine. Will override the global config option."});this.shouldBailInstantly=_e.Option.Boolean("--bail",!1,{description:"exit immediately upon build failing"});this.buildTargets=_e.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.buildLog={}}async execute(){var p,c;let t=await xe.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await xe.Project.find(t,this.context.cwd);if(!n)throw new Mr.WorkspaceRequiredError(r.cwd,this.context.cwd);let i=this.all?r.topLevelWorkspace:n,o=[i,...this.buildTargets.length>0?i.getRecursiveWorkspaceChildren():[]],s=h=>this.buildTargets.some(d=>Oi.default.isMatch(xe.structUtils.stringifyIdent(h.locator),d)||Oi.default.isMatch(h.cwd,`${t.projectCwd}${$l.default.posix.sep}${d}`)),a=this.buildTargets.length>0?o.filter(s):o,u=await Cr(t);this.shouldBailInstantly=(p=this.shouldBailInstantly)!=null?p:u.bail,this.shouldBailInstantly=(c=this.shouldBailInstantly)!=null?c:u.bail;let l=this.maxConcurrency===void 0?u.maxConcurrency:parseInt(this.maxConcurrency),f=await xe.StreamReport.start({configuration:t,json:this.json,stdout:this.context.stdout,includeLogs:!0},async h=>{let d=async(x,_,S,P)=>{let L=new xe.miscUtils.BufferStream;L.on("data",D=>S==null?void 0:S.emit(W.info,P,D&&D.toString()));let Q=new xe.miscUtils.BufferStream;if(Q.on("data",D=>S==null?void 0:S.emit(W.error,P,D&&D.toString())),this.forceQuit)return L.destroy(),Q.destroy(),L.end(),Q.end(),2;try{let D=await this.cli.run(["run",x],{cwd:_,stdout:L,stderr:Q})||0;return L.end(),Q.end(),D}catch(D){L.end(),Q.end()}return 2},m=new $r({project:r,configuration:t,pluginConfiguration:u,report:h,runCommand:this.buildCommand,cli:d,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:l,shouldBailInstantly:this.shouldBailInstantly});m.runReporter.on(W.forceQuit,()=>{this.forceQuit=!0}),await m.setup();for(let x of a)await Dr({targetWorkspace:x,project:r,supervisor:m});await m.run()===!1&&h.reportError(xe.MessageName.BUILD_FAILED,"Build failed")});return Ke.hasBeenTerminated=!0,f.exitCode()}};Xt.paths=[["build"]],Xt.usage=_e.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var Dl=Xt;var Ql=O(T("@yarnpkg/cli")),zl=O(T("@yarnpkg/core")),Hr=O(T("@yarnpkg/core")),Xl=O(T("clipanion"));var Se=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var Ml=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>Se(i)),n=Array.from(t.workspaces.values()).map(i=>Se(i.manifest.name));return r.filter(i=>n.includes(i))};var Bl=({project:e,workspaceName:t})=>e.workspaces.find(n=>Se(n.manifest.name)===t);var ql=O(T("@yarnpkg/core"));var Bm={firstCharacters:"\u27A4 ",tabString:"\u2502 "},Hl="gray",Zt=({format:e,padding:t,step:r=5,characters:n=Bm})=>{let{firstCharacters:i,tabString:o}=n,s=o.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((l,f)=>f<s.length?s[f]:l).join("");process.stdout.write(e(u,Hl))}process.stdout.write(e(i,Hl))};var Hm=ql.FormatType.NAME,jl="red",Ul=({format:e,circular:t,dependency:r,parents:n,current:i,project:o,padding:s=0})=>{if(t){Zt({format:e,padding:s+1}),process.stdout.write(e(r,Hm)),process.stdout.write(e(" -> circular dependency",jl)),process.stdout.write(`
`);return}let a=Bl({project:o,workspaceName:r});if(!a){Zt({format:e,padding:s+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",jl)),process.stdout.write(`
`);return}Br({format:e,project:o,parent:i,parents:[...n,i],padding:s+1,workspace:a})};var Gl=({format:e,workspace:t,parent:r,parents:n,project:i,padding:o=0})=>{let s=Ml({workspace:t,project:i});for(let a of s)Ul({format:e,workspace:t,project:i,padding:o,parent:r,parents:n,current:Se(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var Wl=O(T("@yarnpkg/core"));var qm=Wl.FormatType.NAME,Yl=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=Se(n);Zt({format:e,padding:r}),process.stdout.write(e(i,qm)),process.stdout.write(`
`)};var Br=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:o})=>{Yl({workspace:t,padding:i,format:e}),Gl({parents:n,workspace:t,project:r,padding:i,parent:o,format:e})};var Vt=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var Kl=({workspace:e,format:t})=>{let r=Se(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),Vt({padding:1})};var Jt=class extends Ql.BaseCommand{async execute(){let t=await Hr.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await Hr.Project.find(t,this.context.cwd);if(!n)return 0;let i=(o,s)=>zl.formatUtils.pretty(t,o,s);return Vt({padding:1}),Kl({workspace:n,format:i}),Br({parents:[],workspace:n,project:r,format:i}),Vt({padding:2}),0}};Jt.paths=[["build","query"]],Jt.usage=Xl.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.
    
        `});var Zl=Jt;var Vl=O(T("@yarnpkg/cli")),ke=O(T("@yarnpkg/core")),Be=O(T("clipanion")),Jl=O(T("path"));var er=class extends Vl.BaseCommand{constructor(){super(...arguments);this.json=Be.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.verbose=Be.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.ignoreTestCache=Be.Option.Boolean("--ignore-cache",!1,{description:"every package will be tested, regardless of whether is has changed or not."});this.maxConcurrency=Be.Option.String("-m,--max-concurrency",{description:"is the maximum number of tests that can run at a time, defaults to the number of logical CPUs on the current machine. Will override the global config option."});this.shouldBailInstantly=Be.Option.Boolean("--bail",!1,{description:"exit immediately upon build failing"});this.runTarget=Be.Option.Rest();this.forceQuit=!1;this.runLog={}}async execute(){var o;let t=await ke.Configuration.find(this.context.cwd,this.context.plugins),r=await Cr(t);this.shouldBailInstantly=(o=this.shouldBailInstantly)!=null?o:r.bail;let n=this.maxConcurrency===void 0?r.maxConcurrency:parseInt(this.maxConcurrency),i=await ke.StreamReport.start({configuration:t,json:this.json,stdout:this.context.stdout,includeLogs:!0},async s=>{let a=this.context.cwd;typeof this.runTarget[0]=="string"&&(a=`${t.projectCwd}${Jl.default.posix.sep}${this.runTarget[0]}`);let{project:u,workspace:l}=await ke.Project.find(t,a),f=l||u.topLevelWorkspace,p=async(d,m,b,x)=>{let _=new ke.miscUtils.BufferStream;_.on("data",P=>b==null?void 0:b.emit(W.info,x,P&&P.toString()));let S=new ke.miscUtils.BufferStream;if(S.on("data",P=>b==null?void 0:b.emit(W.error,x,P&&P.toString())),this.forceQuit)return _.destroy(),S.destroy(),_.end(),S.end(),2;try{let P=await this.cli.run(["run",d],{cwd:m,stdout:_,stderr:S})||0;return _.end(),S.end(),P}catch(P){_.end(),S.end()}return 2},c=new $r({project:u,configuration:t,pluginConfiguration:r,report:s,runCommand:"test",cli:p,dryRun:!1,ignoreRunCache:this.ignoreTestCache,verbose:this.verbose,concurrency:n,shouldBailInstantly:this.shouldBailInstantly});c.runReporter.on(W.forceQuit,()=>{this.forceQuit=!0}),await c.setup(),await Dr({targetWorkspace:f,project:u,supervisor:c}),await c.run()===!1&&s.reportError(ke.MessageName.BUILD_FAILED,"Test failed")});return Ke.hasBeenTerminated=!0,i.exitCode()}};er.paths=[["test"]],er.usage=Be.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
    In a monorepo with internal packages that depend on others, this command
    will traverse the dependency graph and efficiently ensure, the packages
    are tested in the right order.
    `});var ec=er;var jm={commands:[ha,Zl,Dl,ec]},Um=jm;return Gm;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
