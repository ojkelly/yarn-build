/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-bundle",
factory: function (require) {
"use strict";var plugin=(()=>{var KT=Object.create;var Hi=Object.defineProperty;var WT=Object.getOwnPropertyDescriptor;var XT=Object.getOwnPropertyNames;var zT=Object.getPrototypeOf,QT=Object.prototype.hasOwnProperty;var C=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ZT=(e,t)=>{for(var r in t)Hi(e,r,{get:t[r],enumerable:!0})},cf=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of XT(t))!QT.call(e,i)&&i!==r&&Hi(e,i,{get:()=>t[i],enumerable:!(n=WT(t,i))||n.enumerable});return e};var Te=(e,t,r)=>(r=e!=null?KT(zT(e)):{},cf(t||!e||!e.__esModule?Hi(r,"default",{value:e,enumerable:!0}):r,e)),JT=e=>cf(Hi({},"__esModule",{value:!0}),e);var yf=c((L1,Af)=>{function pf(e){return Array.isArray(e)?e:[e]}var mf="",hf=" ",eu="\\",ev=/^\s+$/,tv=/^\\!/,rv=/^\\#/,nv=/\r?\n/g,iv=/^\.*\/|^\.+$/,tu="/",gf=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",sv=(e,t,r)=>Object.defineProperty(e,t,{value:r}),ov=/([0-z])-([0-z])/g,av=e=>e.replace(ov,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:mf),uv=e=>{let{length:t}=e;return e.slice(0,t-t%2)},cv=[[/\\?\s+$/,e=>e.indexOf("\\")===0?hf:mf],[/\\\s/g,()=>hf],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>eu],[/\\\\/g,()=>eu],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===eu?`\\[${r}${uv(n)}${i}`:i==="]"&&n.length%2===0?`[${av(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Ef=Object.create(null),lv=(e,t,r)=>{let n=Ef[e];if(n)return n;let i=cv.reduce((s,o)=>s.replace(o[0],o[1].bind(e)),e);return Ef[e]=r?new RegExp(i,"i"):new RegExp(i)},iu=e=>typeof e=="string",dv=e=>e&&iu(e)&&!ev.test(e)&&e.indexOf("#")!==0,_v=e=>e.split(nv),ru=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},fv=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(tv,"!").replace(rv,"#");let i=lv(e,n,t);return new ru(r,e,n,i)},pv=(e,t)=>{throw new t(e)},ht=(e,t,r)=>iu(e)?e?ht.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Sf=e=>iv.test(e);ht.isNotRelative=Sf;ht.convert=e=>e;var nu=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,sv(this,gf,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[gf]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(dv(t)){let r=fv(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,pf(iu(t)?_v(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&ht.convert(t);return ht(s,t,pv),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(tu)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(tu)+tu,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return pf(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Vi=e=>new nu(e),hv=()=>!1,gv=e=>ht(e&&ht.convert(e),e,hv);Vi.isPathValid=gv;Vi.default=Vi;Af.exports=Vi;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");ht.convert=e;let t=/^[a-z]:\//i;ht.isNotRelative=r=>t.test(r)||Sf(r)}});var vf=c((x1,Tf)=>{"use strict";Tf.exports=(...e)=>[...new Set([].concat(...e))]});var su=c((D1,Rf)=>{"use strict";var Ev=C("stream"),Of=Ev.PassThrough,mv=Array.prototype.slice;Rf.exports=Sv;function Sv(){let e=[],t=mv.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=Of(n);function a(){for(let l=0,f=arguments.length;l<f;l++)e.push(bf(arguments[l],n));return u(),this}function u(){if(r)return;r=!0;let l=e.shift();if(!l){process.nextTick(d);return}Array.isArray(l)||(l=[l]);let f=l.length+1;function _(){--f>0||(r=!1,u())}function m(g){function S(){g.removeListener("merge2UnpipeEnd",S),g.removeListener("end",S),s&&g.removeListener("error",y),_()}function y(O){o.emit("error",O)}if(g._readableState.endEmitted)return _();g.on("merge2UnpipeEnd",S),g.on("end",S),s&&g.on("error",y),g.pipe(o,{end:!1}),g.resume()}for(let g=0;g<l.length;g++)m(l[g]);_()}function d(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function bf(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=bf(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(Of(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var Pf=c(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.splitWhen=Fr.flatten=void 0;function Av(e){return e.reduce((t,r)=>[].concat(t,r),[])}Fr.flatten=Av;function yv(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}Fr.splitWhen=yv});var Cf=c(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.isEnoentCodeError=void 0;function Tv(e){return e.code==="ENOENT"}ki.isEnoentCodeError=Tv});var If=c($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.createDirentFromStats=void 0;var ou=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function vv(e,t){return new ou(e,t)}$i.createDirentFromStats=vv});var Nf=c(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.removeLeadingDotSegment=Qe.escape=Qe.makeAbsolute=Qe.unixify=void 0;var Ov=C("path"),bv=2,Rv=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function Pv(e){return e.replace(/\\/g,"/")}Qe.unixify=Pv;function Cv(e,t){return Ov.resolve(e,t)}Qe.makeAbsolute=Cv;function Iv(e){return e.replace(Rv,"\\$2")}Qe.escape=Iv;function Nv(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(bv)}return e}Qe.removeLeadingDotSegment=Nv});var wf=c((G1,Mf)=>{Mf.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var xf=c((j1,Lf)=>{var Mv=wf(),wv={"{":"}","(":")","[":"]"},Lv=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,xv=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;Lf.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Mv(t))return!0;var n=Lv,i;for(r&&r.strict===!1&&(n=xv);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?wv[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var Bf=c((H1,Df)=>{"use strict";var Dv=xf(),Bv=C("path").posix.dirname,Fv=C("os").platform()==="win32",au="/",Uv=/\\/g,qv=/[\{\[].*[\}\]]$/,Gv=/(^|[^\\])([\{\[]|\([^\)]+$)/,jv=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Df.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Fv&&t.indexOf(au)<0&&(t=t.replace(Uv,au)),qv.test(t)&&(t+=au),t+="a";do t=Bv(t);while(Dv(t)||Gv.test(t));return t.replace(jv,"$1")}});var Yi=c(Fe=>{"use strict";Fe.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;Fe.find=(e,t)=>e.nodes.find(r=>r.type===t);Fe.exceedsLimit=(e,t,r=1,n)=>n===!1||!Fe.isInteger(e)||!Fe.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;Fe.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Fe.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;Fe.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;Fe.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;Fe.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);Fe.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var Ki=c((k1,Uf)=>{"use strict";var Ff=Yi();Uf.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&Ff.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Ff.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var Gf=c(($1,qf)=>{"use strict";qf.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Xf=c((Y1,Wf)=>{"use strict";var jf=Gf(),zt=(e,t,r)=>{if(jf(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(jf(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(zt.cache.hasOwnProperty(u))return zt.cache[u].result;let d=Math.min(e,t),l=Math.max(e,t);if(Math.abs(d-l)===1){let S=e+"|"+t;return n.capture?`(${S})`:n.wrap===!1?S:`(?:${S})`}let f=Kf(e)||Kf(t),_={min:e,max:t,a:d,b:l},m=[],g=[];if(f&&(_.isPadded=f,_.maxLen=String(_.max).length),d<0){let S=l<0?Math.abs(l):1;g=Hf(S,Math.abs(d),_,n),d=_.a=0}return l>=0&&(m=Hf(d,l,_,n)),_.negatives=g,_.positives=m,_.result=Hv(g,m,n),n.capture===!0?_.result=`(${_.result})`:n.wrap!==!1&&m.length+g.length>1&&(_.result=`(?:${_.result})`),zt.cache[u]=_,_.result};function Hv(e,t,r){let n=uu(e,t,"-",!1,r)||[],i=uu(t,e,"",!1,r)||[],s=uu(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function Vv(e,t){let r=1,n=1,i=kf(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=kf(e,r);for(i=$f(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=$f(t+1,n)-1;return s=[...s],s.sort(Yv),s}function kv(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=$v(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,d]=n[a];u===d?s+=u:u!=="0"||d!=="9"?s+=Kv(u,d,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Hf(e,t,r,n){let i=Vv(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let d=i[u],l=kv(String(o),String(d),n),f="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Yf(a.count),o=d+1;continue}r.isPadded&&(f=Wv(d,r,n)),l.string=f+l.pattern+Yf(l.count),s.push(l),o=d+1,a=l}return s}function uu(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!Vf(t,"string",a)&&s.push(r+a),n&&Vf(t,"string",a)&&s.push(r+a)}return s}function $v(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function Yv(e,t){return e>t?1:t>e?-1:0}function Vf(e,t,r){return e.some(n=>n[t]===r)}function kf(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function $f(e,t){return e-e%Math.pow(10,t)}function Yf(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function Kv(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Kf(e){return/^-?(0+)\d/.test(e)}function Wv(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}zt.cache={};zt.clearCache=()=>zt.cache={};Wf.exports=zt});var du=c((K1,np)=>{"use strict";var Xv=C("util"),Zf=Xf(),zf=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),zv=e=>t=>e===!0?Number(t):String(t),cu=e=>typeof e=="number"||typeof e=="string"&&e!=="",Gn=e=>Number.isInteger(+e),lu=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},Qv=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,Zv=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Qf=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Jv=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},Jf=(e,t,r,n)=>{if(r)return Zf(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},ep=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Zf(e,t,r)},tp=(...e)=>new RangeError("Invalid range arguments: "+Xv.inspect(...e)),rp=(e,t,r)=>{if(r.strictRanges===!0)throw tp([e,t]);return[]},eO=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},tO=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw tp([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),d=String(r);r=Math.max(Math.abs(r),1);let l=lu(a)||lu(u)||lu(d),f=l?Math.max(a.length,u.length,d.length):0,_=l===!1&&Qv(e,t,n)===!1,m=n.transform||zv(_);if(n.toRegex&&r===1)return Jf(Qf(e,f),Qf(t,f),!0,n);let g={negatives:[],positives:[]},S=v=>g[v<0?"negatives":"positives"].push(Math.abs(v)),y=[],O=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?S(i):y.push(Zv(m(i,O),f,_)),i=o?i-r:i+r,O++;return n.toRegex===!0?r>1?Jv(g,n):ep(y,null,{wrap:!1,...n}):y},rO=(e,t,r=1,n={})=>{if(!Gn(e)&&e.length>1||!Gn(t)&&t.length>1)return rp(e,t,n);let i=n.transform||(_=>String.fromCharCode(_)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),d=Math.max(s,o);if(n.toRegex&&r===1)return Jf(u,d,!1,n);let l=[],f=0;for(;a?s>=o:s<=o;)l.push(i(s,f)),s=a?s-r:s+r,f++;return n.toRegex===!0?ep(l,null,{wrap:!1,options:n}):l},Wi=(e,t,r,n={})=>{if(t==null&&cu(e))return[e];if(!cu(e)||!cu(t))return rp(e,t,n);if(typeof r=="function")return Wi(e,t,1,{transform:r});if(zf(r))return Wi(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Gn(r)?Gn(e)&&Gn(t)?tO(e,t,r,i):rO(e,t,Math.max(Math.abs(r),1),i):r!=null&&!zf(r)?eO(r,i):Wi(e,t,1,r)};np.exports=Wi});var op=c((W1,sp)=>{"use strict";var nO=du(),ip=Yi(),iO=(e,t={})=>{let r=(n,i={})=>{let s=ip.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=ip.reduce(n.nodes),f=nO(...l,{...t,wrap:!1,toRegex:!0});if(f.length!==0)return l.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let l of n.nodes)d+=r(l,n);return d};return r(e)};sp.exports=iO});var cp=c((X1,up)=>{"use strict";var sO=du(),ap=Ki(),Ur=Yi(),Qt=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Ur.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(Qt(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Qt(i,s,r):i+s);return Ur.flatten(n)},oO=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Qt(a.pop(),ap(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Qt(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let f=Ur.reduce(i.nodes);if(Ur.exceedsLimit(...f,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let _=sO(...f,t);_.length===0&&(_=ap(i,t)),a.push(Qt(a.pop(),_)),i.nodes=[];return}let u=Ur.encloseBrace(i),d=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,d=l.queue;for(let f=0;f<i.nodes.length;f++){let _=i.nodes[f];if(_.type==="comma"&&i.type==="brace"){f===1&&d.push(""),d.push("");continue}if(_.type==="close"){a.push(Qt(a.pop(),d,u));continue}if(_.value&&_.type!=="open"){d.push(Qt(d.pop(),_.value));continue}_.nodes&&n(_,i)}return d};return Ur.flatten(n(e))};up.exports=oO});var dp=c((z1,lp)=>{"use strict";lp.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var gp=c((Q1,hp)=>{"use strict";var aO=Ki(),{MAX_LENGTH:_p,CHAR_BACKSLASH:_u,CHAR_BACKTICK:uO,CHAR_COMMA:cO,CHAR_DOT:lO,CHAR_LEFT_PARENTHESES:dO,CHAR_RIGHT_PARENTHESES:_O,CHAR_LEFT_CURLY_BRACE:fO,CHAR_RIGHT_CURLY_BRACE:pO,CHAR_LEFT_SQUARE_BRACKET:fp,CHAR_RIGHT_SQUARE_BRACKET:pp,CHAR_DOUBLE_QUOTE:hO,CHAR_SINGLE_QUOTE:gO,CHAR_NO_BREAK_SPACE:EO,CHAR_ZERO_WIDTH_NOBREAK_SPACE:mO}=dp(),SO=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(_p,r.maxLength):_p;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,d=e.length,l=0,f=0,_,m={},g=()=>e[l++],S=y=>{if(y.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&y.type==="text"){a.value+=y.value;return}return o.nodes.push(y),y.parent=o,y.prev=a,a=y,y};for(S({type:"bos"});l<d;)if(o=s[s.length-1],_=g(),!(_===mO||_===EO)){if(_===_u){S({type:"text",value:(t.keepEscaping?_:"")+g()});continue}if(_===pp){S({type:"text",value:"\\"+_});continue}if(_===fp){u++;let y=!0,O;for(;l<d&&(O=g());){if(_+=O,O===fp){u++;continue}if(O===_u){_+=g();continue}if(O===pp&&(u--,u===0))break}S({type:"text",value:_});continue}if(_===dO){o=S({type:"paren",nodes:[]}),s.push(o),S({type:"text",value:_});continue}if(_===_O){if(o.type!=="paren"){S({type:"text",value:_});continue}o=s.pop(),S({type:"text",value:_}),o=s[s.length-1];continue}if(_===hO||_===gO||_===uO){let y=_,O;for(t.keepQuotes!==!0&&(_="");l<d&&(O=g());){if(O===_u){_+=O+g();continue}if(O===y){t.keepQuotes===!0&&(_+=O);break}_+=O}S({type:"text",value:_});continue}if(_===fO){f++;let O={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};o=S(O),s.push(o),S({type:"open",value:_});continue}if(_===pO){if(o.type!=="brace"){S({type:"text",value:_});continue}let y="close";o=s.pop(),o.close=!0,S({type:y,value:_}),f--,o=s[s.length-1];continue}if(_===cO&&f>0){if(o.ranges>0){o.ranges=0;let y=o.nodes.shift();o.nodes=[y,{type:"text",value:aO(o)}]}S({type:"comma",value:_}),o.commas++;continue}if(_===lO&&f>0&&o.commas===0){let y=o.nodes;if(f===0||y.length===0){S({type:"text",value:_});continue}if(a.type==="dot"){if(o.range=[],a.value+=_,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){y.pop();let O=y[y.length-1];O.value+=a.value+_,a=O,o.ranges--;continue}S({type:"dot",value:_});continue}S({type:"text",value:_})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(v=>{v.nodes||(v.type==="open"&&(v.isOpen=!0),v.type==="close"&&(v.isClose=!0),v.nodes||(v.type="text"),v.invalid=!0)});let y=s[s.length-1],O=y.nodes.indexOf(o);y.nodes.splice(O,1,...o.nodes)}while(s.length>0);return S({type:"eos"}),i};hp.exports=SO});var Sp=c((Z1,mp)=>{"use strict";var Ep=Ki(),AO=op(),yO=cp(),TO=gp(),Le=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Le.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Le.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Le.parse=(e,t={})=>TO(e,t);Le.stringify=(e,t={})=>Ep(typeof e=="string"?Le.parse(e,t):e,t);Le.compile=(e,t={})=>(typeof e=="string"&&(e=Le.parse(e,t)),AO(e,t));Le.expand=(e,t={})=>{typeof e=="string"&&(e=Le.parse(e,t));let r=yO(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Le.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Le.compile(e,t):Le.expand(e,t);mp.exports=Le});var jn=c((J1,Op)=>{"use strict";var vO=C("path"),Ze="\\\\/",Ap=`[^${Ze}]`,gt="\\.",OO="\\+",bO="\\?",Xi="\\/",RO="(?=.)",yp="[^/]",fu=`(?:${Xi}|$)`,Tp=`(?:^|${Xi})`,pu=`${gt}{1,2}${fu}`,PO=`(?!${gt})`,CO=`(?!${Tp}${pu})`,IO=`(?!${gt}{0,1}${fu})`,NO=`(?!${pu})`,MO=`[^.${Xi}]`,wO=`${yp}*?`,vp={DOT_LITERAL:gt,PLUS_LITERAL:OO,QMARK_LITERAL:bO,SLASH_LITERAL:Xi,ONE_CHAR:RO,QMARK:yp,END_ANCHOR:fu,DOTS_SLASH:pu,NO_DOT:PO,NO_DOTS:CO,NO_DOT_SLASH:IO,NO_DOTS_SLASH:NO,QMARK_NO_DOT:MO,STAR:wO,START_ANCHOR:Tp},LO={...vp,SLASH_LITERAL:`[${Ze}]`,QMARK:Ap,STAR:`${Ap}*?`,DOTS_SLASH:`${gt}{1,2}(?:[${Ze}]|$)`,NO_DOT:`(?!${gt})`,NO_DOTS:`(?!(?:^|[${Ze}])${gt}{1,2}(?:[${Ze}]|$))`,NO_DOT_SLASH:`(?!${gt}{0,1}(?:[${Ze}]|$))`,NO_DOTS_SLASH:`(?!${gt}{1,2}(?:[${Ze}]|$))`,QMARK_NO_DOT:`[^.${Ze}]`,START_ANCHOR:`(?:^|[${Ze}])`,END_ANCHOR:`(?:[${Ze}]|$)`},xO={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Op.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:xO,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:vO.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?LO:vp}}});var Hn=c(be=>{"use strict";var DO=C("path"),BO=process.platform==="win32",{REGEX_BACKSLASH:FO,REGEX_REMOVE_BACKSLASH:UO,REGEX_SPECIAL_CHARS:qO,REGEX_SPECIAL_CHARS_GLOBAL:GO}=jn();be.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);be.hasRegexChars=e=>qO.test(e);be.isRegexChar=e=>e.length===1&&be.hasRegexChars(e);be.escapeRegex=e=>e.replace(GO,"\\$1");be.toPosixSlashes=e=>e.replace(FO,"/");be.removeBackslashes=e=>e.replace(UO,t=>t==="\\"?"":t);be.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};be.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:BO===!0||DO.sep==="\\";be.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?be.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};be.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};be.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var wp=c((tB,Mp)=>{"use strict";var bp=Hn(),{CHAR_ASTERISK:hu,CHAR_AT:jO,CHAR_BACKWARD_SLASH:Vn,CHAR_COMMA:HO,CHAR_DOT:gu,CHAR_EXCLAMATION_MARK:Eu,CHAR_FORWARD_SLASH:Np,CHAR_LEFT_CURLY_BRACE:mu,CHAR_LEFT_PARENTHESES:Su,CHAR_LEFT_SQUARE_BRACKET:VO,CHAR_PLUS:kO,CHAR_QUESTION_MARK:Rp,CHAR_RIGHT_CURLY_BRACE:$O,CHAR_RIGHT_PARENTHESES:Pp,CHAR_RIGHT_SQUARE_BRACKET:YO}=jn(),Cp=e=>e===Np||e===Vn,Ip=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},KO=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,d=-1,l=0,f=0,_=!1,m=!1,g=!1,S=!1,y=!1,O=!1,v=!1,U=!1,Ae=!1,L=!1,k=0,M,P,j={value:"",depth:0,isGlob:!1},Z=()=>d>=n,E=()=>u.charCodeAt(d+1),K=()=>(M=P,u.charCodeAt(++d));for(;d<n;){P=K();let le;if(P===Vn){v=j.backslashes=!0,P=K(),P===mu&&(O=!0);continue}if(O===!0||P===mu){for(k++;Z()!==!0&&(P=K());){if(P===Vn){v=j.backslashes=!0,K();continue}if(P===mu){k++;continue}if(O!==!0&&P===gu&&(P=K())===gu){if(_=j.isBrace=!0,g=j.isGlob=!0,L=!0,i===!0)continue;break}if(O!==!0&&P===HO){if(_=j.isBrace=!0,g=j.isGlob=!0,L=!0,i===!0)continue;break}if(P===$O&&(k--,k===0)){O=!1,_=j.isBrace=!0,L=!0;break}}if(i===!0)continue;break}if(P===Np){if(s.push(d),o.push(j),j={value:"",depth:0,isGlob:!1},L===!0)continue;if(M===gu&&d===l+1){l+=2;continue}f=d+1;continue}if(r.noext!==!0&&(P===kO||P===jO||P===hu||P===Rp||P===Eu)===!0&&E()===Su){if(g=j.isGlob=!0,S=j.isExtglob=!0,L=!0,P===Eu&&d===l&&(Ae=!0),i===!0){for(;Z()!==!0&&(P=K());){if(P===Vn){v=j.backslashes=!0,P=K();continue}if(P===Pp){g=j.isGlob=!0,L=!0;break}}continue}break}if(P===hu){if(M===hu&&(y=j.isGlobstar=!0),g=j.isGlob=!0,L=!0,i===!0)continue;break}if(P===Rp){if(g=j.isGlob=!0,L=!0,i===!0)continue;break}if(P===VO){for(;Z()!==!0&&(le=K());){if(le===Vn){v=j.backslashes=!0,K();continue}if(le===YO){m=j.isBracket=!0,g=j.isGlob=!0,L=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&P===Eu&&d===l){U=j.negated=!0,l++;continue}if(r.noparen!==!0&&P===Su){if(g=j.isGlob=!0,i===!0){for(;Z()!==!0&&(P=K());){if(P===Su){v=j.backslashes=!0,P=K();continue}if(P===Pp){L=!0;break}}continue}break}if(g===!0){if(L=!0,i===!0)continue;break}}r.noext===!0&&(S=!1,g=!1);let I=u,te="",h="";l>0&&(te=u.slice(0,l),u=u.slice(l),f-=l),I&&g===!0&&f>0?(I=u.slice(0,f),h=u.slice(f)):g===!0?(I="",h=u):I=u,I&&I!==""&&I!=="/"&&I!==u&&Cp(I.charCodeAt(I.length-1))&&(I=I.slice(0,-1)),r.unescape===!0&&(h&&(h=bp.removeBackslashes(h)),I&&v===!0&&(I=bp.removeBackslashes(I)));let p={prefix:te,input:e,start:l,base:I,glob:h,isBrace:_,isBracket:m,isGlob:g,isExtglob:S,isGlobstar:y,negated:U,negatedExtglob:Ae};if(r.tokens===!0&&(p.maxDepth=0,Cp(P)||o.push(j),p.tokens=o),r.parts===!0||r.tokens===!0){let le;for(let q=0;q<s.length;q++){let Xe=le?le+1:l,ze=s[q],we=e.slice(Xe,ze);r.tokens&&(q===0&&l!==0?(o[q].isPrefix=!0,o[q].value=te):o[q].value=we,Ip(o[q]),p.maxDepth+=o[q].depth),(q!==0||we!=="")&&a.push(we),le=ze}if(le&&le+1<e.length){let q=e.slice(le+1);a.push(q),r.tokens&&(o[o.length-1].value=q,Ip(o[o.length-1]),p.maxDepth+=o[o.length-1].depth)}p.slashes=s,p.parts=a}return p};Mp.exports=KO});var Bp=c((rB,Dp)=>{"use strict";var zi=jn(),xe=Hn(),{MAX_LENGTH:Qi,POSIX_REGEX_SOURCE:WO,REGEX_NON_SPECIAL_CHARS:XO,REGEX_SPECIAL_CHARS_BACKREF:zO,REPLACEMENTS:Lp}=zi,QO=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>xe.escapeRegex(i)).join("..")}return r},qr=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,xp=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Lp[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Qi,r.maxLength):Qi,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=xe.isWindows(t),d=zi.globChars(u),l=zi.extglobChars(d),{DOT_LITERAL:f,PLUS_LITERAL:_,SLASH_LITERAL:m,ONE_CHAR:g,DOTS_SLASH:S,NO_DOT:y,NO_DOT_SLASH:O,NO_DOTS_SLASH:v,QMARK:U,QMARK_NO_DOT:Ae,STAR:L,START_ANCHOR:k}=d,M=T=>`(${a}(?:(?!${k}${T.dot?S:f}).)*?)`,P=r.dot?"":y,j=r.dot?U:Ae,Z=r.bash===!0?M(r):L;r.capture&&(Z=`(${Z})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let E={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=xe.removePrefix(e,E),i=e.length;let K=[],I=[],te=[],h=s,p,le=()=>E.index===i-1,q=E.peek=(T=1)=>e[E.index+T],Xe=E.advance=()=>e[++E.index]||"",ze=()=>e.slice(E.index+1),we=(T="",W=0)=>{E.consumed+=T,E.index+=W},Ui=T=>{E.output+=T.output!=null?T.output:T.value,we(T.value)},$T=()=>{let T=1;for(;q()==="!"&&(q(2)!=="("||q(3)==="?");)Xe(),E.start++,T++;return T%2===0?!1:(E.negated=!0,E.start++,!0)},qi=T=>{E[T]++,te.push(T)},Xt=T=>{E[T]--,te.pop()},F=T=>{if(h.type==="globstar"){let W=E.braces>0&&(T.type==="comma"||T.type==="brace"),A=T.extglob===!0||K.length&&(T.type==="pipe"||T.type==="paren");T.type!=="slash"&&T.type!=="paren"&&!W&&!A&&(E.output=E.output.slice(0,-h.output.length),h.type="star",h.value="*",h.output=Z,E.output+=h.output)}if(K.length&&T.type!=="paren"&&(K[K.length-1].inner+=T.value),(T.value||T.output)&&Ui(T),h&&h.type==="text"&&T.type==="text"){h.value+=T.value,h.output=(h.output||"")+T.value;return}T.prev=h,o.push(T),h=T},Gi=(T,W)=>{let A={...l[W],conditions:1,inner:""};A.prev=h,A.parens=E.parens,A.output=E.output;let D=(r.capture?"(":"")+A.open;qi("parens"),F({type:T,value:W,output:E.output?"":g}),F({type:"paren",extglob:!0,value:Xe(),output:D}),K.push(A)},YT=T=>{let W=T.close+(r.capture?")":""),A;if(T.type==="negate"){let D=Z;T.inner&&T.inner.length>1&&T.inner.includes("/")&&(D=M(r)),(D!==Z||le()||/^\)+$/.test(ze()))&&(W=T.close=`)$))${D}`),T.inner.includes("*")&&(A=ze())&&/^\.[^\\/.]+$/.test(A)&&(W=T.close=`)${A})${D})`),T.prev.type==="bos"&&(E.negatedExtglob=!0)}F({type:"paren",extglob:!0,value:p,output:W}),Xt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let T=!1,W=e.replace(zO,(A,D,J,ye,ae,Ja)=>ye==="\\"?(T=!0,A):ye==="?"?D?D+ye+(ae?U.repeat(ae.length):""):Ja===0?j+(ae?U.repeat(ae.length):""):U.repeat(J.length):ye==="."?f.repeat(J.length):ye==="*"?D?D+ye+(ae?Z:""):Z:D?A:`\\${A}`);return T===!0&&(r.unescape===!0?W=W.replace(/\\/g,""):W=W.replace(/\\+/g,A=>A.length%2===0?"\\\\":A?"\\":"")),W===e&&r.contains===!0?(E.output=e,E):(E.output=xe.wrapOutput(W,E,t),E)}for(;!le();){if(p=Xe(),p==="\0")continue;if(p==="\\"){let A=q();if(A==="/"&&r.bash!==!0||A==="."||A===";")continue;if(!A){p+="\\",F({type:"text",value:p});continue}let D=/^\\+/.exec(ze()),J=0;if(D&&D[0].length>2&&(J=D[0].length,E.index+=J,J%2!==0&&(p+="\\")),r.unescape===!0?p=Xe():p+=Xe(),E.brackets===0){F({type:"text",value:p});continue}}if(E.brackets>0&&(p!=="]"||h.value==="["||h.value==="[^")){if(r.posix!==!1&&p===":"){let A=h.value.slice(1);if(A.includes("[")&&(h.posix=!0,A.includes(":"))){let D=h.value.lastIndexOf("["),J=h.value.slice(0,D),ye=h.value.slice(D+2),ae=WO[ye];if(ae){h.value=J+ae,E.backtrack=!0,Xe(),!s.output&&o.indexOf(h)===1&&(s.output=g);continue}}}(p==="["&&q()!==":"||p==="-"&&q()==="]")&&(p=`\\${p}`),p==="]"&&(h.value==="["||h.value==="[^")&&(p=`\\${p}`),r.posix===!0&&p==="!"&&h.value==="["&&(p="^"),h.value+=p,Ui({value:p});continue}if(E.quotes===1&&p!=='"'){p=xe.escapeRegex(p),h.value+=p,Ui({value:p});continue}if(p==='"'){E.quotes=E.quotes===1?0:1,r.keepQuotes===!0&&F({type:"text",value:p});continue}if(p==="("){qi("parens"),F({type:"paren",value:p});continue}if(p===")"){if(E.parens===0&&r.strictBrackets===!0)throw new SyntaxError(qr("opening","("));let A=K[K.length-1];if(A&&E.parens===A.parens+1){YT(K.pop());continue}F({type:"paren",value:p,output:E.parens?")":"\\)"}),Xt("parens");continue}if(p==="["){if(r.nobracket===!0||!ze().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(qr("closing","]"));p=`\\${p}`}else qi("brackets");F({type:"bracket",value:p});continue}if(p==="]"){if(r.nobracket===!0||h&&h.type==="bracket"&&h.value.length===1){F({type:"text",value:p,output:`\\${p}`});continue}if(E.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(qr("opening","["));F({type:"text",value:p,output:`\\${p}`});continue}Xt("brackets");let A=h.value.slice(1);if(h.posix!==!0&&A[0]==="^"&&!A.includes("/")&&(p=`/${p}`),h.value+=p,Ui({value:p}),r.literalBrackets===!1||xe.hasRegexChars(A))continue;let D=xe.escapeRegex(h.value);if(E.output=E.output.slice(0,-h.value.length),r.literalBrackets===!0){E.output+=D,h.value=D;continue}h.value=`(${a}${D}|${h.value})`,E.output+=h.value;continue}if(p==="{"&&r.nobrace!==!0){qi("braces");let A={type:"brace",value:p,output:"(",outputIndex:E.output.length,tokensIndex:E.tokens.length};I.push(A),F(A);continue}if(p==="}"){let A=I[I.length-1];if(r.nobrace===!0||!A){F({type:"text",value:p,output:p});continue}let D=")";if(A.dots===!0){let J=o.slice(),ye=[];for(let ae=J.length-1;ae>=0&&(o.pop(),J[ae].type!=="brace");ae--)J[ae].type!=="dots"&&ye.unshift(J[ae].value);D=QO(ye,r),E.backtrack=!0}if(A.comma!==!0&&A.dots!==!0){let J=E.output.slice(0,A.outputIndex),ye=E.tokens.slice(A.tokensIndex);A.value=A.output="\\{",p=D="\\}",E.output=J;for(let ae of ye)E.output+=ae.output||ae.value}F({type:"brace",value:p,output:D}),Xt("braces"),I.pop();continue}if(p==="|"){K.length>0&&K[K.length-1].conditions++,F({type:"text",value:p});continue}if(p===","){let A=p,D=I[I.length-1];D&&te[te.length-1]==="braces"&&(D.comma=!0,A="|"),F({type:"comma",value:p,output:A});continue}if(p==="/"){if(h.type==="dot"&&E.index===E.start+1){E.start=E.index+1,E.consumed="",E.output="",o.pop(),h=s;continue}F({type:"slash",value:p,output:m});continue}if(p==="."){if(E.braces>0&&h.type==="dot"){h.value==="."&&(h.output=f);let A=I[I.length-1];h.type="dots",h.output+=p,h.value+=p,A.dots=!0;continue}if(E.braces+E.parens===0&&h.type!=="bos"&&h.type!=="slash"){F({type:"text",value:p,output:f});continue}F({type:"dot",value:p,output:f});continue}if(p==="?"){if(!(h&&h.value==="(")&&r.noextglob!==!0&&q()==="("&&q(2)!=="?"){Gi("qmark",p);continue}if(h&&h.type==="paren"){let D=q(),J=p;if(D==="<"&&!xe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(h.value==="("&&!/[!=<:]/.test(D)||D==="<"&&!/<([!=]|\w+>)/.test(ze()))&&(J=`\\${p}`),F({type:"text",value:p,output:J});continue}if(r.dot!==!0&&(h.type==="slash"||h.type==="bos")){F({type:"qmark",value:p,output:Ae});continue}F({type:"qmark",value:p,output:U});continue}if(p==="!"){if(r.noextglob!==!0&&q()==="("&&(q(2)!=="?"||!/[!=<:]/.test(q(3)))){Gi("negate",p);continue}if(r.nonegate!==!0&&E.index===0){$T();continue}}if(p==="+"){if(r.noextglob!==!0&&q()==="("&&q(2)!=="?"){Gi("plus",p);continue}if(h&&h.value==="("||r.regex===!1){F({type:"plus",value:p,output:_});continue}if(h&&(h.type==="bracket"||h.type==="paren"||h.type==="brace")||E.parens>0){F({type:"plus",value:p});continue}F({type:"plus",value:_});continue}if(p==="@"){if(r.noextglob!==!0&&q()==="("&&q(2)!=="?"){F({type:"at",extglob:!0,value:p,output:""});continue}F({type:"text",value:p});continue}if(p!=="*"){(p==="$"||p==="^")&&(p=`\\${p}`);let A=XO.exec(ze());A&&(p+=A[0],E.index+=A[0].length),F({type:"text",value:p});continue}if(h&&(h.type==="globstar"||h.star===!0)){h.type="star",h.star=!0,h.value+=p,h.output=Z,E.backtrack=!0,E.globstar=!0,we(p);continue}let T=ze();if(r.noextglob!==!0&&/^\([^?]/.test(T)){Gi("star",p);continue}if(h.type==="star"){if(r.noglobstar===!0){we(p);continue}let A=h.prev,D=A.prev,J=A.type==="slash"||A.type==="bos",ye=D&&(D.type==="star"||D.type==="globstar");if(r.bash===!0&&(!J||T[0]&&T[0]!=="/")){F({type:"star",value:p,output:""});continue}let ae=E.braces>0&&(A.type==="comma"||A.type==="brace"),Ja=K.length&&(A.type==="pipe"||A.type==="paren");if(!J&&A.type!=="paren"&&!ae&&!Ja){F({type:"star",value:p,output:""});continue}for(;T.slice(0,3)==="/**";){let ji=e[E.index+4];if(ji&&ji!=="/")break;T=T.slice(3),we("/**",3)}if(A.type==="bos"&&le()){h.type="globstar",h.value+=p,h.output=M(r),E.output=h.output,E.globstar=!0,we(p);continue}if(A.type==="slash"&&A.prev.type!=="bos"&&!ye&&le()){E.output=E.output.slice(0,-(A.output+h.output).length),A.output=`(?:${A.output}`,h.type="globstar",h.output=M(r)+(r.strictSlashes?")":"|$)"),h.value+=p,E.globstar=!0,E.output+=A.output+h.output,we(p);continue}if(A.type==="slash"&&A.prev.type!=="bos"&&T[0]==="/"){let ji=T[1]!==void 0?"|$":"";E.output=E.output.slice(0,-(A.output+h.output).length),A.output=`(?:${A.output}`,h.type="globstar",h.output=`${M(r)}${m}|${m}${ji})`,h.value+=p,E.output+=A.output+h.output,E.globstar=!0,we(p+Xe()),F({type:"slash",value:"/",output:""});continue}if(A.type==="bos"&&T[0]==="/"){h.type="globstar",h.value+=p,h.output=`(?:^|${m}|${M(r)}${m})`,E.output=h.output,E.globstar=!0,we(p+Xe()),F({type:"slash",value:"/",output:""});continue}E.output=E.output.slice(0,-h.output.length),h.type="globstar",h.output=M(r),h.value+=p,E.output+=h.output,E.globstar=!0,we(p);continue}let W={type:"star",value:p,output:Z};if(r.bash===!0){W.output=".*?",(h.type==="bos"||h.type==="slash")&&(W.output=P+W.output),F(W);continue}if(h&&(h.type==="bracket"||h.type==="paren")&&r.regex===!0){W.output=p,F(W);continue}(E.index===E.start||h.type==="slash"||h.type==="dot")&&(h.type==="dot"?(E.output+=O,h.output+=O):r.dot===!0?(E.output+=v,h.output+=v):(E.output+=P,h.output+=P),q()!=="*"&&(E.output+=g,h.output+=g)),F(W)}for(;E.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(qr("closing","]"));E.output=xe.escapeLast(E.output,"["),Xt("brackets")}for(;E.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(qr("closing",")"));E.output=xe.escapeLast(E.output,"("),Xt("parens")}for(;E.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(qr("closing","}"));E.output=xe.escapeLast(E.output,"{"),Xt("braces")}if(r.strictSlashes!==!0&&(h.type==="star"||h.type==="bracket")&&F({type:"maybe_slash",value:"",output:`${m}?`}),E.backtrack===!0){E.output="";for(let T of E.tokens)E.output+=T.output!=null?T.output:T.value,T.suffix&&(E.output+=T.suffix)}return E};xp.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Qi,r.maxLength):Qi,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=Lp[e]||e;let s=xe.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:d,NO_DOT:l,NO_DOTS:f,NO_DOTS_SLASH:_,STAR:m,START_ANCHOR:g}=zi.globChars(s),S=r.dot?f:l,y=r.dot?_:l,O=r.capture?"":"?:",v={negated:!1,prefix:""},U=r.bash===!0?".*?":m;r.capture&&(U=`(${U})`);let Ae=P=>P.noglobstar===!0?U:`(${O}(?:(?!${g}${P.dot?d:o}).)*?)`,L=P=>{switch(P){case"*":return`${S}${u}${U}`;case".*":return`${o}${u}${U}`;case"*.*":return`${S}${U}${o}${u}${U}`;case"*/*":return`${S}${U}${a}${u}${y}${U}`;case"**":return S+Ae(r);case"**/*":return`(?:${S}${Ae(r)}${a})?${y}${u}${U}`;case"**/*.*":return`(?:${S}${Ae(r)}${a})?${y}${U}${o}${u}${U}`;case"**/.*":return`(?:${S}${Ae(r)}${a})?${o}${u}${U}`;default:{let j=/^(.*?)\.(\w+)$/.exec(P);if(!j)return;let Z=L(j[1]);return Z?Z+o+j[2]:void 0}}},k=xe.removePrefix(e,v),M=L(k);return M&&r.strictSlashes!==!0&&(M+=`${a}?`),M};Dp.exports=xp});var Up=c((nB,Fp)=>{"use strict";var ZO=C("path"),JO=wp(),Au=Bp(),yu=Hn(),eb=jn(),tb=e=>e&&typeof e=="object"&&!Array.isArray(e),ee=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(_=>ee(_,t,r));return _=>{for(let m of l){let g=m(_);if(g)return g}return!1}}let n=tb(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=yu.isWindows(t),o=n?ee.compileRe(e,t):ee.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let l={...t,ignore:null,onMatch:null,onResult:null};u=ee(i.ignore,l,r)}let d=(l,f=!1)=>{let{isMatch:_,match:m,output:g}=ee.test(l,o,t,{glob:e,posix:s}),S={glob:e,state:a,regex:o,posix:s,input:l,output:g,match:m,isMatch:_};return typeof i.onResult=="function"&&i.onResult(S),_===!1?(S.isMatch=!1,f?S:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(S),S.isMatch=!1,f?S:!1):(typeof i.onMatch=="function"&&i.onMatch(S),f?S:!0)};return r&&(d.state=a),d};ee.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?yu.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=ee.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};ee.matchBase=(e,t,r,n=yu.isWindows(r))=>(t instanceof RegExp?t:ee.makeRe(t,r)).test(ZO.basename(e));ee.isMatch=(e,t,r)=>ee(t,r)(e);ee.parse=(e,t)=>Array.isArray(e)?e.map(r=>ee.parse(r,t)):Au(e,{...t,fastpaths:!1});ee.scan=(e,t)=>JO(e,t);ee.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=ee.toRegex(a,t);return n===!0&&(u.state=e),u};ee.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Au.fastpaths(e,t)),i.output||(i=Au(e,t)),ee.compileRe(i,t,r,n)};ee.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};ee.constants=eb;Fp.exports=ee});var Gp=c((iB,qp)=>{"use strict";qp.exports=Up()});var $p=c((sB,kp)=>{"use strict";var Hp=C("util"),Vp=Sp(),Je=Gp(),Tu=Hn(),jp=e=>e===""||e==="./",z=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let f=Je(String(t[l]),{...r,onResult:a},!0),_=f.state.negated||f.state.negatedExtglob;_&&o++;for(let m of e){let g=f(m,!0);!(_?!g.isMatch:g.isMatch)||(_?n.add(g.output):(n.delete(g.output),i.add(g.output)))}}let d=(o===t.length?[...s]:[...i]).filter(l=>!n.has(l));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return d};z.match=z;z.matcher=(e,t)=>Je(e,t);z.isMatch=(e,t,r)=>Je(t,r)(e);z.any=z.isMatch;z.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=z(e,t,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)o.includes(a)||n.add(a);return[...n]};z.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Hp.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>z.contains(e,n,r));if(typeof t=="string"){if(jp(e)||jp(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return z.isMatch(e,t,{...r,contains:!0})};z.matchKeys=(e,t,r)=>{if(!Tu.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=z(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};z.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Je(String(i),r);if(n.some(o=>s(o)))return!0}return!1};z.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Je(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};z.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Hp.inspect(e)}"`);return[].concat(t).every(n=>Je(n,r)(e))};z.capture=(e,t,r)=>{let n=Tu.isWindows(r),s=Je.makeRe(String(e),{...r,capture:!0}).exec(n?Tu.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};z.makeRe=(...e)=>Je.makeRe(...e);z.scan=(...e)=>Je.scan(...e);z.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of Vp(String(n),t))r.push(Je.parse(i,t));return r};z.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Vp(e,t)};z.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return z.braces(e,{...t,expand:!0})};kp.exports=z});var Jp=c(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.matchAny=N.convertPatternsToRe=N.makeRe=N.getPatternParts=N.expandBraceExpansion=N.expandPatternsWithBraceExpansion=N.isAffectDepthOfReadingPattern=N.endsWithSlashGlobStar=N.hasGlobStar=N.getBaseDirectory=N.isPatternRelatedToParentDirectory=N.getPatternsOutsideCurrentDirectory=N.getPatternsInsideCurrentDirectory=N.getPositivePatterns=N.getNegativePatterns=N.isPositivePattern=N.isNegativePattern=N.convertToNegativePattern=N.convertToPositivePattern=N.isDynamicPattern=N.isStaticPattern=void 0;var rb=C("path"),nb=Bf(),vu=$p(),Yp="**",ib="\\",sb=/[*?]|^!/,ob=/\[[^[]*]/,ab=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,ub=/[!*+?@]\([^(]*\)/,cb=/,|\.\./;function Kp(e,t={}){return!Wp(e,t)}N.isStaticPattern=Kp;function Wp(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(ib)||sb.test(e)||ob.test(e)||ab.test(e)||t.extglob!==!1&&ub.test(e)||t.braceExpansion!==!1&&lb(e))}N.isDynamicPattern=Wp;function lb(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return cb.test(n)}function db(e){return Zi(e)?e.slice(1):e}N.convertToPositivePattern=db;function _b(e){return"!"+e}N.convertToNegativePattern=_b;function Zi(e){return e.startsWith("!")&&e[1]!=="("}N.isNegativePattern=Zi;function Xp(e){return!Zi(e)}N.isPositivePattern=Xp;function fb(e){return e.filter(Zi)}N.getNegativePatterns=fb;function pb(e){return e.filter(Xp)}N.getPositivePatterns=pb;function hb(e){return e.filter(t=>!Ou(t))}N.getPatternsInsideCurrentDirectory=hb;function gb(e){return e.filter(Ou)}N.getPatternsOutsideCurrentDirectory=gb;function Ou(e){return e.startsWith("..")||e.startsWith("./..")}N.isPatternRelatedToParentDirectory=Ou;function Eb(e){return nb(e,{flipBackslashes:!1})}N.getBaseDirectory=Eb;function mb(e){return e.includes(Yp)}N.hasGlobStar=mb;function zp(e){return e.endsWith("/"+Yp)}N.endsWithSlashGlobStar=zp;function Sb(e){let t=rb.basename(e);return zp(e)||Kp(t)}N.isAffectDepthOfReadingPattern=Sb;function Ab(e){return e.reduce((t,r)=>t.concat(Qp(r)),[])}N.expandPatternsWithBraceExpansion=Ab;function Qp(e){return vu.braces(e,{expand:!0,nodupes:!0})}N.expandBraceExpansion=Qp;function yb(e,t){let{parts:r}=vu.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}N.getPatternParts=yb;function Zp(e,t){return vu.makeRe(e,t)}N.makeRe=Zp;function Tb(e,t){return e.map(r=>Zp(r,t))}N.convertPatternsToRe=Tb;function vb(e,t){return t.some(r=>r.test(e))}N.matchAny=vb});var th=c(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.merge=void 0;var Ob=su();function bb(e){let t=Ob(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>eh(e)),t.once("end",()=>eh(e)),t}Ji.merge=bb;function eh(e){e.forEach(t=>t.emit("close"))}});var rh=c(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.isEmpty=Gr.isString=void 0;function Rb(e){return typeof e=="string"}Gr.isString=Rb;function Pb(e){return e===""}Gr.isEmpty=Pb});var Et=c(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.string=_e.stream=_e.pattern=_e.path=_e.fs=_e.errno=_e.array=void 0;var Cb=Pf();_e.array=Cb;var Ib=Cf();_e.errno=Ib;var Nb=If();_e.fs=Nb;var Mb=Nf();_e.path=Mb;var wb=Jp();_e.pattern=wb;var Lb=th();_e.stream=Lb;var xb=rh();_e.string=xb});var sh=c(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.convertPatternGroupToTask=fe.convertPatternGroupsToTasks=fe.groupPatternsByBaseDirectory=fe.getNegativePatternsAsPositive=fe.getPositivePatterns=fe.convertPatternsToTasks=fe.generate=void 0;var mt=Et();function Db(e,t){let r=nh(e),n=ih(e,t.ignore),i=r.filter(u=>mt.pattern.isStaticPattern(u,t)),s=r.filter(u=>mt.pattern.isDynamicPattern(u,t)),o=bu(i,n,!1),a=bu(s,n,!0);return o.concat(a)}fe.generate=Db;function bu(e,t,r){let n=[],i=mt.pattern.getPatternsOutsideCurrentDirectory(e),s=mt.pattern.getPatternsInsideCurrentDirectory(e),o=Ru(i),a=Ru(s);return n.push(...Pu(o,t,r)),"."in a?n.push(Cu(".",s,t,r)):n.push(...Pu(a,t,r)),n}fe.convertPatternsToTasks=bu;function nh(e){return mt.pattern.getPositivePatterns(e)}fe.getPositivePatterns=nh;function ih(e,t){return mt.pattern.getNegativePatterns(e).concat(t).map(mt.pattern.convertToPositivePattern)}fe.getNegativePatternsAsPositive=ih;function Ru(e){let t={};return e.reduce((r,n)=>{let i=mt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}fe.groupPatternsByBaseDirectory=Ru;function Pu(e,t,r){return Object.keys(e).map(n=>Cu(n,e[n],t,r))}fe.convertPatternGroupsToTasks=Pu;function Cu(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(mt.pattern.convertToNegativePattern))}}fe.convertPatternGroupToTask=Cu});var ah=c(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.removeDuplicateSlashes=jr.transform=void 0;var Bb=/(?!^)\/{2,}/g;function Fb(e){return e.map(t=>oh(t))}jr.transform=Fb;function oh(e){return e.replace(Bb,"/")}jr.removeDuplicateSlashes=oh});var ch=c(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.read=void 0;function Ub(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){uh(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){Iu(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){uh(r,s);return}Iu(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Iu(r,o)})})}es.read=Ub;function uh(e,t){e(t)}function Iu(e,t){e(null,t)}});var lh=c(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.read=void 0;function qb(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}ts.read=qb});var dh=c(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.createFileSystemAdapter=It.FILE_SYSTEM_ADAPTER=void 0;var rs=C("fs");It.FILE_SYSTEM_ADAPTER={lstat:rs.lstat,stat:rs.stat,lstatSync:rs.lstatSync,statSync:rs.statSync};function Gb(e){return e===void 0?It.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},It.FILE_SYSTEM_ADAPTER),e)}It.createFileSystemAdapter=Gb});var _h=c(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});var jb=dh(),Nu=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=jb.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};Mu.default=Nu});var Zt=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.statSync=Nt.stat=Nt.Settings=void 0;var fh=ch(),Hb=lh(),wu=_h();Nt.Settings=wu.default;function Vb(e,t,r){if(typeof t=="function"){fh.read(e,Lu(),t);return}fh.read(e,Lu(t),r)}Nt.stat=Vb;function kb(e,t){let r=Lu(t);return Hb.read(e,r)}Nt.statSync=kb;function Lu(e={}){return e instanceof wu.default?e:new wu.default(e)}});var gh=c((EB,hh)=>{var ph;hh.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(ph||(ph=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var mh=c((mB,Eh)=>{Eh.exports=Yb;var $b=gh();function Yb(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function d(){t&&t(u,r),t=null}s?$b(d):d()}function a(u,d,l){r[u]=l,(--n===0||d)&&o(d)}n?i?i.forEach(function(u){e[u](function(d,l){a(u,d,l)})}):e.forEach(function(u,d){u(function(l,f){a(d,l,f)})}):o(null),s=!1}});var xu=c(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var ns=process.versions.node.split(".");if(ns[0]===void 0||ns[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Sh=Number.parseInt(ns[0],10),Kb=Number.parseInt(ns[1],10),Ah=10,Wb=10,Xb=Sh>Ah,zb=Sh===Ah&&Kb>=Wb;is.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Xb||zb});var yh=c(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.createDirentFromStats=void 0;var Du=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Qb(e,t){return new Du(e,t)}ss.createDirentFromStats=Qb});var Bu=c(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.fs=void 0;var Zb=yh();os.fs=Zb});var Fu=c(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.joinPathSegments=void 0;function Jb(e,t,r){return e.endsWith(r)?e+t:e+r+t}as.joinPathSegments=Jb});var Ph=c(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.readdir=Mt.readdirWithFileTypes=Mt.read=void 0;var eR=Zt(),Th=mh(),tR=xu(),vh=Bu(),Oh=Fu();function rR(e,t,r){if(!t.stats&&tR.IS_SUPPORT_READDIR_WITH_FILE_TYPES){bh(e,t,r);return}Rh(e,t,r)}Mt.read=rR;function bh(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){us(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:Oh.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){Uu(r,s);return}let o=s.map(a=>nR(a,t));Th(o,(a,u)=>{if(a!==null){us(r,a);return}Uu(r,u)})})}Mt.readdirWithFileTypes=bh;function nR(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=vh.fs.createDirentFromStats(e.name,i),r(null,e)})}}function Rh(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){us(r,n);return}let s=i.map(o=>{let a=Oh.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{eR.stat(a,t.fsStatSettings,(d,l)=>{if(d!==null){u(d);return}let f={name:o,path:a,dirent:vh.fs.createDirentFromStats(o,l)};t.stats&&(f.stats=l),u(null,f)})}});Th(s,(o,a)=>{if(o!==null){us(r,o);return}Uu(r,a)})})}Mt.readdir=Rh;function us(e,t){e(t)}function Uu(e,t){e(null,t)}});var wh=c(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.readdir=wt.readdirWithFileTypes=wt.read=void 0;var iR=Zt(),sR=xu(),Ch=Bu(),Ih=Fu();function oR(e,t){return!t.stats&&sR.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Nh(e,t):Mh(e,t)}wt.read=oR;function Nh(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Ih.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=Ch.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}wt.readdirWithFileTypes=Nh;function Mh(e,t){return t.fs.readdirSync(e).map(n=>{let i=Ih.joinPathSegments(e,n,t.pathSegmentSeparator),s=iR.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:Ch.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}wt.readdir=Mh});var Lh=c(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.createFileSystemAdapter=Lt.FILE_SYSTEM_ADAPTER=void 0;var Hr=C("fs");Lt.FILE_SYSTEM_ADAPTER={lstat:Hr.lstat,stat:Hr.stat,lstatSync:Hr.lstatSync,statSync:Hr.statSync,readdir:Hr.readdir,readdirSync:Hr.readdirSync};function aR(e){return e===void 0?Lt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Lt.FILE_SYSTEM_ADAPTER),e)}Lt.createFileSystemAdapter=aR});var xh=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var uR=C("path"),cR=Zt(),lR=Lh(),qu=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=lR.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,uR.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new cR.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Gu.default=qu});var cs=c(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.Settings=xt.scandirSync=xt.scandir=void 0;var Dh=Ph(),dR=wh(),ju=xh();xt.Settings=ju.default;function _R(e,t,r){if(typeof t=="function"){Dh.read(e,Hu(),t);return}Dh.read(e,Hu(t),r)}xt.scandir=_R;function fR(e,t){let r=Hu(t);return dR.read(e,r)}xt.scandirSync=fR;function Hu(e={}){return e instanceof ju.default?e:new ju.default(e)}});var Fh=c((CB,Bh)=>{"use strict";function pR(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}Bh.exports=pR});var qh=c((IB,Vu)=>{"use strict";var hR=Fh();function Uh(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=hR(gR),i=null,s=null,o=0,a=null,u={push:S,drain:et,saturated:et,pause:l,paused:!1,concurrency:r,running:d,resume:m,idle:g,length:f,getQueue:_,unshift:y,empty:et,kill:v,killAndDrain:U,error:Ae};return u;function d(){return o}function l(){u.paused=!0}function f(){for(var L=i,k=0;L;)L=L.next,k++;return k}function _(){for(var L=i,k=[];L;)k.push(L.value),L=L.next;return k}function m(){if(!!u.paused){u.paused=!1;for(var L=0;L<u.concurrency;L++)o++,O()}}function g(){return o===0&&u.length()===0}function S(L,k){var M=n.get();M.context=e,M.release=O,M.value=L,M.callback=k||et,M.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=M,s=M):(i=M,s=M,u.saturated()):(o++,t.call(e,M.value,M.worked))}function y(L,k){var M=n.get();M.context=e,M.release=O,M.value=L,M.callback=k||et,o===u.concurrency||u.paused?i?(M.next=i,i=M):(i=M,s=M,u.saturated()):(o++,t.call(e,M.value,M.worked))}function O(L){L&&n.release(L);var k=i;k?u.paused?o--:(s===i&&(s=null),i=k.next,k.next=null,t.call(e,k.value,k.worked),s===null&&u.empty()):--o===0&&u.drain()}function v(){i=null,s=null,u.drain=et}function U(){i=null,s=null,u.drain(),u.drain=et}function Ae(L){a=L}}function et(){}function gR(){this.value=null,this.callback=et,this.next=null,this.release=et,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=et,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function ER(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(d,l){t.call(this,d).then(function(f){l(null,f)},l)}var i=Uh(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(d){return new Promise(function(l,f){s(d,function(_,m){if(_){f(_);return}l(m)})})}function u(d){return new Promise(function(l,f){o(d,function(_,m){if(_){f(_);return}l(m)})})}}Vu.exports=Uh;Vu.exports.promise=ER});var ls=c(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.joinPathSegments=tt.replacePathSegmentSeparator=tt.isAppliedFilter=tt.isFatalError=void 0;function mR(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}tt.isFatalError=mR;function SR(e,t){return e===null||e(t)}tt.isAppliedFilter=SR;function AR(e,t){return e.split(/[/\\]/).join(t)}tt.replacePathSegmentSeparator=AR;function yR(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}tt.joinPathSegments=yR});var Yu=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});var TR=ls(),ku=class{constructor(t,r){this._root=t,this._settings=r,this._root=TR.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};$u.default=ku});var Xu=c(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var vR=C("events"),OR=cs(),bR=qh(),ds=ls(),RR=Yu(),Ku=class extends RR.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=OR.scandir,this._emitter=new vR.EventEmitter,this._queue=bR(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!ds.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=ds.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),ds.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&ds.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Wu.default=Ku});var Gh=c(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});var PR=Xu(),zu=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new PR.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{CR(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{IR(t,this._storage)}),this._reader.read()}};Qu.default=zu;function CR(e,t){e(t)}function IR(e,t){e(null,t)}});var jh=c(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});var NR=C("stream"),MR=Xu(),Zu=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new MR.default(this._root,this._settings),this._stream=new NR.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Ju.default=Zu});var Hh=c(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});var wR=cs(),_s=ls(),LR=Yu(),ec=class extends LR.default{constructor(){super(...arguments),this._scandir=wR.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!_s.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=_s.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),_s.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&_s.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};tc.default=ec});var Vh=c(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});var xR=Hh(),rc=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new xR.default(this._root,this._settings)}read(){return this._reader.read()}};nc.default=rc});var kh=c(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var DR=C("path"),BR=cs(),ic=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,DR.sep),this.fsScandirSettings=new BR.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};sc.default=ic});var ac=c(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.Settings=rt.walkStream=rt.walkSync=rt.walk=void 0;var $h=Gh(),FR=jh(),UR=Vh(),oc=kh();rt.Settings=oc.default;function qR(e,t,r){if(typeof t=="function"){new $h.default(e,fs()).read(t);return}new $h.default(e,fs(t)).read(r)}rt.walk=qR;function GR(e,t){let r=fs(t);return new UR.default(e,r).read()}rt.walkSync=GR;function jR(e,t){let r=fs(t);return new FR.default(e,r).read()}rt.walkStream=jR;function fs(e={}){return e instanceof oc.default?e:new oc.default(e)}});var lc=c(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});var HR=C("path"),VR=Zt(),Yh=Et(),uc=class{constructor(t){this._settings=t,this._fsStatSettings=new VR.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return HR.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Yh.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Yh.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};cc.default=uc});var fc=c(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});var kR=C("stream"),$R=Zt(),YR=ac(),KR=lc(),dc=class extends KR.default{constructor(){super(...arguments),this._walkStream=YR.walkStream,this._stat=$R.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new kR.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};_c.default=dc});var Kh=c(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});var Vr=Et(),pc=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=Vr.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return Vr.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Vr.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Vr.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Vr.array.splitWhen(t,r=>r.dynamic&&Vr.pattern.hasGlobStar(r.pattern))}};hc.default=pc});var Wh=c(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});var WR=Kh(),gc=class extends WR.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,d)=>{let l=s.segments[d];return!!(l.dynamic&&l.patternRe.test(u)||!l.dynamic&&l.pattern===u)}))return!0}return!1}};Ec.default=gc});var Xh=c(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});var ps=Et(),XR=Wh(),mc=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new XR.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(ps.pattern.isAffectDepthOfReadingPattern);return ps.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=ps.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!ps.pattern.matchAny(t,r)}};Sc.default=mc});var zh=c(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});var Jt=Et(),Ac=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Jt.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Jt.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Jt.path.makeAbsolute(this._settings.cwd,t);return Jt.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=Jt.path.removeLeadingDotSegment(t);return Jt.pattern.matchAny(n,r)||Jt.pattern.matchAny(n+"/",r)}};yc.default=Ac});var Qh=c(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});var zR=Et(),Tc=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return zR.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};vc.default=Tc});var Jh=c(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});var Zh=Et(),Oc=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=Zh.path.makeAbsolute(this._settings.cwd,r),r=Zh.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};bc.default=Oc});var hs=c(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});var QR=C("path"),ZR=Xh(),JR=zh(),eP=Qh(),tP=Jh(),Rc=class{constructor(t){this._settings=t,this.errorFilter=new eP.default(this._settings),this.entryFilter=new JR.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new ZR.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new tP.default(this._settings)}_getRootDirectory(t){return QR.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Pc.default=Rc});var eg=c(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var rP=fc(),nP=hs(),Cc=class extends nP.default{constructor(){super(...arguments),this._reader=new rP.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Ic.default=Cc});var tg=c(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});var iP=C("stream"),sP=fc(),oP=hs(),Nc=class extends oP.default{constructor(){super(...arguments),this._reader=new sP.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new iP.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Mc.default=Nc});var rg=c(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var aP=Zt(),uP=ac(),cP=lc(),wc=class extends cP.default{constructor(){super(...arguments),this._walkSync=uP.walkSync,this._statSync=aP.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Lc.default=wc});var ng=c(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});var lP=rg(),dP=hs(),xc=class extends dP.default{constructor(){super(...arguments),this._reader=new lP.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Dc.default=xc});var ig=c($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var kr=C("fs"),_P=C("os"),fP=Math.max(_P.cpus().length,1);$r.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:kr.lstat,lstatSync:kr.lstatSync,stat:kr.stat,statSync:kr.statSync,readdir:kr.readdir,readdirSync:kr.readdirSync};var Bc=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,fP),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},$r.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};$r.default=Bc});var Gc=c((JB,ag)=>{"use strict";var sg=sh(),og=ah(),pP=eg(),hP=tg(),gP=ng(),Fc=ig(),er=Et();async function Uc(e,t){Yr(e);let r=qc(e,pP.default,t),n=await Promise.all(r);return er.array.flatten(n)}(function(e){function t(o,a){Yr(o);let u=qc(o,gP.default,a);return er.array.flatten(u)}e.sync=t;function r(o,a){Yr(o);let u=qc(o,hP.default,a);return er.stream.merge(u)}e.stream=r;function n(o,a){Yr(o);let u=og.transform([].concat(o)),d=new Fc.default(a);return sg.generate(u,d)}e.generateTasks=n;function i(o,a){Yr(o);let u=new Fc.default(a);return er.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return Yr(o),er.path.escape(o)}e.escapePath=s})(Uc||(Uc={}));function qc(e,t,r){let n=og.transform([].concat(e)),i=new Fc.default(r),s=sg.generate(n,i),o=new t(i);return s.map(o.read,o)}function Yr(e){if(![].concat(e).every(n=>er.string.isString(n)&&!er.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}ag.exports=Uc});var cg=c(tr=>{"use strict";var{promisify:EP}=C("util"),ug=C("fs");async function jc(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await EP(ug[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Hc(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return ug[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}tr.isFile=jc.bind(null,"stat","isFile");tr.isDirectory=jc.bind(null,"stat","isDirectory");tr.isSymlink=jc.bind(null,"lstat","isSymbolicLink");tr.isFileSync=Hc.bind(null,"statSync","isFile");tr.isDirectorySync=Hc.bind(null,"statSync","isDirectory");tr.isSymlinkSync=Hc.bind(null,"lstatSync","isSymbolicLink")});var pg=c((tF,Vc)=>{"use strict";var rr=C("path"),lg=cg(),dg=e=>e.length>1?`{${e.join(",")}}`:e[0],_g=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return rr.isAbsolute(r)?r:rr.join(t,r)},mP=(e,t)=>rr.extname(e)?`**/${e}`:`**/${e}.${dg(t)}`,fg=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>rr.posix.join(e,mP(r,t.extensions))):t.files?t.files.map(r=>rr.posix.join(e,`**/${r}`)):t.extensions?[rr.posix.join(e,`**/*.${dg(t.extensions)}`)]:[rr.posix.join(e,"**")]};Vc.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await lg.isDirectory(_g(n,t.cwd))?fg(n,t):n));return[].concat.apply([],r)};Vc.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>lg.isDirectorySync(_g(n,t.cwd))?fg(n,t):n);return[].concat.apply([],r)}});var vg=c((rF,Tg)=>{function hg(e){return Array.isArray(e)?e:[e]}var Sg="",gg=" ",kc="\\",SP=/^\s+$/,AP=/^\\!/,yP=/^\\#/,TP=/\r?\n/g,vP=/^\.*\/|^\.+$/,$c="/",Eg=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",OP=(e,t,r)=>Object.defineProperty(e,t,{value:r}),bP=/([0-z])-([0-z])/g,Ag=()=>!1,RP=e=>e.replace(bP,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Sg),PP=e=>{let{length:t}=e;return e.slice(0,t-t%2)},CP=[[/\\?\s+$/,e=>e.indexOf("\\")===0?gg:Sg],[/\\\s/g,()=>gg],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>kc],[/\\\\/g,()=>kc],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===kc?`\\[${r}${PP(n)}${i}`:i==="]"&&n.length%2===0?`[${RP(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],mg=Object.create(null),IP=(e,t)=>{let r=mg[e];return r||(r=CP.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),mg[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Wc=e=>typeof e=="string",NP=e=>e&&Wc(e)&&!SP.test(e)&&e.indexOf("#")!==0,MP=e=>e.split(TP),Yc=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},wP=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(AP,"!").replace(yP,"#");let i=IP(e,t);return new Yc(r,e,n,i)},LP=(e,t)=>{throw new t(e)},St=(e,t,r)=>Wc(e)?e?St.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),yg=e=>vP.test(e);St.isNotRelative=yg;St.convert=e=>e;var Kc=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){OP(this,Eg,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Eg]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(NP(t)){let r=wP(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,hg(Wc(t)?MP(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&St.convert(t);return St(s,t,this._allowRelativePaths?Ag:LP),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split($c)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join($c)+$c,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return hg(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},gs=e=>new Kc(e),xP=e=>St(e&&St.convert(e),e,Ag);gs.isPathValid=xP;gs.default=gs;Tg.exports=gs;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");St.convert=e;let t=/^[a-z]:\//i;St.isNotRelative=r=>t.test(r)||yg(r)}});var bg=c((nF,Og)=>{"use strict";Og.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var wg=c((iF,Xc)=>{"use strict";var{promisify:DP}=C("util"),Rg=C("fs"),At=C("path"),Pg=Gc(),BP=vg(),kn=bg(),Cg=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],FP=DP(Rg.readFile),UP=e=>t=>t.startsWith("!")?"!"+At.posix.join(e,t.slice(1)):At.posix.join(e,t),qP=(e,t)=>{let r=kn(At.relative(t.cwd,At.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(UP(r))},Ig=e=>{let t=BP();for(let r of e)t.add(qP(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},GP=(e,t)=>{if(e=kn(e),At.isAbsolute(t)){if(kn(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return At.join(e,t)},Ng=(e,t)=>r=>e.ignores(kn(At.relative(t,GP(t,r.path||r)))),jP=async(e,t)=>{let r=At.join(t,e),n=await FP(r,"utf8");return{cwd:t,filePath:r,content:n}},HP=(e,t)=>{let r=At.join(t,e),n=Rg.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},Mg=({ignore:e=[],cwd:t=kn(process.cwd())}={})=>({ignore:e,cwd:t});Xc.exports=async e=>{e=Mg(e);let t=await Pg("**/.gitignore",{ignore:Cg.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>jP(i,e.cwd))),n=Ig(r);return Ng(n,e.cwd)};Xc.exports.sync=e=>{e=Mg(e);let r=Pg.sync("**/.gitignore",{ignore:Cg.concat(e.ignore),cwd:e.cwd}).map(i=>HP(i,e.cwd)),n=Ig(r);return Ng(n,e.cwd)}});var xg=c((sF,Lg)=>{"use strict";var{Transform:VP}=C("stream"),Es=class extends VP{constructor(){super({objectMode:!0})}},zc=class extends Es{constructor(t){super(),this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},Qc=class extends Es{constructor(){super(),this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};Lg.exports={FilterStream:zc,UniqueStream:Qc}});var qg=c((oF,nr)=>{"use strict";var Bg=C("fs"),ms=vf(),kP=su(),Ss=Gc(),As=pg(),Zc=wg(),{FilterStream:$P,UniqueStream:YP}=xg(),Fg=()=>!1,Dg=e=>e[0]==="!",KP=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},WP=(e={})=>{if(!e.cwd)return;let t;try{t=Bg.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},XP=e=>e.stats instanceof Bg.Stats?e.path:e,ys=(e,t)=>{e=ms([].concat(e)),KP(e),WP(t);let r=[];t={ignore:[],expandDirectories:!0,...t};for(let[n,i]of e.entries()){if(Dg(i))continue;let s=e.slice(n).filter(a=>Dg(a)).map(a=>a.slice(1)),o={...t,ignore:t.ignore.concat(s)};r.push({pattern:i,options:o})}return r},zP=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)},Jc=(e,t)=>e.options.expandDirectories?zP(e,t):[e.pattern],Ug=e=>e&&e.gitignore?Zc.sync({cwd:e.cwd,ignore:e.ignore}):Fg,el=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=As.sync(r.ignore)),{pattern:t,options:r}};nr.exports=async(e,t)=>{let r=ys(e,t),n=async()=>t&&t.gitignore?Zc({cwd:t.cwd,ignore:t.ignore}):Fg,i=async()=>{let u=await Promise.all(r.map(async d=>{let l=await Jc(d,As);return Promise.all(l.map(el(d)))}));return ms(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>Ss(u.pattern,u.options)));return ms(...a).filter(u=>!s(XP(u)))};nr.exports.sync=(e,t)=>{let r=ys(e,t),n=[];for(let o of r){let a=Jc(o,As.sync).map(el(o));n.push(...a)}let i=Ug(t),s=[];for(let o of n)s=ms(s,Ss.sync(o.pattern,o.options));return s.filter(o=>!i(o))};nr.exports.stream=(e,t)=>{let r=ys(e,t),n=[];for(let a of r){let u=Jc(a,As.sync).map(el(a));n.push(...u)}let i=Ug(t),s=new $P(a=>!i(a)),o=new YP;return kP(n.map(a=>Ss.stream(a.pattern,a.options))).pipe(s).pipe(o)};nr.exports.generateGlobTasks=ys;nr.exports.hasMagic=(e,t)=>[].concat(e).some(r=>Ss.isDynamicPattern(r,t));nr.exports.gitignore=Zc});var BE=c(DE=>{"use strict";Object.defineProperty(DE,"__esModule",{value:!0})});var FE=c(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is._globalThis=void 0;Is._globalThis=typeof globalThis=="object"?globalThis:global});var UE=c(or=>{"use strict";var OI=or&&or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bI=or&&or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OI(t,e,r)};Object.defineProperty(or,"__esModule",{value:!0});bI(FE(),or)});var qE=c(ar=>{"use strict";var RI=ar&&ar.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),PI=ar&&ar.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RI(t,e,r)};Object.defineProperty(ar,"__esModule",{value:!0});PI(UE(),ar)});var gl=c(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.VERSION=void 0;Ns.VERSION="1.1.0"});var HE=c(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.isCompatible=Qr._makeCompatibilityCheck=void 0;var CI=gl(),GE=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function jE(e){var t=new Set([e]),r=new Set,n=e.match(GE);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var d=u.match(GE);if(!d)return s(u);var l={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return l.prerelease!=null||i.major!==l.major?s(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?o(u):s(u):i.minor<=l.minor?o(u):s(u)}}Qr._makeCompatibilityCheck=jE;Qr.isCompatible=jE(CI.VERSION)});var Zr=c(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.unregisterGlobal=Ft.getGlobal=Ft.registerGlobal=void 0;var II=qE(),Qn=gl(),NI=HE(),MI=Qn.VERSION.split(".")[0],Zn=Symbol.for("opentelemetry.js.api."+MI),Jn=II._globalThis;function wI(e,t,r,n){var i;n===void 0&&(n=!1);var s=Jn[Zn]=(i=Jn[Zn])!==null&&i!==void 0?i:{version:Qn.VERSION};if(!n&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(o.stack||o.message),!1}if(s.version!==Qn.VERSION){var o=new Error("@opentelemetry/api: All API registration versions must match");return r.error(o.stack||o.message),!1}return s[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Qn.VERSION+"."),!0}Ft.registerGlobal=wI;function LI(e){var t,r,n=(t=Jn[Zn])===null||t===void 0?void 0:t.version;if(!(!n||!NI.isCompatible(n)))return(r=Jn[Zn])===null||r===void 0?void 0:r[e]}Ft.getGlobal=LI;function xI(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Qn.VERSION+".");var r=Jn[Zn];r&&delete r[e]}Ft.unregisterGlobal=xI});var VE=c(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.DiagComponentLogger=void 0;var DI=Zr(),BI=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ei("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ei("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ei("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ei("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return ei("verbose",this._namespace,t)},e}();Ms.DiagComponentLogger=BI;function ei(e,t,r){var n=DI.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var ws=c(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.DiagLogLevel=void 0;var FI;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(FI=ti.DiagLogLevel||(ti.DiagLogLevel={}))});var kE=c(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.createLogLevelDiagLogger=void 0;var Tt=ws();function UI(e,t){e<Tt.DiagLogLevel.NONE?e=Tt.DiagLogLevel.NONE:e>Tt.DiagLogLevel.ALL&&(e=Tt.DiagLogLevel.ALL),t=t||{};function r(n,i){var s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",Tt.DiagLogLevel.ERROR),warn:r("warn",Tt.DiagLogLevel.WARN),info:r("info",Tt.DiagLogLevel.INFO),debug:r("debug",Tt.DiagLogLevel.DEBUG),verbose:r("verbose",Tt.DiagLogLevel.VERBOSE)}}Ls.createLogLevelDiagLogger=UI});var Jr=c(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.DiagAPI=void 0;var qI=VE(),GI=kE(),jI=ws(),xs=Zr(),HI="diag",VI=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=xs.getGlobal("diag");if(!!o)return o[n].apply(o,i)}}var r=this;r.setLogger=function(n,i){var s,o;if(i===void 0&&(i=jI.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=a.stack)!==null&&s!==void 0?s:a.message),!1}var u=xs.getGlobal("diag"),d=GI.createLogLevelDiagLogger(i,n);if(u){var l=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),d.warn("Current logger will overwrite one already registered from "+l)}return xs.registerGlobal("diag",d,r,!0)},r.disable=function(){xs.unregisterGlobal(HI,r)},r.createComponentLogger=function(n){return new qI.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();Ds.DiagAPI=VI});var $E=c(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.BaggageImpl=void 0;var kI=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,s=t;i<s.length;i++){var o=s[i];n._entries.delete(o)}return n},e.prototype.clear=function(){return new e},e}();Bs.BaggageImpl=kI});var YE=c(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.baggageEntryMetadataSymbol=void 0;Fs.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var El=c(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.baggageEntryMetadataFromString=en.createBaggage=void 0;var $I=Jr(),YI=$E(),KI=YE(),WI=$I.DiagAPI.instance();function XI(e){return e===void 0&&(e={}),new YI.BaggageImpl(new Map(Object.entries(e)))}en.createBaggage=XI;function zI(e){return typeof e!="string"&&(WI.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:KI.baggageEntryMetadataSymbol,toString:function(){return e}}}en.baggageEntryMetadataFromString=zI});var WE=c(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0})});var zE=c(XE=>{"use strict";Object.defineProperty(XE,"__esModule",{value:!0})});var ZE=c(QE=>{"use strict";Object.defineProperty(QE,"__esModule",{value:!0})});var JE=c(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.DiagConsoleLogger=void 0;var ml=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],QI=function(){function e(){function t(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(console){var o=console[n];if(typeof o!="function"&&(o=console.log),typeof o=="function")return o.apply(console,i)}}}for(var r=0;r<ml.length;r++)this[ml[r].n]=t(ml[r].c)}return e}();Us.DiagConsoleLogger=QI});var tm=c(Ut=>{"use strict";var ZI=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),em=Ut&&Ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ZI(t,e,r)};Object.defineProperty(Ut,"__esModule",{value:!0});em(JE(),Ut);em(ws(),Ut)});var Sl=c(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.defaultTextMapSetter=tn.defaultTextMapGetter=void 0;tn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};tn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var nm=c(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0})});var sm=c(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0})});var ri=c(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.ROOT_CONTEXT=rn.createContextKey=void 0;function JI(e){return Symbol.for(e)}rn.createContextKey=JI;var eN=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var s=new e(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();rn.ROOT_CONTEXT=new eN});var om=c(nn=>{"use strict";var tN=nn&&nn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(nn,"__esModule",{value:!0});nn.NoopContextManager=void 0;var rN=ri(),nN=function(){function e(){}return e.prototype.active=function(){return rN.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return r.call.apply(r,tN([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();nn.NoopContextManager=nN});var Tl=c(sn=>{"use strict";var iN=sn&&sn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(sn,"__esModule",{value:!0});sn.ContextAPI=void 0;var sN=om(),Al=Zr(),am=Jr(),yl="context",oN=new sN.NoopContextManager,aN=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Al.registerGlobal(yl,t,am.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,iN([t,r,n],s))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Al.getGlobal(yl)||oN},e.prototype.disable=function(){this._getContextManager().disable(),Al.unregisterGlobal(yl,am.DiagAPI.instance())},e}();sn.ContextAPI=aN});var vl=c(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.TraceFlags=void 0;var uN;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(uN=ni.TraceFlags||(ni.TraceFlags={}))});var qs=c(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.INVALID_SPAN_CONTEXT=it.INVALID_TRACEID=it.INVALID_SPANID=void 0;var cN=vl();it.INVALID_SPANID="0000000000000000";it.INVALID_TRACEID="00000000000000000000000000000000";it.INVALID_SPAN_CONTEXT={traceId:it.INVALID_TRACEID,spanId:it.INVALID_SPANID,traceFlags:cN.TraceFlags.NONE}});var js=c(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.NonRecordingSpan=void 0;var lN=qs(),dN=function(){function e(t){t===void 0&&(t=lN.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();Gs.NonRecordingSpan=dN});var bl=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getSpanContext=Ue.setSpanContext=Ue.deleteSpan=Ue.setSpan=Ue.getSpan=void 0;var _N=ri(),fN=js(),Ol=_N.createContextKey("OpenTelemetry Context Key SPAN");function um(e){return e.getValue(Ol)||void 0}Ue.getSpan=um;function cm(e,t){return e.setValue(Ol,t)}Ue.setSpan=cm;function pN(e){return e.deleteValue(Ol)}Ue.deleteSpan=pN;function hN(e,t){return cm(e,new fN.NonRecordingSpan(t))}Ue.setSpanContext=hN;function gN(e){var t;return(t=um(e))===null||t===void 0?void 0:t.spanContext()}Ue.getSpanContext=gN});var Hs=c(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.wrapSpanContext=st.isSpanContextValid=st.isValidSpanId=st.isValidTraceId=void 0;var lm=qs(),EN=js(),mN=/^([0-9a-f]{32})$/i,SN=/^[0-9a-f]{16}$/i;function dm(e){return mN.test(e)&&e!==lm.INVALID_TRACEID}st.isValidTraceId=dm;function _m(e){return SN.test(e)&&e!==lm.INVALID_SPANID}st.isValidSpanId=_m;function AN(e){return dm(e.traceId)&&_m(e.spanId)}st.isSpanContextValid=AN;function yN(e){return new EN.NonRecordingSpan(e)}st.wrapSpanContext=yN});var Pl=c(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.NoopTracer=void 0;var TN=Tl(),fm=bl(),Rl=js(),vN=Hs(),pm=TN.ContextAPI.getInstance(),ON=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r?.root);if(i)return new Rl.NonRecordingSpan;var s=n&&fm.getSpanContext(n);return bN(s)&&vN.isSpanContextValid(s)?new Rl.NonRecordingSpan(s):new Rl.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);var u=o??pm.active(),d=this.startSpan(t,s,u),l=fm.setSpan(u,d);return pm.with(l,a,void 0,d)}},e}();Vs.NoopTracer=ON;function bN(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Cl=c(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.ProxyTracer=void 0;var RN=Pl(),PN=new RN.NoopTracer,CN=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):PN},e}();ks.ProxyTracer=CN});var hm=c($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.NoopTracerProvider=void 0;var IN=Pl(),NN=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new IN.NoopTracer},e}();$s.NoopTracerProvider=NN});var Il=c(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.ProxyTracerProvider=void 0;var MN=Cl(),wN=hm(),LN=new wN.NoopTracerProvider,xN=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new MN.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:LN},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Ys.ProxyTracerProvider=xN});var Em=c(gm=>{"use strict";Object.defineProperty(gm,"__esModule",{value:!0})});var mm=c(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.SamplingDecision=void 0;var DN;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(DN=ii.SamplingDecision||(ii.SamplingDecision={}))});var Am=c(Sm=>{"use strict";Object.defineProperty(Sm,"__esModule",{value:!0})});var ym=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.SpanKind=void 0;var BN;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(BN=si.SpanKind||(si.SpanKind={}))});var vm=c(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0})});var bm=c(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0})});var Rm=c(oi=>{"use strict";Object.defineProperty(oi,"__esModule",{value:!0});oi.SpanStatusCode=void 0;var FN;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(FN=oi.SpanStatusCode||(oi.SpanStatusCode={}))});var Cm=c(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0})});var Im=c(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.validateValue=on.validateKey=void 0;var Nl="[_0-9a-z-*/]",UN="[a-z]"+Nl+"{0,255}",qN="[a-z0-9]"+Nl+"{0,240}@[a-z]"+Nl+"{0,13}",GN=new RegExp("^(?:"+UN+"|"+qN+")$"),jN=/^[ -~]{0,255}[!-~]$/,HN=/,|=/;function VN(e){return GN.test(e)}on.validateKey=VN;function kN(e){return jN.test(e)&&!HN.test(e)}on.validateValue=kN});var xm=c(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.TraceStateImpl=void 0;var Nm=Im(),Mm=32,$N=512,wm=",",Lm="=",YN=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+Lm+t.get(n)),r},[]).join(wm)},e.prototype._parse=function(t){t.length>$N||(this._internalState=t.split(wm).reverse().reduce(function(r,n){var i=n.trim(),s=i.indexOf(Lm);if(s!==-1){var o=i.slice(0,s),a=i.slice(s+1,n.length);Nm.validateKey(o)&&Nm.validateValue(a)&&r.set(o,a)}return r},new Map),this._internalState.size>Mm&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Mm))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();Ks.TraceStateImpl=YN});var Dm=c(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.createTraceState=void 0;var KN=xm();function WN(e){return new KN.TraceStateImpl(e)}Ws.createTraceState=WN});var Fm=c(Bm=>{"use strict";Object.defineProperty(Bm,"__esModule",{value:!0})});var qm=c(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0})});var jm=c(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0})});var Vm=c(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0})});var Km=c(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.TraceAPI=void 0;var Ml=Zr(),km=Il(),$m=Hs(),ai=bl(),Ym=Jr(),wl="trace",XN=function(){function e(){this._proxyTracerProvider=new km.ProxyTracerProvider,this.wrapSpanContext=$m.wrapSpanContext,this.isSpanContextValid=$m.isSpanContextValid,this.deleteSpan=ai.deleteSpan,this.getSpan=ai.getSpan,this.getSpanContext=ai.getSpanContext,this.setSpan=ai.setSpan,this.setSpanContext=ai.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Ml.registerGlobal(wl,this._proxyTracerProvider,Ym.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Ml.getGlobal(wl)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Ml.unregisterGlobal(wl,Ym.DiagAPI.instance()),this._proxyTracerProvider=new km.ProxyTracerProvider},e}();Xs.TraceAPI=XN});var Wm=c(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.NoopTextMapPropagator=void 0;var zN=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();zs.NoopTextMapPropagator=zN});var Xm=c(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.deleteBaggage=qt.setBaggage=qt.getBaggage=void 0;var QN=ri(),Ll=QN.createContextKey("OpenTelemetry Baggage Key");function ZN(e){return e.getValue(Ll)||void 0}qt.getBaggage=ZN;function JN(e,t){return e.setValue(Ll,t)}qt.setBaggage=JN;function eM(e){return e.deleteValue(Ll)}qt.deleteBaggage=eM});var Zm=c(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.PropagationAPI=void 0;var xl=Zr(),tM=Wm(),zm=Sl(),Dl=Xm(),rM=El(),Qm=Jr(),Bl="propagation",nM=new tM.NoopTextMapPropagator,iM=function(){function e(){this.createBaggage=rM.createBaggage,this.getBaggage=Dl.getBaggage,this.setBaggage=Dl.setBaggage,this.deleteBaggage=Dl.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return xl.registerGlobal(Bl,t,Qm.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=zm.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=zm.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){xl.unregisterGlobal(Bl,Qm.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return xl.getGlobal(Bl)||nM},e}();Qs.PropagationAPI=iM});var w=c(b=>{"use strict";var sM=b&&b.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Q=b&&b.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sM(t,e,r)};Object.defineProperty(b,"__esModule",{value:!0});b.diag=b.propagation=b.trace=b.context=b.INVALID_SPAN_CONTEXT=b.INVALID_TRACEID=b.INVALID_SPANID=b.isValidSpanId=b.isValidTraceId=b.isSpanContextValid=b.createTraceState=b.baggageEntryMetadataFromString=void 0;Q(BE(),b);var oM=El();Object.defineProperty(b,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return oM.baggageEntryMetadataFromString}});Q(WE(),b);Q(zE(),b);Q(ZE(),b);Q(tm(),b);Q(Sl(),b);Q(nm(),b);Q(sm(),b);Q(Cl(),b);Q(Il(),b);Q(Em(),b);Q(mm(),b);Q(Am(),b);Q(ym(),b);Q(vm(),b);Q(bm(),b);Q(Rm(),b);Q(vl(),b);Q(Cm(),b);var aM=Dm();Object.defineProperty(b,"createTraceState",{enumerable:!0,get:function(){return aM.createTraceState}});Q(Fm(),b);Q(qm(),b);Q(jm(),b);var Fl=Hs();Object.defineProperty(b,"isSpanContextValid",{enumerable:!0,get:function(){return Fl.isSpanContextValid}});Object.defineProperty(b,"isValidTraceId",{enumerable:!0,get:function(){return Fl.isValidTraceId}});Object.defineProperty(b,"isValidSpanId",{enumerable:!0,get:function(){return Fl.isValidSpanId}});var Ul=qs();Object.defineProperty(b,"INVALID_SPANID",{enumerable:!0,get:function(){return Ul.INVALID_SPANID}});Object.defineProperty(b,"INVALID_TRACEID",{enumerable:!0,get:function(){return Ul.INVALID_TRACEID}});Object.defineProperty(b,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Ul.INVALID_SPAN_CONTEXT}});Q(ri(),b);Q(Vm(),b);var uM=Tl();b.context=uM.ContextAPI.getInstance();var cM=Km();b.trace=cM.TraceAPI.getInstance();var lM=Zm();b.propagation=lM.PropagationAPI.getInstance();var dM=Jr();b.diag=dM.DiagAPI.instance();b.default={trace:b.trace,context:b.context,propagation:b.propagation,diag:b.diag}});var Zs=c(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.isTracingSuppressed=Gt.unsuppressTracing=Gt.suppressTracing=void 0;var _M=w(),ql=(0,_M.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function fM(e){return e.setValue(ql,!0)}Gt.suppressTracing=fM;function pM(e){return e.deleteValue(ql)}Gt.unsuppressTracing=pM;function hM(e){return e.getValue(ql)===!0}Gt.isTracingSuppressed=hM});var Jm=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.validateValue=an.validateKey=void 0;var Gl="[_0-9a-z-*/]",gM=`[a-z]${Gl}{0,255}`,EM=`[a-z0-9]${Gl}{0,240}@[a-z]${Gl}{0,13}`,mM=new RegExp(`^(?:${gM}|${EM})$`),SM=/^[ -~]{0,255}[!-~]$/,AM=/,|=/;function yM(e){return mM.test(e)}an.validateKey=yM;function TM(e){return SM.test(e)&&!AM.test(e)}an.validateValue=TM});var jl=c(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.TraceState=void 0;var eS=Jm(),tS=32,vM=512,rS=",",nS="=",ui=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+nS+this.get(r)),t),[]).join(rS)}_parse(t){t.length>vM||(this._internalState=t.split(rS).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(nS);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,eS.validateKey)(o)&&(0,eS.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>tS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,tS))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new ui;return t._internalState=new Map(this._internalState),t}};Js.TraceState=ui});var Vl=c(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.W3CTraceContextPropagator=ge.parseTraceParent=ge.TRACE_STATE_HEADER=ge.TRACE_PARENT_HEADER=void 0;var eo=w(),OM=Zs(),bM=jl();ge.TRACE_PARENT_HEADER="traceparent";ge.TRACE_STATE_HEADER="tracestate";var RM="00",PM="(?!ff)[\\da-f]{2}",CM="(?![0]{32})[\\da-f]{32}",IM="(?![0]{16})[\\da-f]{16}",NM="[\\da-f]{2}",MM=new RegExp(`^\\s?(${PM})-(${CM})-(${IM})-(${NM})(-.*)?\\s?$`);function iS(e){let t=MM.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}ge.parseTraceParent=iS;var Hl=class{inject(t,r,n){let i=eo.trace.getSpanContext(t);if(!i||(0,OM.isTracingSuppressed)(t)||!(0,eo.isSpanContextValid)(i))return;let s=`${RM}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||eo.TraceFlags.NONE).toString(16)}`;n.set(r,ge.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,ge.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,ge.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=iS(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,ge.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new bM.TraceState(typeof u=="string"?u:void 0)}return eo.trace.setSpanContext(t,o)}fields(){return[ge.TRACE_PARENT_HEADER,ge.TRACE_STATE_HEADER]}};ge.W3CTraceContextPropagator=Hl});var kl=c(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.BAGGAGE_MAX_TOTAL_LENGTH=Ee.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ee.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ee.BAGGAGE_HEADER=Ee.BAGGAGE_ITEMS_SEPARATOR=Ee.BAGGAGE_PROPERTIES_SEPARATOR=Ee.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Ee.BAGGAGE_KEY_PAIR_SEPARATOR="=";Ee.BAGGAGE_PROPERTIES_SEPARATOR=";";Ee.BAGGAGE_ITEMS_SEPARATOR=",";Ee.BAGGAGE_HEADER="baggage";Ee.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Ee.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Ee.BAGGAGE_MAX_TOTAL_LENGTH=8192});var $l=c(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.parseKeyPairsIntoRecord=ot.parsePairKeyValue=ot.getKeyPairs=ot.serializeKeyPairs=void 0;var wM=w(),ur=kl();function LM(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?ur.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>ur.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}ot.serializeKeyPairs=LM;function xM(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=ur.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}ot.getKeyPairs=xM;function sS(e){let t=e.split(ur.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(ur.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,wM.baggageEntryMetadataFromString)(t.join(ur.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}ot.parsePairKeyValue=sS;function DM(e){return typeof e!="string"||e.length===0?{}:e.split(ur.BAGGAGE_ITEMS_SEPARATOR).map(t=>sS(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}ot.parseKeyPairsIntoRecord=DM});var oS=c(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.W3CBaggagePropagator=void 0;var Yl=w(),BM=Zs(),cr=kl(),Kl=$l(),Wl=class{inject(t,r,n){let i=Yl.propagation.getBaggage(t);if(!i||(0,BM.isTracingSuppressed)(t))return;let s=(0,Kl.getKeyPairs)(i).filter(a=>a.length<=cr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,cr.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Kl.serializeKeyPairs)(s);o.length>0&&n.set(r,cr.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,cr.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(cr.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(cr.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let d=(0,Kl.parsePairKeyValue)(u);if(d){let l={value:d.value};d.metadata&&(l.metadata=d.metadata),o[d.key]=l}}),Object.entries(o).length===0)?t:Yl.propagation.setBaggage(t,Yl.propagation.createBaggage(o))}fields(){return[cr.BAGGAGE_HEADER]}};to.W3CBaggagePropagator=Wl});var dS=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.isAttributeValue=jt.isAttributeKey=jt.sanitizeAttributes=void 0;var aS=w();function FM(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!uS(r)){aS.diag.warn(`Invalid attribute key: ${r}`);continue}if(!cS(n)){aS.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}jt.sanitizeAttributes=FM;function uS(e){return typeof e=="string"&&e.length>0}jt.isAttributeKey=uS;function cS(e){return e==null?!0:Array.isArray(e)?UM(e):lS(e)}jt.isAttributeValue=cS;function UM(e){let t;for(let r of e)if(r!=null){if(!t){if(lS(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function lS(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var Xl=c(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.loggingErrorHandler=void 0;var qM=w();function GM(){return e=>{qM.diag.error(jM(e))}}ro.loggingErrorHandler=GM;function jM(e){return typeof e=="string"?e:JSON.stringify(HM(e))}function HM(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var zl=c(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.globalErrorHandler=un.setGlobalErrorHandler=void 0;var VM=Xl(),_S=(0,VM.loggingErrorHandler)();function kM(e){_S=e}un.setGlobalErrorHandler=kM;function $M(e){try{_S(e)}catch{}}un.globalErrorHandler=$M});var Ql=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.TracesSamplerValues=void 0;var YM;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(YM=ci.TracesSamplerValues||(ci.TracesSamplerValues={}))});var Zl=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.parseEnvironment=ve.DEFAULT_ENVIRONMENT=ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT=ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Ht=w(),KM=Ql(),WM=",",XM=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function zM(e){return XM.indexOf(e)>-1}var QM=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function ZM(e){return QM.indexOf(e)>-1}ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;ve.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Ht.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ve.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ve.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:KM.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function JM(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function ew(e,t,r,n=WM){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var tw={ALL:Ht.DiagLogLevel.ALL,VERBOSE:Ht.DiagLogLevel.VERBOSE,DEBUG:Ht.DiagLogLevel.DEBUG,INFO:Ht.DiagLogLevel.INFO,WARN:Ht.DiagLogLevel.WARN,ERROR:Ht.DiagLogLevel.ERROR,NONE:Ht.DiagLogLevel.NONE};function rw(e,t,r){let n=r[e];if(typeof n=="string"){let i=tw[n.toUpperCase()];i!=null&&(t[e]=i)}}function nw(e){let t={};for(let r in ve.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":rw(n,t,e);break;default:if(zM(n))JM(n,t,e);else if(ZM(n))ew(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}ve.parseEnvironment=nw});var pS=c(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.getEnv=void 0;var iw=C("os"),fS=Zl();function sw(){let e=(0,fS.parseEnvironment)(process.env);return Object.assign({HOSTNAME:iw.hostname()},fS.DEFAULT_ENVIRONMENT,e)}no.getEnv=sw});var hS=c(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io._globalThis=void 0;io._globalThis=typeof globalThis=="object"?globalThis:global});var gS=c(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.hexToBase64=void 0;function ow(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}so.hexToBase64=ow});var SS=c(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.RandomIdGenerator=void 0;var aw=8,mS=16,Jl=class{constructor(){this.generateTraceId=ES(mS),this.generateSpanId=ES(aw)}};ao.RandomIdGenerator=Jl;var oo=Buffer.allocUnsafe(mS);function ES(e){return function(){for(let r=0;r<e/4;r++)oo.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(oo[r]>0);r++)r===e-1&&(oo[e-1]=1);return oo.toString("hex",0,e)}}});var AS=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.otperformance=void 0;var uw=C("perf_hooks");uo.otperformance=uw.performance});var lo=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.VERSION=void 0;co.VERSION="1.3.1"});var yS=c(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.MessageTypeValues=H.RpcGrpcStatusCodeValues=H.MessagingOperationValues=H.MessagingDestinationKindValues=H.HttpFlavorValues=H.NetHostConnectionSubtypeValues=H.NetHostConnectionTypeValues=H.NetTransportValues=H.FaasInvokedProviderValues=H.FaasDocumentOperationValues=H.FaasTriggerValues=H.DbCassandraConsistencyLevelValues=H.DbSystemValues=H.SemanticAttributes=void 0;H.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};H.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};H.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};H.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};H.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};H.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};H.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};H.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};H.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};H.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};H.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};H.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};H.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};H.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var TS=c(lr=>{"use strict";var cw=lr&&lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lw=lr&&lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cw(t,e,r)};Object.defineProperty(lr,"__esModule",{value:!0});lw(yS(),lr)});var vS=c(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.TelemetrySdkLanguageValues=me.OsTypeValues=me.HostArchValues=me.AwsEcsLaunchtypeValues=me.CloudPlatformValues=me.CloudProviderValues=me.SemanticResourceAttributes=void 0;me.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};me.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};me.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};me.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};me.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};me.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};me.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var OS=c(dr=>{"use strict";var dw=dr&&dr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_w=dr&&dr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dw(t,e,r)};Object.defineProperty(dr,"__esModule",{value:!0});_w(vS(),dr)});var at=c(Vt=>{"use strict";var fw=Vt&&Vt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bS=Vt&&Vt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fw(t,e,r)};Object.defineProperty(Vt,"__esModule",{value:!0});bS(TS(),Vt);bS(OS(),Vt)});var RS=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.SDK_INFO=void 0;var pw=lo(),li=at();_o.SDK_INFO={[li.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[li.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[li.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:li.TelemetrySdkLanguageValues.NODEJS,[li.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:pw.VERSION}});var PS=c(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.unrefTimer=void 0;function hw(e){e.unref()}fo.unrefTimer=hw});var CS=c(De=>{"use strict";var gw=De&&De.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_r=De&&De.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gw(t,e,r)};Object.defineProperty(De,"__esModule",{value:!0});_r(pS(),De);_r(hS(),De);_r(gS(),De);_r(SS(),De);_r(AS(),De);_r(RS(),De);_r(PS(),De)});var ed=c(fr=>{"use strict";var Ew=fr&&fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mw=fr&&fr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ew(t,e,r)};Object.defineProperty(fr,"__esModule",{value:!0});mw(CS(),fr)});var MS=c(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.isTimeInput=ne.isTimeInputHrTime=ne.hrTimeToMicroseconds=ne.hrTimeToMilliseconds=ne.hrTimeToNanoseconds=ne.hrTimeToTimeStamp=ne.hrTimeDuration=ne.timeInputToHrTime=ne.hrTime=void 0;var td=ed(),rd=9,di=Math.pow(10,rd);function po(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(rd))*di;return[r,n]}function IS(){let e=td.otperformance.timeOrigin;if(typeof e!="number"){let t=td.otperformance;e=t.timing&&t.timing.fetchStart}return e}function NS(e){let t=po(IS()),r=po(typeof e=="number"?e:td.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>di&&(i-=di,n+=1),[n,i]}ne.hrTime=NS;function Sw(e){if(nd(e))return e;if(typeof e=="number")return e<IS()?NS(e):po(e);if(e instanceof Date)return po(e.getTime());throw TypeError("Invalid input type")}ne.timeInputToHrTime=Sw;function Aw(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=di),[r,n]}ne.hrTimeDuration=Aw;function yw(e){let t=rd,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}ne.hrTimeToTimeStamp=yw;function Tw(e){return e[0]*di+e[1]}ne.hrTimeToNanoseconds=Tw;function vw(e){return Math.round(e[0]*1e3+e[1]/1e6)}ne.hrTimeToMilliseconds=vw;function Ow(e){return Math.round(e[0]*1e6+e[1]/1e3)}ne.hrTimeToMicroseconds=Ow;function nd(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}ne.isTimeInputHrTime=nd;function bw(e){return nd(e)||typeof e=="number"||e instanceof Date}ne.isTimeInput=bw});var LS=c(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0})});var xS=c(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.ExportResultCode=void 0;var Rw;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Rw=_i.ExportResultCode||(_i.ExportResultCode={}))});var BS=c(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.CompositePropagator=void 0;var DS=w(),id=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){DS.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){DS.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};ho.CompositePropagator=id});var US=c(FS=>{"use strict";Object.defineProperty(FS,"__esModule",{value:!0})});var qS=c(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.getRPCMetadata=ke.deleteRPCMetadata=ke.setRPCMetadata=ke.RPCType=void 0;var Pw=w(),sd=(0,Pw.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Cw;(function(e){e.HTTP="http"})(Cw=ke.RPCType||(ke.RPCType={}));function Iw(e,t){return e.setValue(sd,t)}ke.setRPCMetadata=Iw;function Nw(e){return e.deleteValue(sd)}ke.deleteRPCMetadata=Nw;function Mw(e){return e.getValue(sd)}ke.getRPCMetadata=Mw});var ad=c(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.AlwaysOffSampler=void 0;var ww=w(),od=class{shouldSample(){return{decision:ww.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};go.AlwaysOffSampler=od});var cd=c(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.AlwaysOnSampler=void 0;var Lw=w(),ud=class{shouldSample(){return{decision:Lw.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Eo.AlwaysOnSampler=ud});var jS=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.ParentBasedSampler=void 0;var mo=w(),xw=zl(),GS=ad(),ld=cd(),dd=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,xw.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ld.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new ld.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new GS.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new ld.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new GS.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=mo.trace.getSpanContext(t);return!a||!(0,mo.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&mo.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&mo.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};So.ParentBasedSampler=dd});var HS=c(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.TraceIdRatioBasedSampler=void 0;var _d=w(),fd=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,_d.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?_d.SamplingDecision.RECORD_AND_SAMPLED:_d.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Ao.TraceIdRatioBasedSampler=fd});var KS=c(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.isPlainObject=void 0;var Dw="[object Object]",Bw="[object Null]",Fw="[object Undefined]",Uw=Function.prototype,VS=Uw.toString,qw=VS.call(Object),Gw=jw(Object.getPrototypeOf,Object),kS=Object.prototype,$S=kS.hasOwnProperty,pr=Symbol?Symbol.toStringTag:void 0,YS=kS.toString;function jw(e,t){return function(r){return e(t(r))}}function Hw(e){if(!Vw(e)||kw(e)!==Dw)return!1;let t=Gw(e);if(t===null)return!0;let r=$S.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&VS.call(r)===qw}yo.isPlainObject=Hw;function Vw(e){return e!=null&&typeof e=="object"}function kw(e){return e==null?e===void 0?Fw:Bw:pr&&pr in Object(e)?$w(e):Yw(e)}function $w(e){let t=$S.call(e,pr),r=e[pr],n=!1;try{e[pr]=void 0,n=!0}catch{}let i=YS.call(e);return n&&(t?e[pr]=r:delete e[pr]),i}function Yw(e){return YS.call(e)}});var ZS=c(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.merge=void 0;var WS=KS(),Kw=20;function Ww(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=zS(t,e.shift(),0,r);return t}Oo.merge=Ww;function pd(e){return vo(e)?e.slice():e}function zS(e,t,r=0,n){let i;if(!(r>Kw)){if(r++,To(e)||To(t)||QS(t))i=pd(t);else if(vo(e)){if(i=e.slice(),vo(t))for(let s=0,o=t.length;s<o;s++)i.push(pd(t[s]));else if(fi(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=pd(t[u])}}}else if(fi(e))if(fi(t)){if(!Xw(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],d=t[u];if(To(d))typeof d>"u"?delete i[u]:i[u]=d;else{let l=i[u],f=d;if(XS(e,u,n)||XS(t,u,n))delete i[u];else{if(fi(l)&&fi(f)){let _=n.get(l)||[],m=n.get(f)||[];_.push({obj:e,key:u}),m.push({obj:t,key:u}),n.set(l,_),n.set(f,m)}i[u]=zS(i[u],d,r,n)}}}}else i=t;return i}}function XS(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function vo(e){return Array.isArray(e)}function QS(e){return typeof e=="function"}function fi(e){return!To(e)&&!vo(e)&&!QS(e)&&typeof e=="object"}function To(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function Xw(e,t){return!(!(0,WS.isPlainObject)(e)||!(0,WS.isPlainObject)(t))}});var eA=c(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.isUrlIgnored=cn.urlMatches=void 0;function JS(e,t){return typeof t=="string"?e===t:!!e.match(t)}cn.urlMatches=JS;function zw(e,t){if(!t)return!1;for(let r of t)if(JS(e,r))return!0;return!1}cn.isUrlIgnored=zw});var tA=c(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.isWrapped=void 0;function Qw(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}bo.isWrapped=Qw});var rA=c(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.Deferred=void 0;var hd=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};Ro.Deferred=hd});var nA=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.BindOnceFuture=void 0;var Zw=rA(),gd=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new Zw.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Po.BindOnceFuture=gd});var Y=c(G=>{"use strict";var Jw=G&&G.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$=G&&G.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Jw(t,e,r)};Object.defineProperty(G,"__esModule",{value:!0});G.baggageUtils=void 0;$(oS(),G);$(dS(),G);$(zl(),G);$(Xl(),G);$(MS(),G);$(LS(),G);$(xS(),G);$(lo(),G);G.baggageUtils=$l();$(ed(),G);$(BS(),G);$(Vl(),G);$(US(),G);$(qS(),G);$(ad(),G);$(cd(),G);$(jS(),G);$(HS(),G);$(Zs(),G);$(jl(),G);$(Zl(),G);$(ZS(),G);$(Ql(),G);$(eA(),G);$(tA(),G);$(nA(),G);$(lo(),G)});var iA=c(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.ExceptionEventName=void 0;Co.ExceptionEventName="exception"});var md=c(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.Span=void 0;var ut=w(),$e=Y(),hr=at(),eL=iA(),Ed=class{constructor(t,r,n,i,s,o,a=[],u=(0,$e.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:ut.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a,this.startTime=(0,$e.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(ut.diag.warn(`Invalid attribute key: ${t}`),this):(0,$e.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(ut.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return ut.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(ut.diag.warn("Dropping extra events."),this.events.shift()),(0,$e.isTimeInput)(r)&&(typeof n>"u"&&(n=r),r=void 0),typeof n>"u"&&(n=(0,$e.hrTime)());let i=(0,$e.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,$e.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,$e.hrTime)()){if(this._isSpanEnded()){ut.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,$e.timeInputToHrTime)(t),this._duration=(0,$e.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&ut.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,$e.hrTime)()){let n={};typeof t=="string"?n[hr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[hr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[hr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[hr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[hr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[hr.SemanticAttributes.EXCEPTION_TYPE]||n[hr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(eL.ExceptionEventName,n,r):ut.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&ut.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(ut.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Io.Span=Ed});var Sd=c(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.buildSamplerFromEnv=dn.DEFAULT_CONFIG=void 0;var No=w(),X=Y(),tL=(0,X.getEnv)(),rL=X.TracesSamplerValues.AlwaysOn,ln=1;dn.DEFAULT_CONFIG={sampler:oA(tL),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,X.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,X.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,X.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,X.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,X.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,X.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function oA(e=(0,X.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case X.TracesSamplerValues.AlwaysOn:return new X.AlwaysOnSampler;case X.TracesSamplerValues.AlwaysOff:return new X.AlwaysOffSampler;case X.TracesSamplerValues.ParentBasedAlwaysOn:return new X.ParentBasedSampler({root:new X.AlwaysOnSampler});case X.TracesSamplerValues.ParentBasedAlwaysOff:return new X.ParentBasedSampler({root:new X.AlwaysOffSampler});case X.TracesSamplerValues.TraceIdRatio:return new X.TraceIdRatioBasedSampler(sA(e));case X.TracesSamplerValues.ParentBasedTraceIdRatio:return new X.ParentBasedSampler({root:new X.TraceIdRatioBasedSampler(sA(e))});default:return No.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${rL}".`),new X.AlwaysOnSampler}}dn.buildSamplerFromEnv=oA;function sA(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return No.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${ln}.`),ln;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(No.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${ln}.`),ln):t<0||t>1?(No.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${ln}.`),ln):t}});var Ad=c(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.reconfigureLimits=_n.mergeConfig=void 0;var Mo=Sd();function nL(e){let t={sampler:(0,Mo.buildSamplerFromEnv)()},r=Object.assign({},Mo.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},Mo.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},Mo.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}_n.mergeConfig=nL;function iL(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}_n.reconfigureLimits=iL});var aA=c(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.Tracer=void 0;var de=w(),pi=Y(),sL=md(),oL=Ad(),yd=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,oL.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new pi.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=de.context.active()){var i,s;if((0,pi.isTracingSuppressed)(n))return de.diag.debug("Instrumentation suppressed, returning Noop Span"),de.trace.wrapSpanContext(de.INVALID_SPAN_CONTEXT);r.root&&(n=de.trace.deleteSpan(n));let o=de.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,d,l;!o||!de.trace.isSpanContextValid(o)?u=this._idGenerator.generateTraceId():(u=o.traceId,d=o.traceState,l=o.spanId);let f=(i=r.kind)!==null&&i!==void 0?i:de.SpanKind.INTERNAL,_=((s=r.links)!==null&&s!==void 0?s:[]).map(U=>({context:U.context,attributes:(0,pi.sanitizeAttributes)(U.attributes)})),m=(0,pi.sanitizeAttributes)(r.attributes),g=this._sampler.shouldSample(n,u,t,f,m,_),S=g.decision===de.SamplingDecision.RECORD_AND_SAMPLED?de.TraceFlags.SAMPLED:de.TraceFlags.NONE,y={traceId:u,spanId:a,traceFlags:S,traceState:d};if(g.decision===de.SamplingDecision.NOT_RECORD)return de.diag.debug("Recording is off, propagating context in a non-recording span"),de.trace.wrapSpanContext(y);let O=new sL.Span(this,n,t,y,f,l,_,r.startTime),v=(0,pi.sanitizeAttributes)(Object.assign(m,g.attributes));return O.setAttributes(v),O}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??de.context.active(),d=this.startSpan(t,s,u),l=de.trace.setSpan(u,d);return de.context.with(l,a,void 0,d)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};wo.Tracer=yd});var uA=c(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.defaultServiceName=void 0;function aL(){return`unknown_service:${process.argv0}`}Lo.defaultServiceName=aL});var lA=c(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.detectResources=void 0;var cA=gr(),Td=w(),uL=C("util"),cL=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return Td.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return Td.diag.debug(`${n.constructor.name} failed: ${i.message}`),cA.Resource.empty()}}));return lL(r),r.reduce((n,i)=>n.merge(i),cA.Resource.empty())};xo.detectResources=cL;var lL=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=uL.inspect(t.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});Td.diag.verbose(r)}})}});var fA=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.hostDetector=void 0;var dA=at(),dL=gr(),_A=C("os"),vd=class{async detect(t){let r={[dA.SemanticResourceAttributes.HOST_NAME]:(0,_A.hostname)(),[dA.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,_A.arch)())};return new dL.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Do.hostDetector=new vd});var gA=c(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.osDetector=void 0;var pA=at(),_L=gr(),hA=C("os"),Od=class{async detect(t){let r={[pA.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,hA.platform)()),[pA.SemanticResourceAttributes.OS_VERSION]:(0,hA.release)()};return new _L.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Bo.osDetector=new Od});var EA=c(ct=>{"use strict";var fL=ct&&ct.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fo=ct&&ct.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fL(t,e,r)};Object.defineProperty(ct,"__esModule",{value:!0});Fo(uA(),ct);Fo(lA(),ct);Fo(fA(),ct);Fo(gA(),ct)});var bd=c(Er=>{"use strict";var pL=Er&&Er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),hL=Er&&Er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pL(t,e,r)};Object.defineProperty(Er,"__esModule",{value:!0});hL(EA(),Er)});var gr=c(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Resource=void 0;var mr=at(),Rd=Y(),gL=bd(),vt=class{constructor(t){this.attributes=t}static empty(){return vt.EMPTY}static default(){return new vt({[mr.SemanticResourceAttributes.SERVICE_NAME]:(0,gL.defaultServiceName)(),[mr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Rd.SDK_INFO[mr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[mr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Rd.SDK_INFO[mr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[mr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Rd.SDK_INFO[mr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new vt(r)}};Uo.Resource=vt;vt.EMPTY=new vt({})});var SA=c(mA=>{"use strict";Object.defineProperty(mA,"__esModule",{value:!0})});var yA=c(AA=>{"use strict";Object.defineProperty(AA,"__esModule",{value:!0})});var TA=c(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.browserDetector=void 0;var EL=w(),qo=at(),Pd=hi(),Cd=class{async detect(t){if(!(typeof navigator<"u"))return Pd.Resource.empty();let n={[qo.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[qo.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[qo.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[qo.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(EL.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Pd.Resource.empty()):new Pd.Resource(Object.assign({},t))}};Go.browserDetector=new Cd});var vA=c(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.envDetector=void 0;var mL=w(),SL=Y(),AL=at(),yL=gr(),Id=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,SL.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){mL.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[AL.SemanticResourceAttributes.SERVICE_NAME]=s),new yL.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};jo.envDetector=new Id});var OA=c(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.processDetector=void 0;var TL=w(),qe=at(),Nd=gr(),Md=class{async detect(t){if(typeof process!="object")return Nd.Resource.empty();let r={[qe.SemanticResourceAttributes.PROCESS_PID]:process.pid,[qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[qe.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[qe.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[qe.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[qe.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(TL.diag.debug("ProcessDetector failed: Unable to find required process resources. "),Nd.Resource.empty()):new Nd.Resource(Object.assign({},t))}};Ho.processDetector=new Md});var bA=c(Ot=>{"use strict";var vL=Ot&&Ot.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wd=Ot&&Ot.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vL(t,e,r)};Object.defineProperty(Ot,"__esModule",{value:!0});wd(TA(),Ot);wd(vA(),Ot);wd(OA(),Ot)});var hi=c(Ye=>{"use strict";var OL=Ye&&Ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gi=Ye&&Ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OL(t,e,r)};Object.defineProperty(Ye,"__esModule",{value:!0});gi(gr(),Ye);gi(bd(),Ye);gi(SA(),Ye);gi(yA(),Ye);gi(bA(),Ye)});var RA=c(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.MultiSpanProcessor=void 0;var bL=Y(),Ld=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,bL.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Vo.MultiSpanProcessor=Ld});var Dd=c(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.NoopSpanProcessor=void 0;var xd=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};ko.NoopSpanProcessor=xd});var PA=c($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.BatchSpanProcessorBase=void 0;var Bd=w(),fn=Y(),Fd=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,fn.getEnv)();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new fn.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Bd.TraceFlags.SAMPLED)!==0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Bd.context.with((0,fn.suppressTracing)(Bd.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var s;clearTimeout(n),i.code===fn.ExportResultCode.SUCCESS?t():r((s=i.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,fn.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,fn.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};$o.BatchSpanProcessorBase=Fd});var CA=c(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.BatchSpanProcessor=void 0;var RL=PA(),Ud=class extends RL.BatchSpanProcessorBase{onShutdown(){}};Yo.BatchSpanProcessor=Ud});var IA=c(Sr=>{"use strict";var PL=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CL=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&PL(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});CL(CA(),Sr)});var qd=c(Ar=>{"use strict";var IL=Ar&&Ar.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NL=Ar&&Ar.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&IL(t,e,r)};Object.defineProperty(Ar,"__esModule",{value:!0});NL(IA(),Ar)});var MA=c(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.BasicTracerProvider=yr.ForceFlushState=void 0;var pn=w(),gn=Y(),NA=hi(),ML=Ko(),wL=Sd(),LL=RA(),xL=Dd(),DL=qd(),BL=Ad(),hn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(hn=yr.ForceFlushState||(yr.ForceFlushState={}));var kt=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,gn.merge)({},wL.DEFAULT_CONFIG,(0,BL.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:NA.Resource.empty(),this.resource=NA.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new DL.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new xL.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${n?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new ML.Tracer({name:t,version:r,schemaUrl:n?.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>pn.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new LL.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){pn.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&pn.context.setGlobalContextManager(t.contextManager),t.propagator&&pn.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=hn.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==hn.timeout&&(s=hn.resolved,i(s))}).catch(a=>{clearTimeout(o),s=hn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==hn.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=kt._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=kt._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,gn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||pn.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new gn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,gn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||pn.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};yr.BasicTracerProvider=kt;kt._registeredPropagators=new Map([["tracecontext",()=>new gn.W3CTraceContextPropagator],["baggage",()=>new gn.W3CBaggagePropagator]]);kt._registeredExporters=new Map});var wA=c(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.ConsoleSpanExporter=void 0;var Gd=Y(),jd=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,Gd.hrTimeToMicroseconds)(t.startTime),duration:(0,Gd.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:Gd.ExportResultCode.SUCCESS})}};Wo.ConsoleSpanExporter=jd});var xA=c(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.InMemorySpanExporter=void 0;var LA=Y(),Hd=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:LA.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:LA.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Xo.InMemorySpanExporter=Hd});var BA=c(DA=>{"use strict";Object.defineProperty(DA,"__esModule",{value:!0})});var FA=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.SimpleSpanProcessor=void 0;var Vd=w(),zo=Y(),kd=class{constructor(t){this._exporter=t,this._shutdownOnce=new zo.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Vd.TraceFlags.SAMPLED)!==0&&Vd.context.with((0,zo.suppressTracing)(Vd.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==zo.ExportResultCode.SUCCESS&&(0,zo.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};Qo.SimpleSpanProcessor=kd});var qA=c(UA=>{"use strict";Object.defineProperty(UA,"__esModule",{value:!0})});var jA=c(GA=>{"use strict";Object.defineProperty(GA,"__esModule",{value:!0})});var VA=c(HA=>{"use strict";Object.defineProperty(HA,"__esModule",{value:!0})});var $A=c(kA=>{"use strict";Object.defineProperty(kA,"__esModule",{value:!0})});var Ko=c(ce=>{"use strict";var FL=ce&&ce.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Be=ce&&ce.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FL(t,e,r)};Object.defineProperty(ce,"__esModule",{value:!0});Be(aA(),ce);Be(MA(),ce);Be(qd(),ce);Be(wA(),ce);Be(xA(),ce);Be(BA(),ce);Be(FA(),ce);Be(qA(),ce);Be(Dd(),ce);Be(md(),ce);Be(jA(),ce);Be(VA(),ce);Be($A(),ce)});var Ei=c(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.invalidTimeout=Ge.configureExporterTimeout=Ge.appendRootPathToUrlIfNeeded=Ge.appendResourcePathToUrl=Ge.parseHeaders=void 0;var KA=w(),YA=Y(),WA=1e4;function UL(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n<"u"?t[r]=String(n):KA.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}Ge.parseHeaders=UL;function qL(e,t){return e.endsWith("/")||(e=e+"/"),e+t}Ge.appendResourcePathToUrl=qL;function GL(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}Ge.appendRootPathToUrlIfNeeded=GL;function jL(e){return typeof e=="number"?e<=0?$d(e,WA):e:HL()}Ge.configureExporterTimeout=jL;function HL(){var e;let t=Number((e=(0,YA.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,YA.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?$d(t,WA):t}function $d(e,t){return KA.diag.warn("Timeout must be greater than 0",e),t}Ge.invalidTimeout=$d});var Jo=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.OTLPExporterBase=void 0;var XA=w(),mi=Y(),VL=Ei(),Yd=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new mi.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:1/0,this.timeoutMillis=(0,VL.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:mi.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:mi.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:mi.ExportResultCode.SUCCESS})}).catch(n=>{r({code:mi.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{XA.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return XA.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};Zo.OTLPExporterBase=Yd});var Kd=c(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.CompressionAlgorithm=void 0;var kL;(function(e){e.NONE="none",e.GZIP="gzip"})(kL=Si.CompressionAlgorithm||(Si.CompressionAlgorithm={}))});var ta=c(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.OTLPExporterError=void 0;var Wd=class extends Error{constructor(t,r,n){super(t),this.name="OTLPExporterError",this.data=n,this.code=r}};ea.OTLPExporterError=Wd});var Zd=c($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.configureCompression=$t.createHttpAgent=$t.sendWithHttp=void 0;var QA=C("url"),ZA=C("http"),JA=C("https"),$L=C("zlib"),YL=C("stream"),Qd=w(),ra=Kd(),zA=Y(),Xd=ta(),zd;function KL(e,t,r,n,i){let s=e.timeoutMillis,o=new QA.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),d=setTimeout(()=>{a=!0,u>=14?_.destroy():_.abort()},s),l={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},_=(o.protocol==="http:"?ZA.request:JA.request)(l,m=>{let g="";m.on("data",S=>g+=S),m.on("aborted",()=>{if(a){let S=new Xd.OTLPExporterError("Request Timeout");i(S)}}),m.on("end",()=>{if(!a){if(m.statusCode&&m.statusCode<299)Qd.diag.debug(`statusCode: ${m.statusCode}`,g),n();else{let S=new Xd.OTLPExporterError(m.statusMessage,m.statusCode,g);i(S)}clearTimeout(d)}})});switch(_.on("error",m=>{if(a){let g=new Xd.OTLPExporterError("Request Timeout",m.code);i(g)}else clearTimeout(d),i(m)}),e.compression){case ra.CompressionAlgorithm.GZIP:{zd||(zd=$L.createGzip()),_.setHeader("Content-Encoding","gzip"),WL(t).on("error",i).pipe(zd).on("error",i).pipe(_);break}default:_.end(t);break}}$t.sendWithHttp=KL;function WL(e){let t=new YL.Readable;return t.push(e),t.push(null),t}function XL(e){if(e.httpAgentOptions&&e.keepAlive===!1){Qd.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new QA.URL(e.url).protocol==="http:"?ZA.Agent:JA.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){Qd.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}$t.createHttpAgent=XL;function zL(e){return e||(((0,zA.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,zA.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===ra.CompressionAlgorithm.GZIP?ra.CompressionAlgorithm.GZIP:ra.CompressionAlgorithm.NONE)}$t.configureCompression=zL});var ry=c(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.OTLPExporterNodeBase=void 0;var QL=Jo(),ZL=Ei(),Jd=Zd(),ey=w(),ty=Y(),e_=class extends QL.OTLPExporterBase{constructor(t={}){super(t),this.DEFAULT_HEADERS={},t.metadata&&ey.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,ZL.parseHeaders)(t.headers),ty.baggageUtils.parseKeyPairsIntoRecord((0,ty.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,Jd.createHttpAgent)(t),this.compression=(0,Jd.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){ey.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,Jd.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};na.OTLPExporterNodeBase=e_});var ny=c(bt=>{"use strict";var JL=bt&&bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),t_=bt&&bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JL(t,e,r)};Object.defineProperty(bt,"__esModule",{value:!0});t_(ry(),bt);t_(Zd(),bt);t_(Kd(),bt)});var sy=c(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.sendWithXhr=En.sendWithBeacon=void 0;var iy=w(),r_=ta();function ex(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))iy.diag.debug("sendBeacon - can send",e),n();else{let s=new r_.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}En.sendWithBeacon=ex;function tx(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([l,f])=>{u.setRequestHeader(l,f)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),iy.diag.debug("xhr success",e),i();else if(o){let l=new r_.OTLPExporterError("Request Timeout",u.status);s(l)}else{let l=new r_.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(l)}}}En.sendWithXhr=tx});var uy=c(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.OTLPExporterBrowserBase=void 0;var rx=Jo(),nx=Ei(),oy=sy(),ix=w(),ay=Y(),n_=class extends rx.OTLPExporterBase{constructor(t={}){super(t),this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,nx.parseHeaders)(t.headers),ay.baggageUtils.parseKeyPairsIntoRecord((0,ay.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){ix.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,d)=>{this._useXHR?(0,oy.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,d):(0,oy.sendWithBeacon)(s,this.url,{type:"application/json"},u,d)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};ia.OTLPExporterBrowserBase=n_});var cy=c(Tr=>{"use strict";var sx=Tr&&Tr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ox=Tr&&Tr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sx(t,e,r)};Object.defineProperty(Tr,"__esModule",{value:!0});ox(uy(),Tr)});var ly=c(Rt=>{"use strict";var ax=Rt&&Rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ux=Rt&&Rt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ax(t,e,r)};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.OTLPExporterBrowserBase=void 0;ux(ny(),Rt);var cx=cy();Object.defineProperty(Rt,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return cx.OTLPExporterBrowserBase}})});var i_=c(lt=>{"use strict";var lx=lt&&lt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sa=lt&&lt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lx(t,e,r)};Object.defineProperty(lt,"__esModule",{value:!0});sa(Jo(),lt);sa(ly(),lt);sa(ta(),lt);sa(Ei(),lt)});var _y=c(dy=>{"use strict";Object.defineProperty(dy,"__esModule",{value:!0})});var py=c(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0})});var gy=c(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0})});var Ey=c(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.ESpanKind=void 0;var dx;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(dx=Ai.ESpanKind||(Ai.ESpanKind={}))});var oa=c(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.bufToHex=je.hexToBuf=je.toAnyValue=je.toKeyValue=je.toAttributes=void 0;function _x(e){return Object.keys(e).map(t=>s_(t,e[t]))}je.toAttributes=_x;function s_(e,t){return{key:e,value:o_(t)}}je.toKeyValue=s_;function o_(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(o_)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>s_(r,n))}}:{}}je.toAnyValue=o_;function fx(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}je.hexToBuf=fx;function px(e){return("0"+e.toString(16)).slice(-2)}function hx(e){if(!(e==null||e.length===0))return Array.from(e).map(px).join("")}je.bufToHex=hx});var Ay=c(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.toOtlpSpanEvent=Yt.toOtlpLink=Yt.sdkSpanToOtlpSpan=void 0;var a_=Y(),u_=oa(),yi=Y();function gx(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?yi.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:yi.hexToBase64(r.traceId),spanId:t?r.spanId:yi.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,a_.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,a_.hrTimeToNanoseconds)(e.endTime),attributes:(0,u_.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(Sy),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>my(s,t)),droppedLinksCount:0}}Yt.sdkSpanToOtlpSpan=gx;function my(e,t){return{attributes:e.attributes?(0,u_.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:yi.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:yi.hexToBase64(e.context.traceId),droppedAttributesCount:0}}Yt.toOtlpLink=my;function Sy(e){return{attributes:e.attributes?(0,u_.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,a_.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}Yt.toOtlpSpanEvent=Sy});var yy=c(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.createExportTraceServiceRequest=void 0;var Ex=oa(),mx=Ay();function Sx(e,t){return{resourceSpans:yx(e,t)}}aa.createExportTraceServiceRequest=Sx;function Ax(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function yx(e,t){let r=Ax(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],d=a.values(),l=d.next();for(;!l.done;){let _=l.value;if(_.length>0){let{name:m,version:g,schemaUrl:S}=_[0].instrumentationLibrary,y=_.map(O=>(0,mx.sdkSpanToOtlpSpan)(O,t));u.push({scope:{name:m,version:g},spans:y,schemaUrl:S})}l=d.next()}let f={resource:{attributes:(0,Ex.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(f),s=i.next()}return n}});var c_=c(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=x.NOOP_OBSERVABLE_GAUGE_METRIC=x.NOOP_OBSERVABLE_COUNTER_METRIC=x.NOOP_UP_DOWN_COUNTER_METRIC=x.NOOP_HISTOGRAM_METRIC=x.NOOP_COUNTER_METRIC=x.NOOP_METER=x.NoopObservableUpDownCounterMetric=x.NoopObservableGaugeMetric=x.NoopObservableCounterMetric=x.NoopObservableMetric=x.NoopHistogramMetric=x.NoopUpDownCounterMetric=x.NoopCounterMetric=x.NoopMetric=x.NoopMeter=void 0;var ua=class{constructor(){}createHistogram(t,r){return x.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return x.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return x.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return x.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return x.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};x.NoopMeter=ua;var mn=class{};x.NoopMetric=mn;var ca=class extends mn{add(t,r){}};x.NoopCounterMetric=ca;var la=class extends mn{add(t,r){}};x.NoopUpDownCounterMetric=la;var da=class extends mn{record(t,r){}};x.NoopHistogramMetric=da;var Sn=class{addCallback(t){}removeCallback(t){}};x.NoopObservableMetric=Sn;var _a=class extends Sn{};x.NoopObservableCounterMetric=_a;var fa=class extends Sn{};x.NoopObservableGaugeMetric=fa;var pa=class extends Sn{};x.NoopObservableUpDownCounterMetric=pa;x.NOOP_METER=new ua;x.NOOP_COUNTER_METRIC=new ca;x.NOOP_HISTOGRAM_METRIC=new da;x.NOOP_UP_DOWN_COUNTER_METRIC=new la;x.NOOP_OBSERVABLE_COUNTER_METRIC=new _a;x.NOOP_OBSERVABLE_GAUGE_METRIC=new fa;x.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new pa});var l_=c(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.NOOP_METER_PROVIDER=An.NoopMeterProvider=void 0;var Tx=c_(),ha=class{getMeter(t,r,n){return Tx.NOOP_METER}};An.NoopMeterProvider=ha;An.NOOP_METER_PROVIDER=new ha});var vy=c(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0})});var by=c(Oy=>{"use strict";Object.defineProperty(Oy,"__esModule",{value:!0})});var Ry=c(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.ValueType=void 0;var vx;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(vx=Ti.ValueType||(Ti.ValueType={}))});var Cy=c(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0})});var Iy=c(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga._globalThis=void 0;ga._globalThis=typeof globalThis=="object"?globalThis:global});var Ny=c(vr=>{"use strict";var Ox=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bx=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ox(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});bx(Iy(),vr)});var My=c(Or=>{"use strict";var Rx=Or&&Or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Px=Or&&Or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rx(t,e,r)};Object.defineProperty(Or,"__esModule",{value:!0});Px(Ny(),Or)});var wy=c(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.API_BACKWARDS_COMPATIBILITY_VERSION=dt.makeGetter=dt._global=dt.GLOBAL_METRICS_API_KEY=void 0;var Cx=My();dt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");dt._global=Cx._globalThis;function Ix(e,t,r){return n=>n===e?t:r}dt.makeGetter=Ix;dt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var xy=c(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.MetricsAPI=void 0;var Ly=l_(),He=wy(),vi=class{constructor(){}static getInstance(){return this._instance||(this._instance=new vi),this._instance}setGlobalMeterProvider(t){return He._global[He.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(He._global[He.GLOBAL_METRICS_API_KEY]=(0,He.makeGetter)(He.API_BACKWARDS_COMPATIBILITY_VERSION,t,Ly.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=He._global[He.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(He._global,He.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:Ly.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete He._global[He.GLOBAL_METRICS_API_KEY]}};Ea.MetricsAPI=vi});var Tn=c(Ie=>{"use strict";var Nx=Ie&&Ie.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yn=Ie&&Ie.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nx(t,e,r)};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.metrics=void 0;yn(c_(),Ie);yn(l_(),Ie);yn(vy(),Ie);yn(by(),Ie);yn(Ry(),Ie);yn(Cy(),Ie);var Mx=xy();Ie.metrics=Mx.MetricsAPI.getInstance()});var ma=c(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.AggregationTemporality=void 0;var wx;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(wx=Oi.AggregationTemporality||(Oi.AggregationTemporality={}))});var Ri=c(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.DataPointType=void 0;var Lx;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(Lx=bi.DataPointType||(bi.DataPointType={}))});var Dy=c(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.ConsoleMetricExporter=void 0;var xx=ma(),Dx=Y(),d_=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t??xx.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:Dx.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};Sa.ConsoleMetricExporter=d_});var Fy=c(By=>{"use strict";Object.defineProperty(By,"__esModule",{value:!0})});var Pt=c(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.setEquals=ie.FlatMap=ie.isPromiseAllSettledRejectionResult=ie.PromiseAllSettled=ie.callWithTimeout=ie.TimeoutError=ie.instrumentationScopeId=ie.hashAttributes=ie.isNotNullish=void 0;function Bx(e){return e!=null}ie.isNotNullish=Bx;function Fx(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}ie.hashAttributes=Fx;function Ux(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}ie.instrumentationScopeId=Ux;var vn=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,vn.prototype)}};ie.TimeoutError=vn;function qx(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new vn("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}ie.callWithTimeout=qx;async function Gx(e){return Promise.all(e.map(async t=>{try{return{status:"fulfilled",value:await t}}catch(r){return{status:"rejected",reason:r}}}))}ie.PromiseAllSettled=Gx;function jx(e){return e.status==="rejected"}ie.isPromiseAllSettledRejectionResult=jx;function Hx(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}ie.FlatMap=Hx;function Vx(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}ie.setEquals=Vx});var f_=c(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.MetricReader=void 0;var Uy=w(),qy=Pt(),__=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t?.timeoutMillis})}async shutdown(t){if(this._shutdown){Uy.diag.error("Cannot call shutdown twice.");return}t?.timeoutMillis==null?await this.onShutdown():await(0,qy.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){Uy.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(t?.timeoutMillis==null){await this.onForceFlush();return}await(0,qy.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};Aa.MetricReader=__});var Vy=c(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.PeriodicExportingMetricReader=void 0;var Gy=w(),jy=Y(),kx=f_(),Hy=Pt(),p_=class extends kx.MetricReader{constructor(t){var r,n;if(super(),t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&Gy.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==jy.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,Hy.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof Hy.TimeoutError){Gy.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,jy.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};ya.PeriodicExportingMetricReader=p_});var br=c(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.isDescriptorCompatibleWith=Ke.createInstrumentDescriptorWithView=Ke.createInstrumentDescriptor=Ke.InstrumentType=void 0;var $x=Tn(),Yx;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(Yx=Ke.InstrumentType||(Ke.InstrumentType={}));function Kx(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r?.description)!==null&&n!==void 0?n:"",unit:(i=r?.unit)!==null&&i!==void 0?i:"",valueType:(s=r?.valueType)!==null&&s!==void 0?s:$x.ValueType.DOUBLE}}Ke.createInstrumentDescriptor=Kx;function Wx(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}Ke.createInstrumentDescriptorWithView=Wx;function Xx(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}Ke.isDescriptorCompatibleWith=Xx});var va=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.isObservableInstrument=se.ObservableUpDownCounterInstrument=se.ObservableGaugeInstrument=se.ObservableCounterInstrument=se.ObservableInstrument=se.HistogramInstrument=se.CounterInstrument=se.UpDownCounterInstrument=se.SyncInstrument=void 0;var Ta=w(),zx=Tn(),On=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=Ta.context.active()){this._descriptor.valueType===zx.ValueType.INT&&!Number.isInteger(t)&&(Ta.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};se.SyncInstrument=On;var h_=class extends On{add(t,r,n){this._record(t,r,n)}};se.UpDownCounterInstrument=h_;var g_=class extends On{add(t,r,n){if(t<0){Ta.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};se.CounterInstrument=g_;var E_=class extends On{record(t,r,n){if(t<0){Ta.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};se.HistogramInstrument=E_;var Rr=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};se.ObservableInstrument=Rr;var m_=class extends Rr{};se.ObservableCounterInstrument=m_;var S_=class extends Rr{};se.ObservableGaugeInstrument=S_;var A_=class extends Rr{};se.ObservableUpDownCounterInstrument=A_;function Qx(e){return e instanceof Rr}se.isObservableInstrument=Qx});var T_=c(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.Meter=void 0;var Ve=br(),bn=va(),y_=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,Ve.createInstrumentDescriptor)(t,Ve.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new bn.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,Ve.createInstrumentDescriptor)(t,Ve.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new bn.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,Ve.createInstrumentDescriptor)(t,Ve.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new bn.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,Ve.createInstrumentDescriptor)(t,Ve.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new bn.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,Ve.createInstrumentDescriptor)(t,Ve.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new bn.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,Ve.createInstrumentDescriptor)(t,Ve.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new bn.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Oa.Meter=y_});var ba=c(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.ExactPredicate=Rn.PatternPredicate=void 0;var Zx=/[\^$\\.+?()[\]{}|]/g,Pi=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(Pi.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(Zx,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Rn.PatternPredicate=Pi;var v_=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Rn.ExactPredicate=v_});var b_=c(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.InstrumentSelector=void 0;var Jx=ba(),O_=class{constructor(t){var r;this._nameFilter=new Jx.PatternPredicate((r=t?.name)!==null&&r!==void 0?r:"*"),this._type=t?.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Ra.InstrumentSelector=O_});var C_=c(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.MeterSelector=void 0;var R_=ba(),P_=class{constructor(t){this._nameFilter=new R_.ExactPredicate(t?.name),this._versionFilter=new R_.ExactPredicate(t?.version),this._schemaUrlFilter=new R_.ExactPredicate(t?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Pa.MeterSelector=P_});var Ii=c(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.AggregatorKind=void 0;var eD;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(eD=Ci.AggregatorKind||(Ci.AggregatorKind={}))});var ky=c(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.DropAggregator=void 0;var tD=Ii(),I_=class{constructor(){this.kind=tD.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};Ca.DropAggregator=I_});var $y=c(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.HistogramAggregator=Cn.HistogramAccumulation=void 0;var rD=Ii(),nD=Ri();function iD(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var Pn=class{constructor(t,r=iD(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Cn.HistogramAccumulation=Pn;var N_=class{constructor(t){this._boundaries=t,this.kind=rD.AggregatorKind.HISTOGRAM}createAccumulation(){return new Pn(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new Pn(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new Pn(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:nD.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Cn.HistogramAggregator=N_});var Yy=c(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.LastValueAggregator=Nn.LastValueAccumulation=void 0;var sD=Ii(),Ni=Y(),oD=Ri(),In=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,Ni.hrTime)()}toPointValue(){return this._current}};Nn.LastValueAccumulation=In;var M_=class{constructor(){this.kind=sD.AggregatorKind.LAST_VALUE}createAccumulation(){return new In}merge(t,r){let n=(0,Ni.hrTimeToMicroseconds)(r.sampleTime)>=(0,Ni.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new In(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,Ni.hrTimeToMicroseconds)(r.sampleTime)>=(0,Ni.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new In(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:oD.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Nn.LastValueAggregator=M_});var Ky=c(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.SumAggregator=wn.SumAccumulation=void 0;var aD=Ii(),uD=Ri(),Mn=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};wn.SumAccumulation=Mn;var w_=class{constructor(){this.kind=aD.AggregatorKind.SUM}createAccumulation(){return new Mn}merge(t,r){return new Mn(t.toPointValue()+r.toPointValue())}diff(t,r){return new Mn(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:uD.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};wn.SumAggregator=w_});var Wy=c(_t=>{"use strict";var cD=_t&&_t.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ia=_t&&_t.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cD(t,e,r)};Object.defineProperty(_t,"__esModule",{value:!0});Ia(ky(),_t);Ia($y(),_t);Ia(Yy(),_t);Ia(Ky(),_t)});var x_=c(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.DefaultAggregation=Se.ExplicitBucketHistogramAggregation=Se.HistogramAggregation=Se.LastValueAggregation=Se.SumAggregation=Se.DropAggregation=Se.Aggregation=void 0;var lD=w(),Mi=Wy(),Ln=br(),Ct=class{static Drop(){return Xy}static Sum(){return zy}static LastValue(){return Qy}static Histogram(){return Zy}static Default(){return dD}};Se.Aggregation=Ct;var Pr=class extends Ct{createAggregator(t){return Pr.DEFAULT_INSTANCE}};Se.DropAggregation=Pr;Pr.DEFAULT_INSTANCE=new Mi.DropAggregator;var Cr=class extends Ct{createAggregator(t){return Cr.DEFAULT_INSTANCE}};Se.SumAggregation=Cr;Cr.DEFAULT_INSTANCE=new Mi.SumAggregator;var Ir=class extends Ct{createAggregator(t){return Ir.DEFAULT_INSTANCE}};Se.LastValueAggregation=Ir;Ir.DEFAULT_INSTANCE=new Mi.LastValueAggregator;var Nr=class extends Ct{createAggregator(t){return Nr.DEFAULT_INSTANCE}};Se.HistogramAggregation=Nr;Nr.DEFAULT_INSTANCE=new Mi.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var L_=class extends Ct{constructor(t){if(super(),t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-1/0),n=t.indexOf(1/0);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new Mi.HistogramAggregator(this._boundaries)}};Se.ExplicitBucketHistogramAggregation=L_;var Na=class extends Ct{_resolve(t){switch(t.type){case Ln.InstrumentType.COUNTER:case Ln.InstrumentType.UP_DOWN_COUNTER:case Ln.InstrumentType.OBSERVABLE_COUNTER:case Ln.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return zy;case Ln.InstrumentType.OBSERVABLE_GAUGE:return Qy;case Ln.InstrumentType.HISTOGRAM:return Zy}return lD.diag.warn(`Unable to recognize instrument type: ${t.type}`),Xy}createAggregator(t){return this._resolve(t).createAggregator(t)}};Se.DefaultAggregation=Na;var Xy=new Pr,zy=new Cr,Qy=new Ir,Zy=new Nr,dD=new Na});var B_=c(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.FilteringAttributesProcessor=Kt.NoopAttributesProcessor=Kt.AttributesProcessor=void 0;var wi=class{static Noop(){return _D}};Kt.AttributesProcessor=wi;var Ma=class extends wi{process(t,r){return t}};Kt.NoopAttributesProcessor=Ma;var D_=class extends wi{constructor(t){super(),this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};Kt.FilteringAttributesProcessor=D_;var _D=new Ma});var U_=c(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.View=void 0;var fD=x_(),pD=B_(),F_=class{constructor(t){var r,n;this.name=t?.name,this.description=t?.description,this.aggregation=(r=t?.aggregation)!==null&&r!==void 0?r:fD.Aggregation.Default(),this.attributesProcessor=(n=t?.attributesProcessor)!==null&&n!==void 0?n:pD.AttributesProcessor.Noop()}};wa.View=F_});var Jy=c(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.ViewRegistry=void 0;var hD=b_(),gD=C_(),ED=U_(),xn=class{constructor(){this._registeredViews=[]}addView(t,r=new hD.InstrumentSelector,n=new gD.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[xn.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};La.ViewRegistry=xn;xn.DEFAULT_VIEW=new ED.View});var G_=c(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.MetricStorage=void 0;var mD=br(),q_=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,mD.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};xa.MetricStorage=q_});var Li=c(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.AttributeHashMap=Dn.HashMap=void 0;var SD=Pt(),Da=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r??(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n??(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r??(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Dn.HashMap=Da;var j_=class extends Da{constructor(){super(SD.hashAttributes)}};Dn.AttributeHashMap=j_});var k_=c(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.DeltaMetricProcessor=void 0;var H_=Li(),V_=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new H_.AttributeHashMap,this._cumulativeMemoStorage=new H_.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i?.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s?.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new H_.AttributeHashMap,t}};Ba.DeltaMetricProcessor=V_});var $_=c(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.TemporalMetricProcessor=void 0;var eT=ma(),AD=Li(),Bn=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),d=u,l;if(this._reportHistory.has(t)){let f=this._reportHistory.get(t);a=f.collectionTime,l=f.aggregationTemporality,l===eT.AggregationTemporality.CUMULATIVE&&(d=Bn.merge(f.accumulations,u,this._aggregator))}else l=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:d,collectionTime:o,aggregationTemporality:l}),this._aggregator.toMetricData(n,l,yD(d),l===eT.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new AD.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=Bn.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,d,l]=a.value,f=(i=t.get(u,l))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(f,d),l),a=o.next()}return s}};Fa.TemporalMetricProcessor=Bn;function yD(e){return Array.from(e.entries())}});var tT=c(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.AsyncMetricStorage=void 0;var TD=G_(),vD=k_(),OD=$_(),bD=Li(),Y_=class extends TD.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new vD.DeltaMetricProcessor(r),this._temporalMetricStorage=new OD.TemporalMetricProcessor(r)}record(t){let r=new bD.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Ua.AsyncMetricStorage=Y_});var oT=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getConflictResolutionRecipe=Ne.getDescriptionResolutionRecipe=Ne.getTypeConflictResolutionRecipe=Ne.getUnitConflictResolutionRecipe=Ne.getValueTypeConflictResolutionRecipe=Ne.getIncompatibilityDetails=void 0;function RD(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}Ne.getIncompatibilityDetails=RD;function rT(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}Ne.getValueTypeConflictResolutionRecipe=rT;function nT(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}Ne.getUnitConflictResolutionRecipe=nT;function iT(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}Ne.getTypeConflictResolutionRecipe=iT;function sT(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Ne.getDescriptionResolutionRecipe=sT;function PD(e,t){return e.valueType!==t.valueType?rT(e,t):e.unit!==t.unit?nT(e,t):e.type!==t.type?iT(e,t):e.description!==t.description?sT(e,t):""}Ne.getConflictResolutionRecipe=PD});var uT=c(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.MetricStorageRegistry=void 0;var CD=br(),aT=w(),qa=oT(),xi=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new xi}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,CD.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),aT.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,qa.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,qa.getConflictResolutionRecipe)(o,r))),i=s):aT.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,qa.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,qa.getConflictResolutionRecipe)(o,r))}return i??(n.push(t),t)}};Ga.MetricStorageRegistry=xi});var cT=c(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.MultiMetricStorage=void 0;var K_=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};ja.MultiMetricStorage=K_});var z_=c(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.BatchObservableResultImpl=Fn.ObservableResultImpl=void 0;var lT=w(),dT=Tn(),_T=Li(),ID=va(),W_=class{constructor(t){this._descriptor=t,this._buffer=new _T.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===dT.ValueType.INT&&!Number.isInteger(t)&&(lT.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};Fn.ObservableResultImpl=W_;var X_=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,ID.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new _T.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===dT.ValueType.INT&&!Number.isInteger(r)&&(lT.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};Fn.BatchObservableResultImpl=X_});var hT=c(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.ObservableRegistry=void 0;var ND=w(),fT=va(),pT=z_(),Di=Pt(),Q_=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(fT.isObservableInstrument));if(n.size===0){ND.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(fT.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,Di.PromiseAllSettled)([...r,...n])).filter(Di.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new pT.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,Di.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new pT.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,Di.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Di.setEquals)(n.instruments,r))}};Ha.ObservableRegistry=Q_});var gT=c(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.SyncMetricStorage=void 0;var MD=G_(),wD=k_(),LD=$_(),Z_=class extends MD.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new wD.DeltaMetricProcessor(r),this._temporalMetricStorage=new LD.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};Va.SyncMetricStorage=Z_});var mT=c($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.MeterSharedState=void 0;var ET=br(),xD=T_(),ka=Pt(),DD=tT(),BD=uT(),FD=cT(),UD=hT(),qD=gT(),J_=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new BD.MetricStorageRegistry,this.observableRegistry=new UD.ObservableRegistry,this.meter=new xD.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,ET.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new qD.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(ka.isNotNullish);return n.length===1?n[0]:new FD.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,ET.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new DD.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(ka.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n?.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(ka.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(ka.isNotNullish)},errors:i}}};$a.MeterSharedState=J_});var ST=c(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.MeterProviderSharedState=void 0;var GD=Y(),jD=Pt(),HD=Jy(),VD=mT(),ef=class{constructor(t){this.resource=t,this.viewRegistry=new HD.ViewRegistry,this.sdkStartTime=(0,GD.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,jD.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new VD.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};Ya.MeterProviderSharedState=ef});var AT=c(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.MetricCollector=void 0;var kD=Y(),$D=Pt(),tf=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,kD.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,$D.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Ka.MetricCollector=tf});var yT=c(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.MeterProvider=void 0;var rf=w(),YD=Tn(),KD=hi(),WD=ST(),XD=b_(),zD=C_(),QD=U_(),ZD=AT(),JD=B_(),e1=ba();function t1(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var nf=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new WD.MeterProviderSharedState((r=t?.resource)!==null&&r!==void 0?r:KD.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(rf.diag.warn("A shutdown MeterProvider cannot provide a Meter"),YD.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new ZD.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(t1(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r?.instrument)===null||n===void 0?void 0:n.name)==null||e1.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new JD.FilteringAttributesProcessor(t.attributeKeys));let s=new QD.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new XD.InstrumentSelector(r?.instrument),a=new zD.MeterSelector(r?.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){rf.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){rf.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Wa.MeterProvider=nf});var TT=c(oe=>{"use strict";var r1=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ft=oe&&oe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&r1(t,e,r)};Object.defineProperty(oe,"__esModule",{value:!0});oe.TimeoutError=oe.InstrumentType=void 0;ft(ma(),oe);ft(Ri(),oe);ft(Dy(),oe);ft(Fy(),oe);ft(f_(),oe);ft(Vy(),oe);var n1=br();Object.defineProperty(oe,"InstrumentType",{enumerable:!0,get:function(){return n1.InstrumentType}});ft(T_(),oe);ft(yT(),oe);ft(z_(),oe);var i1=Pt();Object.defineProperty(oe,"TimeoutError",{enumerable:!0,get:function(){return i1.TimeoutError}});ft(x_(),oe)});var RT=c(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.toMetric=Wt.toScopeMetrics=Wt.toResourceMetrics=void 0;var vT=Tn(),Xa=Y(),pt=TT(),sf=oa();function s1(e){return{resource:{attributes:(0,sf.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:OT(e.scopeMetrics)}}Wt.toResourceMetrics=s1;function OT(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>bT(n)),schemaUrl:t.scope.schemaUrl})))}Wt.toScopeMetrics=OT;function bT(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=d1(e.aggregationTemporality);if(e.dataPointType===pt.DataPointType.SINGULAR){let n=a1(e),i=e.descriptor.type===pt.InstrumentType.COUNTER||e.descriptor.type===pt.InstrumentType.OBSERVABLE_COUNTER;c1(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else l1(e)&&(t.histogram={aggregationTemporality:r,dataPoints:u1(e)});return t}Wt.toMetric=bT;function o1(e,t){let r={attributes:(0,sf.toAttributes)(e.attributes),startTimeUnixNano:(0,Xa.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Xa.hrTimeToNanoseconds)(e.endTime)};return t===vT.ValueType.INT?r.asInt=e.value:t===vT.ValueType.DOUBLE&&(r.asDouble=e.value),r}function a1(e){return e.dataPoints.map(t=>o1(t,e.descriptor.valueType))}function u1(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,sf.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Xa.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Xa.hrTimeToNanoseconds)(t.endTime)}})}function c1(e){return e.descriptor.type===pt.InstrumentType.COUNTER||e.descriptor.type===pt.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===pt.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===pt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function l1(e){return e.dataPointType===pt.DataPointType.HISTOGRAM}function d1(e){return e===pt.AggregationTemporality.DELTA?1:e===pt.AggregationTemporality.CUMULATIVE?2:0}});var PT=c(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.createExportMetricsServiceRequest=void 0;var _1=RT();function f1(e){return{resourceMetrics:e.map(t=>(0,_1.toResourceMetrics)(t))}}za.createExportMetricsServiceRequest=f1});var CT=c(Me=>{"use strict";var p1=Me&&Me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qa=Me&&Me.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&p1(t,e,r)};Object.defineProperty(Me,"__esModule",{value:!0});Me.createExportMetricsServiceRequest=Me.createExportTraceServiceRequest=void 0;Qa(_y(),Me);Qa(py(),Me);Qa(gy(),Me);Qa(Ey(),Me);var h1=yy();Object.defineProperty(Me,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return h1.createExportTraceServiceRequest}});var g1=PT();Object.defineProperty(Me,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return g1.createExportMetricsServiceRequest}})});var NT=c(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.OTLPTraceExporter=void 0;var Un=Y(),E1=i_(),IT=i_(),m1=CT(),of="v1/traces",S1=`http://localhost:4318/${of}`,af=class extends E1.OTLPExporterNodeBase{constructor(t={}){super(t),this.headers=Object.assign(this.headers,Un.baggageUtils.parseKeyPairsIntoRecord((0,Un.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,m1.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,Un.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,IT.appendRootPathToUrlIfNeeded)((0,Un.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,of):(0,Un.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,IT.appendResourcePathToUrl)((0,Un.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,of):S1}};Za.OTLPTraceExporter=af});var MT=c(Mr=>{"use strict";var A1=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y1=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&A1(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});y1(NT(),Mr)});var wT=c(wr=>{"use strict";var T1=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),v1=wr&&wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&T1(t,e,r)};Object.defineProperty(wr,"__esModule",{value:!0});v1(MT(),wr)});var LT=c(Lr=>{"use strict";var O1=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b1=Lr&&Lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&O1(t,e,r)};Object.defineProperty(Lr,"__esModule",{value:!0});b1(wT(),Lr)});var I1={};ZT(I1,{default:()=>C1});var Dr=C("@yarnpkg/cli"),Oe=C("@yarnpkg/core"),VT=C("@yarnpkg/libzip"),V=C("@yarnpkg/fslib"),We=C("clipanion"),uf=Te(C("path"));var lf=C("fs"),df=async e=>{try{return(0,lf.readFileSync)(e,"utf-8").split(`
`)}catch{return[]}};var _f=C("path"),ff=({ignoreFile:e,cwd:t})=>(0,_f.join)(t,e);var Hg=Te(yf());var Gg=Te(qg()),jg=async({cwd:e})=>{try{return await(0,Gg.default)("**/*",{dot:!0,cwd:e,absolute:!1})}catch{return[]}};var tl=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=ff({ignoreFile:t,cwd:r}),i=(0,Hg.default)().add([...e,...await df(n)]);return(await jg({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var Vg=["package.json","package.yaml","package.yml"];var Ts=C("path"),QP={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,Ts.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>Vg.map(t=>(0,Ts.join)(e,t))},ZP=({cwd:e,rootDir:t})=>[...new Set(Object.values(QP).map(r=>r({cwd:e,rootDir:t})).flat())],kg=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>ZP({cwd:r,rootDir:t})).flat();var zn=C("@yarnpkg/fslib"),B=Te(C("typanion"));function oE(e){return typeof e>"u"||e===null}function JP(e){return typeof e=="object"&&e!==null}function e0(e){return Array.isArray(e)?e:oE(e)?[]:[e]}function t0(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function r0(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function n0(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var i0=oE,s0=JP,o0=e0,a0=r0,u0=n0,c0=t0,ue={isNothing:i0,isObject:s0,toArray:o0,repeat:a0,isNegativeZero:u0,extend:c0};function aE(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Yn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=aE(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Yn.prototype=Object.create(Error.prototype);Yn.prototype.constructor=Yn;Yn.prototype.toString=function(t){return this.name+": "+aE(this,t)};var Re=Yn;function rl(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function nl(e,t){return ue.repeat(" ",t-e.length)+e}function l0(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,d,l=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)d=rl(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),f),a=ue.repeat(" ",t.indent)+nl((e.line-u+1).toString(),l)+" | "+d.str+`
`+a;for(d=rl(e.buffer,n[o],i[o],e.position,f),a+=ue.repeat(" ",t.indent)+nl((e.line+1).toString(),l)+" | "+d.str+`
`,a+=ue.repeat("-",t.indent+l+3+d.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)d=rl(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),f),a+=ue.repeat(" ",t.indent)+nl((e.line+u+1).toString(),l)+" | "+d.str+`
`;return a.replace(/\n$/,"")}var d0=l0,_0=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],f0=["scalar","sequence","mapping"];function p0(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function h0(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(_0.indexOf(r)===-1)throw new Re('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=p0(t.styleAliases||null),f0.indexOf(this.kind)===-1)throw new Re('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var pe=h0;function $g(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function g0(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function sl(e){return this.extend(e)}sl.prototype.extend=function(t){var r=[],n=[];if(t instanceof pe)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Re("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof pe))throw new Re("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Re("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Re("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof pe))throw new Re("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(sl.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=$g(i,"implicit"),i.compiledExplicit=$g(i,"explicit"),i.compiledTypeMap=g0(i.compiledImplicit,i.compiledExplicit),i};var E0=sl,m0=new pe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),S0=new pe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),A0=new pe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),y0=new E0({explicit:[m0,S0,A0]});function T0(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function v0(){return null}function O0(e){return e===null}var b0=new pe("tag:yaml.org,2002:null",{kind:"scalar",resolve:T0,construct:v0,predicate:O0,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function R0(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function P0(e){return e==="true"||e==="True"||e==="TRUE"}function C0(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var I0=new pe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:R0,construct:P0,predicate:C0,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function N0(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function M0(e){return 48<=e&&e<=55}function w0(e){return 48<=e&&e<=57}function L0(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!N0(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!M0(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!w0(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function x0(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function D0(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ue.isNegativeZero(e)}var B0=new pe("tag:yaml.org,2002:int",{kind:"scalar",resolve:L0,construct:x0,predicate:D0,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),F0=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function U0(e){return!(e===null||!F0.test(e)||e[e.length-1]==="_")}function q0(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var G0=/^[-+]?[0-9]+e/;function j0(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ue.isNegativeZero(e))return"-0.0";return r=e.toString(10),G0.test(r)?r.replace("e",".e"):r}function H0(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ue.isNegativeZero(e))}var V0=new pe("tag:yaml.org,2002:float",{kind:"scalar",resolve:U0,construct:q0,predicate:H0,represent:j0,defaultStyle:"lowercase"}),uE=y0.extend({implicit:[b0,I0,B0,V0]}),k0=uE,cE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),lE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function $0(e){return e===null?!1:cE.exec(e)!==null||lE.exec(e)!==null}function Y0(e){var t,r,n,i,s,o,a,u=0,d=null,l,f,_;if(t=cE.exec(e),t===null&&(t=lE.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],f=+(t[11]||0),d=(l*60+f)*6e4,t[9]==="-"&&(d=-d)),_=new Date(Date.UTC(r,n,i,s,o,a,u)),d&&_.setTime(_.getTime()-d),_}function K0(e){return e.toISOString()}var W0=new pe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:$0,construct:Y0,instanceOf:Date,represent:K0});function X0(e){return e==="<<"||e===null}var z0=new pe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:X0}),ll=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Q0(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=ll;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Z0(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=ll,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function J0(e){var t="",r=0,n,i,s=e.length,o=ll;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function eC(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var tC=new pe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Q0,construct:Z0,predicate:eC,represent:J0}),rC=Object.prototype.hasOwnProperty,nC=Object.prototype.toString;function iC(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,nC.call(i)!=="[object Object]")return!1;for(s in i)if(rC.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function sC(e){return e!==null?e:[]}var oC=new pe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:iC,construct:sC}),aC=Object.prototype.toString;function uC(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],aC.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function cC(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var lC=new pe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:uC,construct:cC}),dC=Object.prototype.hasOwnProperty;function _C(e){if(e===null)return!0;var t,r=e;for(t in r)if(dC.call(r,t)&&r[t]!==null)return!1;return!0}function fC(e){return e!==null?e:{}}var pC=new pe("tag:yaml.org,2002:set",{kind:"mapping",resolve:_C,construct:fC}),dE=k0.extend({implicit:[W0,z0],explicit:[tC,oC,lC,pC]}),Bt=Object.prototype.hasOwnProperty,vs=1,_E=2,fE=3,Os=4,il=1,hC=2,Yg=3,gC=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,EC=/[\x85\u2028\u2029]/,mC=/[,\[\]\{\}]/,pE=/^(?:!|!!|![a-z\-]+!)$/i,hE=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Kg(e){return Object.prototype.toString.call(e)}function nt(e){return e===10||e===13}function sr(e){return e===9||e===32}function Pe(e){return e===9||e===32||e===10||e===13}function Wr(e){return e===44||e===91||e===93||e===123||e===125}function SC(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function AC(e){return e===120?2:e===117?4:e===85?8:0}function yC(e){return 48<=e&&e<=57?e-48:-1}function Wg(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function TC(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var gE=new Array(256),EE=new Array(256);for(ir=0;ir<256;ir++)gE[ir]=Wg(ir)?1:0,EE[ir]=Wg(ir);var ir;function vC(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||dE,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function mE(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=d0(r),new Re(t,r)}function R(e,t){throw mE(e,t)}function bs(e,t){e.onWarning&&e.onWarning.call(null,mE(e,t))}var Xg={YAML:function(t,r,n){var i,s,o;t.version!==null&&R(t,"duplication of %YAML directive"),n.length!==1&&R(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&R(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&R(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&bs(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&R(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],pE.test(i)||R(t,"ill-formed tag handle (first argument) of the TAG directive"),Bt.call(t.tagMap,i)&&R(t,'there is a previously declared suffix for "'+i+'" tag handle'),hE.test(s)||R(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{R(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Dt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||R(e,"expected valid JSON character");else gC.test(a)&&R(e,"the stream contains non-printable characters");e.result+=a}}function zg(e,t,r,n){var i,s,o,a;for(ue.isObject(r)||R(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Bt.call(t,s)||(t[s]=r[s],n[s]=!0)}function Xr(e,t,r,n,i,s,o,a,u){var d,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),d=0,l=i.length;d<l;d+=1)Array.isArray(i[d])&&R(e,"nested arrays are not supported inside keys"),typeof i=="object"&&Kg(i[d])==="[object Object]"&&(i[d]="[object Object]");if(typeof i=="object"&&Kg(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(d=0,l=s.length;d<l;d+=1)zg(e,t,s[d],r);else zg(e,t,s,r);else!e.json&&!Bt.call(r,i)&&Bt.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,R(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function dl(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):R(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function re(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;sr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(nt(i))for(dl(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&bs(e,"deficient indentation"),n}function Cs(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Pe(r)))}function _l(e,t){t===1?e.result+=" ":t>1&&(e.result+=ue.repeat(`
`,t-1))}function OC(e,t,r){var n,i,s,o,a,u,d,l,f=e.kind,_=e.result,m;if(m=e.input.charCodeAt(e.position),Pe(m)||Wr(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=e.input.charCodeAt(e.position+1),Pe(i)||r&&Wr(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;m!==0;){if(m===58){if(i=e.input.charCodeAt(e.position+1),Pe(i)||r&&Wr(i))break}else if(m===35){if(n=e.input.charCodeAt(e.position-1),Pe(n))break}else{if(e.position===e.lineStart&&Cs(e)||r&&Wr(m))break;if(nt(m))if(u=e.line,d=e.lineStart,l=e.lineIndent,re(e,!1,-1),e.lineIndent>=t){a=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=d,e.lineIndent=l;break}}a&&(Dt(e,s,o,!1),_l(e,e.line-u),s=o=e.position,a=!1),sr(m)||(o=e.position+1),m=e.input.charCodeAt(++e.position)}return Dt(e,s,o,!1),e.result?!0:(e.kind=f,e.result=_,!1)}function bC(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Dt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else nt(r)?(Dt(e,n,i,!0),_l(e,re(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Cs(e)?R(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);R(e,"unexpected end of the stream within a single quoted scalar")}function RC(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Dt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Dt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),nt(a))re(e,!1,t);else if(a<256&&gE[a])e.result+=EE[a],e.position++;else if((o=AC(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=SC(a))>=0?s=(s<<4)+o:R(e,"expected hexadecimal character");e.result+=TC(s),e.position++}else R(e,"unknown escape sequence");r=n=e.position}else nt(a)?(Dt(e,r,n,!0),_l(e,re(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Cs(e)?R(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}R(e,"unexpected end of the stream within a double quoted scalar")}function PC(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,d,l,f,_,m,g=Object.create(null),S,y,O,v;if(v=e.input.charCodeAt(e.position),v===91)l=93,m=!1,a=[];else if(v===123)l=125,m=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),v=e.input.charCodeAt(++e.position);v!==0;){if(re(e,!0,t),v=e.input.charCodeAt(e.position),v===l)return e.position++,e.tag=o,e.anchor=u,e.kind=m?"mapping":"sequence",e.result=a,!0;r?v===44&&R(e,"expected the node content, but found ','"):R(e,"missed comma between flow collection entries"),y=S=O=null,f=_=!1,v===63&&(d=e.input.charCodeAt(e.position+1),Pe(d)&&(f=_=!0,e.position++,re(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,zr(e,t,vs,!1,!0),y=e.tag,S=e.result,re(e,!0,t),v=e.input.charCodeAt(e.position),(_||e.line===n)&&v===58&&(f=!0,v=e.input.charCodeAt(++e.position),re(e,!0,t),zr(e,t,vs,!1,!0),O=e.result),m?Xr(e,a,g,y,S,O,n,i,s):f?a.push(Xr(e,null,g,y,S,O,n,i,s)):a.push(S),re(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}R(e,"unexpected end of the stream within a flow collection")}function CC(e,t){var r,n,i=il,s=!1,o=!1,a=t,u=0,d=!1,l,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)il===i?i=f===43?Yg:hC:R(e,"repeat of a chomping mode identifier");else if((l=yC(f))>=0)l===0?R(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?R(e,"repeat of an indentation width identifier"):(a=t+l-1,o=!0);else break;if(sr(f)){do f=e.input.charCodeAt(++e.position);while(sr(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!nt(f)&&f!==0)}for(;f!==0;){for(dl(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),nt(f)){u++;continue}if(e.lineIndent<a){i===Yg?e.result+=ue.repeat(`
`,s?1+u:u):i===il&&s&&(e.result+=`
`);break}for(n?sr(f)?(d=!0,e.result+=ue.repeat(`
`,s?1+u:u)):d?(d=!1,e.result+=ue.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=ue.repeat(`
`,u):e.result+=ue.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!nt(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Dt(e,r,e.position,!1)}return!0}function Qg(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!Pe(o))));){if(a=!0,e.position++,re(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,zr(e,t,fE,!1,!0),s.push(e.result),re(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)R(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function IC(e,t,r){var n,i,s,o,a,u,d=e.tag,l=e.anchor,f={},_=Object.create(null),m=null,g=null,S=null,y=!1,O=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),v=e.input.charCodeAt(e.position);v!==0;){if(!y&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,R(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(v===63||v===58)&&Pe(n))v===63?(y&&(Xr(e,f,_,m,g,null,o,a,u),m=g=S=null),O=!0,y=!0,i=!0):y?(y=!1,i=!0):R(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(o=e.line,a=e.lineStart,u=e.position,!zr(e,r,_E,!1,!0))break;if(e.line===s){for(v=e.input.charCodeAt(e.position);sr(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),Pe(v)||R(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Xr(e,f,_,m,g,null,o,a,u),m=g=S=null),O=!0,y=!1,i=!1,m=e.tag,g=e.result;else if(O)R(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=d,e.anchor=l,!0}else if(O)R(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=d,e.anchor=l,!0}if((e.line===s||e.lineIndent>t)&&(y&&(o=e.line,a=e.lineStart,u=e.position),zr(e,t,Os,!0,i)&&(y?g=e.result:S=e.result),y||(Xr(e,f,_,m,g,S,o,a,u),m=g=S=null),re(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&v!==0)R(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&Xr(e,f,_,m,g,null,o,a,u),O&&(e.tag=d,e.anchor=l,e.kind="mapping",e.result=f),O}function NC(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&R(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):R(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Pe(o);)o===33&&(n?R(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),pE.test(i)||R(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),mC.test(s)&&R(e,"tag suffix cannot contain flow indicator characters")}s&&!hE.test(s)&&R(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{R(e,"tag name is malformed: "+s)}return r?e.tag=s:Bt.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:R(e,'undeclared tag handle "'+i+'"'),!0}function MC(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&R(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Pe(r)&&!Wr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function wC(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Pe(n)&&!Wr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&R(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Bt.call(e.anchorMap,r)||R(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],re(e,!0,-1),!0}function zr(e,t,r,n,i){var s,o,a,u=1,d=!1,l=!1,f,_,m,g,S,y;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Os===r||fE===r,n&&re(e,!0,-1)&&(d=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;NC(e)||MC(e);)re(e,!0,-1)?(d=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=d||i),(u===1||Os===r)&&(vs===r||_E===r?S=t:S=t+1,y=e.position-e.lineStart,u===1?a&&(Qg(e,y)||IC(e,y,S))||PC(e,S)?l=!0:(o&&CC(e,S)||bC(e,S)||RC(e,S)?l=!0:wC(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&R(e,"alias node should not have any properties")):OC(e,S,vs===r)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&Qg(e,y))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&R(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,_=e.implicitTypes.length;f<_;f+=1)if(g=e.implicitTypes[f],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Bt.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,m=e.typeMap.multi[e.kind||"fallback"],f=0,_=m.length;f<_;f+=1)if(e.tag.slice(0,m[f].tag.length)===m[f].tag){g=m[f];break}g||R(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&R(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):R(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function LC(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(re(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Pe(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&R(e,"directive name must not be less than one character in length");o!==0;){for(;sr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!nt(o));break}if(nt(o))break;for(r=e.position;o!==0&&!Pe(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&dl(e),Bt.call(Xg,n)?Xg[n](e,n,i):bs(e,'unknown document directive "'+n+'"')}if(re(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,re(e,!0,-1)):s&&R(e,"directives end mark is expected"),zr(e,e.lineIndent-1,Os,!1,!0),re(e,!0,-1),e.checkLineBreaks&&EC.test(e.input.slice(t,e.position))&&bs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Cs(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,re(e,!0,-1));return}if(e.position<e.length-1)R(e,"end of the stream or a document separator is expected");else return}function SE(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new vC(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,R(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)LC(r);return r.documents}function xC(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=SE(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function DC(e,t){var r=SE(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Re("expected a single document in the stream, but found more")}}var BC=xC,FC=DC,AE={loadAll:BC,load:FC},yE=Object.prototype.toString,TE=Object.prototype.hasOwnProperty,fl=65279,UC=9,Kn=10,qC=13,GC=32,jC=33,HC=34,ol=35,VC=37,kC=38,$C=39,YC=42,vE=44,KC=45,Rs=58,WC=61,XC=62,zC=63,QC=64,OE=91,bE=93,ZC=96,RE=123,JC=124,PE=125,he={};he[0]="\\0";he[7]="\\a";he[8]="\\b";he[9]="\\t";he[10]="\\n";he[11]="\\v";he[12]="\\f";he[13]="\\r";he[27]="\\e";he[34]='\\"';he[92]="\\\\";he[133]="\\N";he[160]="\\_";he[8232]="\\L";he[8233]="\\P";var eI=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],tI=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function rI(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&TE.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function nI(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Re("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ue.repeat("0",n-t.length)+t}var iI=1,Wn=2;function sI(e){this.schema=e.schema||dE,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ue.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=rI(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Wn:iI,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Zg(e,t){for(var r=ue.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function al(e,t){return`
`+ue.repeat(" ",e.indent*t)}function oI(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ps(e){return e===GC||e===UC}function Xn(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==fl||65536<=e&&e<=1114111}function Jg(e){return Xn(e)&&e!==fl&&e!==qC&&e!==Kn}function eE(e,t,r){var n=Jg(e),i=n&&!Ps(e);return(r?n:n&&e!==vE&&e!==OE&&e!==bE&&e!==RE&&e!==PE)&&e!==ol&&!(t===Rs&&!i)||Jg(t)&&!Ps(t)&&e===ol||t===Rs&&i}function aI(e){return Xn(e)&&e!==fl&&!Ps(e)&&e!==KC&&e!==zC&&e!==Rs&&e!==vE&&e!==OE&&e!==bE&&e!==RE&&e!==PE&&e!==ol&&e!==kC&&e!==YC&&e!==jC&&e!==JC&&e!==WC&&e!==XC&&e!==$C&&e!==HC&&e!==VC&&e!==QC&&e!==ZC}function uI(e){return!Ps(e)&&e!==Rs}function $n(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function CE(e){var t=/^\n* /;return t.test(e)}var IE=1,ul=2,NE=3,ME=4,Kr=5;function cI(e,t,r,n,i,s,o,a){var u,d=0,l=null,f=!1,_=!1,m=n!==-1,g=-1,S=aI($n(e,0))&&uI($n(e,e.length-1));if(t||o)for(u=0;u<e.length;d>=65536?u+=2:u++){if(d=$n(e,u),!Xn(d))return Kr;S=S&&eE(d,l,a),l=d}else{for(u=0;u<e.length;d>=65536?u+=2:u++){if(d=$n(e,u),d===Kn)f=!0,m&&(_=_||u-g-1>n&&e[g+1]!==" ",g=u);else if(!Xn(d))return Kr;S=S&&eE(d,l,a),l=d}_=_||m&&u-g-1>n&&e[g+1]!==" "}return!f&&!_?S&&!o&&!i(e)?IE:s===Wn?Kr:ul:r>9&&CE(e)?Kr:o?s===Wn?Kr:ul:_?ME:NE}function lI(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===Wn?'""':"''";if(!e.noCompatMode&&(eI.indexOf(t)!==-1||tI.test(t)))return e.quotingType===Wn?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(d){return oI(e,d)}switch(cI(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case IE:return t;case ul:return"'"+t.replace(/'/g,"''")+"'";case NE:return"|"+tE(t,e.indent)+rE(Zg(t,s));case ME:return">"+tE(t,e.indent)+rE(Zg(dI(t,o),s));case Kr:return'"'+_I(t)+'"';default:throw new Re("impossible error: invalid scalar style")}}()}function tE(e,t){var r=CE(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function rE(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function dI(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var d=e.indexOf(`
`);return d=d!==-1?d:e.length,r.lastIndex=d,nE(e.slice(0,d),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+nE(u,t),i=s}return n}function nE(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function _I(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=$n(e,i),n=he[r],!n&&Xn(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||nI(r);return t}function fI(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(yt(e,t,a,!1,!1)||typeof a>"u"&&yt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function iE(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(yt(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&yt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=al(e,t)),e.dump&&Kn===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function pI(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,d,l;for(o=0,a=s.length;o<a;o+=1)l="",n!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=s[o],d=r[u],e.replacer&&(d=e.replacer.call(r,u,d)),yt(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),yt(e,t,d,!1,!1)&&(l+=e.dump,n+=l));e.tag=i,e.dump="{"+n+"}"}function hI(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,d,l,f,_;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Re("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)_="",(!n||i!=="")&&(_+=al(e,t)),d=o[a],l=r[d],e.replacer&&(l=e.replacer.call(r,d,l)),yt(e,t+1,d,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Kn===e.dump.charCodeAt(0)?_+="?":_+="? "),_+=e.dump,f&&(_+=al(e,t)),yt(e,t+1,l,!0,f)&&(e.dump&&Kn===e.dump.charCodeAt(0)?_+=":":_+=": ",_+=e.dump,i+=_));e.tag=s,e.dump=i||"{}"}function sE(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,yE.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(TE.call(a.represent,u))n=a.represent[u](t,u);else throw new Re("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function yt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,sE(e,r,!1)||sE(e,r,!0);var a=yE.call(e.dump),u=n,d;n&&(n=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",f,_;if(l&&(f=e.duplicates.indexOf(r),_=f!==-1),(e.tag!==null&&e.tag!=="?"||_||e.indent!==2&&t>0)&&(i=!1),_&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(l&&_&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(hI(e,t,e.dump,i),_&&(e.dump="&ref_"+f+e.dump)):(pI(e,t,e.dump),_&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?iE(e,t-1,e.dump,i):iE(e,t,e.dump,i),_&&(e.dump="&ref_"+f+e.dump)):(fI(e,t,e.dump),_&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&lI(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Re("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(d=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",e.dump=d+" "+e.dump)}return!0}function gI(e,t){var r=[],n=[],i,s;for(cl(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function cl(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)cl(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)cl(e[n[i]],t,r)}function EI(e,t){t=t||{};var r=new sI(t);r.noRefs||gI(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),yt(r,0,n,!0,!0)?r.dump+`
`:""}var mI=EI,SI={dump:mI};function pl(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var wE=uE;var LE=AE.load,mF=AE.loadAll,SF=SI.dump;var AF=pl("safeLoad","load"),yF=pl("safeLoadAll","loadAll"),TF=pl("safeDump","dump");var AI=".yarnbuildrc.yml",hl=".bundleignore",yI=B.isObject({folders:B.isObject({input:B.isOneOf([B.isString(),B.isArray(B.isString())]),output:B.isNullable(B.isOneOf([B.isString(),B.isArray(B.isString())]))}),exclude:B.isArray(B.isString()),bail:B.isBoolean(),hideYarnBuildBadge:B.isBoolean(),ignoreFile:B.isString()}),PF=B.isObject({input:B.isOptional(B.isOneOf([B.isString(),B.isArray(B.isString())])),output:B.isOptional(B.isNullable(B.isOneOf([B.isString(),B.isArray(B.isString())]))),tsconfig:B.isOptional(B.isString())}),TI={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:hl};async function vI(e){let t=AI,r=zn.ppath.join(e.projectCwd||e.startingCwd,t);if(zn.xfs.existsSync(r)){let n=await zn.xfs.readFilePromise(r,"utf8"),i=[];try{let s=LE(n,{schema:wE});if(yI(s,{errors:i}))return s;console.warn(i)}catch{let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return TI}async function xE(e){return await vI(e)}var Ce={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var jT=Te(w());var qT=Te(w()),GT=Te(Vl());var xT=Te(Ko()),DT=Te(hi()),BT=Te(at()),FT=Te(LT()),UT=Te(Ko()),qn=Te(w());process.env.DEBUG&&qn.diag.setLogger(new qn.DiagConsoleLogger,qn.DiagLogLevel.DEBUG);var Bi=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new FT.OTLPTraceExporter,r=new xT.BasicTracerProvider({resource:new DT.Resource({[BT.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new UT.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var xr=Te(w()),Fi=class{constructor(t){this.name=t,this._tracer=Bi.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:qT.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){let n;if(typeof t.ctx>"u"?n=xr.context.active():n=t.ctx,!!t.propegateFromEnv||t?.spanOptions?.kind==4){let o=process.env.TRACEPARENT;if(typeof o=="string"){let a=(0,GT.parseTraceParent)(o??"");a&&(n=xr.trace.setSpanContext(xr.context.active(),a))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=xr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(o){if((typeof o=="string"||o instanceof Error)&&this.recordException(i,o),!t.supressExceptions)throw o}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx>"u"?i=xr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var kT=Te(w());var Br=class extends Dr.BaseCommand{constructor(){super(...arguments);this.tracer=new Fi("yarn.build");this.json=We.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=We.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=We.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=We.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=We.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=We.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=We.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=We.Option.String("--ignore-file",hl,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:r,group:n,msg:i,span:s}){this.quiet!==!0&&console.info(`\u27A4 ${r}:${n}${i}`),typeof s<"u"&&s.addEvent(i,{[Ce.YARN_BUILD_MESSAGE_CODE]:r})}async removeUnusedPackages(r,n,i,s){return await this.tracer.startSpan({name:"remove unused packages",ctx:r},async({span:o})=>{let{project:a,workspace:u}=await Oe.Project.find(s,i);if(!u)throw new Dr.WorkspaceRequiredError(a.cwd,i);let d=await Oe.Project.find(s,n);if(!d.workspace)throw new Dr.WorkspaceRequiredError(d.project.cwd,n);let l=new Set([u,d.workspace]),f=await xE(s);this.exclude=f.exclude?[...this.exclude,...f.exclude]:this.exclude,this.ignoreFile=f?.ignoreFile??this.ignoreFile;for(let _ of l)for(let m of Oe.Manifest.allDependencies)for(let g of _.manifest.getForScope(m).values()){let S=a.tryWorkspaceByDescriptor(g);S!==null&&(l.add(S),this.progress({code:"YB1001",group:" \u2502 ",msg:`required:	${S.relativeCwd}`,span:o}))}for(let _ of a.workspaces)l.has(_)||_.cwd!==n&&(await V.xfs.removePromise(_.cwd),this.progress({code:"YB1001",group:" \u2502 ",msg:`unused:	${_.relativeCwd}`,span:o}))})}async removeEmptyDirectories(r,{tmpDir:n,cwd:i}){let s=kT.trace.getSpan(r);if(!V.xfs.statSync(i).isDirectory())return!1;let a=await V.xfs.readdirPromise(i);for(let u of a)await this.removeEmptyDirectories(r,{tmpDir:n,cwd:V.ppath.join(i,u)});return a=await V.xfs.readdirPromise(i),a.length===0?(await V.xfs.removePromise(i),this.progress({code:"YB1002",group:" \u2502 ",msg:`empty:	${i.replace(n+"/","")}`,span:s}),!0):!1}async removeExcluded(r,{tmpDir:n,excluded:i,nonRemovableFiles:s,yarnDirectory:o,cacheDirectory:a,shouldRemoveEmptyDirectories:u=!1}){let d=`${n}/.git`;try{await V.xfs.lstatPromise(d)&&await V.xfs.removePromise(d)}catch{}await Promise.all(i.map(async l=>{if(!l.startsWith(o)&&!l.startsWith(a)&&!s.includes(l)&&!!l.startsWith(n))try{await V.xfs.lstatPromise(l)&&await V.xfs.removePromise(l)}catch{}})),u&&await this.removeEmptyDirectories(r,{tmpDir:n,cwd:n})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:r,ctx:n})=>{this.progress({code:"YB1000",group:" \u250C ",msg:`Prepare ${this.context.cwd} for bundling`,span:r}),this.progress({code:"YB1000",group:" \u2502 ",msg:"Preparing temporary directory",span:r});let i=async s=>await this.tracer.startSpan({name:"prepare for bundle",ctx:n},async({span:o,ctx:a})=>{let u=`${this.context.cwd}`,d=V.ppath.join(u,this.archiveName),l={[Ce.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[Ce.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[Ce.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:s,[Ce.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[Ce.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[Ce.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[Ce.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(o.setAttributes(l),typeof this.outputDirectory=="string"){let I=HT(this.outputDirectory);if(o.setAttribute(Ce.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,I),V.xfs.existsSync(I)||await V.xfs.mkdirPromise(I),V.xfs.readdirSync(I).length!=0)throw new Error(" --output-directory is not empty");d=V.ppath.join(I,this.archiveName)}let f=await Oe.Configuration.find(this.context.cwd,this.context.plugins);if(f.projectCwd===null)throw new Error("Can't find project directory");let _=u.replace(f.projectCwd,""),m=!1,g;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(g=HT(this.outputDirectory),g.startsWith(f.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);m=!0}let S=new V.NodeFS;this.progress({code:"YB1000",group:" \u2502 ",msg:"Copying repo to temporary directory",span:o}),await this.tracer.wrap({name:"copy to tmp dir",ctx:a},async I=>V.xfs.copyPromise(s,I,{baseFs:S}),f.projectCwd);let y=`${s}${_}`,O=`${y}/${this.archiveName}`,v=this.exclude;try{await V.xfs.lstatPromise(O)&&v.push(O)}catch{}let U=await Oe.Configuration.find(y,this.context.plugins);U.use("<custom>",{enableNetwork:!1},y);let Ae=await Oe.Cache.find(U),L=`${s}/.yarn`,k=Ae.cwd;this.progress({code:"YB1000",group:" \u2502 ",msg:"Removing unused and excluded workspaces, folders and files",span:o}),await this.removeUnusedPackages(a,s,y,U);let{project:M,workspace:P}=await Oe.Project.find(U,y);if(!P)throw new Dr.WorkspaceRequiredError(M.cwd,y);o.setAttributes({[Ce.PACKAGE_DIRECTORY]:_,[Ce.PACKAGE_NAME]:P.anchoredLocator.name}),typeof P.anchoredLocator.scope=="string"&&o.setAttribute(Ce.PACKAGE_SCOPE,`@${P.anchoredLocator.scope}`);let j=await Oe.Project.find(U,s);if(!j.workspace)throw new Dr.WorkspaceRequiredError(j.project.cwd,s);let Z=new Set([P,j.workspace]),E=kg({workspaces:Z,rootDir:s});v=await tl({cwd:s,ignoreFile:this.ignoreFile,exclude:v});for(let I of Z)for(let te of Oe.Manifest.allDependencies)for(let h of I.manifest.getForScope(te).values()){let p=M.tryWorkspaceByDescriptor(h);p!==null&&Z.add(p)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:a},async()=>{for(let I of Z){let te=await tl({cwd:I.cwd,ignoreFile:this.ignoreFile,exclude:v});await this.removeExcluded(a,{tmpDir:s,excluded:te,nonRemovableFiles:E,yarnDirectory:L,cacheDirectory:k,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:a},async()=>{await this.removeExcluded(a,{tmpDir:s,excluded:v,nonRemovableFiles:E,yarnDirectory:L,cacheDirectory:k,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:a},async()=>{for(let I of M.workspaces)I.manifest.devDependencies.clear(),!Z.has(I)&&(I.manifest.dependencies.clear(),I.manifest.peerDependencies.clear());if(P?.manifest?.raw?.main){let I=P.relativeCwd+uf.default.posix.sep+P?.manifest?.raw?.main,te=".pnp.cjs";V.xfs.writeFilePromise(`${s}${uf.default.posix.sep}entrypoint.js`,R1(I,te))}this.progress({code:"YB1000",group:" \u2514 ",msg:"Completed",span:o})}),(await this.tracer.startSpan({name:"bundle",ctx:a},async({ctx:I})=>await Oe.StreamReport.start({configuration:U,json:this.json,stdout:this.context.stdout,includeLogs:!0},async te=>{if(await this.tracer.wrap({name:"yarn install",ctx:I},async({cache:h,report:p})=>await M.install({cache:h,report:p}),{cache:Ae,report:te}),!(typeof this.temporaryDirectory<"u"))if(m&&typeof g<"u")te.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:I},async({outputPath:h,tmpDir:p})=>S.copyPromise(h,p),{outputPath:g,tmpDir:s});else{let h=await(0,VT.getLibzipPromise)();te.reportInfo(null,"Creating archive");let p=new V.ZipFS(d,{create:!0,libzip:h});te.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:I},async({tmpDir:le,baseFs:q})=>await p.copyPromise("/",le,{baseFs:q}),{tmpDir:s,baseFs:S}),await this.tracer.wrap({name:"save zip",ctx:I},async()=>p.saveAndClose()),te.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:d})}}))).exitCode()});return typeof this.temporaryDirectory<"u"?await i(this.temporaryDirectory):await V.xfs.mktempPromise(i)})}};Br.paths=[["bundle"]],Br.usage=We.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var R1=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function HT(e){let t=V.npath.toPortablePath(e);return V.ppath.resolve(t)}var P1={commands:[Br]},C1=P1;return JT(I1);})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
