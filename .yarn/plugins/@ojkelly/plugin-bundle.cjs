/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-bundle",
factory: function (require) {
"use strict";var plugin=(()=>{var mR=Object.create;var rs=Object.defineProperty;var ER=Object.getOwnPropertyDescriptor;var SR=Object.getOwnPropertyNames;var AR=Object.getPrototypeOf,TR=Object.prototype.hasOwnProperty;var R=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yR=(e,t)=>{for(var r in t)rs(e,r,{get:t[r],enumerable:!0})},sh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of SR(t))!TR.call(e,i)&&i!==r&&rs(e,i,{get:()=>t[i],enumerable:!(n=ER(t,i))||n.enumerable});return e};var J=(e,t,r)=>(r=e!=null?mR(AR(e)):{},sh(t||!e||!e.__esModule?rs(r,"default",{value:e,enumerable:!0}):r,e)),OR=e=>sh(rs({},"__esModule",{value:!0}),e);var lc=c((cq,mh)=>{function lh(e){return Array.isArray(e)?e:[e]}var oc="",dh=" ",ic="\\",bR=/^\s+$/,RR=/(?:[^\\]|^)\\$/,PR=/^\\!/,vR=/^\\#/,IR=/\r?\n/g,CR=/^\.*\/|^\.+$/,sc="/",fh="node-ignore";typeof Symbol<"u"&&(fh=Symbol.for("node-ignore"));var _h=fh,NR=(e,t,r)=>Object.defineProperty(e,t,{value:r}),MR=/([0-z])-([0-z])/g,hh=()=>!1,LR=e=>e.replace(MR,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:oc),xR=e=>{let{length:t}=e;return e.slice(0,t-t%2)},wR=[[/^\uFEFF/,()=>oc],[/\\?\s+$/,e=>e.indexOf("\\")===0?dh:oc],[/\\\s/g,()=>dh],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>ic],[/\\\\/g,()=>ic],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===ic?`\\[${r}${xR(n)}${i}`:i==="]"&&n.length%2===0?`[${LR(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],ph=Object.create(null),DR=(e,t)=>{let r=ph[e];return r||(r=wR.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),ph[e]=r),t?new RegExp(r,"i"):new RegExp(r)},cc=e=>typeof e=="string",BR=e=>e&&cc(e)&&!bR.test(e)&&!RR.test(e)&&e.indexOf("#")!==0,UR=e=>e.split(IR),ac=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},FR=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(PR,"!").replace(vR,"#");let i=DR(e,t);return new ac(r,e,n,i)},qR=(e,t)=>{throw new t(e)},Et=(e,t,r)=>cc(e)?e?Et.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),gh=e=>CR.test(e);Et.isNotRelative=gh;Et.convert=e=>e;var uc=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){NR(this,_h,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[_h]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(BR(t)){let r=FR(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,lh(cc(t)?UR(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Et.convert(t);return Et(s,t,this._allowRelativePaths?hh:qR),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(sc)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(sc)+sc,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return lh(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},ns=e=>new uc(e),GR=e=>Et(e&&Et.convert(e),e,hh);ns.isPathValid=GR;ns.default=ns;mh.exports=ns;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Et.convert=e;let t=/^[a-z]:\//i;Et.isNotRelative=r=>t.test(r)||gh(r)}});var Oh=c(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.splitWhen=Mr.flatten=void 0;function WR(e){return e.reduce((t,r)=>[].concat(t,r),[])}Mr.flatten=WR;function KR(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}Mr.splitWhen=KR});var bh=c(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.isEnoentCodeError=void 0;function zR(e){return e.code==="ENOENT"}os.isEnoentCodeError=zR});var Rh=c(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.createDirentFromStats=void 0;var fc=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function QR(e,t){return new fc(e,t)}as.createDirentFromStats=QR});var Ch=c(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.convertPosixPathToPattern=ae.convertWindowsPathToPattern=ae.convertPathToPattern=ae.escapePosixPath=ae.escapeWindowsPath=ae.escape=ae.removeLeadingDotSegment=ae.makeAbsolute=ae.unixify=void 0;var ZR=R("os"),JR=R("path"),Ph=ZR.platform()==="win32",eP=2,tP=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,rP=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,nP=/^\\\\([.?])/,iP=/\\(?![!()+@[\]{}])/g;function sP(e){return e.replace(/\\/g,"/")}ae.unixify=sP;function oP(e,t){return JR.resolve(e,t)}ae.makeAbsolute=oP;function aP(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(eP)}return e}ae.removeLeadingDotSegment=aP;ae.escape=Ph?hc:gc;function hc(e){return e.replace(rP,"\\$2")}ae.escapeWindowsPath=hc;function gc(e){return e.replace(tP,"\\$2")}ae.escapePosixPath=gc;ae.convertPathToPattern=Ph?vh:Ih;function vh(e){return hc(e).replace(nP,"//$1").replace(iP,"/")}ae.convertWindowsPathToPattern=vh;function Ih(e){return gc(e)}ae.convertPosixPathToPattern=Ih});var Mh=c((hq,Nh)=>{Nh.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var wh=c((gq,xh)=>{var uP=Mh(),Lh={"{":"}","(":")","[":"]"},cP=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,i=-2,s=-2,o=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(o===-1||o>n||(o=e.indexOf("\\",t),o===-1||o>n)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(o=e.indexOf("\\",t),o===-1||o>i))||s!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(s=e.indexOf(")",t),s>t&&(o=e.indexOf("\\",t),o===-1||o>s))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(s=e.indexOf(")",r),s>r&&(o=e.indexOf("\\",r),o===-1||o>s))))return!0;if(e[t]==="\\"){var a=e[t+1];t+=2;var u=Lh[a];if(u){var l=e.indexOf(u,t);l!==-1&&(t=l+1)}if(e[t]==="!")return!0}else t++}return!1},lP=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=Lh[r];if(n){var i=e.indexOf(n,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};xh.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(uP(t))return!0;var n=cP;return r&&r.strict===!1&&(n=lP),n(t)}});var Bh=c((mq,Dh)=>{"use strict";var dP=wh(),_P=R("path").posix.dirname,pP=R("os").platform()==="win32",mc="/",fP=/\\/g,hP=/[\{\[].*[\}\]]$/,gP=/(^|[^\\])([\{\[]|\([^\)]+$)/,mP=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Dh.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&pP&&t.indexOf(mc)<0&&(t=t.replace(fP,mc)),hP.test(t)&&(t+=mc),t+="a";do t=_P(t);while(dP(t)||gP.test(t));return t.replace(mP,"$1")}});var us=c($e=>{"use strict";$e.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;$e.find=(e,t)=>e.nodes.find(r=>r.type===t);$e.exceedsLimit=(e,t,r=1,n)=>n===!1||!$e.isInteger(e)||!$e.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;$e.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};$e.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);$e.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;$e.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;$e.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);$e.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var cs=c((Sq,Fh)=>{"use strict";var Uh=us();Fh.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&Uh.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&Uh.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var Gh=c((Aq,qh)=>{"use strict";qh.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Kh=c((Tq,Wh)=>{"use strict";var jh=Gh(),Kt=(e,t,r)=>{if(jh(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(jh(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(Kt.cache.hasOwnProperty(u))return Kt.cache[u].result;let l=Math.min(e,t),d=Math.max(e,t);if(Math.abs(l-d)===1){let m=e+"|"+t;return n.capture?`(${m})`:n.wrap===!1?m:`(?:${m})`}let _=Xh(e)||Xh(t),p={min:e,max:t,a:l,b:d},S=[],f=[];if(_&&(p.isPadded=_,p.maxLen=String(p.max).length),l<0){let m=d<0?Math.abs(d):1;f=Hh(m,Math.abs(l),p,n),l=p.a=0}return d>=0&&(S=Hh(l,d,p,n)),p.negatives=f,p.positives=S,p.result=EP(f,S,n),n.capture===!0?p.result=`(${p.result})`:n.wrap!==!1&&S.length+f.length>1&&(p.result=`(?:${p.result})`),Kt.cache[u]=p,p.result};function EP(e,t,r){let n=Ec(e,t,"-",!1,r)||[],i=Ec(t,e,"",!1,r)||[],s=Ec(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function SP(e,t){let r=1,n=1,i=Vh(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=Vh(e,r);for(i=$h(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=$h(t+1,n)-1;return s=[...s],s.sort(yP),s}function AP(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=TP(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,l]=n[a];u===l?s+=u:u!=="0"||l!=="9"?s+=OP(u,l,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Hh(e,t,r,n){let i=SP(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let l=i[u],d=AP(String(o),String(l),n),_="";if(!r.isPadded&&a&&a.pattern===d.pattern){a.count.length>1&&a.count.pop(),a.count.push(d.count[0]),a.string=a.pattern+Yh(a.count),o=l+1;continue}r.isPadded&&(_=bP(l,r,n)),d.string=_+d.pattern+Yh(d.count),s.push(d),o=l+1,a=d}return s}function Ec(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!kh(t,"string",a)&&s.push(r+a),n&&kh(t,"string",a)&&s.push(r+a)}return s}function TP(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function yP(e,t){return e>t?1:t>e?-1:0}function kh(e,t,r){return e.some(n=>n[t]===r)}function Vh(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function $h(e,t){return e-e%Math.pow(10,t)}function Yh(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function OP(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Xh(e){return/^-?(0+)\d/.test(e)}function bP(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Kt.cache={};Kt.clearCache=()=>Kt.cache={};Wh.exports=Kt});var Tc=c((yq,ng)=>{"use strict";var RP=R("util"),Zh=Kh(),zh=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),PP=e=>t=>e===!0?Number(t):String(t),Sc=e=>typeof e=="number"||typeof e=="string"&&e!=="",Wn=e=>Number.isInteger(+e),Ac=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},vP=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,IP=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Qh=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},CP=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},Jh=(e,t,r,n)=>{if(r)return Zh(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},eg=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Zh(e,t,r)},tg=(...e)=>new RangeError("Invalid range arguments: "+RP.inspect(...e)),rg=(e,t,r)=>{if(r.strictRanges===!0)throw tg([e,t]);return[]},NP=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},MP=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw tg([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),l=String(r);r=Math.max(Math.abs(r),1);let d=Ac(a)||Ac(u)||Ac(l),_=d?Math.max(a.length,u.length,l.length):0,p=d===!1&&vP(e,t,n)===!1,S=n.transform||PP(p);if(n.toRegex&&r===1)return Jh(Qh(e,_),Qh(t,_),!0,n);let f={negatives:[],positives:[]},m=O=>f[O<0?"negatives":"positives"].push(Math.abs(O)),T=[],A=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?m(i):T.push(IP(S(i,A),_,p)),i=o?i-r:i+r,A++;return n.toRegex===!0?r>1?CP(f,n):eg(T,null,{wrap:!1,...n}):T},LP=(e,t,r=1,n={})=>{if(!Wn(e)&&e.length>1||!Wn(t)&&t.length>1)return rg(e,t,n);let i=n.transform||(p=>String.fromCharCode(p)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),l=Math.max(s,o);if(n.toRegex&&r===1)return Jh(u,l,!1,n);let d=[],_=0;for(;a?s>=o:s<=o;)d.push(i(s,_)),s=a?s-r:s+r,_++;return n.toRegex===!0?eg(d,null,{wrap:!1,options:n}):d},ls=(e,t,r,n={})=>{if(t==null&&Sc(e))return[e];if(!Sc(e)||!Sc(t))return rg(e,t,n);if(typeof r=="function")return ls(e,t,1,{transform:r});if(zh(r))return ls(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Wn(r)?Wn(e)&&Wn(t)?MP(e,t,r,i):LP(e,t,Math.max(Math.abs(r),1),i):r!=null&&!zh(r)?NP(r,i):ls(e,t,1,r)};ng.exports=ls});var og=c((Oq,sg)=>{"use strict";var xP=Tc(),ig=us(),wP=(e,t={})=>{let r=(n,i={})=>{let s=ig.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=ig.reduce(n.nodes),_=xP(...d,{...t,wrap:!1,toRegex:!0});if(_.length!==0)return d.length>1&&_.length>1?`(${_})`:_}if(n.nodes)for(let d of n.nodes)l+=r(d,n);return l};return r(e)};sg.exports=wP});var cg=c((bq,ug)=>{"use strict";var DP=Tc(),ag=cs(),Lr=us(),zt=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Lr.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(zt(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?zt(i,s,r):i+s);return Lr.flatten(n)},BP=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(zt(a.pop(),ag(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(zt(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let _=Lr.reduce(i.nodes);if(Lr.exceedsLimit(..._,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let p=DP(..._,t);p.length===0&&(p=ag(i,t)),a.push(zt(a.pop(),p)),i.nodes=[];return}let u=Lr.encloseBrace(i),l=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,l=d.queue;for(let _=0;_<i.nodes.length;_++){let p=i.nodes[_];if(p.type==="comma"&&i.type==="brace"){_===1&&l.push(""),l.push("");continue}if(p.type==="close"){a.push(zt(a.pop(),l,u));continue}if(p.value&&p.type!=="open"){l.push(zt(l.pop(),p.value));continue}p.nodes&&n(p,i)}return l};return Lr.flatten(n(e))};ug.exports=BP});var dg=c((Rq,lg)=>{"use strict";lg.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var gg=c((Pq,hg)=>{"use strict";var UP=cs(),{MAX_LENGTH:_g,CHAR_BACKSLASH:yc,CHAR_BACKTICK:FP,CHAR_COMMA:qP,CHAR_DOT:GP,CHAR_LEFT_PARENTHESES:jP,CHAR_RIGHT_PARENTHESES:HP,CHAR_LEFT_CURLY_BRACE:kP,CHAR_RIGHT_CURLY_BRACE:VP,CHAR_LEFT_SQUARE_BRACKET:pg,CHAR_RIGHT_SQUARE_BRACKET:fg,CHAR_DOUBLE_QUOTE:$P,CHAR_SINGLE_QUOTE:YP,CHAR_NO_BREAK_SPACE:XP,CHAR_ZERO_WIDTH_NOBREAK_SPACE:WP}=dg(),KP=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(_g,r.maxLength):_g;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,l=e.length,d=0,_=0,p,S={},f=()=>e[d++],m=T=>{if(T.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&T.type==="text"){a.value+=T.value;return}return o.nodes.push(T),T.parent=o,T.prev=a,a=T,T};for(m({type:"bos"});d<l;)if(o=s[s.length-1],p=f(),!(p===WP||p===XP)){if(p===yc){m({type:"text",value:(t.keepEscaping?p:"")+f()});continue}if(p===fg){m({type:"text",value:"\\"+p});continue}if(p===pg){u++;let T=!0,A;for(;d<l&&(A=f());){if(p+=A,A===pg){u++;continue}if(A===yc){p+=f();continue}if(A===fg&&(u--,u===0))break}m({type:"text",value:p});continue}if(p===jP){o=m({type:"paren",nodes:[]}),s.push(o),m({type:"text",value:p});continue}if(p===HP){if(o.type!=="paren"){m({type:"text",value:p});continue}o=s.pop(),m({type:"text",value:p}),o=s[s.length-1];continue}if(p===$P||p===YP||p===FP){let T=p,A;for(t.keepQuotes!==!0&&(p="");d<l&&(A=f());){if(A===yc){p+=A+f();continue}if(A===T){t.keepQuotes===!0&&(p+=A);break}p+=A}m({type:"text",value:p});continue}if(p===kP){_++;let A={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:_,commas:0,ranges:0,nodes:[]};o=m(A),s.push(o),m({type:"open",value:p});continue}if(p===VP){if(o.type!=="brace"){m({type:"text",value:p});continue}let T="close";o=s.pop(),o.close=!0,m({type:T,value:p}),_--,o=s[s.length-1];continue}if(p===qP&&_>0){if(o.ranges>0){o.ranges=0;let T=o.nodes.shift();o.nodes=[T,{type:"text",value:UP(o)}]}m({type:"comma",value:p}),o.commas++;continue}if(p===GP&&_>0&&o.commas===0){let T=o.nodes;if(_===0||T.length===0){m({type:"text",value:p});continue}if(a.type==="dot"){if(o.range=[],a.value+=p,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){T.pop();let A=T[T.length-1];A.value+=a.value+p,a=A,o.ranges--;continue}m({type:"dot",value:p});continue}m({type:"text",value:p})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let T=s[s.length-1],A=T.nodes.indexOf(o);T.nodes.splice(A,1,...o.nodes)}while(s.length>0);return m({type:"eos"}),i};hg.exports=KP});var Sg=c((vq,Eg)=>{"use strict";var mg=cs(),zP=og(),QP=cg(),ZP=gg(),qe=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=qe.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(qe.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};qe.parse=(e,t={})=>ZP(e,t);qe.stringify=(e,t={})=>mg(typeof e=="string"?qe.parse(e,t):e,t);qe.compile=(e,t={})=>(typeof e=="string"&&(e=qe.parse(e,t)),zP(e,t));qe.expand=(e,t={})=>{typeof e=="string"&&(e=qe.parse(e,t));let r=QP(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};qe.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?qe.compile(e,t):qe.expand(e,t);Eg.exports=qe});var Kn=c((Iq,bg)=>{"use strict";var JP=R("path"),st="\\\\/",Ag=`[^${st}]`,St="\\.",ev="\\+",tv="\\?",ds="\\/",rv="(?=.)",Tg="[^/]",Oc=`(?:${ds}|$)`,yg=`(?:^|${ds})`,bc=`${St}{1,2}${Oc}`,nv=`(?!${St})`,iv=`(?!${yg}${bc})`,sv=`(?!${St}{0,1}${Oc})`,ov=`(?!${bc})`,av=`[^.${ds}]`,uv=`${Tg}*?`,Og={DOT_LITERAL:St,PLUS_LITERAL:ev,QMARK_LITERAL:tv,SLASH_LITERAL:ds,ONE_CHAR:rv,QMARK:Tg,END_ANCHOR:Oc,DOTS_SLASH:bc,NO_DOT:nv,NO_DOTS:iv,NO_DOT_SLASH:sv,NO_DOTS_SLASH:ov,QMARK_NO_DOT:av,STAR:uv,START_ANCHOR:yg},cv={...Og,SLASH_LITERAL:`[${st}]`,QMARK:Ag,STAR:`${Ag}*?`,DOTS_SLASH:`${St}{1,2}(?:[${st}]|$)`,NO_DOT:`(?!${St})`,NO_DOTS:`(?!(?:^|[${st}])${St}{1,2}(?:[${st}]|$))`,NO_DOT_SLASH:`(?!${St}{0,1}(?:[${st}]|$))`,NO_DOTS_SLASH:`(?!${St}{1,2}(?:[${st}]|$))`,QMARK_NO_DOT:`[^.${st}]`,START_ANCHOR:`(?:^|[${st}])`,END_ANCHOR:`(?:[${st}]|$)`},lv={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};bg.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:lv,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:JP.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?cv:Og}}});var zn=c(Me=>{"use strict";var dv=R("path"),_v=process.platform==="win32",{REGEX_BACKSLASH:pv,REGEX_REMOVE_BACKSLASH:fv,REGEX_SPECIAL_CHARS:hv,REGEX_SPECIAL_CHARS_GLOBAL:gv}=Kn();Me.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Me.hasRegexChars=e=>hv.test(e);Me.isRegexChar=e=>e.length===1&&Me.hasRegexChars(e);Me.escapeRegex=e=>e.replace(gv,"\\$1");Me.toPosixSlashes=e=>e.replace(pv,"/");Me.removeBackslashes=e=>e.replace(fv,t=>t==="\\"?"":t);Me.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Me.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:_v===!0||dv.sep==="\\";Me.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Me.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Me.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Me.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Lg=c((Nq,Mg)=>{"use strict";var Rg=zn(),{CHAR_ASTERISK:Rc,CHAR_AT:mv,CHAR_BACKWARD_SLASH:Qn,CHAR_COMMA:Ev,CHAR_DOT:Pc,CHAR_EXCLAMATION_MARK:vc,CHAR_FORWARD_SLASH:Ng,CHAR_LEFT_CURLY_BRACE:Ic,CHAR_LEFT_PARENTHESES:Cc,CHAR_LEFT_SQUARE_BRACKET:Sv,CHAR_PLUS:Av,CHAR_QUESTION_MARK:Pg,CHAR_RIGHT_CURLY_BRACE:Tv,CHAR_RIGHT_PARENTHESES:vg,CHAR_RIGHT_SQUARE_BRACKET:yv}=Kn(),Ig=e=>e===Ng||e===Qn,Cg=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},Ov=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,l=-1,d=0,_=0,p=!1,S=!1,f=!1,m=!1,T=!1,A=!1,O=!1,D=!1,Ee=!1,x=!1,$=0,N,M,H={value:"",depth:0,isGlob:!1},oe=()=>l>=n,E=()=>u.charCodeAt(l+1),C=()=>(N=M,u.charCodeAt(++l));for(;l<n;){M=C();let Ie;if(M===Qn){O=H.backslashes=!0,M=C(),M===Ic&&(A=!0);continue}if(A===!0||M===Ic){for($++;oe()!==!0&&(M=C());){if(M===Qn){O=H.backslashes=!0,C();continue}if(M===Ic){$++;continue}if(A!==!0&&M===Pc&&(M=C())===Pc){if(p=H.isBrace=!0,f=H.isGlob=!0,x=!0,i===!0)continue;break}if(A!==!0&&M===Ev){if(p=H.isBrace=!0,f=H.isGlob=!0,x=!0,i===!0)continue;break}if(M===Tv&&($--,$===0)){A=!1,p=H.isBrace=!0,x=!0;break}}if(i===!0)continue;break}if(M===Ng){if(s.push(l),o.push(H),H={value:"",depth:0,isGlob:!1},x===!0)continue;if(N===Pc&&l===d+1){d+=2;continue}_=l+1;continue}if(r.noext!==!0&&(M===Av||M===mv||M===Rc||M===Pg||M===vc)===!0&&E()===Cc){if(f=H.isGlob=!0,m=H.isExtglob=!0,x=!0,M===vc&&l===d&&(Ee=!0),i===!0){for(;oe()!==!0&&(M=C());){if(M===Qn){O=H.backslashes=!0,M=C();continue}if(M===vg){f=H.isGlob=!0,x=!0;break}}continue}break}if(M===Rc){if(N===Rc&&(T=H.isGlobstar=!0),f=H.isGlob=!0,x=!0,i===!0)continue;break}if(M===Pg){if(f=H.isGlob=!0,x=!0,i===!0)continue;break}if(M===Sv){for(;oe()!==!0&&(Ie=C());){if(Ie===Qn){O=H.backslashes=!0,C();continue}if(Ie===yv){S=H.isBracket=!0,f=H.isGlob=!0,x=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&M===vc&&l===d){D=H.negated=!0,d++;continue}if(r.noparen!==!0&&M===Cc){if(f=H.isGlob=!0,i===!0){for(;oe()!==!0&&(M=C());){if(M===Cc){O=H.backslashes=!0,M=C();continue}if(M===vg){x=!0;break}}continue}break}if(f===!0){if(x=!0,i===!0)continue;break}}r.noext===!0&&(m=!1,f=!1);let G=u,he="",h="";d>0&&(he=u.slice(0,d),u=u.slice(d),_-=d),G&&f===!0&&_>0?(G=u.slice(0,_),h=u.slice(_)):f===!0?(G="",h=u):G=u,G&&G!==""&&G!=="/"&&G!==u&&Ig(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),r.unescape===!0&&(h&&(h=Rg.removeBackslashes(h)),G&&O===!0&&(G=Rg.removeBackslashes(G)));let g={prefix:he,input:e,start:d,base:G,glob:h,isBrace:p,isBracket:S,isGlob:f,isExtglob:m,isGlobstar:T,negated:D,negatedExtglob:Ee};if(r.tokens===!0&&(g.maxDepth=0,Ig(M)||o.push(H),g.tokens=o),r.parts===!0||r.tokens===!0){let Ie;for(let k=0;k<s.length;k++){let nt=Ie?Ie+1:d,it=s[k],Fe=e.slice(nt,it);r.tokens&&(k===0&&d!==0?(o[k].isPrefix=!0,o[k].value=he):o[k].value=Fe,Cg(o[k]),g.maxDepth+=o[k].depth),(k!==0||Fe!=="")&&a.push(Fe),Ie=it}if(Ie&&Ie+1<e.length){let k=e.slice(Ie+1);a.push(k),r.tokens&&(o[o.length-1].value=k,Cg(o[o.length-1]),g.maxDepth+=o[o.length-1].depth)}g.slashes=s,g.parts=a}return g};Mg.exports=Ov});var Dg=c((Mq,wg)=>{"use strict";var _s=Kn(),Ge=zn(),{MAX_LENGTH:ps,POSIX_REGEX_SOURCE:bv,REGEX_NON_SPECIAL_CHARS:Rv,REGEX_SPECIAL_CHARS_BACKREF:Pv,REPLACEMENTS:xg}=_s,vv=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>Ge.escapeRegex(i)).join("..")}return r},xr=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Nc=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=xg[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(ps,r.maxLength):ps,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=Ge.isWindows(t),l=_s.globChars(u),d=_s.extglobChars(l),{DOT_LITERAL:_,PLUS_LITERAL:p,SLASH_LITERAL:S,ONE_CHAR:f,DOTS_SLASH:m,NO_DOT:T,NO_DOT_SLASH:A,NO_DOTS_SLASH:O,QMARK:D,QMARK_NO_DOT:Ee,STAR:x,START_ANCHOR:$}=l,N=b=>`(${a}(?:(?!${$}${b.dot?m:_}).)*?)`,M=r.dot?"":T,H=r.dot?D:Ee,oe=r.bash===!0?N(r):x;r.capture&&(oe=`(${oe})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let E={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Ge.removePrefix(e,E),i=e.length;let C=[],G=[],he=[],h=s,g,Ie=()=>E.index===i-1,k=E.peek=(b=1)=>e[E.index+b],nt=E.advance=()=>e[++E.index]||"",it=()=>e.slice(E.index+1),Fe=(b="",z=0)=>{E.consumed+=b,E.index+=z},Zi=b=>{E.output+=b.output!=null?b.output:b.value,Fe(b.value)},hR=()=>{let b=1;for(;k()==="!"&&(k(2)!=="("||k(3)==="?");)nt(),E.start++,b++;return b%2===0?!1:(E.negated=!0,E.start++,!0)},Ji=b=>{E[b]++,he.push(b)},Wt=b=>{E[b]--,he.pop()},j=b=>{if(h.type==="globstar"){let z=E.braces>0&&(b.type==="comma"||b.type==="brace"),y=b.extglob===!0||C.length&&(b.type==="pipe"||b.type==="paren");b.type!=="slash"&&b.type!=="paren"&&!z&&!y&&(E.output=E.output.slice(0,-h.output.length),h.type="star",h.value="*",h.output=oe,E.output+=h.output)}if(C.length&&b.type!=="paren"&&(C[C.length-1].inner+=b.value),(b.value||b.output)&&Zi(b),h&&h.type==="text"&&b.type==="text"){h.value+=b.value,h.output=(h.output||"")+b.value;return}b.prev=h,o.push(b),h=b},es=(b,z)=>{let y={...d[z],conditions:1,inner:""};y.prev=h,y.parens=E.parens,y.output=E.output;let B=(r.capture?"(":"")+y.open;Ji("parens"),j({type:b,value:z,output:E.output?"":f}),j({type:"paren",extglob:!0,value:nt(),output:B}),C.push(y)},gR=b=>{let z=b.close+(r.capture?")":""),y;if(b.type==="negate"){let B=oe;if(b.inner&&b.inner.length>1&&b.inner.includes("/")&&(B=N(r)),(B!==oe||Ie()||/^\)+$/.test(it()))&&(z=b.close=`)$))${B}`),b.inner.includes("*")&&(y=it())&&/^\.[^\\/.]+$/.test(y)){let ne=Nc(y,{...t,fastpaths:!1}).output;z=b.close=`)${ne})${B})`}b.prev.type==="bos"&&(E.negatedExtglob=!0)}j({type:"paren",extglob:!0,value:g,output:z}),Wt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let b=!1,z=e.replace(Pv,(y,B,ne,Ce,le,nc)=>Ce==="\\"?(b=!0,y):Ce==="?"?B?B+Ce+(le?D.repeat(le.length):""):nc===0?H+(le?D.repeat(le.length):""):D.repeat(ne.length):Ce==="."?_.repeat(ne.length):Ce==="*"?B?B+Ce+(le?oe:""):oe:B?y:`\\${y}`);return b===!0&&(r.unescape===!0?z=z.replace(/\\/g,""):z=z.replace(/\\+/g,y=>y.length%2===0?"\\\\":y?"\\":"")),z===e&&r.contains===!0?(E.output=e,E):(E.output=Ge.wrapOutput(z,E,t),E)}for(;!Ie();){if(g=nt(),g==="\0")continue;if(g==="\\"){let y=k();if(y==="/"&&r.bash!==!0||y==="."||y===";")continue;if(!y){g+="\\",j({type:"text",value:g});continue}let B=/^\\+/.exec(it()),ne=0;if(B&&B[0].length>2&&(ne=B[0].length,E.index+=ne,ne%2!==0&&(g+="\\")),r.unescape===!0?g=nt():g+=nt(),E.brackets===0){j({type:"text",value:g});continue}}if(E.brackets>0&&(g!=="]"||h.value==="["||h.value==="[^")){if(r.posix!==!1&&g===":"){let y=h.value.slice(1);if(y.includes("[")&&(h.posix=!0,y.includes(":"))){let B=h.value.lastIndexOf("["),ne=h.value.slice(0,B),Ce=h.value.slice(B+2),le=bv[Ce];if(le){h.value=ne+le,E.backtrack=!0,nt(),!s.output&&o.indexOf(h)===1&&(s.output=f);continue}}}(g==="["&&k()!==":"||g==="-"&&k()==="]")&&(g=`\\${g}`),g==="]"&&(h.value==="["||h.value==="[^")&&(g=`\\${g}`),r.posix===!0&&g==="!"&&h.value==="["&&(g="^"),h.value+=g,Zi({value:g});continue}if(E.quotes===1&&g!=='"'){g=Ge.escapeRegex(g),h.value+=g,Zi({value:g});continue}if(g==='"'){E.quotes=E.quotes===1?0:1,r.keepQuotes===!0&&j({type:"text",value:g});continue}if(g==="("){Ji("parens"),j({type:"paren",value:g});continue}if(g===")"){if(E.parens===0&&r.strictBrackets===!0)throw new SyntaxError(xr("opening","("));let y=C[C.length-1];if(y&&E.parens===y.parens+1){gR(C.pop());continue}j({type:"paren",value:g,output:E.parens?")":"\\)"}),Wt("parens");continue}if(g==="["){if(r.nobracket===!0||!it().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(xr("closing","]"));g=`\\${g}`}else Ji("brackets");j({type:"bracket",value:g});continue}if(g==="]"){if(r.nobracket===!0||h&&h.type==="bracket"&&h.value.length===1){j({type:"text",value:g,output:`\\${g}`});continue}if(E.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(xr("opening","["));j({type:"text",value:g,output:`\\${g}`});continue}Wt("brackets");let y=h.value.slice(1);if(h.posix!==!0&&y[0]==="^"&&!y.includes("/")&&(g=`/${g}`),h.value+=g,Zi({value:g}),r.literalBrackets===!1||Ge.hasRegexChars(y))continue;let B=Ge.escapeRegex(h.value);if(E.output=E.output.slice(0,-h.value.length),r.literalBrackets===!0){E.output+=B,h.value=B;continue}h.value=`(${a}${B}|${h.value})`,E.output+=h.value;continue}if(g==="{"&&r.nobrace!==!0){Ji("braces");let y={type:"brace",value:g,output:"(",outputIndex:E.output.length,tokensIndex:E.tokens.length};G.push(y),j(y);continue}if(g==="}"){let y=G[G.length-1];if(r.nobrace===!0||!y){j({type:"text",value:g,output:g});continue}let B=")";if(y.dots===!0){let ne=o.slice(),Ce=[];for(let le=ne.length-1;le>=0&&(o.pop(),ne[le].type!=="brace");le--)ne[le].type!=="dots"&&Ce.unshift(ne[le].value);B=vv(Ce,r),E.backtrack=!0}if(y.comma!==!0&&y.dots!==!0){let ne=E.output.slice(0,y.outputIndex),Ce=E.tokens.slice(y.tokensIndex);y.value=y.output="\\{",g=B="\\}",E.output=ne;for(let le of Ce)E.output+=le.output||le.value}j({type:"brace",value:g,output:B}),Wt("braces"),G.pop();continue}if(g==="|"){C.length>0&&C[C.length-1].conditions++,j({type:"text",value:g});continue}if(g===","){let y=g,B=G[G.length-1];B&&he[he.length-1]==="braces"&&(B.comma=!0,y="|"),j({type:"comma",value:g,output:y});continue}if(g==="/"){if(h.type==="dot"&&E.index===E.start+1){E.start=E.index+1,E.consumed="",E.output="",o.pop(),h=s;continue}j({type:"slash",value:g,output:S});continue}if(g==="."){if(E.braces>0&&h.type==="dot"){h.value==="."&&(h.output=_);let y=G[G.length-1];h.type="dots",h.output+=g,h.value+=g,y.dots=!0;continue}if(E.braces+E.parens===0&&h.type!=="bos"&&h.type!=="slash"){j({type:"text",value:g,output:_});continue}j({type:"dot",value:g,output:_});continue}if(g==="?"){if(!(h&&h.value==="(")&&r.noextglob!==!0&&k()==="("&&k(2)!=="?"){es("qmark",g);continue}if(h&&h.type==="paren"){let B=k(),ne=g;if(B==="<"&&!Ge.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(h.value==="("&&!/[!=<:]/.test(B)||B==="<"&&!/<([!=]|\w+>)/.test(it()))&&(ne=`\\${g}`),j({type:"text",value:g,output:ne});continue}if(r.dot!==!0&&(h.type==="slash"||h.type==="bos")){j({type:"qmark",value:g,output:Ee});continue}j({type:"qmark",value:g,output:D});continue}if(g==="!"){if(r.noextglob!==!0&&k()==="("&&(k(2)!=="?"||!/[!=<:]/.test(k(3)))){es("negate",g);continue}if(r.nonegate!==!0&&E.index===0){hR();continue}}if(g==="+"){if(r.noextglob!==!0&&k()==="("&&k(2)!=="?"){es("plus",g);continue}if(h&&h.value==="("||r.regex===!1){j({type:"plus",value:g,output:p});continue}if(h&&(h.type==="bracket"||h.type==="paren"||h.type==="brace")||E.parens>0){j({type:"plus",value:g});continue}j({type:"plus",value:p});continue}if(g==="@"){if(r.noextglob!==!0&&k()==="("&&k(2)!=="?"){j({type:"at",extglob:!0,value:g,output:""});continue}j({type:"text",value:g});continue}if(g!=="*"){(g==="$"||g==="^")&&(g=`\\${g}`);let y=Rv.exec(it());y&&(g+=y[0],E.index+=y[0].length),j({type:"text",value:g});continue}if(h&&(h.type==="globstar"||h.star===!0)){h.type="star",h.star=!0,h.value+=g,h.output=oe,E.backtrack=!0,E.globstar=!0,Fe(g);continue}let b=it();if(r.noextglob!==!0&&/^\([^?]/.test(b)){es("star",g);continue}if(h.type==="star"){if(r.noglobstar===!0){Fe(g);continue}let y=h.prev,B=y.prev,ne=y.type==="slash"||y.type==="bos",Ce=B&&(B.type==="star"||B.type==="globstar");if(r.bash===!0&&(!ne||b[0]&&b[0]!=="/")){j({type:"star",value:g,output:""});continue}let le=E.braces>0&&(y.type==="comma"||y.type==="brace"),nc=C.length&&(y.type==="pipe"||y.type==="paren");if(!ne&&y.type!=="paren"&&!le&&!nc){j({type:"star",value:g,output:""});continue}for(;b.slice(0,3)==="/**";){let ts=e[E.index+4];if(ts&&ts!=="/")break;b=b.slice(3),Fe("/**",3)}if(y.type==="bos"&&Ie()){h.type="globstar",h.value+=g,h.output=N(r),E.output=h.output,E.globstar=!0,Fe(g);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&!Ce&&Ie()){E.output=E.output.slice(0,-(y.output+h.output).length),y.output=`(?:${y.output}`,h.type="globstar",h.output=N(r)+(r.strictSlashes?")":"|$)"),h.value+=g,E.globstar=!0,E.output+=y.output+h.output,Fe(g);continue}if(y.type==="slash"&&y.prev.type!=="bos"&&b[0]==="/"){let ts=b[1]!==void 0?"|$":"";E.output=E.output.slice(0,-(y.output+h.output).length),y.output=`(?:${y.output}`,h.type="globstar",h.output=`${N(r)}${S}|${S}${ts})`,h.value+=g,E.output+=y.output+h.output,E.globstar=!0,Fe(g+nt()),j({type:"slash",value:"/",output:""});continue}if(y.type==="bos"&&b[0]==="/"){h.type="globstar",h.value+=g,h.output=`(?:^|${S}|${N(r)}${S})`,E.output=h.output,E.globstar=!0,Fe(g+nt()),j({type:"slash",value:"/",output:""});continue}E.output=E.output.slice(0,-h.output.length),h.type="globstar",h.output=N(r),h.value+=g,E.output+=h.output,E.globstar=!0,Fe(g);continue}let z={type:"star",value:g,output:oe};if(r.bash===!0){z.output=".*?",(h.type==="bos"||h.type==="slash")&&(z.output=M+z.output),j(z);continue}if(h&&(h.type==="bracket"||h.type==="paren")&&r.regex===!0){z.output=g,j(z);continue}(E.index===E.start||h.type==="slash"||h.type==="dot")&&(h.type==="dot"?(E.output+=A,h.output+=A):r.dot===!0?(E.output+=O,h.output+=O):(E.output+=M,h.output+=M),k()!=="*"&&(E.output+=f,h.output+=f)),j(z)}for(;E.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing","]"));E.output=Ge.escapeLast(E.output,"["),Wt("brackets")}for(;E.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing",")"));E.output=Ge.escapeLast(E.output,"("),Wt("parens")}for(;E.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(xr("closing","}"));E.output=Ge.escapeLast(E.output,"{"),Wt("braces")}if(r.strictSlashes!==!0&&(h.type==="star"||h.type==="bracket")&&j({type:"maybe_slash",value:"",output:`${S}?`}),E.backtrack===!0){E.output="";for(let b of E.tokens)E.output+=b.output!=null?b.output:b.value,b.suffix&&(E.output+=b.suffix)}return E};Nc.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(ps,r.maxLength):ps,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=xg[e]||e;let s=Ge.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:p,STAR:S,START_ANCHOR:f}=_s.globChars(s),m=r.dot?_:d,T=r.dot?p:d,A=r.capture?"":"?:",O={negated:!1,prefix:""},D=r.bash===!0?".*?":S;r.capture&&(D=`(${D})`);let Ee=M=>M.noglobstar===!0?D:`(${A}(?:(?!${f}${M.dot?l:o}).)*?)`,x=M=>{switch(M){case"*":return`${m}${u}${D}`;case".*":return`${o}${u}${D}`;case"*.*":return`${m}${D}${o}${u}${D}`;case"*/*":return`${m}${D}${a}${u}${T}${D}`;case"**":return m+Ee(r);case"**/*":return`(?:${m}${Ee(r)}${a})?${T}${u}${D}`;case"**/*.*":return`(?:${m}${Ee(r)}${a})?${T}${D}${o}${u}${D}`;case"**/.*":return`(?:${m}${Ee(r)}${a})?${o}${u}${D}`;default:{let H=/^(.*?)\.(\w+)$/.exec(M);if(!H)return;let oe=x(H[1]);return oe?oe+o+H[2]:void 0}}},$=Ge.removePrefix(e,O),N=x($);return N&&r.strictSlashes!==!0&&(N+=`${a}?`),N};wg.exports=Nc});var Ug=c((Lq,Bg)=>{"use strict";var Iv=R("path"),Cv=Lg(),Mc=Dg(),Lc=zn(),Nv=Kn(),Mv=e=>e&&typeof e=="object"&&!Array.isArray(e),ie=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(p=>ie(p,t,r));return p=>{for(let S of d){let f=S(p);if(f)return f}return!1}}let n=Mv(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=Lc.isWindows(t),o=n?ie.compileRe(e,t):ie.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let d={...t,ignore:null,onMatch:null,onResult:null};u=ie(i.ignore,d,r)}let l=(d,_=!1)=>{let{isMatch:p,match:S,output:f}=ie.test(d,o,t,{glob:e,posix:s}),m={glob:e,state:a,regex:o,posix:s,input:d,output:f,match:S,isMatch:p};return typeof i.onResult=="function"&&i.onResult(m),p===!1?(m.isMatch=!1,_?m:!1):u(d)?(typeof i.onIgnore=="function"&&i.onIgnore(m),m.isMatch=!1,_?m:!1):(typeof i.onMatch=="function"&&i.onMatch(m),_?m:!0)};return r&&(l.state=a),l};ie.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Lc.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=ie.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:!!a,match:a,output:u}};ie.matchBase=(e,t,r,n=Lc.isWindows(r))=>(t instanceof RegExp?t:ie.makeRe(t,r)).test(Iv.basename(e));ie.isMatch=(e,t,r)=>ie(t,r)(e);ie.parse=(e,t)=>Array.isArray(e)?e.map(r=>ie.parse(r,t)):Mc(e,{...t,fastpaths:!1});ie.scan=(e,t)=>Cv(e,t);ie.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=ie.toRegex(a,t);return n===!0&&(u.state=e),u};ie.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Mc.fastpaths(e,t)),i.output||(i=Mc(e,t)),ie.compileRe(i,t,r,n)};ie.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};ie.constants=Nv;Bg.exports=ie});var qg=c((xq,Fg)=>{"use strict";Fg.exports=Ug()});var Vg=c((wq,kg)=>{"use strict";var jg=R("util"),Hg=Sg(),ot=qg(),xc=zn(),Gg=e=>e===""||e==="./",ee=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=d=>{s.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let _=ot(String(t[d]),{...r,onResult:a},!0),p=_.state.negated||_.state.negatedExtglob;p&&o++;for(let S of e){let f=_(S,!0);(p?!f.isMatch:f.isMatch)&&(p?n.add(f.output):(n.delete(f.output),i.add(f.output)))}}let l=(o===t.length?[...s]:[...i]).filter(d=>!n.has(d));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return l};ee.match=ee;ee.matcher=(e,t)=>ot(e,t);ee.isMatch=(e,t,r)=>ot(t,r)(e);ee.any=ee.isMatch;ee.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=new Set(ee(e,t,{...r,onResult:s}));for(let a of i)o.has(a)||n.add(a);return[...n]};ee.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${jg.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ee.contains(e,n,r));if(typeof t=="string"){if(Gg(e)||Gg(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ee.isMatch(e,t,{...r,contains:!0})};ee.matchKeys=(e,t,r)=>{if(!xc.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ee(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};ee.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=ot(String(i),r);if(n.some(o=>s(o)))return!0}return!1};ee.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=ot(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};ee.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${jg.inspect(e)}"`);return[].concat(t).every(n=>ot(n,r)(e))};ee.capture=(e,t,r)=>{let n=xc.isWindows(r),s=ot.makeRe(String(e),{...r,capture:!0}).exec(n?xc.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};ee.makeRe=(...e)=>ot.makeRe(...e);ee.scan=(...e)=>ot.scan(...e);ee.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of Hg(String(n),t))r.push(ot.parse(i,t));return r};ee.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Hg(e,t)};ee.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ee.braces(e,{...t,expand:!0})};kg.exports=ee});var Zg=c(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.removeDuplicateSlashes=L.matchAny=L.convertPatternsToRe=L.makeRe=L.getPatternParts=L.expandBraceExpansion=L.expandPatternsWithBraceExpansion=L.isAffectDepthOfReadingPattern=L.endsWithSlashGlobStar=L.hasGlobStar=L.getBaseDirectory=L.isPatternRelatedToParentDirectory=L.getPatternsOutsideCurrentDirectory=L.getPatternsInsideCurrentDirectory=L.getPositivePatterns=L.getNegativePatterns=L.isPositivePattern=L.isNegativePattern=L.convertToNegativePattern=L.convertToPositivePattern=L.isDynamicPattern=L.isStaticPattern=void 0;var Lv=R("path"),xv=Bh(),wc=Vg(),$g="**",wv="\\",Dv=/[*?]|^!/,Bv=/\[[^[]*]/,Uv=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,Fv=/[!*+?@]\([^(]*\)/,qv=/,|\.\./,Gv=/(?!^)\/{2,}/g;function Yg(e,t={}){return!Xg(e,t)}L.isStaticPattern=Yg;function Xg(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(wv)||Dv.test(e)||Bv.test(e)||Uv.test(e)||t.extglob!==!1&&Fv.test(e)||t.braceExpansion!==!1&&jv(e))}L.isDynamicPattern=Xg;function jv(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return qv.test(n)}function Hv(e){return fs(e)?e.slice(1):e}L.convertToPositivePattern=Hv;function kv(e){return"!"+e}L.convertToNegativePattern=kv;function fs(e){return e.startsWith("!")&&e[1]!=="("}L.isNegativePattern=fs;function Wg(e){return!fs(e)}L.isPositivePattern=Wg;function Vv(e){return e.filter(fs)}L.getNegativePatterns=Vv;function $v(e){return e.filter(Wg)}L.getPositivePatterns=$v;function Yv(e){return e.filter(t=>!Dc(t))}L.getPatternsInsideCurrentDirectory=Yv;function Xv(e){return e.filter(Dc)}L.getPatternsOutsideCurrentDirectory=Xv;function Dc(e){return e.startsWith("..")||e.startsWith("./..")}L.isPatternRelatedToParentDirectory=Dc;function Wv(e){return xv(e,{flipBackslashes:!1})}L.getBaseDirectory=Wv;function Kv(e){return e.includes($g)}L.hasGlobStar=Kv;function Kg(e){return e.endsWith("/"+$g)}L.endsWithSlashGlobStar=Kg;function zv(e){let t=Lv.basename(e);return Kg(e)||Yg(t)}L.isAffectDepthOfReadingPattern=zv;function Qv(e){return e.reduce((t,r)=>t.concat(zg(r)),[])}L.expandPatternsWithBraceExpansion=Qv;function zg(e){let t=wc.braces(e,{expand:!0,nodupes:!0,keepEscaping:!0});return t.sort((r,n)=>r.length-n.length),t.filter(r=>r!=="")}L.expandBraceExpansion=zg;function Zv(e,t){let{parts:r}=wc.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}L.getPatternParts=Zv;function Qg(e,t){return wc.makeRe(e,t)}L.makeRe=Qg;function Jv(e,t){return e.map(r=>Qg(r,t))}L.convertPatternsToRe=Jv;function e0(e,t){return t.some(r=>r.test(e))}L.matchAny=e0;function t0(e){return e.replace(Gv,"/")}L.removeDuplicateSlashes=t0});var rm=c((Bq,tm)=>{"use strict";var r0=R("stream"),Jg=r0.PassThrough,n0=Array.prototype.slice;tm.exports=i0;function i0(){let e=[],t=n0.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=Jg(n);function a(){for(let d=0,_=arguments.length;d<_;d++)e.push(em(arguments[d],n));return u(),this}function u(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(l);return}Array.isArray(d)||(d=[d]);let _=d.length+1;function p(){--_>0||(r=!1,u())}function S(f){function m(){f.removeListener("merge2UnpipeEnd",m),f.removeListener("end",m),s&&f.removeListener("error",T),p()}function T(A){o.emit("error",A)}if(f._readableState.endEmitted)return p();f.on("merge2UnpipeEnd",m),f.on("end",m),s&&f.on("error",T),f.pipe(o,{end:!1}),f.resume()}for(let f=0;f<d.length;f++)S(d[f]);p()}function l(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function em(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=em(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(Jg(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var im=c(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.merge=void 0;var s0=rm();function o0(e){let t=s0(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>nm(e)),t.once("end",()=>nm(e)),t}hs.merge=o0;function nm(e){e.forEach(t=>t.emit("close"))}});var sm=c(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.isEmpty=wr.isString=void 0;function a0(e){return typeof e=="string"}wr.isString=a0;function u0(e){return e===""}wr.isEmpty=u0});var At=c(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.string=Se.stream=Se.pattern=Se.path=Se.fs=Se.errno=Se.array=void 0;var c0=Oh();Se.array=c0;var l0=bh();Se.errno=l0;var d0=Rh();Se.fs=d0;var _0=Ch();Se.path=_0;var p0=Zg();Se.pattern=p0;var f0=im();Se.stream=f0;var h0=sm();Se.string=h0});var cm=c(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.convertPatternGroupToTask=Ae.convertPatternGroupsToTasks=Ae.groupPatternsByBaseDirectory=Ae.getNegativePatternsAsPositive=Ae.getPositivePatterns=Ae.convertPatternsToTasks=Ae.generate=void 0;var Qe=At();function g0(e,t){let r=om(e,t),n=om(t.ignore,t),i=am(r),s=um(r,n),o=i.filter(d=>Qe.pattern.isStaticPattern(d,t)),a=i.filter(d=>Qe.pattern.isDynamicPattern(d,t)),u=Bc(o,s,!1),l=Bc(a,s,!0);return u.concat(l)}Ae.generate=g0;function om(e,t){let r=e;return t.braceExpansion&&(r=Qe.pattern.expandPatternsWithBraceExpansion(r)),t.baseNameMatch&&(r=r.map(n=>n.includes("/")?n:`**/${n}`)),r.map(n=>Qe.pattern.removeDuplicateSlashes(n))}function Bc(e,t,r){let n=[],i=Qe.pattern.getPatternsOutsideCurrentDirectory(e),s=Qe.pattern.getPatternsInsideCurrentDirectory(e),o=Uc(i),a=Uc(s);return n.push(...Fc(o,t,r)),"."in a?n.push(qc(".",s,t,r)):n.push(...Fc(a,t,r)),n}Ae.convertPatternsToTasks=Bc;function am(e){return Qe.pattern.getPositivePatterns(e)}Ae.getPositivePatterns=am;function um(e,t){return Qe.pattern.getNegativePatterns(e).concat(t).map(Qe.pattern.convertToPositivePattern)}Ae.getNegativePatternsAsPositive=um;function Uc(e){let t={};return e.reduce((r,n)=>{let i=Qe.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Ae.groupPatternsByBaseDirectory=Uc;function Fc(e,t,r){return Object.keys(e).map(n=>qc(n,e[n],t,r))}Ae.convertPatternGroupsToTasks=Fc;function qc(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Qe.pattern.convertToNegativePattern))}}Ae.convertPatternGroupToTask=qc});var dm=c(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.read=void 0;function m0(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){lm(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){Gc(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){lm(r,s);return}Gc(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Gc(r,o)})})}gs.read=m0;function lm(e,t){e(t)}function Gc(e,t){e(null,t)}});var _m=c(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.read=void 0;function E0(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}ms.read=E0});var pm=c(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.createFileSystemAdapter=vt.FILE_SYSTEM_ADAPTER=void 0;var Es=R("fs");vt.FILE_SYSTEM_ADAPTER={lstat:Es.lstat,stat:Es.stat,lstatSync:Es.lstatSync,statSync:Es.statSync};function S0(e){return e===void 0?vt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},vt.FILE_SYSTEM_ADAPTER),e)}vt.createFileSystemAdapter=S0});var fm=c(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});var A0=pm(),jc=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=A0.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};Hc.default=jc});var Qt=c(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.statSync=It.stat=It.Settings=void 0;var hm=dm(),T0=_m(),kc=fm();It.Settings=kc.default;function y0(e,t,r){if(typeof t=="function"){hm.read(e,Vc(),t);return}hm.read(e,Vc(t),r)}It.stat=y0;function O0(e,t){let r=Vc(t);return T0.read(e,r)}It.statSync=O0;function Vc(e={}){return e instanceof kc.default?e:new kc.default(e)}});var Em=c((Yq,mm)=>{var gm;mm.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(gm||(gm=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var Am=c((Xq,Sm)=>{Sm.exports=R0;var b0=Em();function R0(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function l(){t&&t(u,r),t=null}s?b0(l):l()}function a(u,l,d){r[u]=d,(--n===0||l)&&o(l)}n?i?i.forEach(function(u){e[u](function(l,d){a(u,l,d)})}):e.forEach(function(u,l){u(function(d,_){a(l,d,_)})}):o(null),s=!1}});var $c=c(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});As.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Ss=process.versions.node.split(".");if(Ss[0]===void 0||Ss[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Tm=Number.parseInt(Ss[0],10),P0=Number.parseInt(Ss[1],10),ym=10,v0=10,I0=Tm>ym,C0=Tm===ym&&P0>=v0;As.IS_SUPPORT_READDIR_WITH_FILE_TYPES=I0||C0});var Om=c(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.createDirentFromStats=void 0;var Yc=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function N0(e,t){return new Yc(e,t)}Ts.createDirentFromStats=N0});var Xc=c(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.fs=void 0;var M0=Om();ys.fs=M0});var Wc=c(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.joinPathSegments=void 0;function L0(e,t,r){return e.endsWith(r)?e+t:e+r+t}Os.joinPathSegments=L0});var Cm=c(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.readdir=Ct.readdirWithFileTypes=Ct.read=void 0;var x0=Qt(),bm=Am(),w0=$c(),Rm=Xc(),Pm=Wc();function D0(e,t,r){if(!t.stats&&w0.IS_SUPPORT_READDIR_WITH_FILE_TYPES){vm(e,t,r);return}Im(e,t,r)}Ct.read=D0;function vm(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){bs(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:Pm.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){Kc(r,s);return}let o=s.map(a=>B0(a,t));bm(o,(a,u)=>{if(a!==null){bs(r,a);return}Kc(r,u)})})}Ct.readdirWithFileTypes=vm;function B0(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Rm.fs.createDirentFromStats(e.name,i),r(null,e)})}}function Im(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){bs(r,n);return}let s=i.map(o=>{let a=Pm.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{x0.stat(a,t.fsStatSettings,(l,d)=>{if(l!==null){u(l);return}let _={name:o,path:a,dirent:Rm.fs.createDirentFromStats(o,d)};t.stats&&(_.stats=d),u(null,_)})}});bm(s,(o,a)=>{if(o!==null){bs(r,o);return}Kc(r,a)})})}Ct.readdir=Im;function bs(e,t){e(t)}function Kc(e,t){e(null,t)}});var wm=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.readdir=Nt.readdirWithFileTypes=Nt.read=void 0;var U0=Qt(),F0=$c(),Nm=Xc(),Mm=Wc();function q0(e,t){return!t.stats&&F0.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Lm(e,t):xm(e,t)}Nt.read=q0;function Lm(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Mm.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=Nm.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}Nt.readdirWithFileTypes=Lm;function xm(e,t){return t.fs.readdirSync(e).map(n=>{let i=Mm.joinPathSegments(e,n,t.pathSegmentSeparator),s=U0.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:Nm.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}Nt.readdir=xm});var Dm=c(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.createFileSystemAdapter=Mt.FILE_SYSTEM_ADAPTER=void 0;var Dr=R("fs");Mt.FILE_SYSTEM_ADAPTER={lstat:Dr.lstat,stat:Dr.stat,lstatSync:Dr.lstatSync,statSync:Dr.statSync,readdir:Dr.readdir,readdirSync:Dr.readdirSync};function G0(e){return e===void 0?Mt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Mt.FILE_SYSTEM_ADAPTER),e)}Mt.createFileSystemAdapter=G0});var Bm=c(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});var j0=R("path"),H0=Qt(),k0=Dm(),zc=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=k0.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,j0.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new H0.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Qc.default=zc});var Rs=c(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.Settings=Lt.scandirSync=Lt.scandir=void 0;var Um=Cm(),V0=wm(),Zc=Bm();Lt.Settings=Zc.default;function $0(e,t,r){if(typeof t=="function"){Um.read(e,Jc(),t);return}Um.read(e,Jc(t),r)}Lt.scandir=$0;function Y0(e,t){let r=Jc(t);return V0.read(e,r)}Lt.scandirSync=Y0;function Jc(e={}){return e instanceof Zc.default?e:new Zc.default(e)}});var qm=c((nG,Fm)=>{"use strict";function X0(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}Fm.exports=X0});var jm=c((iG,el)=>{"use strict";var W0=qm();function Gm(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),!(r>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=W0(K0),i=null,s=null,o=0,a=null,u={push:m,drain:Ye,saturated:Ye,pause:d,paused:!1,get concurrency(){return r},set concurrency(x){if(!(x>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(r=x,!u.paused)for(;i&&o<r;)o++,A()},running:l,resume:S,idle:f,length:_,getQueue:p,unshift:T,empty:Ye,kill:O,killAndDrain:D,error:Ee};return u;function l(){return o}function d(){u.paused=!0}function _(){for(var x=i,$=0;x;)x=x.next,$++;return $}function p(){for(var x=i,$=[];x;)$.push(x.value),x=x.next;return $}function S(){if(u.paused){if(u.paused=!1,i===null){o++,A();return}for(;i&&o<r;)o++,A()}}function f(){return o===0&&u.length()===0}function m(x,$){var N=n.get();N.context=e,N.release=A,N.value=x,N.callback=$||Ye,N.errorHandler=a,o>=r||u.paused?s?(s.next=N,s=N):(i=N,s=N,u.saturated()):(o++,t.call(e,N.value,N.worked))}function T(x,$){var N=n.get();N.context=e,N.release=A,N.value=x,N.callback=$||Ye,N.errorHandler=a,o>=r||u.paused?i?(N.next=i,i=N):(i=N,s=N,u.saturated()):(o++,t.call(e,N.value,N.worked))}function A(x){x&&n.release(x);var $=i;$&&o<=r?u.paused?o--:(s===i&&(s=null),i=$.next,$.next=null,t.call(e,$.value,$.worked),s===null&&u.empty()):--o===0&&u.drain()}function O(){i=null,s=null,u.drain=Ye}function D(){i=null,s=null,u.drain(),u.drain=Ye}function Ee(x){a=x}}function Ye(){}function K0(){this.value=null,this.callback=Ye,this.next=null,this.release=Ye,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=Ye,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function z0(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(d,_){t.call(this,d).then(function(p){_(null,p)},_)}var i=Gm(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i.drained=l,i;function a(d){var _=new Promise(function(p,S){s(d,function(f,m){if(f){S(f);return}p(m)})});return _.catch(Ye),_}function u(d){var _=new Promise(function(p,S){o(d,function(f,m){if(f){S(f);return}p(m)})});return _.catch(Ye),_}function l(){if(i.idle())return new Promise(function(p){p()});var d=i.drain,_=new Promise(function(p){i.drain=function(){d(),p()}});return _}}el.exports=Gm;el.exports.promise=z0});var Ps=c(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.joinPathSegments=at.replacePathSegmentSeparator=at.isAppliedFilter=at.isFatalError=void 0;function Q0(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}at.isFatalError=Q0;function Z0(e,t){return e===null||e(t)}at.isAppliedFilter=Z0;function J0(e,t){return e.split(/[/\\]/).join(t)}at.replacePathSegmentSeparator=J0;function eI(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}at.joinPathSegments=eI});var nl=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});var tI=Ps(),tl=class{constructor(t,r){this._root=t,this._settings=r,this._root=tI.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};rl.default=tl});var ol=c(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});var rI=R("events"),nI=Rs(),iI=jm(),vs=Ps(),sI=nl(),il=class extends sI.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=nI.scandir,this._emitter=new rI.EventEmitter,this._queue=iI(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!vs.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=vs.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),vs.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&vs.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};sl.default=il});var Hm=c(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});var oI=ol(),al=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new oI.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{aI(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{uI(t,this._storage)}),this._reader.read()}};ul.default=al;function aI(e,t){e(t)}function uI(e,t){e(null,t)}});var km=c(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});var cI=R("stream"),lI=ol(),cl=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new lI.default(this._root,this._settings),this._stream=new cI.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};ll.default=cl});var Vm=c(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});var dI=Rs(),Is=Ps(),_I=nl(),dl=class extends _I.default{constructor(){super(...arguments),this._scandir=dI.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(Is.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=Is.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Is.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Is.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};_l.default=dl});var $m=c(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});var pI=Vm(),pl=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new pI.default(this._root,this._settings)}read(){return this._reader.read()}};fl.default=pl});var Ym=c(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var fI=R("path"),hI=Rs(),hl=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,fI.sep),this.fsScandirSettings=new hI.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};gl.default=hl});var Ns=c(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.Settings=ut.walkStream=ut.walkSync=ut.walk=void 0;var Xm=Hm(),gI=km(),mI=$m(),ml=Ym();ut.Settings=ml.default;function EI(e,t,r){if(typeof t=="function"){new Xm.default(e,Cs()).read(t);return}new Xm.default(e,Cs(t)).read(r)}ut.walk=EI;function SI(e,t){let r=Cs(t);return new mI.default(e,r).read()}ut.walkSync=SI;function AI(e,t){let r=Cs(t);return new gI.default(e,r).read()}ut.walkStream=AI;function Cs(e={}){return e instanceof ml.default?e:new ml.default(e)}});var Ms=c(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});var TI=R("path"),yI=Qt(),Wm=At(),El=class{constructor(t){this._settings=t,this._fsStatSettings=new yI.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return TI.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Wm.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Wm.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Sl.default=El});var yl=c(Tl=>{"use strict";Object.defineProperty(Tl,"__esModule",{value:!0});var OI=R("stream"),bI=Qt(),RI=Ns(),PI=Ms(),Al=class extends PI.default{constructor(){super(...arguments),this._walkStream=RI.walkStream,this._stat=bI.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new OI.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};Tl.default=Al});var Km=c(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});var vI=Ns(),II=Ms(),CI=yl(),Ol=class extends II.default{constructor(){super(...arguments),this._walkAsync=vI.walk,this._readerStream=new CI.default(this._settings)}dynamic(t,r){return new Promise((n,i)=>{this._walkAsync(t,r,(s,o)=>{s===null?n(o):i(s)})})}async static(t,r){let n=[],i=this._readerStream.static(t,r);return new Promise((s,o)=>{i.once("error",o),i.on("data",a=>n.push(a)),i.once("end",()=>s(n))})}};bl.default=Ol});var zm=c(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});var Zn=At(),Rl=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(let t of this._patterns){let r=this._getPatternSegments(t),n=this._splitSegmentsIntoSections(r);this._storage.push({complete:n.length<=1,pattern:t,segments:r,sections:n})}}_getPatternSegments(t){return Zn.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Zn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Zn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Zn.array.splitWhen(t,r=>r.dynamic&&Zn.pattern.hasGlobStar(r.pattern))}};Pl.default=Rl});var Qm=c(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});var NI=zm(),vl=class extends NI.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,l)=>{let d=s.segments[l];return!!(d.dynamic&&d.patternRe.test(u)||!d.dynamic&&d.pattern===u)}))return!0}return!1}};Il.default=vl});var Zm=c(Nl=>{"use strict";Object.defineProperty(Nl,"__esModule",{value:!0});var Ls=At(),MI=Qm(),Cl=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new MI.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(Ls.pattern.isAffectDepthOfReadingPattern);return Ls.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=Ls.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!Ls.pattern.matchAny(t,r)}};Nl.default=Cl});var Jm=c(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var Zt=At(),Ml=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Zt.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Zt.pattern.convertPatternsToRe(r,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return s=>this._filter(s,n,i)}_filter(t,r,n){let i=Zt.path.removeLeadingDotSegment(t.path);if(this._settings.unique&&this._isDuplicateEntry(i)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(i,n))return!1;let s=t.dirent.isDirectory(),o=this._isMatchToPatterns(i,r,s)&&!this._isMatchToPatterns(i,n,s);return this._settings.unique&&o&&this._createIndexRecord(i),o}_isDuplicateEntry(t){return this.index.has(t)}_createIndexRecord(t){this.index.set(t,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Zt.path.makeAbsolute(this._settings.cwd,t);return Zt.pattern.matchAny(n,r)}_isMatchToPatterns(t,r,n){let i=Zt.pattern.matchAny(t,r);return!i&&n?Zt.pattern.matchAny(t+"/",r):i}};Ll.default=Ml});var eE=c(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});var LI=At(),xl=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return LI.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};wl.default=xl});var rE=c(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var tE=At(),Dl=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=tE.path.makeAbsolute(this._settings.cwd,r),r=tE.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Bl.default=Dl});var xs=c(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var xI=R("path"),wI=Zm(),DI=Jm(),BI=eE(),UI=rE(),Ul=class{constructor(t){this._settings=t,this.errorFilter=new BI.default(this._settings),this.entryFilter=new DI.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new wI.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new UI.default(this._settings)}_getRootDirectory(t){return xI.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Fl.default=Ul});var nE=c(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});var FI=Km(),qI=xs(),ql=class extends qI.default{constructor(){super(...arguments),this._reader=new FI.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(s=>n.transform(s))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Gl.default=ql});var iE=c(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});var GI=R("stream"),jI=yl(),HI=xs(),jl=class extends HI.default{constructor(){super(...arguments),this._reader=new jI.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new GI.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Hl.default=jl});var sE=c(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});var kI=Qt(),VI=Ns(),$I=Ms(),kl=class extends $I.default{constructor(){super(...arguments),this._walkSync=VI.walkSync,this._statSync=kI.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Vl.default=kl});var oE=c(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var YI=sE(),XI=xs(),$l=class extends XI.default{constructor(){super(...arguments),this._reader=new YI.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Yl.default=$l});var aE=c(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Br=R("fs"),WI=R("os"),KI=Math.max(WI.cpus().length,1);Ur.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Br.lstat,lstatSync:Br.lstatSync,stat:Br.stat,statSync:Br.statSync,readdir:Br.readdir,readdirSync:Br.readdirSync};var Xl=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,KI),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Ur.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Ur.default=Xl});var Ql=c((CG,cE)=>{"use strict";var uE=cm(),zI=nE(),QI=iE(),ZI=oE(),Wl=aE(),Xe=At();async function Kl(e,t){Ze(e);let r=zl(e,zI.default,t),n=await Promise.all(r);return Xe.array.flatten(n)}(function(e){e.glob=e,e.globSync=t,e.globStream=r,e.async=e;function t(l,d){Ze(l);let _=zl(l,ZI.default,d);return Xe.array.flatten(_)}e.sync=t;function r(l,d){Ze(l);let _=zl(l,QI.default,d);return Xe.stream.merge(_)}e.stream=r;function n(l,d){Ze(l);let _=[].concat(l),p=new Wl.default(d);return uE.generate(_,p)}e.generateTasks=n;function i(l,d){Ze(l);let _=new Wl.default(d);return Xe.pattern.isDynamicPattern(l,_)}e.isDynamicPattern=i;function s(l){return Ze(l),Xe.path.escape(l)}e.escapePath=s;function o(l){return Ze(l),Xe.path.convertPathToPattern(l)}e.convertPathToPattern=o;let a;(function(l){function d(p){return Ze(p),Xe.path.escapePosixPath(p)}l.escapePath=d;function _(p){return Ze(p),Xe.path.convertPosixPathToPattern(p)}l.convertPathToPattern=_})(a=e.posix||(e.posix={}));let u;(function(l){function d(p){return Ze(p),Xe.path.escapeWindowsPath(p)}l.escapePath=d;function _(p){return Ze(p),Xe.path.convertWindowsPathToPattern(p)}l.convertPathToPattern=_})(u=e.win32||(e.win32={}))})(Kl||(Kl={}));function zl(e,t,r){let n=[].concat(e),i=new Wl.default(r),s=uE.generate(n,i),o=new t(i);return s.map(o.read,o)}function Ze(e){if(![].concat(e).every(n=>Xe.string.isString(n)&&!Xe.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}cE.exports=Kl});var LS=c(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks._globalThis=void 0;ks._globalThis=typeof globalThis=="object"?globalThis:global});var xS=c(nr=>{"use strict";var xM=nr&&nr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wM=nr&&nr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xM(t,e,r)};Object.defineProperty(nr,"__esModule",{value:!0});wM(LS(),nr)});var wS=c(ir=>{"use strict";var DM=ir&&ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BM=ir&&ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DM(t,e,r)};Object.defineProperty(ir,"__esModule",{value:!0});BM(xS(),ir)});var Sd=c(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.VERSION=void 0;Vs.VERSION="1.7.0"});var US=c(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.isCompatible=Vr._makeCompatibilityCheck=void 0;var UM=Sd(),DS=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function BS(e){let t=new Set([e]),r=new Set,n=e.match(DS);if(!n)return()=>!1;let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;let l=u.match(DS);if(!l)return s(u);let d={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return d.prerelease!=null||i.major!==d.major?s(u):i.major===0?i.minor===d.minor&&i.patch<=d.patch?o(u):s(u):i.minor<=d.minor?o(u):s(u)}}Vr._makeCompatibilityCheck=BS;Vr.isCompatible=BS(UM.VERSION)});var sr=c(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.unregisterGlobal=Dt.getGlobal=Dt.registerGlobal=void 0;var FM=wS(),$r=Sd(),qM=US(),GM=$r.VERSION.split(".")[0],ai=Symbol.for(`opentelemetry.js.api.${GM}`),ui=FM._globalThis;function jM(e,t,r,n=!1){var i;let s=ui[ai]=(i=ui[ai])!==null&&i!==void 0?i:{version:$r.VERSION};if(!n&&s[e]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(o.stack||o.message),!1}if(s.version!==$r.VERSION){let o=new Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${$r.VERSION}`);return r.error(o.stack||o.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${$r.VERSION}.`),!0}Dt.registerGlobal=jM;function HM(e){var t,r;let n=(t=ui[ai])===null||t===void 0?void 0:t.version;if(!(!n||!(0,qM.isCompatible)(n)))return(r=ui[ai])===null||r===void 0?void 0:r[e]}Dt.getGlobal=HM;function kM(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${$r.VERSION}.`);let r=ui[ai];r&&delete r[e]}Dt.unregisterGlobal=kM});var FS=c($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.DiagComponentLogger=void 0;var VM=sr(),Ad=class{constructor(t){this._namespace=t.namespace||"DiagComponentLogger"}debug(...t){return ci("debug",this._namespace,t)}error(...t){return ci("error",this._namespace,t)}info(...t){return ci("info",this._namespace,t)}warn(...t){return ci("warn",this._namespace,t)}verbose(...t){return ci("verbose",this._namespace,t)}};$s.DiagComponentLogger=Ad;function ci(e,t,r){let n=(0,VM.getGlobal)("diag");if(n)return r.unshift(t),n[e](...r)}});var Ys=c(li=>{"use strict";Object.defineProperty(li,"__esModule",{value:!0});li.DiagLogLevel=void 0;var $M;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})($M=li.DiagLogLevel||(li.DiagLogLevel={}))});var qS=c(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.createLogLevelDiagLogger=void 0;var yt=Ys();function YM(e,t){e<yt.DiagLogLevel.NONE?e=yt.DiagLogLevel.NONE:e>yt.DiagLogLevel.ALL&&(e=yt.DiagLogLevel.ALL),t=t||{};function r(n,i){let s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",yt.DiagLogLevel.ERROR),warn:r("warn",yt.DiagLogLevel.WARN),info:r("info",yt.DiagLogLevel.INFO),debug:r("debug",yt.DiagLogLevel.DEBUG),verbose:r("verbose",yt.DiagLogLevel.VERBOSE)}}Xs.createLogLevelDiagLogger=YM});var or=c(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.DiagAPI=void 0;var XM=FS(),WM=qS(),GS=Ys(),Ws=sr(),KM="diag",Td=class e{constructor(){function t(i){return function(...s){let o=(0,Ws.getGlobal)("diag");if(o)return o[i](...s)}}let r=this,n=(i,s={logLevel:GS.DiagLogLevel.INFO})=>{var o,a,u;if(i===r){let _=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=_.stack)!==null&&o!==void 0?o:_.message),!1}typeof s=="number"&&(s={logLevel:s});let l=(0,Ws.getGlobal)("diag"),d=(0,WM.createLogLevelDiagLogger)((a=s.logLevel)!==null&&a!==void 0?a:GS.DiagLogLevel.INFO,i);if(l&&!s.suppressOverrideMessage){let _=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${_}`),d.warn(`Current logger will overwrite one already registered from ${_}`)}return(0,Ws.registerGlobal)("diag",d,r,!0)};r.setLogger=n,r.disable=()=>{(0,Ws.unregisterGlobal)(KM,r)},r.createComponentLogger=i=>new XM.DiagComponentLogger(i),r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}static instance(){return this._instance||(this._instance=new e),this._instance}};Ks.DiagAPI=Td});var jS=c(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.BaggageImpl=void 0;var yd=class e{constructor(t){this._entries=t?new Map(t):new Map}getEntry(t){let r=this._entries.get(t);if(r)return Object.assign({},r)}getAllEntries(){return Array.from(this._entries.entries()).map(([t,r])=>[t,r])}setEntry(t,r){let n=new e(this._entries);return n._entries.set(t,r),n}removeEntry(t){let r=new e(this._entries);return r._entries.delete(t),r}removeEntries(...t){let r=new e(this._entries);for(let n of t)r._entries.delete(n);return r}clear(){return new e}};zs.BaggageImpl=yd});var HS=c(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.baggageEntryMetadataSymbol=void 0;Qs.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var Od=c(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.baggageEntryMetadataFromString=Yr.createBaggage=void 0;var zM=or(),QM=jS(),ZM=HS(),JM=zM.DiagAPI.instance();function eL(e={}){return new QM.BaggageImpl(new Map(Object.entries(e)))}Yr.createBaggage=eL;function tL(e){return typeof e!="string"&&(JM.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:ZM.baggageEntryMetadataSymbol,toString(){return e}}}Yr.baggageEntryMetadataFromString=tL});var di=c(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});Xr.ROOT_CONTEXT=Xr.createContextKey=void 0;function rL(e){return Symbol.for(e)}Xr.createContextKey=rL;var bd=class e{constructor(t){let r=this;r._currentContext=t?new Map(t):new Map,r.getValue=n=>r._currentContext.get(n),r.setValue=(n,i)=>{let s=new e(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=n=>{let i=new e(r._currentContext);return i._currentContext.delete(n),i}}};Xr.ROOT_CONTEXT=new bd});var kS=c(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.DiagConsoleLogger=void 0;var Rd=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Pd=class{constructor(){function t(r){return function(...n){if(console){let i=console[r];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,n)}}}for(let r=0;r<Rd.length;r++)this[Rd[r].n]=t(Rd[r].c)}};Zs.DiagConsoleLogger=Pd});var vd=c(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});w.createNoopMeter=w.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=w.NOOP_OBSERVABLE_GAUGE_METRIC=w.NOOP_OBSERVABLE_COUNTER_METRIC=w.NOOP_UP_DOWN_COUNTER_METRIC=w.NOOP_HISTOGRAM_METRIC=w.NOOP_COUNTER_METRIC=w.NOOP_METER=w.NoopObservableUpDownCounterMetric=w.NoopObservableGaugeMetric=w.NoopObservableCounterMetric=w.NoopObservableMetric=w.NoopHistogramMetric=w.NoopUpDownCounterMetric=w.NoopCounterMetric=w.NoopMetric=w.NoopMeter=void 0;var Js=class{constructor(){}createHistogram(t,r){return w.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return w.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return w.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return w.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return w.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return w.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};w.NoopMeter=Js;var Wr=class{};w.NoopMetric=Wr;var eo=class extends Wr{add(t,r){}};w.NoopCounterMetric=eo;var to=class extends Wr{add(t,r){}};w.NoopUpDownCounterMetric=to;var ro=class extends Wr{record(t,r){}};w.NoopHistogramMetric=ro;var Kr=class{addCallback(t){}removeCallback(t){}};w.NoopObservableMetric=Kr;var no=class extends Kr{};w.NoopObservableCounterMetric=no;var io=class extends Kr{};w.NoopObservableGaugeMetric=io;var so=class extends Kr{};w.NoopObservableUpDownCounterMetric=so;w.NOOP_METER=new Js;w.NOOP_COUNTER_METRIC=new eo;w.NOOP_HISTOGRAM_METRIC=new ro;w.NOOP_UP_DOWN_COUNTER_METRIC=new to;w.NOOP_OBSERVABLE_COUNTER_METRIC=new no;w.NOOP_OBSERVABLE_GAUGE_METRIC=new io;w.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new so;function nL(){return w.NOOP_METER}w.createNoopMeter=nL});var VS=c(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.ValueType=void 0;var iL;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(iL=_i.ValueType||(_i.ValueType={}))});var Id=c(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.defaultTextMapSetter=zr.defaultTextMapGetter=void 0;zr.defaultTextMapGetter={get(e,t){if(e!=null)return e[t]},keys(e){return e==null?[]:Object.keys(e)}};zr.defaultTextMapSetter={set(e,t,r){e!=null&&(e[t]=r)}}});var $S=c(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.NoopContextManager=void 0;var sL=di(),Cd=class{active(){return sL.ROOT_CONTEXT}with(t,r,n,...i){return r.call(n,...i)}bind(t,r){return r}enable(){return this}disable(){return this}};oo.NoopContextManager=Cd});var pi=c(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.ContextAPI=void 0;var oL=$S(),Nd=sr(),YS=or(),Md="context",aL=new oL.NoopContextManager,Ld=class e{constructor(){}static getInstance(){return this._instance||(this._instance=new e),this._instance}setGlobalContextManager(t){return(0,Nd.registerGlobal)(Md,t,YS.DiagAPI.instance())}active(){return this._getContextManager().active()}with(t,r,n,...i){return this._getContextManager().with(t,r,n,...i)}bind(t,r){return this._getContextManager().bind(t,r)}_getContextManager(){return(0,Nd.getGlobal)(Md)||aL}disable(){this._getContextManager().disable(),(0,Nd.unregisterGlobal)(Md,YS.DiagAPI.instance())}};ao.ContextAPI=Ld});var xd=c(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.TraceFlags=void 0;var uL;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(uL=fi.TraceFlags||(fi.TraceFlags={}))});var uo=c(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.INVALID_SPAN_CONTEXT=lt.INVALID_TRACEID=lt.INVALID_SPANID=void 0;var cL=xd();lt.INVALID_SPANID="0000000000000000";lt.INVALID_TRACEID="00000000000000000000000000000000";lt.INVALID_SPAN_CONTEXT={traceId:lt.INVALID_TRACEID,spanId:lt.INVALID_SPANID,traceFlags:cL.TraceFlags.NONE}});var lo=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.NonRecordingSpan=void 0;var lL=uo(),wd=class{constructor(t=lL.INVALID_SPAN_CONTEXT){this._spanContext=t}spanContext(){return this._spanContext}setAttribute(t,r){return this}setAttributes(t){return this}addEvent(t,r){return this}setStatus(t){return this}updateName(t){return this}end(t){}isRecording(){return!1}recordException(t,r){}};co.NonRecordingSpan=wd});var Ud=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.getSpanContext=De.setSpanContext=De.deleteSpan=De.setSpan=De.getActiveSpan=De.getSpan=void 0;var dL=di(),_L=lo(),pL=pi(),Dd=(0,dL.createContextKey)("OpenTelemetry Context Key SPAN");function Bd(e){return e.getValue(Dd)||void 0}De.getSpan=Bd;function fL(){return Bd(pL.ContextAPI.getInstance().active())}De.getActiveSpan=fL;function XS(e,t){return e.setValue(Dd,t)}De.setSpan=XS;function hL(e){return e.deleteValue(Dd)}De.deleteSpan=hL;function gL(e,t){return XS(e,new _L.NonRecordingSpan(t))}De.setSpanContext=gL;function mL(e){var t;return(t=Bd(e))===null||t===void 0?void 0:t.spanContext()}De.getSpanContext=mL});var _o=c(dt=>{"use strict";Object.defineProperty(dt,"__esModule",{value:!0});dt.wrapSpanContext=dt.isSpanContextValid=dt.isValidSpanId=dt.isValidTraceId=void 0;var WS=uo(),EL=lo(),SL=/^([0-9a-f]{32})$/i,AL=/^[0-9a-f]{16}$/i;function KS(e){return SL.test(e)&&e!==WS.INVALID_TRACEID}dt.isValidTraceId=KS;function zS(e){return AL.test(e)&&e!==WS.INVALID_SPANID}dt.isValidSpanId=zS;function TL(e){return KS(e.traceId)&&zS(e.spanId)}dt.isSpanContextValid=TL;function yL(e){return new EL.NonRecordingSpan(e)}dt.wrapSpanContext=yL});var jd=c(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.NoopTracer=void 0;var OL=pi(),QS=Ud(),Fd=lo(),bL=_o(),qd=OL.ContextAPI.getInstance(),Gd=class{startSpan(t,r,n=qd.active()){if(!!r?.root)return new Fd.NonRecordingSpan;let s=n&&(0,QS.getSpanContext)(n);return RL(s)&&(0,bL.isSpanContextValid)(s)?new Fd.NonRecordingSpan(s):new Fd.NonRecordingSpan}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??qd.active(),l=this.startSpan(t,s,u),d=(0,QS.setSpan)(u,l);return qd.with(d,a,void 0,l)}};po.NoopTracer=Gd;function RL(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var kd=c(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});fo.ProxyTracer=void 0;var PL=jd(),vL=new PL.NoopTracer,Hd=class{constructor(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}startSpan(t,r,n){return this._getTracer().startSpan(t,r,n)}startActiveSpan(t,r,n,i){let s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)}_getTracer(){if(this._delegate)return this._delegate;let t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):vL}};fo.ProxyTracer=Hd});var ZS=c(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.NoopTracerProvider=void 0;var IL=jd(),Vd=class{getTracer(t,r,n){return new IL.NoopTracer}};ho.NoopTracerProvider=Vd});var Yd=c(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});go.ProxyTracerProvider=void 0;var CL=kd(),NL=ZS(),ML=new NL.NoopTracerProvider,$d=class{getTracer(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new CL.ProxyTracer(this,t,r,n)}getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:ML}setDelegate(t){this._delegate=t}getDelegateTracer(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)}};go.ProxyTracerProvider=$d});var JS=c(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.SamplingDecision=void 0;var LL;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(LL=hi.SamplingDecision||(hi.SamplingDecision={}))});var eA=c(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.SpanKind=void 0;var xL;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(xL=gi.SpanKind||(gi.SpanKind={}))});var tA=c(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.SpanStatusCode=void 0;var wL;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(wL=mi.SpanStatusCode||(mi.SpanStatusCode={}))});var rA=c(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.validateValue=Qr.validateKey=void 0;var Xd="[_0-9a-z-*/]",DL=`[a-z]${Xd}{0,255}`,BL=`[a-z0-9]${Xd}{0,240}@[a-z]${Xd}{0,13}`,UL=new RegExp(`^(?:${DL}|${BL})$`),FL=/^[ -~]{0,255}[!-~]$/,qL=/,|=/;function GL(e){return UL.test(e)}Qr.validateKey=GL;function jL(e){return FL.test(e)&&!qL.test(e)}Qr.validateValue=jL});var aA=c(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.TraceStateImpl=void 0;var nA=rA(),iA=32,HL=512,sA=",",oA="=",Wd=class e{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+oA+this.get(r)),t),[]).join(sA)}_parse(t){t.length>HL||(this._internalState=t.split(sA).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(oA);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,nA.validateKey)(o)&&(0,nA.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>iA&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,iA))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new e;return t._internalState=new Map(this._internalState),t}};mo.TraceStateImpl=Wd});var uA=c(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.createTraceState=void 0;var kL=aA();function VL(e){return new kL.TraceStateImpl(e)}Eo.createTraceState=VL});var cA=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.context=void 0;var $L=pi();So.context=$L.ContextAPI.getInstance()});var lA=c(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.diag=void 0;var YL=or();Ao.diag=YL.DiagAPI.instance()});var dA=c(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});Zr.NOOP_METER_PROVIDER=Zr.NoopMeterProvider=void 0;var XL=vd(),To=class{getMeter(t,r,n){return XL.NOOP_METER}};Zr.NoopMeterProvider=To;Zr.NOOP_METER_PROVIDER=new To});var pA=c(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});yo.MetricsAPI=void 0;var WL=dA(),Kd=sr(),_A=or(),zd="metrics",Qd=class e{constructor(){}static getInstance(){return this._instance||(this._instance=new e),this._instance}setGlobalMeterProvider(t){return(0,Kd.registerGlobal)(zd,t,_A.DiagAPI.instance())}getMeterProvider(){return(0,Kd.getGlobal)(zd)||WL.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){(0,Kd.unregisterGlobal)(zd,_A.DiagAPI.instance())}};yo.MetricsAPI=Qd});var fA=c(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.metrics=void 0;var KL=pA();Oo.metrics=KL.MetricsAPI.getInstance()});var hA=c(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.NoopTextMapPropagator=void 0;var Zd=class{inject(t,r){}extract(t,r){return t}fields(){return[]}};bo.NoopTextMapPropagator=Zd});var mA=c(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.deleteBaggage=_t.setBaggage=_t.getActiveBaggage=_t.getBaggage=void 0;var zL=pi(),QL=di(),Jd=(0,QL.createContextKey)("OpenTelemetry Baggage Key");function gA(e){return e.getValue(Jd)||void 0}_t.getBaggage=gA;function ZL(){return gA(zL.ContextAPI.getInstance().active())}_t.getActiveBaggage=ZL;function JL(e,t){return e.setValue(Jd,t)}_t.setBaggage=JL;function ex(e){return e.deleteValue(Jd)}_t.deleteBaggage=ex});var AA=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.PropagationAPI=void 0;var e_=sr(),tx=hA(),EA=Id(),Ro=mA(),rx=Od(),SA=or(),t_="propagation",nx=new tx.NoopTextMapPropagator,r_=class e{constructor(){this.createBaggage=rx.createBaggage,this.getBaggage=Ro.getBaggage,this.getActiveBaggage=Ro.getActiveBaggage,this.setBaggage=Ro.setBaggage,this.deleteBaggage=Ro.deleteBaggage}static getInstance(){return this._instance||(this._instance=new e),this._instance}setGlobalPropagator(t){return(0,e_.registerGlobal)(t_,t,SA.DiagAPI.instance())}inject(t,r,n=EA.defaultTextMapSetter){return this._getGlobalPropagator().inject(t,r,n)}extract(t,r,n=EA.defaultTextMapGetter){return this._getGlobalPropagator().extract(t,r,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,e_.unregisterGlobal)(t_,SA.DiagAPI.instance())}_getGlobalPropagator(){return(0,e_.getGlobal)(t_)||nx}};Po.PropagationAPI=r_});var TA=c(vo=>{"use strict";Object.defineProperty(vo,"__esModule",{value:!0});vo.propagation=void 0;var ix=AA();vo.propagation=ix.PropagationAPI.getInstance()});var RA=c(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.TraceAPI=void 0;var n_=sr(),yA=Yd(),OA=_o(),Jr=Ud(),bA=or(),i_="trace",s_=class e{constructor(){this._proxyTracerProvider=new yA.ProxyTracerProvider,this.wrapSpanContext=OA.wrapSpanContext,this.isSpanContextValid=OA.isSpanContextValid,this.deleteSpan=Jr.deleteSpan,this.getSpan=Jr.getSpan,this.getActiveSpan=Jr.getActiveSpan,this.getSpanContext=Jr.getSpanContext,this.setSpan=Jr.setSpan,this.setSpanContext=Jr.setSpanContext}static getInstance(){return this._instance||(this._instance=new e),this._instance}setGlobalTracerProvider(t){let r=(0,n_.registerGlobal)(i_,this._proxyTracerProvider,bA.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r}getTracerProvider(){return(0,n_.getGlobal)(i_)||this._proxyTracerProvider}getTracer(t,r){return this.getTracerProvider().getTracer(t,r)}disable(){(0,n_.unregisterGlobal)(i_,bA.DiagAPI.instance()),this._proxyTracerProvider=new yA.ProxyTracerProvider}};Io.TraceAPI=s_});var PA=c(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.trace=void 0;var sx=RA();Co.trace=sx.TraceAPI.getInstance()});var I=c(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.trace=P.propagation=P.metrics=P.diag=P.context=P.INVALID_SPAN_CONTEXT=P.INVALID_TRACEID=P.INVALID_SPANID=P.isValidSpanId=P.isValidTraceId=P.isSpanContextValid=P.createTraceState=P.TraceFlags=P.SpanStatusCode=P.SpanKind=P.SamplingDecision=P.ProxyTracerProvider=P.ProxyTracer=P.defaultTextMapSetter=P.defaultTextMapGetter=P.ValueType=P.createNoopMeter=P.DiagLogLevel=P.DiagConsoleLogger=P.ROOT_CONTEXT=P.createContextKey=P.baggageEntryMetadataFromString=void 0;var ox=Od();Object.defineProperty(P,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return ox.baggageEntryMetadataFromString}});var vA=di();Object.defineProperty(P,"createContextKey",{enumerable:!0,get:function(){return vA.createContextKey}});Object.defineProperty(P,"ROOT_CONTEXT",{enumerable:!0,get:function(){return vA.ROOT_CONTEXT}});var ax=kS();Object.defineProperty(P,"DiagConsoleLogger",{enumerable:!0,get:function(){return ax.DiagConsoleLogger}});var ux=Ys();Object.defineProperty(P,"DiagLogLevel",{enumerable:!0,get:function(){return ux.DiagLogLevel}});var cx=vd();Object.defineProperty(P,"createNoopMeter",{enumerable:!0,get:function(){return cx.createNoopMeter}});var lx=VS();Object.defineProperty(P,"ValueType",{enumerable:!0,get:function(){return lx.ValueType}});var IA=Id();Object.defineProperty(P,"defaultTextMapGetter",{enumerable:!0,get:function(){return IA.defaultTextMapGetter}});Object.defineProperty(P,"defaultTextMapSetter",{enumerable:!0,get:function(){return IA.defaultTextMapSetter}});var dx=kd();Object.defineProperty(P,"ProxyTracer",{enumerable:!0,get:function(){return dx.ProxyTracer}});var _x=Yd();Object.defineProperty(P,"ProxyTracerProvider",{enumerable:!0,get:function(){return _x.ProxyTracerProvider}});var px=JS();Object.defineProperty(P,"SamplingDecision",{enumerable:!0,get:function(){return px.SamplingDecision}});var fx=eA();Object.defineProperty(P,"SpanKind",{enumerable:!0,get:function(){return fx.SpanKind}});var hx=tA();Object.defineProperty(P,"SpanStatusCode",{enumerable:!0,get:function(){return hx.SpanStatusCode}});var gx=xd();Object.defineProperty(P,"TraceFlags",{enumerable:!0,get:function(){return gx.TraceFlags}});var mx=uA();Object.defineProperty(P,"createTraceState",{enumerable:!0,get:function(){return mx.createTraceState}});var o_=_o();Object.defineProperty(P,"isSpanContextValid",{enumerable:!0,get:function(){return o_.isSpanContextValid}});Object.defineProperty(P,"isValidTraceId",{enumerable:!0,get:function(){return o_.isValidTraceId}});Object.defineProperty(P,"isValidSpanId",{enumerable:!0,get:function(){return o_.isValidSpanId}});var a_=uo();Object.defineProperty(P,"INVALID_SPANID",{enumerable:!0,get:function(){return a_.INVALID_SPANID}});Object.defineProperty(P,"INVALID_TRACEID",{enumerable:!0,get:function(){return a_.INVALID_TRACEID}});Object.defineProperty(P,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return a_.INVALID_SPAN_CONTEXT}});var CA=cA();Object.defineProperty(P,"context",{enumerable:!0,get:function(){return CA.context}});var NA=lA();Object.defineProperty(P,"diag",{enumerable:!0,get:function(){return NA.diag}});var MA=fA();Object.defineProperty(P,"metrics",{enumerable:!0,get:function(){return MA.metrics}});var LA=TA();Object.defineProperty(P,"propagation",{enumerable:!0,get:function(){return LA.propagation}});var xA=PA();Object.defineProperty(P,"trace",{enumerable:!0,get:function(){return xA.trace}});P.default={context:CA.context,diag:NA.diag,metrics:MA.metrics,propagation:LA.propagation,trace:xA.trace}});var Ei=c(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.isTracingSuppressed=Bt.unsuppressTracing=Bt.suppressTracing=void 0;var Ex=I(),u_=(0,Ex.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Sx(e){return e.setValue(u_,!0)}Bt.suppressTracing=Sx;function Ax(e){return e.deleteValue(u_)}Bt.unsuppressTracing=Ax;function Tx(e){return e.getValue(u_)===!0}Bt.isTracingSuppressed=Tx});var wA=c(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.validateValue=en.validateKey=void 0;var c_="[_0-9a-z-*/]",yx=`[a-z]${c_}{0,255}`,Ox=`[a-z0-9]${c_}{0,240}@[a-z]${c_}{0,13}`,bx=new RegExp(`^(?:${yx}|${Ox})$`),Rx=/^[ -~]{0,255}[!-~]$/,Px=/,|=/;function vx(e){return bx.test(e)}en.validateKey=vx;function Ix(e){return Rx.test(e)&&!Px.test(e)}en.validateValue=Ix});var d_=c(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.TraceState=void 0;var DA=wA(),BA=32,Cx=512,UA=",",FA="=",l_=class e{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+FA+this.get(r)),t),[]).join(UA)}_parse(t){t.length>Cx||(this._internalState=t.split(UA).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(FA);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,DA.validateKey)(o)&&(0,DA.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>BA&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,BA))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new e;return t._internalState=new Map(this._internalState),t}};No.TraceState=l_});var p_=c(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.W3CTraceContextPropagator=Oe.parseTraceParent=Oe.TRACE_STATE_HEADER=Oe.TRACE_PARENT_HEADER=void 0;var Mo=I(),Nx=Ei(),Mx=d_();Oe.TRACE_PARENT_HEADER="traceparent";Oe.TRACE_STATE_HEADER="tracestate";var Lx="00",xx="(?!ff)[\\da-f]{2}",wx="(?![0]{32})[\\da-f]{32}",Dx="(?![0]{16})[\\da-f]{16}",Bx="[\\da-f]{2}",Ux=new RegExp(`^\\s?(${xx})-(${wx})-(${Dx})-(${Bx})(-.*)?\\s?$`);function qA(e){let t=Ux.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Oe.parseTraceParent=qA;var __=class{inject(t,r,n){let i=Mo.trace.getSpanContext(t);if(!i||(0,Nx.isTracingSuppressed)(t)||!(0,Mo.isSpanContextValid)(i))return;let s=`${Lx}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Mo.TraceFlags.NONE).toString(16)}`;n.set(r,Oe.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Oe.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Oe.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=qA(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Oe.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new Mx.TraceState(typeof u=="string"?u:void 0)}return Mo.trace.setSpanContext(t,o)}fields(){return[Oe.TRACE_PARENT_HEADER,Oe.TRACE_STATE_HEADER]}};Oe.W3CTraceContextPropagator=__});var f_=c(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.BAGGAGE_MAX_TOTAL_LENGTH=be.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=be.BAGGAGE_MAX_NAME_VALUE_PAIRS=be.BAGGAGE_HEADER=be.BAGGAGE_ITEMS_SEPARATOR=be.BAGGAGE_PROPERTIES_SEPARATOR=be.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;be.BAGGAGE_KEY_PAIR_SEPARATOR="=";be.BAGGAGE_PROPERTIES_SEPARATOR=";";be.BAGGAGE_ITEMS_SEPARATOR=",";be.BAGGAGE_HEADER="baggage";be.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;be.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;be.BAGGAGE_MAX_TOTAL_LENGTH=8192});var h_=c(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.parseKeyPairsIntoRecord=pt.parsePairKeyValue=pt.getKeyPairs=pt.serializeKeyPairs=void 0;var Fx=I(),ar=f_();function qx(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?ar.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>ar.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}pt.serializeKeyPairs=qx;function Gx(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=ar.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}pt.getKeyPairs=Gx;function GA(e){let t=e.split(ar.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.indexOf(ar.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;let i=decodeURIComponent(r.substring(0,n).trim()),s=decodeURIComponent(r.substring(n+1).trim()),o;return t.length>0&&(o=(0,Fx.baggageEntryMetadataFromString)(t.join(ar.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}pt.parsePairKeyValue=GA;function jx(e){return typeof e!="string"||e.length===0?{}:e.split(ar.BAGGAGE_ITEMS_SEPARATOR).map(t=>GA(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}pt.parseKeyPairsIntoRecord=jx});var jA=c(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.W3CBaggagePropagator=void 0;var g_=I(),Hx=Ei(),ur=f_(),m_=h_(),E_=class{inject(t,r,n){let i=g_.propagation.getBaggage(t);if(!i||(0,Hx.isTracingSuppressed)(t))return;let s=(0,m_.getKeyPairs)(i).filter(a=>a.length<=ur.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,ur.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,m_.serializeKeyPairs)(s);o.length>0&&n.set(r,ur.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,ur.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(ur.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(ur.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,m_.parsePairKeyValue)(u);if(l){let d={value:l.value};l.metadata&&(d.metadata=l.metadata),o[l.key]=d}}),Object.entries(o).length===0)?t:g_.propagation.setBaggage(t,g_.propagation.createBaggage(o))}fields(){return[ur.BAGGAGE_HEADER]}};Lo.W3CBaggagePropagator=E_});var HA=c(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.AnchoredClock=void 0;var S_=class{constructor(t,r){this._monotonicClock=r,this._epochMillis=t.now(),this._performanceMillis=r.now()}now(){let t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t}};xo.AnchoredClock=S_});var XA=c(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.isAttributeValue=Ut.isAttributeKey=Ut.sanitizeAttributes=void 0;var kA=I();function kx(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!VA(r)){kA.diag.warn(`Invalid attribute key: ${r}`);continue}if(!$A(n)){kA.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Ut.sanitizeAttributes=kx;function VA(e){return typeof e=="string"&&e.length>0}Ut.isAttributeKey=VA;function $A(e){return e==null?!0:Array.isArray(e)?Vx(e):YA(e)}Ut.isAttributeValue=$A;function Vx(e){let t;for(let r of e)if(r!=null){if(!t){if(YA(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function YA(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var A_=c(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.loggingErrorHandler=void 0;var $x=I();function Yx(){return e=>{$x.diag.error(Xx(e))}}wo.loggingErrorHandler=Yx;function Xx(e){return typeof e=="string"?e:JSON.stringify(Wx(e))}function Wx(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var T_=c(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.globalErrorHandler=tn.setGlobalErrorHandler=void 0;var Kx=A_(),WA=(0,Kx.loggingErrorHandler)();function zx(e){WA=e}tn.setGlobalErrorHandler=zx;function Qx(e){try{WA(e)}catch{}}tn.globalErrorHandler=Qx});var y_=c(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.TracesSamplerValues=void 0;var Zx;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(Zx=Si.TracesSamplerValues||(Si.TracesSamplerValues={}))});var KA=c(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do._globalThis=void 0;Do._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var b_=c(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.getEnvWithoutDefaults=Q.parseEnvironment=Q.DEFAULT_ENVIRONMENT=Q.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=Q.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=Q.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Q.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Ft=I(),Jx=y_(),ew=KA(),tw=",",rw=["OTEL_SDK_DISABLED"];function nw(e){return rw.indexOf(e)>-1}var iw=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function sw(e){return iw.indexOf(e)>-1}var ow=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function aw(e){return ow.indexOf(e)>-1}Q.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;Q.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Q.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;Q.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;Q.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Ft.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Q.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Q.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Q.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Q.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:Q.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:Q.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:Q.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:Q.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Jx.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function uw(e,t,r){if(typeof r[e]>"u")return;let n=String(r[e]);t[e]=n.toLowerCase()==="true"}function cw(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function lw(e,t,r,n=tw){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var dw={ALL:Ft.DiagLogLevel.ALL,VERBOSE:Ft.DiagLogLevel.VERBOSE,DEBUG:Ft.DiagLogLevel.DEBUG,INFO:Ft.DiagLogLevel.INFO,WARN:Ft.DiagLogLevel.WARN,ERROR:Ft.DiagLogLevel.ERROR,NONE:Ft.DiagLogLevel.NONE};function _w(e,t,r){let n=r[e];if(typeof n=="string"){let i=dw[n.toUpperCase()];i!=null&&(t[e]=i)}}function O_(e){let t={};for(let r in Q.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":_w(n,t,e);break;default:if(nw(n))uw(n,t,e);else if(sw(n))cw(n,t,e);else if(aw(n))lw(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}Q.parseEnvironment=O_;function pw(){return typeof process<"u"&&process&&process.env?O_(process.env):O_(ew._globalThis)}Q.getEnvWithoutDefaults=pw});var QA=c(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.getEnv=void 0;var zA=b_();function fw(){let e=(0,zA.parseEnvironment)(process.env);return Object.assign({},zA.DEFAULT_ENVIRONMENT,e)}Bo.getEnv=fw});var ZA=c(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo._globalThis=void 0;Uo._globalThis=typeof globalThis=="object"?globalThis:global});var R_=c(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.hexToBinary=void 0;function JA(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function hw(e){let t=new Uint8Array(e.length/2),r=0;for(let n=0;n<e.length;n+=2){let i=JA(e.charCodeAt(n)),s=JA(e.charCodeAt(n+1));t[r++]=i<<4|s}return t}Fo.hexToBinary=hw});var eT=c(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.hexToBase64=void 0;var gw=R_();function mw(e){return Buffer.from((0,gw.hexToBinary)(e)).toString("base64")}qo.hexToBase64=mw});var nT=c(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.RandomIdGenerator=void 0;var Ew=8,rT=16,P_=class{constructor(){this.generateTraceId=tT(rT),this.generateSpanId=tT(Ew)}};jo.RandomIdGenerator=P_;var Go=Buffer.allocUnsafe(rT);function tT(e){return function(){for(let r=0;r<e/4;r++)Go.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(Go[r]>0);r++)r===e-1&&(Go[e-1]=1);return Go.toString("hex",0,e)}}});var iT=c(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.otperformance=void 0;var Sw=R("perf_hooks");Ho.otperformance=Sw.performance});var v_=c(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.VERSION=void 0;ko.VERSION="1.21.0"});var sT=c(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.MessageTypeValues=V.RpcGrpcStatusCodeValues=V.MessagingOperationValues=V.MessagingDestinationKindValues=V.HttpFlavorValues=V.NetHostConnectionSubtypeValues=V.NetHostConnectionTypeValues=V.NetTransportValues=V.FaasInvokedProviderValues=V.FaasDocumentOperationValues=V.FaasTriggerValues=V.DbCassandraConsistencyLevelValues=V.DbSystemValues=V.SemanticAttributes=void 0;V.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};V.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};V.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};V.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};V.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};V.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};V.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};V.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};V.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};V.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};V.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};V.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};V.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};V.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var oT=c(cr=>{"use strict";var Aw=cr&&cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tw=cr&&cr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Aw(t,e,r)};Object.defineProperty(cr,"__esModule",{value:!0});Tw(sT(),cr)});var aT=c(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.TelemetrySdkLanguageValues=Re.OsTypeValues=Re.HostArchValues=Re.AwsEcsLaunchtypeValues=Re.CloudPlatformValues=Re.CloudProviderValues=Re.SemanticResourceAttributes=void 0;Re.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Re.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Re.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Re.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Re.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Re.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Re.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var uT=c(lr=>{"use strict";var yw=lr&&lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ow=lr&&lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yw(t,e,r)};Object.defineProperty(lr,"__esModule",{value:!0});Ow(aT(),lr)});var ft=c(qt=>{"use strict";var bw=qt&&qt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cT=qt&&qt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bw(t,e,r)};Object.defineProperty(qt,"__esModule",{value:!0});cT(oT(),qt);cT(uT(),qt)});var lT=c(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.SDK_INFO=void 0;var Rw=v_(),Ai=ft();Vo.SDK_INFO={[Ai.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Ai.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Ai.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Ai.TelemetrySdkLanguageValues.NODEJS,[Ai.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Rw.VERSION}});var dT=c($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.unrefTimer=void 0;function Pw(e){e.unref()}$o.unrefTimer=Pw});var _T=c(je=>{"use strict";var vw=je&&je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dr=je&&je.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vw(t,e,r)};Object.defineProperty(je,"__esModule",{value:!0});dr(QA(),je);dr(ZA(),je);dr(eT(),je);dr(nT(),je);dr(iT(),je);dr(lT(),je);dr(dT(),je)});var I_=c(_r=>{"use strict";var Iw=_r&&_r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cw=_r&&_r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Iw(t,e,r)};Object.defineProperty(_r,"__esModule",{value:!0});Cw(_T(),_r)});var gT=c(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});W.addHrTimes=W.isTimeInput=W.isTimeInputHrTime=W.hrTimeToMicroseconds=W.hrTimeToMilliseconds=W.hrTimeToNanoseconds=W.hrTimeToTimeStamp=W.hrTimeDuration=W.timeInputToHrTime=W.hrTime=W.getTimeOrigin=W.millisToHrTime=void 0;var C_=I_(),pT=9,Nw=6,Mw=Math.pow(10,Nw),Yo=Math.pow(10,pT);function Ti(e){let t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*Mw);return[r,n]}W.millisToHrTime=Ti;function N_(){let e=C_.otperformance.timeOrigin;if(typeof e!="number"){let t=C_.otperformance;e=t.timing&&t.timing.fetchStart}return e}W.getTimeOrigin=N_;function fT(e){let t=Ti(N_()),r=Ti(typeof e=="number"?e:C_.otperformance.now());return hT(t,r)}W.hrTime=fT;function Lw(e){if(M_(e))return e;if(typeof e=="number")return e<N_()?fT(e):Ti(e);if(e instanceof Date)return Ti(e.getTime());throw TypeError("Invalid input type")}W.timeInputToHrTime=Lw;function xw(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Yo),[r,n]}W.hrTimeDuration=xw;function ww(e){let t=pT,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}W.hrTimeToTimeStamp=ww;function Dw(e){return e[0]*Yo+e[1]}W.hrTimeToNanoseconds=Dw;function Bw(e){return e[0]*1e3+e[1]/1e6}W.hrTimeToMilliseconds=Bw;function Uw(e){return e[0]*1e6+e[1]/1e3}W.hrTimeToMicroseconds=Uw;function M_(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}W.isTimeInputHrTime=M_;function Fw(e){return M_(e)||typeof e=="number"||e instanceof Date}W.isTimeInput=Fw;function hT(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=Yo&&(r[1]-=Yo,r[0]+=1),r}W.addHrTimes=hT});var ET=c(mT=>{"use strict";Object.defineProperty(mT,"__esModule",{value:!0})});var ST=c(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.ExportResultCode=void 0;var qw;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(qw=yi.ExportResultCode||(yi.ExportResultCode={}))});var TT=c(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.CompositePropagator=void 0;var AT=I(),L_=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){AT.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){AT.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};Xo.CompositePropagator=L_});var OT=c(yT=>{"use strict";Object.defineProperty(yT,"__esModule",{value:!0})});var bT=c(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.getRPCMetadata=Je.deleteRPCMetadata=Je.setRPCMetadata=Je.RPCType=void 0;var Gw=I(),x_=(0,Gw.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),jw;(function(e){e.HTTP="http"})(jw=Je.RPCType||(Je.RPCType={}));function Hw(e,t){return e.setValue(x_,t)}Je.setRPCMetadata=Hw;function kw(e){return e.deleteValue(x_)}Je.deleteRPCMetadata=kw;function Vw(e){return e.getValue(x_)}Je.getRPCMetadata=Vw});var D_=c(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.AlwaysOffSampler=void 0;var $w=I(),w_=class{shouldSample(){return{decision:$w.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Wo.AlwaysOffSampler=w_});var U_=c(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.AlwaysOnSampler=void 0;var Yw=I(),B_=class{shouldSample(){return{decision:Yw.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Ko.AlwaysOnSampler=B_});var PT=c(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ParentBasedSampler=void 0;var zo=I(),Xw=T_(),RT=D_(),F_=U_(),q_=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,Xw.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new F_.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new F_.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new RT.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new F_.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new RT.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=zo.trace.getSpanContext(t);return!a||!(0,zo.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&zo.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&zo.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Qo.ParentBasedSampler=q_});var vT=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.TraceIdRatioBasedSampler=void 0;var G_=I(),j_=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,G_.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?G_.SamplingDecision.RECORD_AND_SAMPLED:G_.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Zo.TraceIdRatioBasedSampler=j_});var LT=c(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.isPlainObject=void 0;var Ww="[object Object]",Kw="[object Null]",zw="[object Undefined]",Qw=Function.prototype,IT=Qw.toString,Zw=IT.call(Object),Jw=eD(Object.getPrototypeOf,Object),CT=Object.prototype,NT=CT.hasOwnProperty,pr=Symbol?Symbol.toStringTag:void 0,MT=CT.toString;function eD(e,t){return function(r){return e(t(r))}}function tD(e){if(!rD(e)||nD(e)!==Ww)return!1;let t=Jw(e);if(t===null)return!0;let r=NT.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&IT.call(r)===Zw}Jo.isPlainObject=tD;function rD(e){return e!=null&&typeof e=="object"}function nD(e){return e==null?e===void 0?zw:Kw:pr&&pr in Object(e)?iD(e):sD(e)}function iD(e){let t=NT.call(e,pr),r=e[pr],n=!1;try{e[pr]=void 0,n=!0}catch{}let i=MT.call(e);return n&&(t?e[pr]=r:delete e[pr]),i}function sD(e){return MT.call(e)}});var UT=c(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.merge=void 0;var xT=LT(),oD=20;function aD(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=DT(t,e.shift(),0,r);return t}ra.merge=aD;function H_(e){return ta(e)?e.slice():e}function DT(e,t,r=0,n){let i;if(!(r>oD)){if(r++,ea(e)||ea(t)||BT(t))i=H_(t);else if(ta(e)){if(i=e.slice(),ta(t))for(let s=0,o=t.length;s<o;s++)i.push(H_(t[s]));else if(Oi(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=H_(t[u])}}}else if(Oi(e))if(Oi(t)){if(!uD(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(ea(l))typeof l>"u"?delete i[u]:i[u]=l;else{let d=i[u],_=l;if(wT(e,u,n)||wT(t,u,n))delete i[u];else{if(Oi(d)&&Oi(_)){let p=n.get(d)||[],S=n.get(_)||[];p.push({obj:e,key:u}),S.push({obj:t,key:u}),n.set(d,p),n.set(_,S)}i[u]=DT(i[u],l,r,n)}}}}else i=t;return i}}function wT(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function ta(e){return Array.isArray(e)}function BT(e){return typeof e=="function"}function Oi(e){return!ea(e)&&!ta(e)&&!BT(e)&&typeof e=="object"}function ea(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function uD(e,t){return!(!(0,xT.isPlainObject)(e)||!(0,xT.isPlainObject)(t))}});var FT=c(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.callWithTimeout=rn.TimeoutError=void 0;var na=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};rn.TimeoutError=na;function cD(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new na("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}rn.callWithTimeout=cD});var GT=c(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.isUrlIgnored=nn.urlMatches=void 0;function qT(e,t){return typeof t=="string"?e===t:!!e.match(t)}nn.urlMatches=qT;function lD(e,t){if(!t)return!1;for(let r of t)if(qT(e,r))return!0;return!1}nn.isUrlIgnored=lD});var jT=c(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.isWrapped=void 0;function dD(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}ia.isWrapped=dD});var HT=c(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.Deferred=void 0;var k_=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};sa.Deferred=k_});var kT=c(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.BindOnceFuture=void 0;var _D=HT(),V_=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new _D.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};oa.BindOnceFuture=V_});var $T=c(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa._export=void 0;var VT=I(),pD=Ei();function fD(e,t){return new Promise(r=>{VT.context.with((0,pD.suppressTracing)(VT.context.active()),()=>{e.export(t,n=>{r(n)})})})}aa._export=fD});var X=c(U=>{"use strict";var hD=U&&U.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Y=U&&U.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&hD(t,e,r)};Object.defineProperty(U,"__esModule",{value:!0});U.internal=U.baggageUtils=void 0;Y(jA(),U);Y(HA(),U);Y(XA(),U);Y(T_(),U);Y(A_(),U);Y(gT(),U);Y(ET(),U);Y(R_(),U);Y(ST(),U);U.baggageUtils=h_();Y(I_(),U);Y(TT(),U);Y(p_(),U);Y(OT(),U);Y(bT(),U);Y(D_(),U);Y(U_(),U);Y(PT(),U);Y(vT(),U);Y(Ei(),U);Y(d_(),U);Y(b_(),U);Y(UT(),U);Y(y_(),U);Y(FT(),U);Y(GT(),U);Y(jT(),U);Y(kT(),U);Y(v_(),U);var gD=$T();U.internal={_export:gD._export}});var YT=c(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.ExceptionEventName=void 0;ua.ExceptionEventName="exception"});var Y_=c(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.Span=void 0;var et=I(),Pe=X(),fr=ft(),mD=YT(),$_=class{constructor(t,r,n,i,s,o,a=[],u,l,d){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:et.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a;let _=Date.now();this._performanceStartTime=Pe.otperformance.now(),this._performanceOffset=_-(this._performanceStartTime+(0,Pe.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??_),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,d!=null&&this.setAttributes(d),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(et.diag.warn(`Invalid attribute key: ${t}`),this):(0,Pe.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),this):(et.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return et.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&et.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Pe.isTimeInput)(r)&&((0,Pe.isTimeInput)(n)||(n=r),r=void 0);let i=(0,Pe.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t){if(this._isSpanEnded()){et.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(t),this._duration=(0,Pe.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(et.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&et.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(t){if(typeof t=="number"&&t<Pe.otperformance.now())return(0,Pe.hrTime)(t+this._performanceOffset);if(typeof t=="number")return(0,Pe.millisToHrTime)(t);if(t instanceof Date)return(0,Pe.millisToHrTime)(t.getTime());if((0,Pe.isTimeInputHrTime)(t))return t;if(this._startTimeProvided)return(0,Pe.millisToHrTime)(Date.now());let r=Pe.otperformance.now()-this._performanceStartTime;return(0,Pe.addHrTimes)(this.startTime,(0,Pe.millisToHrTime)(r))}isRecording(){return this._ended===!1}recordException(t,r){let n={};typeof t=="string"?n[fr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[fr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[fr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[fr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[fr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[fr.SemanticAttributes.EXCEPTION_TYPE]||n[fr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(mD.ExceptionEventName,n,r):et.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&et.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(et.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};ca.Span=$_});var Ri=c(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.SamplingDecision=void 0;var ED;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(ED=bi.SamplingDecision||(bi.SamplingDecision={}))});var da=c(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.AlwaysOffSampler=void 0;var SD=Ri(),X_=class{shouldSample(){return{decision:SD.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};la.AlwaysOffSampler=X_});var pa=c(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a.AlwaysOnSampler=void 0;var AD=Ri(),W_=class{shouldSample(){return{decision:AD.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};_a.AlwaysOnSampler=W_});var Q_=c(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.ParentBasedSampler=void 0;var fa=I(),TD=X(),XT=da(),K_=pa(),z_=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,TD.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new K_.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new K_.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new XT.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new K_.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new XT.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=fa.trace.getSpanContext(t);return!a||!(0,fa.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&fa.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&fa.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};ha.ParentBasedSampler=z_});var J_=c(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.TraceIdRatioBasedSampler=void 0;var yD=I(),WT=Ri(),Z_=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,yD.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?WT.SamplingDecision.RECORD_AND_SAMPLED:WT.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};ga.TraceIdRatioBasedSampler=Z_});var rp=c(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.buildSamplerFromEnv=on.loadDefaultConfig=void 0;var ma=I(),ge=X(),KT=da(),ep=pa(),tp=Q_(),zT=J_(),OD=(0,ge.getEnv)(),bD=ge.TracesSamplerValues.AlwaysOn,sn=1;function RD(){return{sampler:ZT(OD),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,ge.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ge.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,ge.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ge.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,ge.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,ge.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,ge.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,ge.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}on.loadDefaultConfig=RD;function ZT(e=(0,ge.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case ge.TracesSamplerValues.AlwaysOn:return new ep.AlwaysOnSampler;case ge.TracesSamplerValues.AlwaysOff:return new KT.AlwaysOffSampler;case ge.TracesSamplerValues.ParentBasedAlwaysOn:return new tp.ParentBasedSampler({root:new ep.AlwaysOnSampler});case ge.TracesSamplerValues.ParentBasedAlwaysOff:return new tp.ParentBasedSampler({root:new KT.AlwaysOffSampler});case ge.TracesSamplerValues.TraceIdRatio:return new zT.TraceIdRatioBasedSampler(QT(e));case ge.TracesSamplerValues.ParentBasedTraceIdRatio:return new tp.ParentBasedSampler({root:new zT.TraceIdRatioBasedSampler(QT(e))});default:return ma.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${bD}".`),new ep.AlwaysOnSampler}}on.buildSamplerFromEnv=ZT;function QT(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return ma.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${sn}.`),sn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(ma.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${sn}.`),sn):t<0||t>1?(ma.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${sn}.`),sn):t}});var ip=c(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.reconfigureLimits=an.mergeConfig=void 0;var JT=rp(),np=X();function PD(e){let t={sampler:(0,JT.buildSamplerFromEnv)()},r=(0,JT.loadDefaultConfig)(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}an.mergeConfig=PD;function vD(e){var t,r,n,i,s,o,a,u,l,d,_,p;let S=Object.assign({},e.spanLimits),f=(0,np.getEnvWithoutDefaults)();return S.attributeCountLimit=(o=(s=(i=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:f.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:f.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:np.DEFAULT_ATTRIBUTE_COUNT_LIMIT,S.attributeValueLengthLimit=(p=(_=(d=(u=(a=e.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(l=e.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&d!==void 0?d:f.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:f.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:np.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:S})}an.reconfigureLimits=vD});var ey=c(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.BatchSpanProcessorBase=void 0;var un=I(),hr=X(),sp=class{constructor(t,r){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let n=(0,hr.getEnv)();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new hr.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(un.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&un.TraceFlags.SAMPLED&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&un.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(un.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);un.context.with((0,hr.suppressTracing)(un.context.active()),()=>{let i=this._finishedSpans.splice(0,this._maxExportBatchSize),s=()=>this._exporter.export(i,a=>{var u;clearTimeout(n),a.code===hr.ExportResultCode.SUCCESS?t():r((u=a.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),o=i.map(a=>a.resource).filter(a=>a.asyncAttributesPending);o.length===0?s():Promise.all(o.map(a=>{var u;return(u=a.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(a)})).then(s,a=>{(0,hr.globalErrorHandler)(a),r(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let t=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,(0,hr.globalErrorHandler)(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(()=>t(),this._scheduledDelayMillis),(0,hr.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Ea.BatchSpanProcessorBase=sp});var ty=c(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.BatchSpanProcessor=void 0;var ID=ey(),op=class extends ID.BatchSpanProcessorBase{onShutdown(){}};Sa.BatchSpanProcessor=op});var iy=c(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.RandomIdGenerator=void 0;var CD=8,ny=16,ap=class{constructor(){this.generateTraceId=ry(ny),this.generateSpanId=ry(CD)}};Ta.RandomIdGenerator=ap;var Aa=Buffer.allocUnsafe(ny);function ry(e){return function(){for(let r=0;r<e/4;r++)Aa.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(Aa[r]>0);r++)r===e-1&&(Aa[e-1]=1);return Aa.toString("hex",0,e)}}});var oy=c(Gt=>{"use strict";var ND=Gt&&Gt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sy=Gt&&Gt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ND(t,e,r)};Object.defineProperty(Gt,"__esModule",{value:!0});sy(ty(),Gt);sy(iy(),Gt)});var ya=c(gr=>{"use strict";var MD=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LD=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&MD(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});LD(oy(),gr)});var ay=c(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.Tracer=void 0;var me=I(),Oa=X(),xD=Y_(),wD=ip(),DD=ya(),up=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,wD.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new DD.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=me.context.active()){var i,s,o;r.root&&(n=me.trace.deleteSpan(n));let a=me.trace.getSpan(n);if((0,Oa.isTracingSuppressed)(n))return me.diag.debug("Instrumentation suppressed, returning Noop Span"),me.trace.wrapSpanContext(me.INVALID_SPAN_CONTEXT);let u=a?.spanContext(),l=this._idGenerator.generateSpanId(),d,_,p;!u||!me.trace.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,_=u.traceState,p=u.spanId);let S=(i=r.kind)!==null&&i!==void 0?i:me.SpanKind.INTERNAL,f=((s=r.links)!==null&&s!==void 0?s:[]).map(x=>({context:x.context,attributes:(0,Oa.sanitizeAttributes)(x.attributes)})),m=(0,Oa.sanitizeAttributes)(r.attributes),T=this._sampler.shouldSample(n,d,t,S,m,f);_=(o=T.traceState)!==null&&o!==void 0?o:_;let A=T.decision===me.SamplingDecision.RECORD_AND_SAMPLED?me.TraceFlags.SAMPLED:me.TraceFlags.NONE,O={traceId:d,spanId:l,traceFlags:A,traceState:_};if(T.decision===me.SamplingDecision.NOT_RECORD)return me.diag.debug("Recording is off, propagating context in a non-recording span"),me.trace.wrapSpanContext(O);let D=(0,Oa.sanitizeAttributes)(Object.assign(m,T.attributes));return new xD.Span(this,n,t,O,S,p,f,r.startTime,void 0,D)}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??me.context.active(),l=this.startSpan(t,s,u),d=me.trace.setSpan(u,l);return me.context.with(d,a,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};ba.Tracer=up});var uy=c(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.defaultServiceName=void 0;function BD(){return`unknown_service:${process.argv0}`}Ra.defaultServiceName=BD});var cp=c(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.normalizeType=cn.normalizeArch=void 0;var UD=e=>{switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}};cn.normalizeArch=UD;var FD=e=>{switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}};cn.normalizeType=FD});var va=c(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.execAsync=void 0;var qD=R("child_process"),GD=R("util");Pa.execAsync=GD.promisify(qD.exec)});var cy=c(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.getMachineId=void 0;var jD=va(),HD=I();async function kD(){try{let t=(await(0,jD.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!t)return"";let r=t.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(e){HD.diag.debug(`error reading machine id: ${e}`)}return""}Ia.getMachineId=kD});var ly=c(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.getMachineId=void 0;var VD=R("fs"),$D=I();async function YD(){let e=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let t of e)try{return(await VD.promises.readFile(t,{encoding:"utf8"})).trim()}catch(r){$D.diag.debug(`error reading machine id: ${r}`)}return""}Ca.getMachineId=YD});var _y=c(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.getMachineId=void 0;var XD=R("fs"),WD=va(),dy=I();async function KD(){try{return(await XD.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(e){dy.diag.debug(`error reading machine id: ${e}`)}try{return(await(0,WD.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(e){dy.diag.debug(`error reading machine id: ${e}`)}return""}Na.getMachineId=KD});var fy=c(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.getMachineId=void 0;var py=R("process"),zD=va(),QD=I();async function ZD(){let e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe";py.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in py.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t);try{let n=(await(0,zD.execAsync)(`${t} ${e}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(r){QD.diag.debug(`error reading machine id: ${r}`)}return""}Ma.getMachineId=ZD});var hy=c(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.getMachineId=void 0;var JD=I();async function e1(){return JD.diag.debug("could not read machine-id: unsupported platform"),""}La.getMachineId=e1});var gy=c(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.getMachineId=void 0;var t1=R("process"),ln;Ot.getMachineId=ln;switch(t1.platform){case"darwin":Ot.getMachineId=ln=cy().getMachineId;break;case"linux":Ot.getMachineId=ln=ly().getMachineId;break;case"freebsd":Ot.getMachineId=ln=_y().getMachineId;break;case"win32":Ot.getMachineId=ln=fy().getMachineId;break;default:Ot.getMachineId=ln=hy().getMachineId}});var _p=c(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.hostDetectorSync=void 0;var lp=ft(),r1=mr(),my=R("os"),n1=cp(),i1=gy(),dp=class{detect(t){let r={[lp.SemanticResourceAttributes.HOST_NAME]:(0,my.hostname)(),[lp.SemanticResourceAttributes.HOST_ARCH]:(0,n1.normalizeArch)((0,my.arch)())};return new r1.Resource(r,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,i1.getMachineId)().then(t=>{let r={};return t&&(r[lp.SemanticResourceAttributes.HOST_ID]=t),r})}};xa.hostDetectorSync=new dp});var Ey=c(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.hostDetector=void 0;var s1=_p(),pp=class{detect(t){return Promise.resolve(s1.hostDetectorSync.detect(t))}};wa.hostDetector=new pp});var hp=c(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.osDetectorSync=void 0;var Sy=ft(),o1=mr(),Ay=R("os"),a1=cp(),fp=class{detect(t){let r={[Sy.SemanticResourceAttributes.OS_TYPE]:(0,a1.normalizeType)((0,Ay.platform)()),[Sy.SemanticResourceAttributes.OS_VERSION]:(0,Ay.release)()};return new o1.Resource(r)}};Da.osDetectorSync=new fp});var Ty=c(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.osDetector=void 0;var u1=hp(),gp=class{detect(t){return Promise.resolve(u1.osDetectorSync.detect(t))}};Ba.osDetector=new gp});var Ep=c(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.processDetectorSync=void 0;var c1=I(),bt=ft(),l1=mr(),d1=R("os"),mp=class{detect(t){let r={[bt.SemanticResourceAttributes.PROCESS_PID]:process.pid,[bt.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[bt.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[bt.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[bt.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[bt.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[bt.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(r[bt.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let n=d1.userInfo();r[bt.SemanticResourceAttributes.PROCESS_OWNER]=n.username}catch(n){c1.diag.debug(`error obtaining process owner: ${n}`)}return new l1.Resource(r)}};Ua.processDetectorSync=new mp});var yy=c(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.processDetector=void 0;var _1=Ep(),Sp=class{detect(t){return Promise.resolve(_1.processDetectorSync.detect(t))}};Fa.processDetector=new Sp});var Oy=c(He=>{"use strict";var p1=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Er=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&p1(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});Er(uy(),He);Er(Ey(),He);Er(Ty(),He);Er(_p(),He);Er(hp(),He);Er(yy(),He);Er(Ep(),He)});var Ap=c(Sr=>{"use strict";var f1=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),h1=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&f1(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});h1(Oy(),Sr)});var mr=c(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.Resource=void 0;var by=I(),Ar=ft(),Tp=X(),g1=Ap(),Pi=class e{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=r?.then(i=>(this._attributes=Object.assign({},this._attributes,i),this.asyncAttributesPending=!1,i),i=>(by.diag.debug("a resource's async attributes promise rejected: %s",i),this.asyncAttributesPending=!1,{}))}static empty(){return e.EMPTY}static default(){return new e({[Ar.SemanticResourceAttributes.SERVICE_NAME]:(0,g1.defaultServiceName)(),[Ar.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Tp.SDK_INFO[Ar.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Ar.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Tp.SDK_INFO[Ar.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Ar.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Tp.SDK_INFO[Ar.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var t;return this.asyncAttributesPending&&by.diag.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(t){var r;if(!t)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new e(n);let i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(([s,o])=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),s),(a=t._syncAttributes)!==null&&a!==void 0?a:t.attributes),o)});return new e(n,i)}};qa.Resource=Pi;Pi.EMPTY=new Pi({})});var Py=c(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0})});var Iy=c(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0})});var Ny=c(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0})});var My=c(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.browserDetector=void 0;var m1=dn(),yp=class{detect(t){return Promise.resolve(m1.browserDetectorSync.detect(t))}};Ga.browserDetector=new yp});var bp=c(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.envDetectorSync=void 0;var E1=I(),S1=X(),A1=ft(),T1=mr(),Op=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(t){let r={},n=(0,S1.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){E1.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[A1.SemanticResourceAttributes.SERVICE_NAME]=s),new T1.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=decodeURIComponent(a)}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)}_isBaggageOctetString(t){for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};ja.envDetectorSync=new Op});var Ly=c(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.envDetector=void 0;var y1=bp(),Rp=class{detect(t){return Promise.resolve(y1.envDetectorSync.detect(t))}};Ha.envDetector=new Rp});var xy=c(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.browserDetectorSync=void 0;var ka=ft(),Pp=dn(),O1=I(),vp=class{detect(t){if(!(typeof navigator<"u"))return Pp.Resource.empty();let n={[ka.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[ka.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[ka.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[ka.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(O1.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Pp.Resource.empty()):new Pp.Resource(Object.assign({},t))}};Va.browserDetectorSync=new vp});var wy=c(ht=>{"use strict";var b1=ht&&ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$a=ht&&ht.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&b1(t,e,r)};Object.defineProperty(ht,"__esModule",{value:!0});$a(My(),ht);$a(Ly(),ht);$a(xy(),ht);$a(bp(),ht)});var Dy=c(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.isPromiseLike=void 0;var R1=e=>e!==null&&typeof e=="object"&&typeof e.then=="function";Ya.isPromiseLike=R1});var Uy=c(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.detectResourcesSync=pn.detectResources=void 0;var vi=mr(),_n=I(),P1=Dy(),v1=async(e={})=>{let t=await Promise.all((e.detectors||[]).map(async r=>{try{let n=await r.detect(e);return _n.diag.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return _n.diag.debug(`${r.constructor.name} failed: ${n.message}`),vi.Resource.empty()}}));return By(t),t.reduce((r,n)=>r.merge(n),vi.Resource.empty())};pn.detectResources=v1;var I1=(e={})=>{var t;let r=((t=e.detectors)!==null&&t!==void 0?t:[]).map(i=>{try{let s=i.detect(e),o;if((0,P1.isPromiseLike)(s)){let a=async()=>(await s).attributes;o=new vi.Resource({},a())}else o=s;return o.waitForAsyncAttributes?o.waitForAsyncAttributes().then(()=>_n.diag.debug(`${i.constructor.name} found resource.`,o)):_n.diag.debug(`${i.constructor.name} found resource.`,o),o}catch(s){return _n.diag.error(`${i.constructor.name} failed: ${s.message}`),vi.Resource.empty()}}),n=r.reduce((i,s)=>i.merge(s),vi.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{By(r)}),n};pn.detectResourcesSync=I1;var By=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=JSON.stringify(t.attributes,null,4);_n.diag.verbose(r)}})}});var dn=c(ke=>{"use strict";var C1=ke&&ke.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tr=ke&&ke.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&C1(t,e,r)};Object.defineProperty(ke,"__esModule",{value:!0});Tr(mr(),ke);Tr(Py(),ke);Tr(Ap(),ke);Tr(Iy(),ke);Tr(Ny(),ke);Tr(wy(),ke);Tr(Uy(),ke)});var Fy=c(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.MultiSpanProcessor=void 0;var N1=X(),Ip=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,N1.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Xa.MultiSpanProcessor=Ip});var Np=c(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.NoopSpanProcessor=void 0;var Cp=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Wa.NoopSpanProcessor=Cp});var Gy=c(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.BasicTracerProvider=yr.ForceFlushState=void 0;var fn=I(),gn=X(),qy=dn(),M1=Ka(),L1=rp(),x1=Fy(),w1=Np(),D1=ya(),B1=ip(),hn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(hn=yr.ForceFlushState||(yr.ForceFlushState={}));var Ii=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,gn.merge)({},(0,L1.loadDefaultConfig)(),(0,B1.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:qy.Resource.empty(),this.resource=qy.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new D1.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new w1.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${n?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new M1.Tracer({name:t,version:r,schemaUrl:n?.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>fn.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new x1.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){fn.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&fn.context.setGlobalContextManager(t.contextManager),t.propagator&&fn.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=hn.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==hn.timeout&&(s=hn.resolved,i(s))}).catch(a=>{clearTimeout(o),s=hn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==hn.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=this.constructor._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=this.constructor._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,gn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||fn.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new gn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,gn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none"||t==="")return;let r=this._getSpanExporter(t);return r||fn.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};yr.BasicTracerProvider=Ii;Ii._registeredPropagators=new Map([["tracecontext",()=>new gn.W3CTraceContextPropagator],["baggage",()=>new gn.W3CBaggagePropagator]]);Ii._registeredExporters=new Map});var jy=c(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.ConsoleSpanExporter=void 0;var Mp=X(),Lp=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(t){var r;return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(r=t.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,Mp.hrTimeToMicroseconds)(t.startTime),duration:(0,Mp.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:Mp.ExportResultCode.SUCCESS})}};za.ConsoleSpanExporter=Lp});var ky=c(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.InMemorySpanExporter=void 0;var Hy=X(),xp=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:Hy.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:Hy.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Qa.InMemorySpanExporter=xp});var $y=c(Vy=>{"use strict";Object.defineProperty(Vy,"__esModule",{value:!0})});var Yy=c(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.SimpleSpanProcessor=void 0;var U1=I(),mn=X(),wp=class{constructor(t){this._exporter=t,this._shutdownOnce=new mn.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(t,r){}onEnd(t){var r,n;if(this._shutdownOnce.isCalled||!(t.spanContext().traceFlags&U1.TraceFlags.SAMPLED))return;let i=()=>mn.internal._export(this._exporter,[t]).then(s=>{var o;s.code!==mn.ExportResultCode.SUCCESS&&(0,mn.globalErrorHandler)((o=s.error)!==null&&o!==void 0?o:new Error(`SimpleSpanProcessor: span export failed (status ${s})`))}).catch(s=>{(0,mn.globalErrorHandler)(s)});if(t.resource.asyncAttributesPending){let s=(n=(r=t.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(r).then(()=>(s!=null&&this._unresolvedExports.delete(s),i()),o=>(0,mn.globalErrorHandler)(o));s!=null&&this._unresolvedExports.add(s)}else i()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};Za.SimpleSpanProcessor=wp});var Wy=c(Xy=>{"use strict";Object.defineProperty(Xy,"__esModule",{value:!0})});var zy=c(Ky=>{"use strict";Object.defineProperty(Ky,"__esModule",{value:!0})});var Zy=c(Qy=>{"use strict";Object.defineProperty(Qy,"__esModule",{value:!0})});var eO=c(Jy=>{"use strict";Object.defineProperty(Jy,"__esModule",{value:!0})});var rO=c(tO=>{"use strict";Object.defineProperty(tO,"__esModule",{value:!0})});var Ka=c(Z=>{"use strict";var F1=Z&&Z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_e=Z&&Z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&F1(t,e,r)};Object.defineProperty(Z,"__esModule",{value:!0});_e(ay(),Z);_e(Gy(),Z);_e(ya(),Z);_e(jy(),Z);_e(ky(),Z);_e($y(),Z);_e(Yy(),Z);_e(Wy(),Z);_e(Np(),Z);_e(da(),Z);_e(pa(),Z);_e(Q_(),Z);_e(J_(),Z);_e(Ri(),Z);_e(Y_(),Z);_e(zy(),Z);_e(Zy(),Z);_e(eO(),Z);_e(rO(),Z)});var Or=c(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.parseRetryAfterToMills=te.isExportRetryable=te.invalidTimeout=te.configureExporterTimeout=te.appendRootPathToUrlIfNeeded=te.appendResourcePathToUrl=te.parseHeaders=te.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=te.DEFAULT_EXPORT_MAX_BACKOFF=te.DEFAULT_EXPORT_INITIAL_BACKOFF=te.DEFAULT_EXPORT_MAX_ATTEMPTS=void 0;var Dp=I(),nO=X(),iO=1e4;te.DEFAULT_EXPORT_MAX_ATTEMPTS=5;te.DEFAULT_EXPORT_INITIAL_BACKOFF=1e3;te.DEFAULT_EXPORT_MAX_BACKOFF=5e3;te.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=1.5;function q1(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n<"u"?t[r]=String(n):Dp.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}te.parseHeaders=q1;function G1(e,t){return e.endsWith("/")||(e=e+"/"),e+t}te.appendResourcePathToUrl=G1;function j1(e){try{let t=new URL(e);return t.pathname===""&&(t.pathname=t.pathname+"/"),t.toString()}catch{return Dp.diag.warn(`Could not parse export URL: '${e}'`),e}}te.appendRootPathToUrlIfNeeded=j1;function H1(e){return typeof e=="number"?e<=0?Bp(e,iO):e:k1()}te.configureExporterTimeout=H1;function k1(){var e;let t=Number((e=(0,nO.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,nO.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?Bp(t,iO):t}function Bp(e,t){return Dp.diag.warn("Timeout must be greater than 0",e),t}te.invalidTimeout=Bp;function V1(e){return[429,502,503,504].includes(e)}te.isExportRetryable=V1;function $1(e){if(e==null)return-1;let t=Number.parseInt(e,10);if(Number.isInteger(t))return t>0?t*1e3:-1;let r=new Date(e).getTime()-Date.now();return r>=0?r:0}te.parseRetryAfterToMills=$1});var eu=c(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.OTLPExporterBase=void 0;var sO=I(),Ci=X(),Y1=Or(),Up=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Ci.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:30,this.timeoutMillis=(0,Y1.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Ci.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Ci.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Ci.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Ci.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{sO.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return sO.diag.debug("shutdown started"),this.onShutdown(),this.forceFlush()}};Ja.OTLPExporterBase=Up});var Fp=c(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.CompressionAlgorithm=void 0;var X1;(function(e){e.NONE="none",e.GZIP="gzip"})(X1=Ni.CompressionAlgorithm||(Ni.CompressionAlgorithm={}))});var ru=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.OTLPExporterError=void 0;var qp=class extends Error{constructor(t,r,n){super(t),this.name="OTLPExporterError",this.data=n,this.code=r}};tu.OTLPExporterError=qp});var jp=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.configureCompression=jt.createHttpAgent=jt.sendWithHttp=void 0;var aO=R("url"),uO=R("http"),cO=R("https"),W1=R("zlib"),K1=R("stream"),Gp=I(),nu=Fp(),oO=X(),Mi=ru(),En=Or();function z1(e,t,r,n,i){let s=e.timeoutMillis,o=new aO.URL(e.url),a=Number(process.versions.node.split(".")[0]),u,l,d=!1,_=setTimeout(()=>{if(clearTimeout(u),d=!0,l.destroyed){let m=new Mi.OTLPExporterError("Request Timeout");i(m)}else a>=14?l.destroy():l.abort()},s),p={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},S=o.protocol==="http:"?uO.request:cO.request,f=(m=En.DEFAULT_EXPORT_MAX_ATTEMPTS,T=En.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{switch(l=S(p,A=>{let O="";A.on("data",D=>O+=D),A.on("aborted",()=>{if(d){let D=new Mi.OTLPExporterError("Request Timeout");i(D)}}),A.on("end",()=>{if(d===!1)if(A.statusCode&&A.statusCode<299)Gp.diag.debug(`statusCode: ${A.statusCode}`,O),n(),clearTimeout(_),clearTimeout(u);else if(A.statusCode&&(0,En.isExportRetryable)(A.statusCode)&&m>0){let D;T=En.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*T,A.headers["retry-after"]?D=(0,En.parseRetryAfterToMills)(A.headers["retry-after"]):D=Math.round(Math.random()*(En.DEFAULT_EXPORT_MAX_BACKOFF-T)+T),u=setTimeout(()=>{f(m-1,T)},D)}else{let D=new Mi.OTLPExporterError(A.statusMessage,A.statusCode,O);i(D),clearTimeout(_),clearTimeout(u)}})}),l.on("error",A=>{if(d){let O=new Mi.OTLPExporterError("Request Timeout",A.code);i(O)}else i(A);clearTimeout(_),clearTimeout(u)}),l.on("abort",()=>{if(d){let A=new Mi.OTLPExporterError("Request Timeout");i(A)}clearTimeout(_),clearTimeout(u)}),e.compression){case nu.CompressionAlgorithm.GZIP:{l.setHeader("Content-Encoding","gzip"),Q1(t).on("error",i).pipe(W1.createGzip()).on("error",i).pipe(l);break}default:l.end(t);break}};f()}jt.sendWithHttp=z1;function Q1(e){let t=new K1.Readable;return t.push(e),t.push(null),t}function Z1(e){if(e.httpAgentOptions&&e.keepAlive===!1){Gp.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new aO.URL(e.url).protocol==="http:"?uO.Agent:cO.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){Gp.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}jt.createHttpAgent=Z1;function J1(e){return e||(((0,oO.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,oO.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===nu.CompressionAlgorithm.GZIP?nu.CompressionAlgorithm.GZIP:nu.CompressionAlgorithm.NONE)}jt.configureCompression=J1});var _O=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.OTLPExporterNodeBase=void 0;var eB=eu(),tB=Or(),Hp=jp(),lO=I(),dO=X(),kp=class extends eB.OTLPExporterBase{constructor(t={}){super(t),this.DEFAULT_HEADERS={},t.metadata&&lO.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,tB.parseHeaders)(t.headers),dO.baggageUtils.parseKeyPairsIntoRecord((0,dO.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,Hp.createHttpAgent)(t),this.compression=(0,Hp.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){lO.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,Hp.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};iu.OTLPExporterNodeBase=kp});var pO=c(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.CompressionAlgorithm=We.configureCompression=We.createHttpAgent=We.sendWithHttp=We.OTLPExporterNodeBase=void 0;var rB=_O();Object.defineProperty(We,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return rB.OTLPExporterNodeBase}});var Vp=jp();Object.defineProperty(We,"sendWithHttp",{enumerable:!0,get:function(){return Vp.sendWithHttp}});Object.defineProperty(We,"createHttpAgent",{enumerable:!0,get:function(){return Vp.createHttpAgent}});Object.defineProperty(We,"configureCompression",{enumerable:!0,get:function(){return Vp.configureCompression}});var nB=Fp();Object.defineProperty(We,"CompressionAlgorithm",{enumerable:!0,get:function(){return nB.CompressionAlgorithm}})});var $p=c(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.sendWithXhr=An.sendWithBeacon=void 0;var fO=I(),Li=ru(),Sn=Or();function iB(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))fO.diag.debug("sendBeacon - can send",e),n();else{let s=new Li.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}An.sendWithBeacon=iB;function sB(e,t,r,n,i,s){let o,a,u=!1,l=setTimeout(()=>{if(clearTimeout(o),u=!0,a.readyState===XMLHttpRequest.DONE){let _=new Li.OTLPExporterError("Request Timeout");s(_)}else a.abort()},n),d=(_=Sn.DEFAULT_EXPORT_MAX_ATTEMPTS,p=Sn.DEFAULT_EXPORT_INITIAL_BACKOFF)=>{a=new XMLHttpRequest,a.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([f,m])=>{a.setRequestHeader(f,m)}),a.send(e),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE&&u===!1)if(a.status>=200&&a.status<=299)fO.diag.debug("xhr success",e),i(),clearTimeout(l),clearTimeout(o);else if(a.status&&(0,Sn.isExportRetryable)(a.status)&&_>0){let f;p=Sn.DEFAULT_EXPORT_BACKOFF_MULTIPLIER*p,a.getResponseHeader("Retry-After")?f=(0,Sn.parseRetryAfterToMills)(a.getResponseHeader("Retry-After")):f=Math.round(Math.random()*(Sn.DEFAULT_EXPORT_MAX_BACKOFF-p)+p),o=setTimeout(()=>{d(_-1,p)},f)}else{let f=new Li.OTLPExporterError(`Failed to export with XHR (status: ${a.status})`,a.status);s(f),clearTimeout(l),clearTimeout(o)}},a.onabort=()=>{if(u){let f=new Li.OTLPExporterError("Request Timeout");s(f)}clearTimeout(l),clearTimeout(o)},a.onerror=()=>{if(u){let f=new Li.OTLPExporterError("Request Timeout");s(f)}clearTimeout(l),clearTimeout(o)}};d()}An.sendWithXhr=sB});var gO=c(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.OTLPExporterBrowserBase=void 0;var oB=eu(),aB=Or(),hO=$p(),uB=I(),su=X(),Yp=class extends oB.OTLPExporterBase{constructor(t={}){super(t),this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,aB.parseHeaders)(t.headers),su.baggageUtils.parseKeyPairsIntoRecord((0,su.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){su._globalThis.addEventListener("unload",this.shutdown)}onShutdown(){su._globalThis.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){uB.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,l)=>{this._useXHR?(0,hO.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,l):(0,hO.sendWithBeacon)(s,this.url,{type:"application/json"},u,l)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};ou.OTLPExporterBrowserBase=Yp});var mO=c(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.sendWithXhr=Tn.OTLPExporterBrowserBase=void 0;var cB=gO();Object.defineProperty(Tn,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return cB.OTLPExporterBrowserBase}});var lB=$p();Object.defineProperty(Tn,"sendWithXhr",{enumerable:!0,get:function(){return lB.sendWithXhr}})});var SO=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.sendWithXhr=ve.OTLPExporterBrowserBase=ve.CompressionAlgorithm=ve.configureCompression=ve.createHttpAgent=ve.sendWithHttp=ve.OTLPExporterNodeBase=void 0;var xi=pO();Object.defineProperty(ve,"OTLPExporterNodeBase",{enumerable:!0,get:function(){return xi.OTLPExporterNodeBase}});Object.defineProperty(ve,"sendWithHttp",{enumerable:!0,get:function(){return xi.sendWithHttp}});Object.defineProperty(ve,"createHttpAgent",{enumerable:!0,get:function(){return xi.createHttpAgent}});Object.defineProperty(ve,"configureCompression",{enumerable:!0,get:function(){return xi.configureCompression}});Object.defineProperty(ve,"CompressionAlgorithm",{enumerable:!0,get:function(){return xi.CompressionAlgorithm}});var EO=mO();Object.defineProperty(ve,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return EO.OTLPExporterBrowserBase}});Object.defineProperty(ve,"sendWithXhr",{enumerable:!0,get:function(){return EO.sendWithXhr}})});var Xp=c(se=>{"use strict";var dB=se&&se.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_B=se&&se.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dB(t,e,r)};Object.defineProperty(se,"__esModule",{value:!0});se.invalidTimeout=se.configureExporterTimeout=se.appendRootPathToUrlIfNeeded=se.appendResourcePathToUrl=se.parseHeaders=se.OTLPExporterError=se.OTLPExporterBase=void 0;_B(SO(),se);var pB=eu();Object.defineProperty(se,"OTLPExporterBase",{enumerable:!0,get:function(){return pB.OTLPExporterBase}});var fB=ru();Object.defineProperty(se,"OTLPExporterError",{enumerable:!0,get:function(){return fB.OTLPExporterError}});var wi=Or();Object.defineProperty(se,"parseHeaders",{enumerable:!0,get:function(){return wi.parseHeaders}});Object.defineProperty(se,"appendResourcePathToUrl",{enumerable:!0,get:function(){return wi.appendResourcePathToUrl}});Object.defineProperty(se,"appendRootPathToUrlIfNeeded",{enumerable:!0,get:function(){return wi.appendRootPathToUrlIfNeeded}});Object.defineProperty(se,"configureExporterTimeout",{enumerable:!0,get:function(){return wi.configureExporterTimeout}});Object.defineProperty(se,"invalidTimeout",{enumerable:!0,get:function(){return wi.invalidTimeout}})});var TO=c(AO=>{"use strict";Object.defineProperty(AO,"__esModule",{value:!0})});var Di=c(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getOtlpEncoder=Ke.encodeAsString=Ke.encodeAsLongBits=Ke.toLongBits=Ke.hrTimeToNanos=void 0;var au=X(),hB=BigInt(1e9);function Wp(e){return BigInt(e[0])*hB+BigInt(e[1])}Ke.hrTimeToNanos=Wp;function OO(e){let t=Number(BigInt.asUintN(32,e)),r=Number(BigInt.asUintN(32,e>>BigInt(32)));return{low:t,high:r}}Ke.toLongBits=OO;function Kp(e){let t=Wp(e);return OO(t)}Ke.encodeAsLongBits=Kp;function bO(e){return Wp(e).toString()}Ke.encodeAsString=bO;var gB=typeof BigInt<"u"?bO:au.hrTimeToNanoseconds;function yO(e){return e}function RO(e){if(e!==void 0)return(0,au.hexToBinary)(e)}var mB={encodeHrTime:Kp,encodeSpanContext:au.hexToBinary,encodeOptionalSpanContext:RO};function EB(e){var t,r;if(e===void 0)return mB;let n=(t=e.useLongBits)!==null&&t!==void 0?t:!0,i=(r=e.useHex)!==null&&r!==void 0?r:!1;return{encodeHrTime:n?Kp:gB,encodeSpanContext:i?yO:au.hexToBinary,encodeOptionalSpanContext:i?yO:RO}}Ke.getOtlpEncoder=EB});var vO=c(PO=>{"use strict";Object.defineProperty(PO,"__esModule",{value:!0})});var CO=c(IO=>{"use strict";Object.defineProperty(IO,"__esModule",{value:!0})});var NO=c(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.ESpanKind=void 0;var SB;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(SB=Bi.ESpanKind||(Bi.ESpanKind={}))});var LO=c(MO=>{"use strict";Object.defineProperty(MO,"__esModule",{value:!0})});var Ui=c(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.toAnyValue=Ht.toKeyValue=Ht.toAttributes=void 0;function AB(e){return Object.keys(e).map(t=>zp(t,e[t]))}Ht.toAttributes=AB;function zp(e,t){return{key:e,value:Qp(t)}}Ht.toKeyValue=zp;function Qp(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Qp)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>zp(r,n))}}:{}}Ht.toAnyValue=Qp});var DO=c(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.toOtlpSpanEvent=kt.toOtlpLink=kt.sdkSpanToOtlpSpan=void 0;var Zp=Ui();function TB(e,t){var r;let n=e.spanContext(),i=e.status;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:(r=n.traceState)===null||r===void 0?void 0:r.serialize(),name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,Zp.toAttributes)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map(s=>wO(s,t)),droppedEventsCount:e.droppedEventsCount,status:{code:i.code,message:i.message},links:e.links.map(s=>xO(s,t)),droppedLinksCount:e.droppedLinksCount}}kt.sdkSpanToOtlpSpan=TB;function xO(e,t){var r;return{attributes:e.attributes?(0,Zp.toAttributes)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:(r=e.context.traceState)===null||r===void 0?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}kt.toOtlpLink=xO;function wO(e,t){return{attributes:e.attributes?(0,Zp.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}kt.toOtlpSpanEvent=wO});var BO=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.createExportTraceServiceRequest=void 0;var yB=Ui(),OB=DO(),bB=Di();function RB(e,t){let r=(0,bB.getOtlpEncoder)(t);return{resourceSpans:vB(e,r)}}uu.createExportTraceServiceRequest=RB;function PB(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function vB(e,t){let r=PB(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],l=a.values(),d=l.next();for(;!d.done;){let p=d.value;if(p.length>0){let{name:S,version:f,schemaUrl:m}=p[0].instrumentationLibrary,T=p.map(A=>(0,OB.sdkSpanToOtlpSpan)(A,t));u.push({scope:{name:S,version:f},spans:T,schemaUrl:m})}d=l.next()}let _={resource:{attributes:(0,yB.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(_),s=i.next()}return n}});var cu=c(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.AggregationTemporality=void 0;var IB;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(IB=Fi.AggregationTemporality||(Fi.AggregationTemporality={}))});var yn=c(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.DataPointType=void 0;var CB;(function(e){e[e.HISTOGRAM=0]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",e[e.GAUGE=2]="GAUGE",e[e.SUM=3]="SUM"})(CB=qi.DataPointType||(qi.DataPointType={}))});var gt=c(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.equalsCaseInsensitive=re.binarySearchLB=re.setEquals=re.FlatMap=re.isPromiseAllSettledRejectionResult=re.PromiseAllSettled=re.callWithTimeout=re.TimeoutError=re.instrumentationScopeId=re.hashAttributes=re.isNotNullish=void 0;function NB(e){return e!=null}re.isNotNullish=NB;function MB(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),JSON.stringify(t.map(r=>[r,e[r]])))}re.hashAttributes=MB;function LB(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}re.instrumentationScopeId=LB;var lu=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};re.TimeoutError=lu;function xB(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new lu("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}re.callWithTimeout=xB;async function wB(e){return Promise.all(e.map(async t=>{try{return{status:"fulfilled",value:await t}}catch(r){return{status:"rejected",reason:r}}}))}re.PromiseAllSettled=wB;function DB(e){return e.status==="rejected"}re.isPromiseAllSettledRejectionResult=DB;function BB(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}re.FlatMap=BB;function UB(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}re.setEquals=UB;function FB(e,t){let r=0,n=e.length-1;for(;n-r>1;){let i=Math.trunc((n+r)/2);e[i]<=t?r=i:n=i-1}return e[n]<=t?n:e[r]<=t?r:-1}re.binarySearchLB=FB;function qB(e,t){return e.toLowerCase()===t.toLowerCase()}re.equalsCaseInsensitive=qB});var On=c(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.AggregatorKind=void 0;var GB;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"})(GB=Gi.AggregatorKind||(Gi.AggregatorKind={}))});var UO=c(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.DropAggregator=void 0;var jB=On(),Jp=class{constructor(){this.kind=jB.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i){}};du.DropAggregator=Jp});var Rt=c(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.isValidName=Ve.isDescriptorCompatibleWith=Ve.createInstrumentDescriptorWithView=Ve.createInstrumentDescriptor=Ve.InstrumentType=void 0;var FO=I(),HB=gt(),kB;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(kB=Ve.InstrumentType||(Ve.InstrumentType={}));function VB(e,t,r){var n,i,s,o;return qO(e)||FO.diag.warn(`Invalid metric name: "${e}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:e,type:t,description:(n=r?.description)!==null&&n!==void 0?n:"",unit:(i=r?.unit)!==null&&i!==void 0?i:"",valueType:(s=r?.valueType)!==null&&s!==void 0?s:FO.ValueType.DOUBLE,advice:(o=r?.advice)!==null&&o!==void 0?o:{}}}Ve.createInstrumentDescriptor=VB;function $B(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType,advice:t.advice}}Ve.createInstrumentDescriptorWithView=$B;function YB(e,t){return(0,HB.equalsCaseInsensitive)(e.name,t.name)&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}Ve.isDescriptorCompatibleWith=YB;var XB=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function qO(e){return e.match(XB)!=null}Ve.isValidName=qO});var GO=c(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.HistogramAggregator=Rn.HistogramAccumulation=void 0;var WB=On(),KB=yn(),ef=Rt(),zB=gt();function QB(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var bn=class{constructor(t,r,n=!0,i=QB(r)){this.startTime=t,this._boundaries=r,this._recordMinMax=n,this._current=i}record(t){this._current.count+=1,this._current.sum+=t,this._recordMinMax&&(this._current.min=Math.min(t,this._current.min),this._current.max=Math.max(t,this._current.max),this._current.hasMinMax=!0);let r=(0,zB.binarySearchLB)(this._boundaries,t);this._current.buckets.counts[r+1]+=1}setStartTime(t){this.startTime=t}toPointValue(){return this._current}};Rn.HistogramAccumulation=bn;var tf=class{constructor(t,r){this._boundaries=t,this._recordMinMax=r,this.kind=WB.AggregatorKind.HISTOGRAM}createAccumulation(t){return new bn(t,this._boundaries,this._recordMinMax)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let d=0;d<s.length;d++)a[d]=s[d]+o[d];let u=1/0,l=-1/0;return this._recordMinMax&&(n.hasMinMax&&i.hasMinMax?(u=Math.min(n.min,i.min),l=Math.max(n.max,i.max)):n.hasMinMax?(u=n.min,l=n.max):i.hasMinMax&&(u=i.min,l=i.max)),new bn(t.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum,hasMinMax:this._recordMinMax&&(n.hasMinMax||i.hasMinMax),min:u,max:l})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new bn(r.startTime,n.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(t,r,n,i){return{descriptor:t,aggregationTemporality:r,dataPointType:KB.DataPointType.HISTOGRAM,dataPoints:n.map(([s,o])=>{let a=o.toPointValue(),u=t.type===ef.InstrumentType.UP_DOWN_COUNTER||t.type===ef.InstrumentType.OBSERVABLE_GAUGE||t.type===ef.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:s,startTime:o.startTime,endTime:i,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,buckets:a.buckets,count:a.count}}})}}};Rn.HistogramAggregator=tf});var jO=c(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.Buckets=void 0;var rf=class e{constructor(t=new nf,r=0,n=0,i=0){this.backing=t,this.indexBase=r,this.indexStart=n,this.indexEnd=i}get offset(){return this.indexStart}get length(){return this.backing.length===0||this.indexEnd===this.indexStart&&this.at(0)===0?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(t,r)=>this.at(r))}at(t){let r=this.indexBase-this.indexStart;return t<r&&(t+=this.backing.length),t-=r,this.backing.countAt(t)}incrementBucket(t,r){this.backing.increment(t,r)}decrementBucket(t,r){this.backing.decrement(t,r)}trim(){for(let t=0;t<this.length;t++)if(this.at(t)!==0){this.indexStart+=t;break}else if(t===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let t=this.length-1;t>=0;t--)if(this.at(t)!==0){this.indexEnd-=this.length-t-1;break}this._rotate()}downscale(t){this._rotate();let r=1+this.indexEnd-this.indexStart,n=1<<t,i=0,s=0;for(let o=this.indexStart;o<=this.indexEnd;){let a=o%n;a<0&&(a+=n);for(let u=a;u<n&&i<r;u++)this._relocateBucket(s,i),i++,o++;s++}this.indexStart>>=t,this.indexEnd>>=t,this.indexBase=this.indexStart}clone(){return new e(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let t=this.indexBase-this.indexStart;t!==0&&(t>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,t),this.backing.reverse(t,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+t)),this.indexBase=this.indexStart)}_relocateBucket(t,r){t!==r&&this.incrementBucket(t,this.backing.emptyBucket(r))}};_u.Buckets=rf;var nf=class e{constructor(t=[0]){this._counts=t}get length(){return this._counts.length}countAt(t){return this._counts[t]}growTo(t,r,n){let i=new Array(t).fill(0);i.splice(n,this._counts.length-r,...this._counts.slice(r)),i.splice(0,r,...this._counts.slice(0,r)),this._counts=i}reverse(t,r){let n=Math.floor((t+r)/2)-t;for(let i=0;i<n;i++){let s=this._counts[t+i];this._counts[t+i]=this._counts[r-i-1],this._counts[r-i-1]=s}}emptyBucket(t){let r=this._counts[t];return this._counts[t]=0,r}increment(t,r){this._counts[t]+=r}decrement(t,r){this._counts[t]>=r?this._counts[t]-=r:this._counts[t]=0}clone(){return new e([...this._counts])}}});var of=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.getSignificand=Be.getNormalBase2=Be.MIN_VALUE=Be.MAX_NORMAL_EXPONENT=Be.MIN_NORMAL_EXPONENT=Be.SIGNIFICAND_WIDTH=void 0;Be.SIGNIFICAND_WIDTH=52;var ZB=2146435072,JB=1048575,sf=1023;Be.MIN_NORMAL_EXPONENT=-sf+1;Be.MAX_NORMAL_EXPONENT=sf;Be.MIN_VALUE=Math.pow(2,-1022);function eU(e){let t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),((t.getUint32(0)&ZB)>>20)-sf}Be.getNormalBase2=eU;function tU(e){let t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e);let r=t.getUint32(0),n=t.getUint32(4);return(r&JB)*Math.pow(2,32)+n}Be.getSignificand=tU});var pu=c(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.nextGreaterSquare=Pn.ldexp=void 0;function rU(e,t){return e===0||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||Number.isNaN(e)?e:e*Math.pow(2,t)}Pn.ldexp=rU;function nU(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}Pn.nextGreaterSquare=nU});var hu=c(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.MappingError=void 0;var af=class extends Error{};fu.MappingError=af});var kO=c(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.ExponentMapping=void 0;var vn=of(),iU=pu(),HO=hu(),uf=class{constructor(t){this._shift=-t}mapToIndex(t){if(t<vn.MIN_VALUE)return this._minNormalLowerBoundaryIndex();let r=vn.getNormalBase2(t),n=this._rightShift(vn.getSignificand(t)-1,vn.SIGNIFICAND_WIDTH);return r+n>>this._shift}lowerBoundary(t){let r=this._minNormalLowerBoundaryIndex();if(t<r)throw new HO.MappingError(`underflow: ${t} is < minimum lower boundary: ${r}`);let n=this._maxNormalLowerBoundaryIndex();if(t>n)throw new HO.MappingError(`overflow: ${t} is > maximum lower boundary: ${n}`);return iU.ldexp(1,t<<this._shift)}get scale(){return this._shift===0?0:-this._shift}_minNormalLowerBoundaryIndex(){let t=vn.MIN_NORMAL_EXPONENT>>this._shift;return this._shift<2&&t--,t}_maxNormalLowerBoundaryIndex(){return vn.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(t,r){return Math.floor(t*Math.pow(2,-r))}};gu.ExponentMapping=uf});var YO=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.LogarithmMapping=void 0;var In=of(),VO=pu(),$O=hu(),cf=class{constructor(t){this._scale=t,this._scaleFactor=VO.ldexp(Math.LOG2E,t),this._inverseFactor=VO.ldexp(Math.LN2,-t)}mapToIndex(t){if(t<=In.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(In.getSignificand(t)===0)return(In.getNormalBase2(t)<<this._scale)-1;let r=Math.floor(Math.log(t)*this._scaleFactor),n=this._maxNormalLowerBoundaryIndex();return r>=n?n:r}lowerBoundary(t){let r=this._maxNormalLowerBoundaryIndex();if(t>=r){if(t===r)return 2*Math.exp((t-(1<<this._scale))/this._scaleFactor);throw new $O.MappingError(`overflow: ${t} is > maximum lower boundary: ${r}`)}let n=this._minNormalLowerBoundaryIndex();if(t<=n){if(t===n)return In.MIN_VALUE;if(t===n-1)return Math.exp((t+(1<<this._scale))/this._scaleFactor)/2;throw new $O.MappingError(`overflow: ${t} is < minimum lower boundary: ${n}`)}return Math.exp(t*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return In.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(In.MAX_NORMAL_EXPONENT+1<<this._scale)-1}};mu.LogarithmMapping=cf});var KO=c(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.getMapping=void 0;var sU=kO(),oU=YO(),aU=hu(),XO=-10,WO=20,uU=Array.from({length:31},(e,t)=>t>10?new oU.LogarithmMapping(t-10):new sU.ExponentMapping(t-10));function cU(e){if(e>WO||e<XO)throw new aU.MappingError(`expected scale >= ${XO} && <= ${WO}, got: ${e}`);return uU[e+10]}Eu.getMapping=cU});var ZO=c(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.ExponentialHistogramAggregator=Nn.ExponentialHistogramAccumulation=void 0;var lU=On(),dU=yn(),_U=I(),lf=Rt(),zO=jO(),QO=KO(),pU=pu(),Cn=class e{constructor(t,r){this.low=t,this.high=r}static combine(t,r){return new e(Math.min(t.low,r.low),Math.max(t.high,r.high))}},fU=20,hU=160,df=2,Su=class e{constructor(t=t,r=hU,n=!0,i=0,s=0,o=0,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=new zO.Buckets,d=new zO.Buckets,_=(0,QO.getMapping)(fU)){this.startTime=t,this._maxSize=r,this._recordMinMax=n,this._sum=i,this._count=s,this._zeroCount=o,this._min=a,this._max=u,this._positive=l,this._negative=d,this._mapping=_,this._maxSize<df&&(_U.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${df}`),this._maxSize=df)}record(t){this.updateByIncrement(t,1)}setStartTime(t){this.startTime=t}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(t,r){if(t>this._max&&(this._max=t),t<this._min&&(this._min=t),this._count+=r,t===0){this._zeroCount+=r;return}this._sum+=t*r,t>0?this._updateBuckets(this._positive,t,r):this._updateBuckets(this._negative,-t,r)}merge(t){this._count===0?(this._min=t.min,this._max=t.max):t.count!==0&&(t.min<this.min&&(this._min=t.min),t.max>this.max&&(this._max=t.max)),this.startTime=t.startTime,this._sum+=t.sum,this._count+=t.count,this._zeroCount+=t.zeroCount;let r=this._minScale(t);this._downscale(this.scale-r),this._mergeBuckets(this.positive,t,t.positive,r),this._mergeBuckets(this.negative,t,t.negative,r)}diff(t){this._min=1/0,this._max=-1/0,this._sum-=t.sum,this._count-=t.count,this._zeroCount-=t.zeroCount;let r=this._minScale(t);this._downscale(this.scale-r),this._diffBuckets(this.positive,t,t.positive,r),this._diffBuckets(this.negative,t,t.negative,r)}clone(){return new e(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(t,r,n){let i=this._mapping.mapToIndex(r),s=!1,o=0,a=0;if(t.length===0?(t.indexStart=i,t.indexEnd=t.indexStart,t.indexBase=t.indexStart):i<t.indexStart&&t.indexEnd-i>=this._maxSize?(s=!0,a=i,o=t.indexEnd):i>t.indexEnd&&i-t.indexStart>=this._maxSize&&(s=!0,a=t.indexStart,o=i),s){let u=this._changeScale(o,a);this._downscale(u),i=this._mapping.mapToIndex(r)}this._incrementIndexBy(t,i,n)}_incrementIndexBy(t,r,n){if(n===0)return;if(r<t.indexStart){let s=t.indexEnd-r;s>=t.backing.length&&this._grow(t,s+1),t.indexStart=r}else if(r>t.indexEnd){let s=r-t.indexStart;s>=t.backing.length&&this._grow(t,s+1),t.indexEnd=r}let i=r-t.indexBase;i<0&&(i+=t.backing.length),t.incrementBucket(i,n)}_grow(t,r){let n=t.backing.length,i=t.indexBase-t.indexStart,s=n-i,o=(0,pU.nextGreaterSquare)(r);o>this._maxSize&&(o=this._maxSize);let a=o-i;t.backing.growTo(o,s,a)}_changeScale(t,r){let n=0;for(;t-r>=this._maxSize;)t>>=1,r>>=1,n++;return n}_downscale(t){if(t===0)return;if(t<0)throw new Error(`impossible change of scale: ${this.scale}`);let r=this._mapping.scale-t;this._positive.downscale(t),this._negative.downscale(t),this._mapping=(0,QO.getMapping)(r)}_minScale(t){let r=Math.min(this.scale,t.scale),n=Cn.combine(this._highLowAtScale(this.positive,this.scale,r),this._highLowAtScale(t.positive,t.scale,r)),i=Cn.combine(this._highLowAtScale(this.negative,this.scale,r),this._highLowAtScale(t.negative,t.scale,r));return Math.min(r-this._changeScale(n.high,n.low),r-this._changeScale(i.high,i.low))}_highLowAtScale(t,r,n){if(t.length===0)return new Cn(0,-1);let i=r-n;return new Cn(t.indexStart>>i,t.indexEnd>>i)}_mergeBuckets(t,r,n,i){let s=n.offset,o=r.scale-i;for(let a=0;a<n.length;a++)this._incrementIndexBy(t,s+a>>o,n.at(a))}_diffBuckets(t,r,n,i){let s=n.offset,o=r.scale-i;for(let a=0;a<n.length;a++){let l=(s+a>>o)-t.indexBase;l<0&&(l+=t.backing.length),t.decrementBucket(l,n.at(a))}t.trim()}};Nn.ExponentialHistogramAccumulation=Su;var _f=class{constructor(t,r){this._maxSize=t,this._recordMinMax=r,this.kind=lU.AggregatorKind.EXPONENTIAL_HISTOGRAM}createAccumulation(t){return new Su(t,this._maxSize,this._recordMinMax)}merge(t,r){let n=r.clone();return n.merge(t),n}diff(t,r){let n=r.clone();return n.diff(t),n}toMetricData(t,r,n,i){return{descriptor:t,aggregationTemporality:r,dataPointType:dU.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:n.map(([s,o])=>{let a=o.toPointValue(),u=t.type===lf.InstrumentType.UP_DOWN_COUNTER||t.type===lf.InstrumentType.OBSERVABLE_GAUGE||t.type===lf.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:s,startTime:o.startTime,endTime:i,value:{min:a.hasMinMax?a.min:void 0,max:a.hasMinMax?a.max:void 0,sum:u?void 0:a.sum,positive:{offset:a.positive.offset,bucketCounts:a.positive.bucketCounts},negative:{offset:a.negative.offset,bucketCounts:a.negative.bucketCounts},count:a.count,scale:a.scale,zeroCount:a.zeroCount}}})}}};Nn.ExponentialHistogramAggregator=_f});var JO=c(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.LastValueAggregator=Ln.LastValueAccumulation=void 0;var gU=On(),ji=X(),mU=yn(),Mn=class{constructor(t,r=0,n=[0,0]){this.startTime=t,this._current=r,this.sampleTime=n}record(t){this._current=t,this.sampleTime=(0,ji.millisToHrTime)(Date.now())}setStartTime(t){this.startTime=t}toPointValue(){return this._current}};Ln.LastValueAccumulation=Mn;var pf=class{constructor(){this.kind=gU.AggregatorKind.LAST_VALUE}createAccumulation(t){return new Mn(t)}merge(t,r){let n=(0,ji.hrTimeToMicroseconds)(r.sampleTime)>=(0,ji.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Mn(t.startTime,n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,ji.hrTimeToMicroseconds)(r.sampleTime)>=(0,ji.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Mn(r.startTime,n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i){return{descriptor:t,aggregationTemporality:r,dataPointType:mU.DataPointType.GAUGE,dataPoints:n.map(([s,o])=>({attributes:s,startTime:o.startTime,endTime:i,value:o.toPointValue()}))}}};Ln.LastValueAggregator=pf});var eb=c(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.SumAggregator=xn.SumAccumulation=void 0;var EU=On(),SU=yn(),Vt=class{constructor(t,r,n=0,i=!1){this.startTime=t,this.monotonic=r,this._current=n,this.reset=i}record(t){this.monotonic&&t<0||(this._current+=t)}setStartTime(t){this.startTime=t}toPointValue(){return this._current}};xn.SumAccumulation=Vt;var ff=class{constructor(t){this.monotonic=t,this.kind=EU.AggregatorKind.SUM}createAccumulation(t){return new Vt(t,this.monotonic)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue();return r.reset?new Vt(r.startTime,this.monotonic,i,r.reset):new Vt(t.startTime,this.monotonic,n+i)}diff(t,r){let n=t.toPointValue(),i=r.toPointValue();return this.monotonic&&n>i?new Vt(r.startTime,this.monotonic,i,!0):new Vt(r.startTime,this.monotonic,i-n)}toMetricData(t,r,n,i){return{descriptor:t,aggregationTemporality:r,dataPointType:SU.DataPointType.SUM,dataPoints:n.map(([s,o])=>({attributes:s,startTime:o.startTime,endTime:i,value:o.toPointValue()})),isMonotonic:this.monotonic}}};xn.SumAggregator=ff});var tb=c(tt=>{"use strict";var AU=tt&&tt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hi=tt&&tt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AU(t,e,r)};Object.defineProperty(tt,"__esModule",{value:!0});Hi(UO(),tt);Hi(GO(),tt);Hi(ZO(),tt);Hi(JO(),tt);Hi(eb(),tt)});var Ou=c(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.DefaultAggregation=pe.ExponentialHistogramAggregation=pe.ExplicitBucketHistogramAggregation=pe.HistogramAggregation=pe.LastValueAggregation=pe.SumAggregation=pe.DropAggregation=pe.Aggregation=void 0;var TU=I(),br=tb(),Pt=Rt(),mt=class{static Drop(){return rb}static Sum(){return nb}static LastValue(){return ib}static Histogram(){return sb}static ExponentialHistogram(){return yU}static Default(){return OU}};pe.Aggregation=mt;var ki=class e extends mt{createAggregator(t){return e.DEFAULT_INSTANCE}};pe.DropAggregation=ki;ki.DEFAULT_INSTANCE=new br.DropAggregator;var wn=class e extends mt{createAggregator(t){switch(t.type){case Pt.InstrumentType.COUNTER:case Pt.InstrumentType.OBSERVABLE_COUNTER:case Pt.InstrumentType.HISTOGRAM:return e.MONOTONIC_INSTANCE;default:return e.NON_MONOTONIC_INSTANCE}}};pe.SumAggregation=wn;wn.MONOTONIC_INSTANCE=new br.SumAggregator(!0);wn.NON_MONOTONIC_INSTANCE=new br.SumAggregator(!1);var Vi=class e extends mt{createAggregator(t){return e.DEFAULT_INSTANCE}};pe.LastValueAggregation=Vi;Vi.DEFAULT_INSTANCE=new br.LastValueAggregator;var $i=class e extends mt{createAggregator(t){return e.DEFAULT_INSTANCE}};pe.HistogramAggregation=$i;$i.DEFAULT_INSTANCE=new br.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);var Au=class extends mt{constructor(t,r=!0){if(super(),this._recordMinMax=r,t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((s,o)=>s-o);let n=t.lastIndexOf(-1/0),i=t.indexOf(1/0);i===-1&&(i=void 0),this._boundaries=t.slice(n+1,i)}createAggregator(t){return new br.HistogramAggregator(this._boundaries,this._recordMinMax)}};pe.ExplicitBucketHistogramAggregation=Au;var Tu=class extends mt{constructor(t=160,r=!0){super(),this._maxSize=t,this._recordMinMax=r}createAggregator(t){return new br.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}};pe.ExponentialHistogramAggregation=Tu;var yu=class extends mt{_resolve(t){switch(t.type){case Pt.InstrumentType.COUNTER:case Pt.InstrumentType.UP_DOWN_COUNTER:case Pt.InstrumentType.OBSERVABLE_COUNTER:case Pt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return nb;case Pt.InstrumentType.OBSERVABLE_GAUGE:return ib;case Pt.InstrumentType.HISTOGRAM:return t.advice.explicitBucketBoundaries?new Au(t.advice.explicitBucketBoundaries):sb}return TU.diag.warn(`Unable to recognize instrument type: ${t.type}`),rb}createAggregator(t){return this._resolve(t).createAggregator(t)}};pe.DefaultAggregation=yu;var rb=new ki,nb=new wn,ib=new Vi,sb=new $i,yU=new Tu,OU=new yu});var hf=c(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=Dn.DEFAULT_AGGREGATION_SELECTOR=void 0;var bU=Ou(),RU=cu(),PU=e=>bU.Aggregation.Default();Dn.DEFAULT_AGGREGATION_SELECTOR=PU;var vU=e=>RU.AggregationTemporality.CUMULATIVE;Dn.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=vU});var mf=c(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.MetricReader=void 0;var ob=I(),bu=gt(),ab=hf(),gf=class{constructor(t){var r,n,i;this._shutdown=!1,this._aggregationSelector=(r=t?.aggregationSelector)!==null&&r!==void 0?r:ab.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=(n=t?.aggregationTemporalitySelector)!==null&&n!==void 0?n:ab.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR,this._metricProducers=(i=t?.metricProducers)!==null&&i!==void 0?i:[]}setMetricProducer(t){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=t,this.onInitialized()}selectAggregation(t){return this._aggregationSelector(t)}selectAggregationTemporality(t){return this._aggregationTemporalitySelector(t)}onInitialized(){}async collect(t){if(this._sdkMetricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");let[r,...n]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:t?.timeoutMillis}),...this._metricProducers.map(a=>a.collect({timeoutMillis:t?.timeoutMillis}))]),i=r.errors.concat((0,bu.FlatMap)(n,a=>a.errors)),s=r.resourceMetrics.resource,o=r.resourceMetrics.scopeMetrics.concat((0,bu.FlatMap)(n,a=>a.resourceMetrics.scopeMetrics));return{resourceMetrics:{resource:s,scopeMetrics:o},errors:i}}async shutdown(t){if(this._shutdown){ob.diag.error("Cannot call shutdown twice.");return}t?.timeoutMillis==null?await this.onShutdown():await(0,bu.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){ob.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(t?.timeoutMillis==null){await this.onForceFlush();return}await(0,bu.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};Ru.MetricReader=gf});var lb=c(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.PeriodicExportingMetricReader=void 0;var ub=I(),Pu=X(),IU=mf(),cb=gt(),CU=I(),Ef=class extends IU.MetricReader{constructor(t){var r,n,i,s;if(super({aggregationSelector:(r=t.exporter.selectAggregation)===null||r===void 0?void 0:r.bind(t.exporter),aggregationTemporalitySelector:(n=t.exporter.selectAggregationTemporality)===null||n===void 0?void 0:n.bind(t.exporter),metricProducers:t.metricProducers}),t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(i=t.exportIntervalMillis)!==null&&i!==void 0?i:6e4,this._exportTimeout=(s=t.exportTimeoutMillis)!==null&&s!==void 0?s:3e4,this._exporter=t.exporter}async _runOnce(){try{await(0,cb.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(t){if(t instanceof cb.TimeoutError){ub.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,Pu.globalErrorHandler)(t)}}async _doRun(){var t,r;let{resourceMetrics:n,errors:i}=await this.collect({timeoutMillis:this._exportTimeout});i.length>0&&ub.diag.error("PeriodicExportingMetricReader: metrics collection errors",...i);let s=async()=>{let o=await Pu.internal._export(this._exporter,n);if(o.code!==Pu.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${o.error})`)};n.resource.asyncAttributesPending?(r=(t=n.resource).waitForAsyncAttributes)===null||r===void 0||r.call(t).then(s,o=>CU.diag.debug("Error while resolving async portion of resource: ",o)):await s()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),(0,Pu.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}};vu.PeriodicExportingMetricReader=Ef});var _b=c(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.InMemoryMetricExporter=void 0;var db=X(),Sf=class{constructor(t){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=t}export(t,r){if(this._shutdown){setTimeout(()=>r({code:db.ExportResultCode.FAILED}),0);return}this._metrics.push(t),setTimeout(()=>r({code:db.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(t){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}};Iu.InMemoryMetricExporter=Sf});var fb=c(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.ConsoleMetricExporter=void 0;var pb=X(),NU=hf(),Af=class e{constructor(t){var r;this._shutdown=!1,this._temporalitySelector=(r=t?.temporalitySelector)!==null&&r!==void 0?r:NU.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(t,r){if(this._shutdown){setImmediate(r,{code:pb.ExportResultCode.FAILED});return}return e._sendMetrics(t,r)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(t){return this._temporalitySelector(t)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(t,r){for(let n of t.scopeMetrics)for(let i of n.metrics)console.dir({descriptor:i.descriptor,dataPointType:i.dataPointType,dataPoints:i.dataPoints});r({code:pb.ExportResultCode.SUCCESS})}};Cu.ConsoleMetricExporter=Af});var hb=c(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.ViewRegistry=void 0;var Tf=class{constructor(){this._registeredViews=[]}addView(t){this._registeredViews.push(t)}findViews(t,r){return this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r))}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)&&t.getUnitFilter().match(r.unit)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};Nu.ViewRegistry=Tf});var Mu=c(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.isObservableInstrument=ce.ObservableUpDownCounterInstrument=ce.ObservableGaugeInstrument=ce.ObservableCounterInstrument=ce.ObservableInstrument=ce.HistogramInstrument=ce.CounterInstrument=ce.UpDownCounterInstrument=ce.SyncInstrument=void 0;var Bn=I(),MU=X(),Un=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=Bn.context.active()){if(typeof t!="number"){Bn.diag.warn(`non-number value provided to metric ${this._descriptor.name}: ${t}`);return}this._descriptor.valueType===Bn.ValueType.INT&&!Number.isInteger(t)&&(Bn.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t),!Number.isInteger(t))||this._writableMetricStorage.record(t,r,n,(0,MU.millisToHrTime)(Date.now()))}};ce.SyncInstrument=Un;var yf=class extends Un{add(t,r,n){this._record(t,r,n)}};ce.UpDownCounterInstrument=yf;var Of=class extends Un{add(t,r,n){if(t<0){Bn.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ce.CounterInstrument=Of;var bf=class extends Un{record(t,r,n){if(t<0){Bn.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};ce.HistogramInstrument=bf;var Rr=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};ce.ObservableInstrument=Rr;var Rf=class extends Rr{};ce.ObservableCounterInstrument=Rf;var Pf=class extends Rr{};ce.ObservableGaugeInstrument=Pf;var vf=class extends Rr{};ce.ObservableUpDownCounterInstrument=vf;function LU(e){return e instanceof Rr}ce.isObservableInstrument=LU});var gb=c(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.Meter=void 0;var ze=Rt(),Fn=Mu(),If=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,ze.createInstrumentDescriptor)(t,ze.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new Fn.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,ze.createInstrumentDescriptor)(t,ze.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Fn.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,ze.createInstrumentDescriptor)(t,ze.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Fn.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,ze.createInstrumentDescriptor)(t,ze.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Fn.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,ze.createInstrumentDescriptor)(t,ze.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Fn.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,ze.createInstrumentDescriptor)(t,ze.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Fn.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Lu.Meter=If});var Nf=c(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.MetricStorage=void 0;var xU=Rt(),Cf=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,xU.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}};xu.MetricStorage=Cf});var Yi=c(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.AttributeHashMap=qn.HashMap=void 0;var wU=gt(),wu=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r??(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n??(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r??(r=this._hash(t)),this._valueMap.has(r)}*keys(){let t=this._keyMap.entries(),r=t.next();for(;r.done!==!0;)yield[r.value[1],r.value[0]],r=t.next()}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};qn.HashMap=wu;var Mf=class extends wu{constructor(){super(wU.hashAttributes)}};qn.AttributeHashMap=Mf});var wf=c(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.DeltaMetricProcessor=void 0;var Lf=Yi(),xf=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new Lf.AttributeHashMap,this._cumulativeMemoStorage=new Lf.AttributeHashMap}record(t,r,n,i){let s=this._activeCollectionStorage.getOrDefault(r,()=>this._aggregator.createAccumulation(i));s?.record(t)}batchCumulate(t,r){Array.from(t.entries()).forEach(([n,i,s])=>{let o=this._aggregator.createAccumulation(r);o?.record(i);let a=o;if(this._cumulativeMemoStorage.has(n,s)){let u=this._cumulativeMemoStorage.get(n,s);a=this._aggregator.diff(u,o)}if(this._activeCollectionStorage.has(n,s)){let u=this._activeCollectionStorage.get(n,s);a=this._aggregator.merge(u,a)}this._cumulativeMemoStorage.set(n,o,s),this._activeCollectionStorage.set(n,a,s)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new Lf.AttributeHashMap,t}};Du.DeltaMetricProcessor=xf});var Bf=c(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.TemporalMetricProcessor=void 0;var DU=cu(),BU=Yi(),Df=class e{constructor(t,r){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map,r.forEach(n=>{this._unreportedAccumulations.set(n,[])})}buildMetrics(t,r,n,i){this._stashAccumulations(n);let s=this._getMergedUnreportedAccumulations(t),o=s,a;if(this._reportHistory.has(t)){let l=this._reportHistory.get(t),d=l.collectionTime;a=l.aggregationTemporality,a===DU.AggregationTemporality.CUMULATIVE?o=e.merge(l.accumulations,s,this._aggregator):o=e.calibrateStartTime(l.accumulations,s,d)}else a=t.selectAggregationTemporality(r.type);this._reportHistory.set(t,{accumulations:o,collectionTime:i,aggregationTemporality:a});let u=UU(o);if(u.length!==0)return this._aggregator.toMetricData(r,a,u,i)}_stashAccumulations(t){let r=this._unreportedAccumulations.keys();for(let n of r){let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(t)}}_getMergedUnreportedAccumulations(t){let r=new BU.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=e.merge(r,i,this._aggregator);return r}static merge(t,r,n){let i=t,s=r.entries(),o=s.next();for(;o.done!==!0;){let[a,u,l]=o.value;if(t.has(a,l)){let d=t.get(a,l),_=n.merge(d,u);i.set(a,_,l)}else i.set(a,u,l);o=s.next()}return i}static calibrateStartTime(t,r,n){for(let[i,s]of t.keys()){let o=r.get(i,s);o?.setStartTime(n)}return r}};Bu.TemporalMetricProcessor=Df;function UU(e){return Array.from(e.entries())}});var mb=c(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.AsyncMetricStorage=void 0;var FU=Nf(),qU=wf(),GU=Bf(),jU=Yi(),Uf=class extends FU.MetricStorage{constructor(t,r,n,i){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new qU.DeltaMetricProcessor(r),this._temporalMetricStorage=new GU.TemporalMetricProcessor(r,i)}record(t,r){let n=new jU.AttributeHashMap;Array.from(t.entries()).forEach(([i,s])=>{n.set(this._attributesProcessor.process(i),s)}),this._deltaMetricStorage.batchCumulate(n,r)}collect(t,r){let n=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,this._instrumentDescriptor,n,r)}};Uu.AsyncMetricStorage=Uf});var yb=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getConflictResolutionRecipe=Ue.getDescriptionResolutionRecipe=Ue.getTypeConflictResolutionRecipe=Ue.getUnitConflictResolutionRecipe=Ue.getValueTypeConflictResolutionRecipe=Ue.getIncompatibilityDetails=void 0;function HU(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}Ue.getIncompatibilityDetails=HU;function Eb(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}Ue.getValueTypeConflictResolutionRecipe=Eb;function Sb(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}Ue.getUnitConflictResolutionRecipe=Sb;function Ab(e,t){let r={name:t.name,type:t.type,unit:t.unit},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}Ue.getTypeConflictResolutionRecipe=Ab;function Tb(e,t){let r={name:t.name,type:t.type,unit:t.unit},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Ue.getDescriptionResolutionRecipe=Tb;function kU(e,t){return e.valueType!==t.valueType?Eb(e,t):e.unit!==t.unit?Sb(e,t):e.type!==t.type?Ab(e,t):e.description!==t.description?Tb(e,t):""}Ue.getConflictResolutionRecipe=kU});var bb=c(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.MetricStorageRegistry=void 0;var VU=Rt(),Ob=I(),Fu=yb(),Ff=class e{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new e}getStorages(t){let r=[];for(let i of this._sharedRegistry.values())r=r.concat(i);let n=this._perCollectorRegistry.get(t);if(n!=null)for(let i of n.values())r=r.concat(i);return r}register(t){this._registerStorage(t,this._sharedRegistry)}registerForCollector(t,r){let n=this._perCollectorRegistry.get(t);n==null&&(n=new Map,this._perCollectorRegistry.set(t,n)),this._registerStorage(r,n)}findOrUpdateCompatibleStorage(t){let r=this._sharedRegistry.get(t.name);return r===void 0?null:this._findOrUpdateCompatibleStorage(t,r)}findOrUpdateCompatibleCollectorStorage(t,r){let n=this._perCollectorRegistry.get(t);if(n===void 0)return null;let i=n.get(r.name);return i===void 0?null:this._findOrUpdateCompatibleStorage(r,i)}_registerStorage(t,r){let n=t.getInstrumentDescriptor(),i=r.get(n.name);if(i===void 0){r.set(n.name,[t]);return}i.push(t)}_findOrUpdateCompatibleStorage(t,r){let n=null;for(let i of r){let s=i.getInstrumentDescriptor();(0,VU.isDescriptorCompatibleWith)(s,t)?(s.description!==t.description&&(t.description.length>s.description.length&&i.updateDescription(t.description),Ob.diag.warn("A view or instrument with the name ",t.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,Fu.getIncompatibilityDetails)(s,t),`The longer description will be used.
To resolve the conflict:`,(0,Fu.getConflictResolutionRecipe)(s,t))),n=i):Ob.diag.warn("A view or instrument with the name ",t.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,Fu.getIncompatibilityDetails)(s,t),`To resolve the conflict:
`,(0,Fu.getConflictResolutionRecipe)(s,t))}return n}};qu.MetricStorageRegistry=Ff});var Rb=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.MultiMetricStorage=void 0;var qf=class{constructor(t){this._backingStorages=t}record(t,r,n,i){this._backingStorages.forEach(s=>{s.record(t,r,n,i)})}};Gu.MultiMetricStorage=qf});var vb=c(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.BatchObservableResultImpl=jn.ObservableResultImpl=void 0;var Gn=I(),Pb=Yi(),$U=Mu(),Gf=class{constructor(t,r){this._instrumentName=t,this._valueType=r,this._buffer=new Pb.AttributeHashMap}observe(t,r={}){if(typeof t!="number"){Gn.diag.warn(`non-number value provided to metric ${this._instrumentName}: ${t}`);return}this._valueType===Gn.ValueType.INT&&!Number.isInteger(t)&&(Gn.diag.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),t=Math.trunc(t),!Number.isInteger(t))||this._buffer.set(r,t)}};jn.ObservableResultImpl=Gf;var jf=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,$U.isObservableInstrument)(t))return;let i=this._buffer.get(t);if(i==null&&(i=new Pb.AttributeHashMap,this._buffer.set(t,i)),typeof r!="number"){Gn.diag.warn(`non-number value provided to metric ${t._descriptor.name}: ${r}`);return}t._descriptor.valueType===Gn.ValueType.INT&&!Number.isInteger(r)&&(Gn.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r),!Number.isInteger(r))||i.set(n,r)}};jn.BatchObservableResultImpl=jf});var Nb=c(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.ObservableRegistry=void 0;var YU=I(),Ib=Mu(),Cb=vb(),Xi=gt(),Hf=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(Ib.isObservableInstrument));if(n.size===0){YU.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(Ib.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t,r){let n=this._observeCallbacks(t,r),i=this._observeBatchCallbacks(t,r);return(await(0,Xi.PromiseAllSettled)([...n,...i])).filter(Xi.isPromiseAllSettledRejectionResult).map(a=>a.reason)}_observeCallbacks(t,r){return this._callbacks.map(async({callback:n,instrument:i})=>{let s=new Cb.ObservableResultImpl(i._descriptor.name,i._descriptor.valueType),o=Promise.resolve(n(s));r!=null&&(o=(0,Xi.callWithTimeout)(o,r)),await o,i._metricStorages.forEach(a=>{a.record(s._buffer,t)})})}_observeBatchCallbacks(t,r){return this._batchCallbacks.map(async({callback:n,instruments:i})=>{let s=new Cb.BatchObservableResultImpl,o=Promise.resolve(n(s));r!=null&&(o=(0,Xi.callWithTimeout)(o,r)),await o,i.forEach(a=>{let u=s._buffer.get(a);u!=null&&a._metricStorages.forEach(l=>{l.record(u,t)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Xi.setEquals)(n.instruments,r))}};ju.ObservableRegistry=Hf});var Mb=c(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.SyncMetricStorage=void 0;var XU=Nf(),WU=wf(),KU=Bf(),kf=class extends XU.MetricStorage{constructor(t,r,n,i){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new WU.DeltaMetricProcessor(r),this._temporalMetricStorage=new KU.TemporalMetricProcessor(r,i)}record(t,r,n,i){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n,i)}collect(t,r){let n=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,this._instrumentDescriptor,n,r)}};Hu.SyncMetricStorage=kf});var $f=c($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.FilteringAttributesProcessor=$t.NoopAttributesProcessor=$t.AttributesProcessor=void 0;var Wi=class{static Noop(){return zU}};$t.AttributesProcessor=Wi;var ku=class extends Wi{process(t,r){return t}};$t.NoopAttributesProcessor=ku;var Vf=class extends Wi{constructor(t){super(),this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};$t.FilteringAttributesProcessor=Vf;var zU=new ku});var Lb=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.MeterSharedState=void 0;var QU=Rt(),ZU=gb(),JU=gt(),eF=mb(),tF=bb(),rF=Rb(),nF=Nb(),iF=Mb(),sF=$f(),Yf=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this.metricStorageRegistry=new tF.MetricStorageRegistry,this.observableRegistry=new nF.ObservableRegistry,this.meter=new ZU.Meter(this)}registerMetricStorage(t){let r=this._registerMetricStorage(t,iF.SyncMetricStorage);return r.length===1?r[0]:new rF.MultiMetricStorage(r)}registerAsyncMetricStorage(t){return this._registerMetricStorage(t,eF.AsyncMetricStorage)}async collect(t,r,n){let i=await this.observableRegistry.observe(r,n?.timeoutMillis),s=this.metricStorageRegistry.getStorages(t);if(s.length===0)return null;let o=s.map(a=>a.collect(t,r)).filter(JU.isNotNullish);return o.length===0?{errors:i}:{scopeMetrics:{scope:this._instrumentationScope,metrics:o},errors:i}}_registerMetricStorage(t,r){let i=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(s=>{let o=(0,QU.createInstrumentDescriptorWithView)(s,t),a=this.metricStorageRegistry.findOrUpdateCompatibleStorage(o);if(a!=null)return a;let u=s.aggregation.createAggregator(o),l=new r(o,u,s.attributesProcessor,this._meterProviderSharedState.metricCollectors);return this.metricStorageRegistry.register(l),l});if(i.length===0){let o=this._meterProviderSharedState.selectAggregations(t.type).map(([a,u])=>{let l=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(a,t);if(l!=null)return l;let d=u.createAggregator(t),_=new r(t,d,sF.AttributesProcessor.Noop(),[a]);return this.metricStorageRegistry.registerForCollector(a,_),_});i=i.concat(o)}return i}};Vu.MeterSharedState=Yf});var xb=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.MeterProviderSharedState=void 0;var oF=gt(),aF=hb(),uF=Lb(),Xf=class{constructor(t){this.resource=t,this.viewRegistry=new aF.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,oF.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new uF.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}selectAggregations(t){let r=[];for(let n of this.metricCollectors)r.push([n,n.selectAggregation(t)]);return r}};$u.MeterProviderSharedState=Xf});var wb=c(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.MetricCollector=void 0;var cF=X(),Wf=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,cF.millisToHrTime)(Date.now()),n=[],i=[],s=Array.from(this._sharedState.meterSharedStates.values()).map(async o=>{let a=await o.collect(this,r,t);a?.scopeMetrics!=null&&n.push(a.scopeMetrics),a?.errors!=null&&i.push(...a.errors)});return await Promise.all(s),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:n},errors:i}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}selectAggregation(t){return this._metricReader.selectAggregation(t)}};Yu.MetricCollector=Wf});var Bb=c(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.MeterProvider=void 0;var Xu=I(),Db=dn(),lF=xb(),dF=wb(),Kf=class{constructor(t){var r;this._shutdown=!1;let n=Db.Resource.default().merge((r=t?.resource)!==null&&r!==void 0?r:Db.Resource.empty());if(this._sharedState=new lF.MeterProviderSharedState(n),t?.views!=null&&t.views.length>0)for(let i of t.views)this._sharedState.viewRegistry.addView(i);if(t?.readers!=null&&t.readers.length>0)for(let i of t.readers)this.addMetricReader(i)}getMeter(t,r="",n={}){return this._shutdown?(Xu.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,Xu.createNoopMeter)()):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new dF.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}async shutdown(t){if(this._shutdown){Xu.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){Xu.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Wu.MeterProvider=Kf});var Ku=c(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.ExactPredicate=Hn.PatternPredicate=void 0;var _F=/[\^$\\.+?()[\]{}|]/g,zf=class e{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(e.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(_F,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Hn.PatternPredicate=zf;var Qf=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Hn.ExactPredicate=Qf});var Fb=c(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.InstrumentSelector=void 0;var Ub=Ku(),Zf=class{constructor(t){var r;this._nameFilter=new Ub.PatternPredicate((r=t?.name)!==null&&r!==void 0?r:"*"),this._type=t?.type,this._unitFilter=new Ub.ExactPredicate(t?.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}};zu.InstrumentSelector=Zf});var qb=c(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.MeterSelector=void 0;var Jf=Ku(),eh=class{constructor(t){this._nameFilter=new Jf.ExactPredicate(t?.name),this._versionFilter=new Jf.ExactPredicate(t?.version),this._schemaUrlFilter=new Jf.ExactPredicate(t?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Qu.MeterSelector=eh});var jb=c(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.View=void 0;var pF=Ku(),Gb=$f(),fF=Fb(),hF=qb(),gF=Ou();function mF(e){return e.instrumentName==null&&e.instrumentType==null&&e.instrumentUnit==null&&e.meterName==null&&e.meterVersion==null&&e.meterSchemaUrl==null}var th=class{constructor(t){var r;if(mF(t))throw new Error("Cannot create view with no selector arguments supplied");if(t.name!=null&&(t?.instrumentName==null||pF.PatternPredicate.hasWildcard(t.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");t.attributeKeys!=null?this.attributesProcessor=new Gb.FilteringAttributesProcessor(t.attributeKeys):this.attributesProcessor=Gb.AttributesProcessor.Noop(),this.name=t.name,this.description=t.description,this.aggregation=(r=t.aggregation)!==null&&r!==void 0?r:gF.Aggregation.Default(),this.instrumentSelector=new fF.InstrumentSelector({name:t.instrumentName,type:t.instrumentType,unit:t.instrumentUnit}),this.meterSelector=new hF.MeterSelector({name:t.meterName,version:t.meterVersion,schemaUrl:t.meterSchemaUrl})}};Zu.View=th});var Hb=c(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.TimeoutError=F.View=F.Aggregation=F.SumAggregation=F.LastValueAggregation=F.HistogramAggregation=F.DropAggregation=F.ExponentialHistogramAggregation=F.ExplicitBucketHistogramAggregation=F.DefaultAggregation=F.MeterProvider=F.InstrumentType=F.ConsoleMetricExporter=F.InMemoryMetricExporter=F.PeriodicExportingMetricReader=F.MetricReader=F.DataPointType=F.AggregationTemporality=void 0;var EF=cu();Object.defineProperty(F,"AggregationTemporality",{enumerable:!0,get:function(){return EF.AggregationTemporality}});var SF=yn();Object.defineProperty(F,"DataPointType",{enumerable:!0,get:function(){return SF.DataPointType}});var AF=mf();Object.defineProperty(F,"MetricReader",{enumerable:!0,get:function(){return AF.MetricReader}});var TF=lb();Object.defineProperty(F,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return TF.PeriodicExportingMetricReader}});var yF=_b();Object.defineProperty(F,"InMemoryMetricExporter",{enumerable:!0,get:function(){return yF.InMemoryMetricExporter}});var OF=fb();Object.defineProperty(F,"ConsoleMetricExporter",{enumerable:!0,get:function(){return OF.ConsoleMetricExporter}});var bF=Rt();Object.defineProperty(F,"InstrumentType",{enumerable:!0,get:function(){return bF.InstrumentType}});var RF=Bb();Object.defineProperty(F,"MeterProvider",{enumerable:!0,get:function(){return RF.MeterProvider}});var Yt=Ou();Object.defineProperty(F,"DefaultAggregation",{enumerable:!0,get:function(){return Yt.DefaultAggregation}});Object.defineProperty(F,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return Yt.ExplicitBucketHistogramAggregation}});Object.defineProperty(F,"ExponentialHistogramAggregation",{enumerable:!0,get:function(){return Yt.ExponentialHistogramAggregation}});Object.defineProperty(F,"DropAggregation",{enumerable:!0,get:function(){return Yt.DropAggregation}});Object.defineProperty(F,"HistogramAggregation",{enumerable:!0,get:function(){return Yt.HistogramAggregation}});Object.defineProperty(F,"LastValueAggregation",{enumerable:!0,get:function(){return Yt.LastValueAggregation}});Object.defineProperty(F,"SumAggregation",{enumerable:!0,get:function(){return Yt.SumAggregation}});Object.defineProperty(F,"Aggregation",{enumerable:!0,get:function(){return Yt.Aggregation}});var PF=jb();Object.defineProperty(F,"View",{enumerable:!0,get:function(){return PF.View}});var vF=gt();Object.defineProperty(F,"TimeoutError",{enumerable:!0,get:function(){return vF.TimeoutError}})});var Xb=c(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.toMetric=Xt.toScopeMetrics=Xt.toResourceMetrics=void 0;var kb=I(),kn=Hb(),Ju=Ui(),IF=Di();function CF(e,t){let r=(0,IF.getOtlpEncoder)(t);return{resource:{attributes:(0,Ju.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:$b(e.scopeMetrics,r)}}Xt.toResourceMetrics=CF;function $b(e,t){return Array.from(e.map(r=>({scope:{name:r.scope.name,version:r.scope.version},metrics:r.metrics.map(n=>Yb(n,t)),schemaUrl:r.scope.schemaUrl})))}Xt.toScopeMetrics=$b;function Yb(e,t){let r={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},n=xF(e.aggregationTemporality);switch(e.dataPointType){case kn.DataPointType.SUM:r.sum={aggregationTemporality:n,isMonotonic:e.isMonotonic,dataPoints:Vb(e,t)};break;case kn.DataPointType.GAUGE:r.gauge={dataPoints:Vb(e,t)};break;case kn.DataPointType.HISTOGRAM:r.histogram={aggregationTemporality:n,dataPoints:MF(e,t)};break;case kn.DataPointType.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:n,dataPoints:LF(e,t)};break}return r}Xt.toMetric=Yb;function NF(e,t,r){let n={attributes:(0,Ju.toAttributes)(e.attributes),startTimeUnixNano:r.encodeHrTime(e.startTime),timeUnixNano:r.encodeHrTime(e.endTime)};switch(t){case kb.ValueType.INT:n.asInt=e.value;break;case kb.ValueType.DOUBLE:n.asDouble=e.value;break}return n}function Vb(e,t){return e.dataPoints.map(r=>NF(r,e.descriptor.valueType,t))}function MF(e,t){return e.dataPoints.map(r=>{let n=r.value;return{attributes:(0,Ju.toAttributes)(r.attributes),bucketCounts:n.buckets.counts,explicitBounds:n.buckets.boundaries,count:n.count,sum:n.sum,min:n.min,max:n.max,startTimeUnixNano:t.encodeHrTime(r.startTime),timeUnixNano:t.encodeHrTime(r.endTime)}})}function LF(e,t){return e.dataPoints.map(r=>{let n=r.value;return{attributes:(0,Ju.toAttributes)(r.attributes),count:n.count,min:n.min,max:n.max,sum:n.sum,positive:{offset:n.positive.offset,bucketCounts:n.positive.bucketCounts},negative:{offset:n.negative.offset,bucketCounts:n.negative.bucketCounts},scale:n.scale,zeroCount:n.zeroCount,startTimeUnixNano:t.encodeHrTime(r.startTime),timeUnixNano:t.encodeHrTime(r.endTime)}})}function xF(e){switch(e){case kn.AggregationTemporality.DELTA:return 1;case kn.AggregationTemporality.CUMULATIVE:return 2}}});var Wb=c(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.createExportMetricsServiceRequest=void 0;var wF=Xb();function DF(e,t){return{resourceMetrics:e.map(r=>(0,wF.toResourceMetrics)(r,t))}}ec.createExportMetricsServiceRequest=DF});var zb=c(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.toLogAttributes=Vn.createExportLogsServiceRequest=void 0;var BF=Di(),rh=Ui();function UF(e,t){let r=(0,BF.getOtlpEncoder)(t);return{resourceLogs:qF(e,r)}}Vn.createExportLogsServiceRequest=UF;function FF(e){let t=new Map;for(let r of e){let{resource:n,instrumentationScope:{name:i,version:s="",schemaUrl:o=""}}=r,a=t.get(n);a||(a=new Map,t.set(n,a));let u=`${i}@${s}:${o}`,l=a.get(u);l||(l=[],a.set(u,l)),l.push(r)}return t}function qF(e,t){let r=FF(e);return Array.from(r,([n,i])=>({resource:{attributes:(0,rh.toAttributes)(n.attributes),droppedAttributesCount:0},scopeLogs:Array.from(i,([,s])=>{let{instrumentationScope:{name:o,version:a,schemaUrl:u}}=s[0];return{scope:{name:o,version:a},logRecords:s.map(l=>GF(l,t)),schemaUrl:u}}),schemaUrl:void 0}))}function GF(e,t){var r,n,i;return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:e.severityNumber,severityText:e.severityText,body:(0,rh.toAnyValue)(e.body),attributes:Kb(e.attributes),droppedAttributesCount:e.droppedAttributesCount,flags:(r=e.spanContext)===null||r===void 0?void 0:r.traceFlags,traceId:t.encodeOptionalSpanContext((n=e.spanContext)===null||n===void 0?void 0:n.traceId),spanId:t.encodeOptionalSpanContext((i=e.spanContext)===null||i===void 0?void 0:i.spanId)}}function Kb(e){return Object.keys(e).map(t=>(0,rh.toKeyValue)(t,e[t]))}Vn.toLogAttributes=Kb});var Qb=c(fe=>{"use strict";var jF=fe&&fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$n=fe&&fe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jF(t,e,r)};Object.defineProperty(fe,"__esModule",{value:!0});fe.createExportLogsServiceRequest=fe.createExportMetricsServiceRequest=fe.createExportTraceServiceRequest=void 0;$n(TO(),fe);$n(Di(),fe);$n(vO(),fe);$n(CO(),fe);$n(NO(),fe);$n(LO(),fe);var HF=BO();Object.defineProperty(fe,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return HF.createExportTraceServiceRequest}});var kF=Wb();Object.defineProperty(fe,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return kF.createExportMetricsServiceRequest}});var VF=zb();Object.defineProperty(fe,"createExportLogsServiceRequest",{enumerable:!0,get:function(){return VF.createExportLogsServiceRequest}})});var Zb=c(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.VERSION=void 0;tc.VERSION="0.48.0"});var tR=c(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.OTLPTraceExporter=void 0;var Yn=X(),$F=Xp(),Jb=Xp(),YF=Qb(),XF=Zb(),eR="v1/traces",WF=`http://localhost:4318/${eR}`,KF={"User-Agent":`OTel-OTLP-Exporter-JavaScript/${XF.VERSION}`},nh=class extends $F.OTLPExporterNodeBase{constructor(t={}){super(t),this.headers=Object.assign(Object.assign(Object.assign(Object.assign({},this.headers),KF),Yn.baggageUtils.parseKeyPairsIntoRecord((0,Yn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS)),t.headers)}convert(t){return(0,YF.createExportTraceServiceRequest)(t,{useHex:!0,useLongBits:!1})}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,Yn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,Jb.appendRootPathToUrlIfNeeded)((0,Yn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT):(0,Yn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,Jb.appendResourcePathToUrl)((0,Yn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,eR):WF}};rc.OTLPTraceExporter=nh});var rR=c(Pr=>{"use strict";var zF=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QF=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zF(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});QF(tR(),Pr)});var nR=c(vr=>{"use strict";var ZF=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),JF=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ZF(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});JF(rR(),vr)});var iR=c(Ir=>{"use strict";var eq=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tq=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&eq(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});tq(nR(),Ir)});var sq={};yR(sq,{default:()=>iq});var Nr=R("@yarnpkg/cli"),Ne=R("@yarnpkg/core"),pR=R("@yarnpkg/libzip"),K=R("@yarnpkg/fslib"),rt=R("clipanion"),ih=J(R("path"));var oh=R("fs"),ah=async e=>{try{return(0,oh.readFileSync)(e,"utf-8").split(`
`)}catch{return[]}};var uh=R("path"),ch=({ignoreFile:e,cwd:t})=>(0,uh.join)(t,e);var qE=J(lc());var td=J(R("node:process"),1),RE=J(R("node:fs"),1),er=J(R("node:path"),1);var ss=R("node:events"),Sh=R("node:stream"),_c=R("node:stream/promises");function pc(e){if(!Array.isArray(e))throw new TypeError(`Expected an array, got \`${typeof e}\`.`);for(let i of e)Ah(i);let t=e.some(({readableObjectMode:i})=>i),r=jR(e,t),n=new dc({objectMode:t,writableHighWaterMark:r,readableHighWaterMark:r});for(let i of e)n.add(i);return e.length===0&&n.end(),n}var jR=(e,t)=>{if(e.length===0)return 16384;let r=e.filter(({readableObjectMode:n})=>n===t).map(({readableHighWaterMark:n})=>n);return Math.max(...r)},dc=class extends Sh.PassThrough{#e=new Set([]);#r=new Set([]);#t;constructor(...t){super(...t),this.#t=HR(this,this.#e)}add(t){if(!this.#e.has(t)){if(Ah(t),!this.writable)throw new TypeError("The merged stream has already ended.");this.#e.add(t),$R({passThroughStream:this,stream:t,streams:this.#e,ended:this.#r,onFinished:this.#t}),is(this,yh),t.pipe(this,{end:!1})}}remove(t){if(!this.#e.has(t))throw new TypeError("Stream cannot be removed because it was not piped.");t.unpipe(this)}},HR=async(e,t)=>{is(e,Eh);let r=new AbortController;try{await Promise.race([kR(e,r),VR(e,t,r)])}finally{r.abort(),is(e,-Eh)}},kR=async(e,{signal:t})=>{try{await(0,_c.finished)(e,{signal:t,cleanup:!0})}catch{}},VR=async(e,t,{signal:r})=>{for await(let[n]of(0,ss.on)(e,"unpipe",{signal:r}))t.has(n)&&n.emit(Th)},Ah=e=>{if(typeof e?.pipe!="function")throw new TypeError(`Expected a readable stream, got: \`${typeof e}\`.`)},$R=async({passThroughStream:e,stream:t,streams:r,ended:n,onFinished:i})=>{try{let s=new AbortController;try{await Promise.race([i,YR({stream:t,streams:r,ended:n,abortController:s}),XR({passThroughStream:e,stream:t,streams:r,ended:n,abortController:s})])}finally{s.abort()}r.size===n.size&&e.writable&&e.end()}catch(s){s?.code==="ERR_STREAM_PREMATURE_CLOSE"?e.destroy():e.destroy(s)}},YR=async({stream:e,streams:t,ended:r,abortController:{signal:n}})=>{await(0,_c.finished)(e,{signal:n,cleanup:!0,readable:!0,writable:!1}),t.has(e)&&r.add(e)},XR=async({passThroughStream:e,stream:t,streams:r,ended:n,abortController:{signal:i}})=>{await(0,ss.once)(t,Th,{signal:i}),r.delete(t),n.delete(t),is(e,-yh)},Th=Symbol("unpipe"),is=(e,t)=>{e.setMaxListeners(e.getMaxListeners()+t)},Eh=2,yh=1;var qr=J(Ql(),1);var ws=J(R("fs"),1);async function Zl(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await ws.promises[e](r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Jl(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return ws.default[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}var NG=Zl.bind(null,"stat","isFile"),lE=Zl.bind(null,"stat","isDirectory"),MG=Zl.bind(null,"lstat","isSymbolicLink"),LG=Jl.bind(null,"statSync","isFile"),dE=Jl.bind(null,"statSync","isDirectory"),xG=Jl.bind(null,"lstatSync","isSymbolicLink");var _E=R("node:url");function Jn(e){return e instanceof URL?(0,_E.fileURLToPath)(e):e}var pE=J(R("node:process"),1),fE=J(R("node:fs"),1),hE=J(R("node:fs/promises"),1),Jt=J(R("node:path"),1),ed=J(Ql(),1),gE=J(lc(),1);function Fr(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}var ei=e=>e[0]==="!";var JI=["**/node_modules","**/flow-typed","**/coverage","**/.git"],mE={absolute:!0,dot:!0},EE="**/.gitignore",eC=(e,t)=>ei(e)?"!"+Jt.default.posix.join(t,e.slice(1)):Jt.default.posix.join(t,e),tC=(e,t)=>{let r=Fr(Jt.default.relative(t,Jt.default.dirname(e.filePath)));return e.content.split(/\r?\n/).filter(n=>n&&!n.startsWith("#")).map(n=>eC(n,r))},rC=(e,t)=>{if(t=Fr(t),Jt.default.isAbsolute(e)){if(Fr(e).startsWith(t))return Jt.default.relative(t,e);throw new Error(`Path ${e} is not in cwd ${t}`)}return e},SE=(e,t)=>{let r=e.flatMap(i=>tC(i,t)),n=(0,gE.default)().add(r);return i=>(i=Jn(i),i=rC(i,t),i?n.ignores(Fr(i)):!1)},AE=(e={})=>({cwd:Jn(e.cwd)??pE.default.cwd(),suppressErrors:!!e.suppressErrors,deep:typeof e.deep=="number"?e.deep:Number.POSITIVE_INFINITY,ignore:[...e.ignore??[],...JI]}),TE=async(e,t)=>{let{cwd:r,suppressErrors:n,deep:i,ignore:s}=AE(t),o=await(0,ed.default)(e,{cwd:r,suppressErrors:n,deep:i,ignore:s,...mE}),a=await Promise.all(o.map(async u=>({filePath:u,content:await hE.default.readFile(u,"utf8")})));return SE(a,r)},yE=(e,t)=>{let{cwd:r,suppressErrors:n,deep:i,ignore:s}=AE(t),a=ed.default.sync(e,{cwd:r,suppressErrors:n,deep:i,ignore:s,...mE}).map(u=>({filePath:u,content:fE.default.readFileSync(u,"utf8")}));return SE(a,r)};var nC=e=>{if(e.some(t=>typeof t!="string"))throw new TypeError("Patterns must be a string or an array of strings")},PE=(e,t)=>{let r=ei(e)?e.slice(1):e;return er.default.isAbsolute(r)?r:er.default.join(t,r)},vE=({directoryPath:e,files:t,extensions:r})=>{let n=r?.length>0?`.${r.length>1?`{${r.join(",")}}`:r[0]}`:"";return t?t.map(i=>er.default.posix.join(e,`**/${er.default.extname(i)?i:`${i}${n}`}`)):[er.default.posix.join(e,`**${n?`/*${n}`:""}`)]},OE=async(e,{cwd:t=td.default.cwd(),files:r,extensions:n}={})=>(await Promise.all(e.map(async s=>await lE(PE(s,t))?vE({directoryPath:s,files:r,extensions:n}):s))).flat(),bE=(e,{cwd:t=td.default.cwd(),files:r,extensions:n}={})=>e.flatMap(i=>dE(PE(i,t))?vE({directoryPath:i,files:r,extensions:n}):i),rd=e=>(e=[...new Set([e].flat())],nC(e),e),iC=e=>{if(!e)return;let t;try{t=RE.default.statSync(e)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},IE=(e={})=>(e={...e,ignore:e.ignore??[],expandDirectories:e.expandDirectories??!0,cwd:Jn(e.cwd)},iC(e.cwd),e),CE=e=>async(t,r)=>e(rd(t),IE(r)),Ds=e=>(t,r)=>e(rd(t),IE(r)),NE=e=>{let{ignoreFiles:t,gitignore:r}=e,n=t?rd(t):[];return r&&n.push(EE),n},sC=async e=>{let t=NE(e);return LE(t.length>0&&await TE(t,e))},ME=e=>{let t=NE(e);return LE(t.length>0&&yE(t,e))},LE=e=>{let t=new Set;return r=>{let n=er.default.normalize(r.path??r);return t.has(n)||e&&e(n)?!1:(t.add(n),!0)}},xE=(e,t)=>e.flat().filter(r=>t(r)),wE=(e,t)=>{let r=[];for(;e.length>0;){let n=e.findIndex(s=>ei(s));if(n===-1){r.push({patterns:e,options:t});break}let i=e[n].slice(1);for(let s of r)s.options.ignore.push(i);n!==0&&r.push({patterns:e.slice(0,n),options:{...t,ignore:[...t.ignore,i]}}),e=e.slice(n+1)}return r},DE=(e,t)=>({...t?{cwd:t}:{},...Array.isArray(e)?{files:e}:e}),BE=async(e,t)=>{let r=wE(e,t),{cwd:n,expandDirectories:i}=t;if(!i)return r;let s=DE(i,n);return Promise.all(r.map(async o=>{let{patterns:a,options:u}=o;return[a,u.ignore]=await Promise.all([OE(a,s),OE(u.ignore,{cwd:n})]),{patterns:a,options:u}}))},nd=(e,t)=>{let r=wE(e,t),{cwd:n,expandDirectories:i}=t;if(!i)return r;let s=DE(i,n);return r.map(o=>{let{patterns:a,options:u}=o;return a=bE(a,s),u.ignore=bE(u.ignore,{cwd:n}),{patterns:a,options:u}})},UE=CE(async(e,t)=>{let[r,n]=await Promise.all([BE(e,t),sC(t)]),i=await Promise.all(r.map(s=>(0,qr.default)(s.patterns,s.options)));return xE(i,n)}),WG=Ds((e,t)=>{let r=nd(e,t),n=ME(t),i=r.map(s=>qr.default.sync(s.patterns,s.options));return xE(i,n)}),KG=Ds((e,t)=>{let r=nd(e,t),n=ME(t),i=r.map(o=>qr.default.stream(o.patterns,o.options));return pc(i).filter(o=>n(o))}),zG=Ds((e,t)=>e.some(r=>qr.default.isDynamicPattern(r,t))),QG=CE(BE),ZG=Ds(nd),{convertPathToPattern:JG}=qr.default;var FE=async({cwd:e})=>{try{return await UE("**/*",{dot:!0,cwd:e,absolute:!1})}catch{return[]}};var id=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=ch({ignoreFile:t,cwd:r}),i=(0,qE.default)().add([...e,...await ah(n)]);return(await FE({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var GE=["package.json","package.yaml","package.yml"];var Bs=R("path"),oC={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,Bs.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>GE.map(t=>(0,Bs.join)(e,t))},aC=({cwd:e,rootDir:t})=>[...new Set(Object.values(oC).map(r=>r({cwd:e,rootDir:t})).flat())],jE=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>aC({cwd:r,rootDir:t})).flat();var oi=R("@yarnpkg/fslib"),q=J(R("typanion"));function nS(e){return typeof e>"u"||e===null}function uC(e){return typeof e=="object"&&e!==null}function cC(e){return Array.isArray(e)?e:nS(e)?[]:[e]}function lC(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function dC(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function _C(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var pC=nS,fC=uC,hC=cC,gC=dC,mC=_C,EC=lC,de={isNothing:pC,isObject:fC,toArray:hC,repeat:gC,isNegativeZero:mC,extend:EC};function iS(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ri(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=iS(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ri.prototype=Object.create(Error.prototype);ri.prototype.constructor=ri;ri.prototype.toString=function(t){return this.name+": "+iS(this,t)};var Le=ri;function sd(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function od(e,t){return de.repeat(" ",t-e.length)+e}function SC(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,l,d=Math.min(e.line+t.linesAfter,i.length).toString().length,_=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)l=sd(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),_),a=de.repeat(" ",t.indent)+od((e.line-u+1).toString(),d)+" | "+l.str+`
`+a;for(l=sd(e.buffer,n[o],i[o],e.position,_),a+=de.repeat(" ",t.indent)+od((e.line+1).toString(),d)+" | "+l.str+`
`,a+=de.repeat("-",t.indent+d+3+l.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)l=sd(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),_),a+=de.repeat(" ",t.indent)+od((e.line+u+1).toString(),d)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var AC=SC,TC=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],yC=["scalar","sequence","mapping"];function OC(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function bC(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(TC.indexOf(r)===-1)throw new Le('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=OC(t.styleAliases||null),yC.indexOf(this.kind)===-1)throw new Le('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Te=bC;function HE(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function RC(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function ud(e){return this.extend(e)}ud.prototype.extend=function(t){var r=[],n=[];if(t instanceof Te)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Le("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Te))throw new Le("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Le("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Le("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Te))throw new Le("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(ud.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=HE(i,"implicit"),i.compiledExplicit=HE(i,"explicit"),i.compiledTypeMap=RC(i.compiledImplicit,i.compiledExplicit),i};var PC=ud,vC=new Te("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),IC=new Te("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),CC=new Te("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),NC=new PC({explicit:[vC,IC,CC]});function MC(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function LC(){return null}function xC(e){return e===null}var wC=new Te("tag:yaml.org,2002:null",{kind:"scalar",resolve:MC,construct:LC,predicate:xC,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function DC(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function BC(e){return e==="true"||e==="True"||e==="TRUE"}function UC(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var FC=new Te("tag:yaml.org,2002:bool",{kind:"scalar",resolve:DC,construct:BC,predicate:UC,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function qC(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function GC(e){return 48<=e&&e<=55}function jC(e){return 48<=e&&e<=57}function HC(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!qC(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!GC(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!jC(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function kC(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function VC(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!de.isNegativeZero(e)}var $C=new Te("tag:yaml.org,2002:int",{kind:"scalar",resolve:HC,construct:kC,predicate:VC,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YC=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function XC(e){return!(e===null||!YC.test(e)||e[e.length-1]==="_")}function WC(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var KC=/^[-+]?[0-9]+e/;function zC(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(de.isNegativeZero(e))return"-0.0";return r=e.toString(10),KC.test(r)?r.replace("e",".e"):r}function QC(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||de.isNegativeZero(e))}var ZC=new Te("tag:yaml.org,2002:float",{kind:"scalar",resolve:XC,construct:WC,predicate:QC,represent:zC,defaultStyle:"lowercase"}),sS=NC.extend({implicit:[wC,FC,$C,ZC]}),JC=sS,oS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),aS=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function eN(e){return e===null?!1:oS.exec(e)!==null||aS.exec(e)!==null}function tN(e){var t,r,n,i,s,o,a,u=0,l=null,d,_,p;if(t=oS.exec(e),t===null&&(t=aS.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],_=+(t[11]||0),l=(d*60+_)*6e4,t[9]==="-"&&(l=-l)),p=new Date(Date.UTC(r,n,i,s,o,a,u)),l&&p.setTime(p.getTime()-l),p}function rN(e){return e.toISOString()}var nN=new Te("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:eN,construct:tN,instanceOf:Date,represent:rN});function iN(e){return e==="<<"||e===null}var sN=new Te("tag:yaml.org,2002:merge",{kind:"scalar",resolve:iN}),pd=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function oN(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=pd;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function aN(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=pd,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function uN(e){var t="",r=0,n,i,s=e.length,o=pd;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function cN(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var lN=new Te("tag:yaml.org,2002:binary",{kind:"scalar",resolve:oN,construct:aN,predicate:cN,represent:uN}),dN=Object.prototype.hasOwnProperty,_N=Object.prototype.toString;function pN(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,_N.call(i)!=="[object Object]")return!1;for(s in i)if(dN.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function fN(e){return e!==null?e:[]}var hN=new Te("tag:yaml.org,2002:omap",{kind:"sequence",resolve:pN,construct:fN}),gN=Object.prototype.toString;function mN(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],gN.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function EN(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var SN=new Te("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:mN,construct:EN}),AN=Object.prototype.hasOwnProperty;function TN(e){if(e===null)return!0;var t,r=e;for(t in r)if(AN.call(r,t)&&r[t]!==null)return!1;return!0}function yN(e){return e!==null?e:{}}var ON=new Te("tag:yaml.org,2002:set",{kind:"mapping",resolve:TN,construct:yN}),uS=JC.extend({implicit:[nN,sN],explicit:[lN,hN,SN,ON]}),wt=Object.prototype.hasOwnProperty,Us=1,cS=2,lS=3,Fs=4,ad=1,bN=2,kE=3,RN=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PN=/[\x85\u2028\u2029]/,vN=/[,\[\]\{\}]/,dS=/^(?:!|!!|![a-z\-]+!)$/i,_S=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function VE(e){return Object.prototype.toString.call(e)}function ct(e){return e===10||e===13}function rr(e){return e===9||e===32}function xe(e){return e===9||e===32||e===10||e===13}function jr(e){return e===44||e===91||e===93||e===123||e===125}function IN(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function CN(e){return e===120?2:e===117?4:e===85?8:0}function NN(e){return 48<=e&&e<=57?e-48:-1}function $E(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function MN(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var pS=new Array(256),fS=new Array(256);for(tr=0;tr<256;tr++)pS[tr]=$E(tr)?1:0,fS[tr]=$E(tr);var tr;function LN(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||uS,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function hS(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=AC(r),new Le(t,r)}function v(e,t){throw hS(e,t)}function qs(e,t){e.onWarning&&e.onWarning.call(null,hS(e,t))}var YE={YAML:function(t,r,n){var i,s,o;t.version!==null&&v(t,"duplication of %YAML directive"),n.length!==1&&v(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&v(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&v(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&qs(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&v(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],dS.test(i)||v(t,"ill-formed tag handle (first argument) of the TAG directive"),wt.call(t.tagMap,i)&&v(t,'there is a previously declared suffix for "'+i+'" tag handle'),_S.test(s)||v(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{v(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function xt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||v(e,"expected valid JSON character");else RN.test(a)&&v(e,"the stream contains non-printable characters");e.result+=a}}function XE(e,t,r,n){var i,s,o,a;for(de.isObject(r)||v(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],wt.call(t,s)||(t[s]=r[s],n[s]=!0)}function Hr(e,t,r,n,i,s,o,a,u){var l,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,d=i.length;l<d;l+=1)Array.isArray(i[l])&&v(e,"nested arrays are not supported inside keys"),typeof i=="object"&&VE(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&VE(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,d=s.length;l<d;l+=1)XE(e,t,s[l],r);else XE(e,t,s,r);else!e.json&&!wt.call(r,i)&&wt.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,v(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function fd(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):v(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ue(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;rr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ct(i))for(fd(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&qs(e,"deficient indentation"),n}function Hs(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||xe(r)))}function hd(e,t){t===1?e.result+=" ":t>1&&(e.result+=de.repeat(`
`,t-1))}function xN(e,t,r){var n,i,s,o,a,u,l,d,_=e.kind,p=e.result,S;if(S=e.input.charCodeAt(e.position),xe(S)||jr(S)||S===35||S===38||S===42||S===33||S===124||S===62||S===39||S===34||S===37||S===64||S===96||(S===63||S===45)&&(i=e.input.charCodeAt(e.position+1),xe(i)||r&&jr(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;S!==0;){if(S===58){if(i=e.input.charCodeAt(e.position+1),xe(i)||r&&jr(i))break}else if(S===35){if(n=e.input.charCodeAt(e.position-1),xe(n))break}else{if(e.position===e.lineStart&&Hs(e)||r&&jr(S))break;if(ct(S))if(u=e.line,l=e.lineStart,d=e.lineIndent,ue(e,!1,-1),e.lineIndent>=t){a=!0,S=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=l,e.lineIndent=d;break}}a&&(xt(e,s,o,!1),hd(e,e.line-u),s=o=e.position,a=!1),rr(S)||(o=e.position+1),S=e.input.charCodeAt(++e.position)}return xt(e,s,o,!1),e.result?!0:(e.kind=_,e.result=p,!1)}function wN(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(xt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else ct(r)?(xt(e,n,i,!0),hd(e,ue(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Hs(e)?v(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);v(e,"unexpected end of the stream within a single quoted scalar")}function DN(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return xt(e,r,e.position,!0),e.position++,!0;if(a===92){if(xt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),ct(a))ue(e,!1,t);else if(a<256&&pS[a])e.result+=fS[a],e.position++;else if((o=CN(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=IN(a))>=0?s=(s<<4)+o:v(e,"expected hexadecimal character");e.result+=MN(s),e.position++}else v(e,"unknown escape sequence");r=n=e.position}else ct(a)?(xt(e,r,n,!0),hd(e,ue(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Hs(e)?v(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}v(e,"unexpected end of the stream within a double quoted scalar")}function BN(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,l,d,_,p,S,f=Object.create(null),m,T,A,O;if(O=e.input.charCodeAt(e.position),O===91)d=93,S=!1,a=[];else if(O===123)d=125,S=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),O=e.input.charCodeAt(++e.position);O!==0;){if(ue(e,!0,t),O=e.input.charCodeAt(e.position),O===d)return e.position++,e.tag=o,e.anchor=u,e.kind=S?"mapping":"sequence",e.result=a,!0;r?O===44&&v(e,"expected the node content, but found ','"):v(e,"missed comma between flow collection entries"),T=m=A=null,_=p=!1,O===63&&(l=e.input.charCodeAt(e.position+1),xe(l)&&(_=p=!0,e.position++,ue(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,kr(e,t,Us,!1,!0),T=e.tag,m=e.result,ue(e,!0,t),O=e.input.charCodeAt(e.position),(p||e.line===n)&&O===58&&(_=!0,O=e.input.charCodeAt(++e.position),ue(e,!0,t),kr(e,t,Us,!1,!0),A=e.result),S?Hr(e,a,f,T,m,A,n,i,s):_?a.push(Hr(e,null,f,T,m,A,n,i,s)):a.push(m),ue(e,!0,t),O=e.input.charCodeAt(e.position),O===44?(r=!0,O=e.input.charCodeAt(++e.position)):r=!1}v(e,"unexpected end of the stream within a flow collection")}function UN(e,t){var r,n,i=ad,s=!1,o=!1,a=t,u=0,l=!1,d,_;if(_=e.input.charCodeAt(e.position),_===124)n=!1;else if(_===62)n=!0;else return!1;for(e.kind="scalar",e.result="";_!==0;)if(_=e.input.charCodeAt(++e.position),_===43||_===45)ad===i?i=_===43?kE:bN:v(e,"repeat of a chomping mode identifier");else if((d=NN(_))>=0)d===0?v(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?v(e,"repeat of an indentation width identifier"):(a=t+d-1,o=!0);else break;if(rr(_)){do _=e.input.charCodeAt(++e.position);while(rr(_));if(_===35)do _=e.input.charCodeAt(++e.position);while(!ct(_)&&_!==0)}for(;_!==0;){for(fd(e),e.lineIndent=0,_=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&_===32;)e.lineIndent++,_=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),ct(_)){u++;continue}if(e.lineIndent<a){i===kE?e.result+=de.repeat(`
`,s?1+u:u):i===ad&&s&&(e.result+=`
`);break}for(n?rr(_)?(l=!0,e.result+=de.repeat(`
`,s?1+u:u)):l?(l=!1,e.result+=de.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=de.repeat(`
`,u):e.result+=de.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!ct(_)&&_!==0;)_=e.input.charCodeAt(++e.position);xt(e,r,e.position,!1)}return!0}function WE(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,v(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!xe(o))));){if(a=!0,e.position++,ue(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,kr(e,t,lS,!1,!0),s.push(e.result),ue(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)v(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function FN(e,t,r){var n,i,s,o,a,u,l=e.tag,d=e.anchor,_={},p=Object.create(null),S=null,f=null,m=null,T=!1,A=!1,O;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=_),O=e.input.charCodeAt(e.position);O!==0;){if(!T&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,v(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(O===63||O===58)&&xe(n))O===63?(T&&(Hr(e,_,p,S,f,null,o,a,u),S=f=m=null),A=!0,T=!0,i=!0):T?(T=!1,i=!0):v(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,O=n;else{if(o=e.line,a=e.lineStart,u=e.position,!kr(e,r,cS,!1,!0))break;if(e.line===s){for(O=e.input.charCodeAt(e.position);rr(O);)O=e.input.charCodeAt(++e.position);if(O===58)O=e.input.charCodeAt(++e.position),xe(O)||v(e,"a whitespace character is expected after the key-value separator within a block mapping"),T&&(Hr(e,_,p,S,f,null,o,a,u),S=f=m=null),A=!0,T=!1,i=!1,S=e.tag,f=e.result;else if(A)v(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=d,!0}else if(A)v(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(T&&(o=e.line,a=e.lineStart,u=e.position),kr(e,t,Fs,!0,i)&&(T?f=e.result:m=e.result),T||(Hr(e,_,p,S,f,m,o,a,u),S=f=m=null),ue(e,!0,-1),O=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&O!==0)v(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return T&&Hr(e,_,p,S,f,null,o,a,u),A&&(e.tag=l,e.anchor=d,e.kind="mapping",e.result=_),A}function qN(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&v(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):v(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!xe(o);)o===33&&(n?v(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),dS.test(i)||v(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),vN.test(s)&&v(e,"tag suffix cannot contain flow indicator characters")}s&&!_S.test(s)&&v(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{v(e,"tag name is malformed: "+s)}return r?e.tag=s:wt.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:v(e,'undeclared tag handle "'+i+'"'),!0}function GN(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&v(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!xe(r)&&!jr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&v(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function jN(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!xe(n)&&!jr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&v(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),wt.call(e.anchorMap,r)||v(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ue(e,!0,-1),!0}function kr(e,t,r,n,i){var s,o,a,u=1,l=!1,d=!1,_,p,S,f,m,T;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Fs===r||lS===r,n&&ue(e,!0,-1)&&(l=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;qN(e)||GN(e);)ue(e,!0,-1)?(l=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=l||i),(u===1||Fs===r)&&(Us===r||cS===r?m=t:m=t+1,T=e.position-e.lineStart,u===1?a&&(WE(e,T)||FN(e,T,m))||BN(e,m)?d=!0:(o&&UN(e,m)||wN(e,m)||DN(e,m)?d=!0:jN(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&v(e,"alias node should not have any properties")):xN(e,m,Us===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=a&&WE(e,T))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&v(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),_=0,p=e.implicitTypes.length;_<p;_+=1)if(f=e.implicitTypes[_],f.resolve(e.result)){e.result=f.construct(e.result),e.tag=f.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(wt.call(e.typeMap[e.kind||"fallback"],e.tag))f=e.typeMap[e.kind||"fallback"][e.tag];else for(f=null,S=e.typeMap.multi[e.kind||"fallback"],_=0,p=S.length;_<p;_+=1)if(e.tag.slice(0,S[_].tag.length)===S[_].tag){f=S[_];break}f||v(e,"unknown tag !<"+e.tag+">"),e.result!==null&&f.kind!==e.kind&&v(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+f.kind+'", not "'+e.kind+'"'),f.resolve(e.result,e.tag)?(e.result=f.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):v(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function HN(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(ue(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!xe(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&v(e,"directive name must not be less than one character in length");o!==0;){for(;rr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ct(o));break}if(ct(o))break;for(r=e.position;o!==0&&!xe(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&fd(e),wt.call(YE,n)?YE[n](e,n,i):qs(e,'unknown document directive "'+n+'"')}if(ue(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ue(e,!0,-1)):s&&v(e,"directives end mark is expected"),kr(e,e.lineIndent-1,Fs,!1,!0),ue(e,!0,-1),e.checkLineBreaks&&PN.test(e.input.slice(t,e.position))&&qs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Hs(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ue(e,!0,-1));return}if(e.position<e.length-1)v(e,"end of the stream or a document separator is expected");else return}function gS(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new LN(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,v(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)HN(r);return r.documents}function kN(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=gS(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function VN(e,t){var r=gS(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Le("expected a single document in the stream, but found more")}}var $N=kN,YN=VN,mS={loadAll:$N,load:YN},ES=Object.prototype.toString,SS=Object.prototype.hasOwnProperty,gd=65279,XN=9,ni=10,WN=13,KN=32,zN=33,QN=34,cd=35,ZN=37,JN=38,eM=39,tM=42,AS=44,rM=45,Gs=58,nM=61,iM=62,sM=63,oM=64,TS=91,yS=93,aM=96,OS=123,uM=124,bS=125,ye={};ye[0]="\\0";ye[7]="\\a";ye[8]="\\b";ye[9]="\\t";ye[10]="\\n";ye[11]="\\v";ye[12]="\\f";ye[13]="\\r";ye[27]="\\e";ye[34]='\\"';ye[92]="\\\\";ye[133]="\\N";ye[160]="\\_";ye[8232]="\\L";ye[8233]="\\P";var cM=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],lM=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function dM(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&SS.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function _M(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Le("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+de.repeat("0",n-t.length)+t}var pM=1,ii=2;function fM(e){this.schema=e.schema||uS,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=de.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=dM(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ii:pM,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function KE(e,t){for(var r=de.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function ld(e,t){return`
`+de.repeat(" ",e.indent*t)}function hM(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function js(e){return e===KN||e===XN}function si(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==gd||65536<=e&&e<=1114111}function zE(e){return si(e)&&e!==gd&&e!==WN&&e!==ni}function QE(e,t,r){var n=zE(e),i=n&&!js(e);return(r?n:n&&e!==AS&&e!==TS&&e!==yS&&e!==OS&&e!==bS)&&e!==cd&&!(t===Gs&&!i)||zE(t)&&!js(t)&&e===cd||t===Gs&&i}function gM(e){return si(e)&&e!==gd&&!js(e)&&e!==rM&&e!==sM&&e!==Gs&&e!==AS&&e!==TS&&e!==yS&&e!==OS&&e!==bS&&e!==cd&&e!==JN&&e!==tM&&e!==zN&&e!==uM&&e!==nM&&e!==iM&&e!==eM&&e!==QN&&e!==ZN&&e!==oM&&e!==aM}function mM(e){return!js(e)&&e!==Gs}function ti(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function RS(e){var t=/^\n* /;return t.test(e)}var PS=1,dd=2,vS=3,IS=4,Gr=5;function EM(e,t,r,n,i,s,o,a){var u,l=0,d=null,_=!1,p=!1,S=n!==-1,f=-1,m=gM(ti(e,0))&&mM(ti(e,e.length-1));if(t||o)for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=ti(e,u),!si(l))return Gr;m=m&&QE(l,d,a),d=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=ti(e,u),l===ni)_=!0,S&&(p=p||u-f-1>n&&e[f+1]!==" ",f=u);else if(!si(l))return Gr;m=m&&QE(l,d,a),d=l}p=p||S&&u-f-1>n&&e[f+1]!==" "}return!_&&!p?m&&!o&&!i(e)?PS:s===ii?Gr:dd:r>9&&RS(e)?Gr:o?s===ii?Gr:dd:p?IS:vS}function SM(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ii?'""':"''";if(!e.noCompatMode&&(cM.indexOf(t)!==-1||lM.test(t)))return e.quotingType===ii?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(l){return hM(e,l)}switch(EM(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case PS:return t;case dd:return"'"+t.replace(/'/g,"''")+"'";case vS:return"|"+ZE(t,e.indent)+JE(KE(t,s));case IS:return">"+ZE(t,e.indent)+JE(KE(AM(t,o),s));case Gr:return'"'+TM(t)+'"';default:throw new Le("impossible error: invalid scalar style")}}()}function ZE(e,t){var r=RS(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function JE(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function AM(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,eS(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+eS(u,t),i=s}return n}function eS(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function TM(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ti(e,i),n=ye[r],!n&&si(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||_M(r);return t}function yM(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(Tt(e,t,a,!1,!1)||typeof a>"u"&&Tt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function tS(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(Tt(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&Tt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=ld(e,t)),e.dump&&ni===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function OM(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,l,d;for(o=0,a=s.length;o<a;o+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=s[o],l=r[u],e.replacer&&(l=e.replacer.call(r,u,l)),Tt(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Tt(e,t,l,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function bM(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,l,d,_,p;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Le("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)p="",(!n||i!=="")&&(p+=ld(e,t)),l=o[a],d=r[l],e.replacer&&(d=e.replacer.call(r,l,d)),Tt(e,t+1,l,!0,!0,!0)&&(_=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,_&&(e.dump&&ni===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,_&&(p+=ld(e,t)),Tt(e,t+1,d,!0,_)&&(e.dump&&ni===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=s,e.dump=i||"{}"}function rS(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,ES.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(SS.call(a.represent,u))n=a.represent[u](t,u);else throw new Le("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function Tt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,rS(e,r,!1)||rS(e,r,!0);var a=ES.call(e.dump),u=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",_,p;if(d&&(_=e.duplicates.indexOf(r),p=_!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[_])e.dump="*ref_"+_;else{if(d&&p&&!e.usedDuplicates[_]&&(e.usedDuplicates[_]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(bM(e,t,e.dump,i),p&&(e.dump="&ref_"+_+e.dump)):(OM(e,t,e.dump),p&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?tS(e,t-1,e.dump,i):tS(e,t,e.dump,i),p&&(e.dump="&ref_"+_+e.dump)):(yM(e,t,e.dump),p&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&SM(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Le("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function RM(e,t){var r=[],n=[],i,s;for(_d(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function _d(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)_d(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)_d(e[n[i]],t,r)}function PM(e,t){t=t||{};var r=new fM(t);r.noRefs||RM(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Tt(r,0,n,!0,!0)?r.dump+`
`:""}var vM=PM,IM={dump:vM};function md(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var CS=sS;var NS=mS.load,pj=mS.loadAll,fj=IM.dump;var hj=md("safeLoad","load"),gj=md("safeLoadAll","loadAll"),mj=md("safeDump","dump");var CM=".yarnbuildrc.yml",Ed=".bundleignore",NM=q.isObject({folders:q.isObject({input:q.isOneOf([q.isString(),q.isArray(q.isString())]),output:q.isNullable(q.isOneOf([q.isString(),q.isArray(q.isString())]))}),exclude:q.isArray(q.isString()),bail:q.isBoolean(),hideYarnBuildBadge:q.isBoolean(),ignoreFile:q.isString()}),yj=q.isObject({input:q.isOptional(q.isOneOf([q.isString(),q.isArray(q.isString())])),output:q.isOptional(q.isNullable(q.isOneOf([q.isString(),q.isArray(q.isString())]))),tsconfig:q.isOptional(q.isString())}),MM={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:Ed};async function LM(e){let t=CM,r=oi.ppath.join(e.projectCwd||e.startingCwd,t);if(oi.xfs.existsSync(r)){let n=await oi.xfs.readFilePromise(r,"utf8"),i=[];try{let s=NS(n,{schema:CS});if(NM(s,{errors:i}))return s;console.warn(i)}catch{let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return MM}async function MS(e){return await LM(e)}var we={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var lR=J(I()),dR=J(p_());var sR=J(Ka()),oR=J(dn()),aR=J(ft()),uR=J(iR()),cR=J(Ka()),Xn=J(I());process.env.DEBUG&&Xn.diag.setLogger(new Xn.DiagConsoleLogger,Xn.DiagLogLevel.DEBUG);var Ki=class{static _instance;static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new uR.OTLPTraceExporter,r=new sR.BasicTracerProvider({resource:new oR.Resource({[aR.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new cR.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var Cr=J(I()),zi=class{name;_tracer;constructor(t){this.name=t,this._tracer=Ki.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:lR.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){let n;if(typeof t.ctx>"u"?n=Cr.context.active():n=t.ctx,t.propegateFromEnv||t?.spanOptions?.kind==4){let o=process.env.TRACEPARENT;if(typeof o=="string"){let a=(0,dR.parseTraceParent)(o??"");a&&(n=Cr.trace.setSpanContext(Cr.context.active(),a))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=Cr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(o){if((typeof o=="string"||o instanceof Error)&&this.recordException(i,o),!t.supressExceptions)throw o}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx>"u"?i=Cr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var fR=J(I());var Qi=class extends Nr.BaseCommand{static paths=[["bundle"]];tracer=new zi("yarn.build");json=rt.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});quiet=rt.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});temporaryDirectory=rt.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});outputDirectory=rt.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});noCompress=rt.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});archiveName=rt.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});exclude=rt.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});ignoreFile=rt.Option.String("--ignore-file",Ed,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."});static usage=rt.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});progress({code:t,group:r,msg:n,span:i}){this.quiet!==!0&&console.info(`\u27A4 ${t}:${r}${n}`),typeof i<"u"&&i.addEvent(n,{[we.YARN_BUILD_MESSAGE_CODE]:t})}async removeUnusedPackages(t,r,n,i){return await this.tracer.startSpan({name:"remove unused packages",ctx:t},async({span:s})=>{let{project:o,workspace:a}=await Ne.Project.find(i,n);if(!a)throw new Nr.WorkspaceRequiredError(o.cwd,n);let u=await Ne.Project.find(i,r);if(!u.workspace)throw new Nr.WorkspaceRequiredError(u.project.cwd,r);let l=new Set([a,u.workspace]),d=await MS(i);this.exclude=d.exclude?[...this.exclude,...d.exclude]:this.exclude,this.ignoreFile=d?.ignoreFile??this.ignoreFile;for(let _ of l)for(let p of Ne.Manifest.allDependencies)for(let S of _.manifest.getForScope(p).values()){let f=o.tryWorkspaceByDescriptor(S);f!==null&&(l.add(f),this.progress({code:"YB1001",group:" \u2502 ",msg:`required:	${f.relativeCwd}`,span:s}))}for(let _ of o.workspaces)l.has(_)||_.cwd!==r&&(await K.xfs.removePromise(_.cwd),this.progress({code:"YB1001",group:" \u2502 ",msg:`unused:	${_.relativeCwd}`,span:s}))})}async removeEmptyDirectories(t,{tmpDir:r,cwd:n}){let i=fR.trace.getSpan(t);if(!K.xfs.statSync(n).isDirectory())return!1;let o=await K.xfs.readdirPromise(n);for(let a of o)await this.removeEmptyDirectories(t,{tmpDir:r,cwd:K.ppath.join(n,a)});return o=await K.xfs.readdirPromise(n),o.length===0?(await K.xfs.removePromise(n),this.progress({code:"YB1002",group:" \u2502 ",msg:`empty:	${n.replace(r+"/","")}`,span:i}),!0):!1}async removeExcluded(t,{tmpDir:r,excluded:n,nonRemovableFiles:i,yarnDirectory:s,cacheDirectory:o,shouldRemoveEmptyDirectories:a=!1}){let u=`${r}/.git`;try{await K.xfs.lstatPromise(u)&&await K.xfs.removePromise(u)}catch{}await Promise.all(n.map(async l=>{if(!l.startsWith(s)&&!l.startsWith(o)&&!i.includes(l)&&l.startsWith(r))try{await K.xfs.lstatPromise(l)&&await K.xfs.removePromise(l)}catch{}})),a&&await this.removeEmptyDirectories(t,{tmpDir:r,cwd:r})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:t,ctx:r})=>{this.progress({code:"YB1000",group:" \u250C ",msg:`Prepare ${this.context.cwd} for bundling`,span:t}),this.progress({code:"YB1000",group:" \u2502 ",msg:"Preparing temporary directory",span:t});let n=async i=>await this.tracer.startSpan({name:"prepare for bundle",ctx:r},async({span:s,ctx:o})=>{let a=`${this.context.cwd}`,u=K.ppath.join(a,this.archiveName),l={[we.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[we.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[we.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:i,[we.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[we.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[we.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[we.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(s.setAttributes(l),typeof this.outputDirectory=="string"){let C=_R(this.outputDirectory);if(s.setAttribute(we.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,C),K.xfs.existsSync(C)||await K.xfs.mkdirPromise(C),K.xfs.readdirSync(C).length!=0)throw new Error(" --output-directory is not empty");u=K.ppath.join(C,this.archiveName)}let d=await Ne.Configuration.find(this.context.cwd,this.context.plugins);if(d.projectCwd===null)throw new Error("Can't find project directory");let _=a.replace(d.projectCwd,""),p=!1,S;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(S=_R(this.outputDirectory),S.startsWith(d.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);p=!0}let f=new K.NodeFS;this.progress({code:"YB1000",group:" \u2502 ",msg:"Copying repo to temporary directory",span:s}),await this.tracer.wrap({name:"copy to tmp dir",ctx:o},async C=>K.xfs.copyPromise(i,C,{baseFs:f}),d.projectCwd);let m=`${i}${_}`,T=`${m}/${this.archiveName}`,A=this.exclude;try{await K.xfs.lstatPromise(T)&&A.push(T)}catch{}let O=await Ne.Configuration.find(m,this.context.plugins);O.use("<custom>",{enableNetwork:!1},m);let D=await Ne.Cache.find(O),Ee=`${i}/.yarn`,x=D.cwd;this.progress({code:"YB1000",group:" \u2502 ",msg:"Removing unused and excluded workspaces, folders and files",span:s}),await this.removeUnusedPackages(o,i,m,O);let{project:$,workspace:N}=await Ne.Project.find(O,m);if(!N)throw new Nr.WorkspaceRequiredError($.cwd,m);s.setAttributes({[we.PACKAGE_DIRECTORY]:_,[we.PACKAGE_NAME]:N.anchoredLocator.name}),typeof N.anchoredLocator.scope=="string"&&s.setAttribute(we.PACKAGE_SCOPE,`@${N.anchoredLocator.scope}`);let M=await Ne.Project.find(O,i);if(!M.workspace)throw new Nr.WorkspaceRequiredError(M.project.cwd,i);let H=new Set([N,M.workspace]),oe=jE({workspaces:H,rootDir:i});A=await id({cwd:i,ignoreFile:this.ignoreFile,exclude:A});for(let C of H)for(let G of Ne.Manifest.allDependencies)for(let he of C.manifest.getForScope(G).values()){let h=$.tryWorkspaceByDescriptor(he);h!==null&&H.add(h)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:o},async()=>{for(let C of H){let G=await id({cwd:C.cwd,ignoreFile:this.ignoreFile,exclude:A});await this.removeExcluded(o,{tmpDir:i,excluded:G,nonRemovableFiles:oe,yarnDirectory:Ee,cacheDirectory:x,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:o},async()=>{await this.removeExcluded(o,{tmpDir:i,excluded:A,nonRemovableFiles:oe,yarnDirectory:Ee,cacheDirectory:x,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:o},async()=>{for(let C of $.workspaces)C.manifest.devDependencies.clear(),!H.has(C)&&(C.manifest.dependencies.clear(),C.manifest.peerDependencies.clear());if(N?.manifest?.raw?.main){let C=N.relativeCwd+ih.default.posix.sep+N?.manifest?.raw?.main;K.xfs.writeFilePromise(`${i}${ih.default.posix.sep}entrypoint.js`,rq(C,".pnp.cjs"))}this.progress({code:"YB1000",group:" \u2514 ",msg:"Completed",span:s})}),(await this.tracer.startSpan({name:"bundle",ctx:o},async({ctx:C})=>await Ne.StreamReport.start({configuration:O,json:this.json,stdout:this.context.stdout,includeLogs:!0},async G=>{if(await this.tracer.wrap({name:"yarn install",ctx:C},async({cache:he,report:h})=>await $.install({cache:he,report:h}),{cache:D,report:G}),!(typeof this.temporaryDirectory<"u"))if(p&&typeof S<"u")G.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:C},async({outputPath:he,tmpDir:h})=>f.copyPromise(he,h),{outputPath:S,tmpDir:i});else{G.reportInfo(null,"Creating archive");let he=new pR.ZipFS(u,{create:!0});G.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:C},async({tmpDir:h,baseFs:g})=>await he.copyPromise("/",h,{baseFs:g}),{tmpDir:i,baseFs:f}),await this.tracer.wrap({name:"save zip",ctx:C},async()=>he.saveAndClose()),G.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:u})}}))).exitCode()});return typeof this.temporaryDirectory<"u"?await n(this.temporaryDirectory):await K.xfs.mktempPromise(n)})}},rq=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function _R(e){let t=K.npath.toPortablePath(e);return K.ppath.resolve(t)}var nq={commands:[Qi]},iq=nq;return OR(sq);})();
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
return plugin;
}
};
