/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-all",
factory: function (require) {
var plugin=(()=>{var Wb=Object.create,Kn=Object.defineProperty,Kb=Object.defineProperties,Xb=Object.getOwnPropertyDescriptor,zb=Object.getOwnPropertyDescriptors,Qb=Object.getOwnPropertyNames,ud=Object.getOwnPropertySymbols,Zb=Object.getPrototypeOf,cd=Object.prototype.hasOwnProperty,Jb=Object.prototype.propertyIsEnumerable;var ld=(e,t,r)=>t in e?Kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F=(e,t)=>{for(var r in t||(t={}))cd.call(t,r)&&ld(e,r,t[r]);if(ud)for(var r of ud(t))Jb.call(t,r)&&ld(e,r,t[r]);return e},ce=(e,t)=>Kb(e,zb(t)),eS=e=>Kn(e,"__esModule",{value:!0});var I=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),tS=(e,t)=>{for(var r in t)Kn(e,r,{get:t[r],enumerable:!0})},rS=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Qb(t))!cd.call(e,n)&&n!=="default"&&Kn(e,n,{get:()=>t[n],enumerable:!(r=Xb(t,n))||r.enumerable});return e},N=e=>rS(eS(Kn(e!=null?Wb(Zb(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Td=p((j1,Sd)=>{function _d(e){return Array.isArray(e)?e:[e]}var gd="",md=" ",bu="\\",nS=/^\s+$/,iS=/^\\!/,oS=/^\\#/,sS=/\r?\n/g,aS=/^\.*\/|^\.+$/,Su="/",Ed=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",uS=(e,t,r)=>Object.defineProperty(e,t,{value:r}),cS=/([0-z])-([0-z])/g,lS=e=>e.replace(cS,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:gd),pS=e=>{let{length:t}=e;return e.slice(0,t-t%2)},dS=[[/\\?\s+$/,e=>e.indexOf("\\")===0?md:gd],[/\\\s/g,()=>md],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>bu],[/\\\\/g,()=>bu],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===bu?`\\[${r}${pS(n)}${i}`:i==="]"&&n.length%2==0?`[${lS(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],yd=Object.create(null),fS=(e,t,r)=>{let n=yd[e];if(n)return n;let i=dS.reduce((o,s)=>o.replace(s[0],s[1].bind(e)),e);return yd[e]=r?new RegExp(i,"i"):new RegExp(i)},Tu=e=>typeof e=="string",hS=e=>e&&Tu(e)&&!nS.test(e)&&e.indexOf("#")!==0,_S=e=>e.split(sS),vd=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},gS=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(iS,"!").replace(oS,"#");let i=fS(e,n,t);return new vd(r,e,n,i)},mS=(e,t)=>{throw new t(e)},Nt=(e,t,r)=>Tu(e)?e?Nt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Ad=e=>aS.test(e);Nt.isNotRelative=Ad;Nt.convert=e=>e;var bd=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,uS(this,Ed,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Ed]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(hS(t)){let r=gS(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,_d(Tu(t)?_S(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(o=>{let{negative:s}=o;if(i===s&&n!==i||s&&!n&&!i&&!r)return;o.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let o=t&&Nt.convert(t);return Nt(o,t,mS),this._t(o,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Su)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let o=this._t(i.join(Su)+Su,r,n,i);return r[t]=o.ignored?o:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return _d(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},yo=e=>new bd(e),ES=()=>!1,yS=e=>Nt(e&&Nt.convert(e),e,ES);yo.isPathValid=yS;yo.default=yo;Sd.exports=yo;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Nt.convert=e;let t=/^[a-z]:\//i;Nt.isNotRelative=r=>t.test(r)||Ad(r)}});var Rd=p(Ru=>{var ar=I("path"),qt=process.platform==="win32",Gt=I("fs"),vS=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function AS(){var e;if(vS){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function bS(e){return typeof e=="function"?e:AS()}var k1=ar.normalize;qt?xt=/(.*?)(?:[\/\\]+|$)/g:xt=/(.*?)(?:[\/]+|$)/g;var xt;qt?Xn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Xn=/^[\/]*/;var Xn;Ru.realpathSync=function(t,r){if(t=ar.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},o={},s,a,u,c;l();function l(){var v=Xn.exec(t);s=v[0].length,a=v[0],u=v[0],c="",qt&&!o[u]&&(Gt.lstatSync(u),o[u]=!0)}for(;s<t.length;){xt.lastIndex=s;var d=xt.exec(t);if(c=a,a+=d[0],u=c+d[1],s=xt.lastIndex,!(o[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var h=Gt.lstatSync(u);if(!h.isSymbolicLink()){o[u]=!0,r&&(r[u]=u);continue}var _=null;if(!qt){var g=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(g)&&(_=i[g])}_===null&&(Gt.statSync(u),_=Gt.readlinkSync(u)),f=ar.resolve(c,_),r&&(r[u]=f),qt||(i[g]=_)}t=ar.resolve(f,t.slice(s)),l()}}return r&&(r[n]=t),t};Ru.realpath=function(t,r,n){if(typeof n!="function"&&(n=bS(r),r=null),t=ar.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,o={},s={},a,u,c,l;d();function d(){var v=Xn.exec(t);a=v[0].length,u=v[0],c=v[0],l="",qt&&!s[c]?Gt.lstat(c,function(b){if(b)return n(b);s[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=t.length)return r&&(r[i]=t),n(null,t);xt.lastIndex=a;var v=xt.exec(t);return l=u,u+=v[0],c=l+v[1],a=xt.lastIndex,s[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?g(r[c]):Gt.lstat(c,h)}function h(v,b){if(v)return n(v);if(!b.isSymbolicLink())return s[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!qt){var y=b.dev.toString(32)+":"+b.ino.toString(32);if(o.hasOwnProperty(y))return _(null,o[y],c)}Gt.stat(c,function(O){if(O)return n(O);Gt.readlink(c,function(U,G){qt||(o[y]=G),_(U,G)})})}function _(v,b,y){if(v)return n(v);var O=ar.resolve(l,b);r&&(r[y]=O),g(O)}function g(v){t=ar.resolve(v,t.slice(a)),d()}}});var Iu=p((q1,Id)=>{Id.exports=Ht;Ht.realpath=Ht;Ht.sync=Pu;Ht.realpathSync=Pu;Ht.monkeypatch=TS;Ht.unmonkeypatch=RS;var Vr=I("fs"),Ou=Vr.realpath,Cu=Vr.realpathSync,SS=process.version,Od=/^v[0-5]\./.test(SS),Cd=Rd();function Pd(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Ht(e,t,r){if(Od)return Ou(e,t,r);typeof t=="function"&&(r=t,t=null),Ou(e,t,function(n,i){Pd(n)?Cd.realpath(e,t,r):r(n,i)})}function Pu(e,t){if(Od)return Cu(e,t);try{return Cu(e,t)}catch(r){if(Pd(r))return Cd.realpathSync(e,t);throw r}}function TS(){Vr.realpath=Ht,Vr.realpathSync=Pu}function RS(){Vr.realpath=Ou,Vr.realpathSync=Cu}});var Nd=p((G1,wd)=>{wd.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);OS(i)?r.push.apply(r,i):r.push(i)}return r};var OS=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Bd=p((H1,Dd)=>{"use strict";Dd.exports=xd;function xd(e,t,r){e instanceof RegExp&&(e=Ld(e,r)),t instanceof RegExp&&(t=Ld(t,r));var n=Md(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function Ld(e,t){var r=t.match(e);return r?r[0]:null}xd.range=Md;function Md(e,t,r){var n,i,o,s,a,u=r.indexOf(e),c=r.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(n=[],o=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(e,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,s=c),c=r.indexOf(t,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[o,s])}return a}});var $d=p(($1,Hd)=>{var CS=Nd(),Ud=Bd();Hd.exports=wS;var jd="\0SLASH"+Math.random()+"\0",kd="\0OPEN"+Math.random()+"\0",wu="\0CLOSE"+Math.random()+"\0",Fd="\0COMMA"+Math.random()+"\0",qd="\0PERIOD"+Math.random()+"\0";function Nu(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function PS(e){return e.split("\\\\").join(jd).split("\\{").join(kd).split("\\}").join(wu).split("\\,").join(Fd).split("\\.").join(qd)}function IS(e){return e.split(jd).join("\\").split(kd).join("{").split(wu).join("}").split(Fd).join(",").split(qd).join(".")}function Gd(e){if(!e)return[""];var t=[],r=Ud("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=Gd(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),t.push.apply(t,s),t}function wS(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Yr(PS(e),!0).map(IS)):[]}function NS(e){return"{"+e+"}"}function xS(e){return/^-?0\d/.test(e)}function LS(e,t){return e<=t}function MS(e,t){return e>=t}function Yr(e,t){var r=[],n=Ud("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+wu+n.post,Yr(e)):[e];var u;if(s)u=n.body.split(/\.\./);else if(u=Gd(n.body),u.length===1&&(u=Yr(u[0],!1).map(NS),u.length===1)){var l=n.post.length?Yr(n.post,!1):[""];return l.map(function(A){return n.pre+u[0]+A})}var c=n.pre,l=n.post.length?Yr(n.post,!1):[""],d;if(s){var f=Nu(u[0]),h=Nu(u[1]),_=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(Nu(u[2])):1,v=LS,b=h<f;b&&(g*=-1,v=MS);var y=u.some(xS);d=[];for(var O=f;v(O,h);O+=g){var U;if(o)U=String.fromCharCode(O),U==="\\"&&(U="");else if(U=String(O),y){var G=_-U.length;if(G>0){var te=new Array(G+1).join("0");O<0?U="-"+te+U.slice(1):U=te+U}}d.push(U)}}else d=CS(u,function(K){return Yr(K,!1)});for(var k=0;k<d.length;k++)for(var C=0;C<l.length;C++){var T=c+d[k]+l[C];(!t||s||T)&&r.push(T)}return r}});var Ao=p((V1,zd)=>{zd.exports=Xe;Xe.Minimatch=ve;var zn={sep:"/"};try{zn=I("path")}catch(e){}var xu=Xe.GLOBSTAR=ve.GLOBSTAR={},DS=$d(),Vd={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Lu="[^/]",Mu=Lu+"*?",BS="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",US="(?:(?!(?:\\/|^)\\.).)*?",Yd=jS("().*{}+?[]^$\\!");function jS(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var Wd=/\/+/;Xe.filter=kS;function kS(e,t){return t=t||{},function(r,n,i){return Xe(r,e,t)}}function Kd(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Xe.defaults=function(e){if(!e||!Object.keys(e).length)return Xe;var t=Xe,r=function(i,o,s){return t.minimatch(i,o,Kd(e,s))};return r.Minimatch=function(i,o){return new t.Minimatch(i,Kd(e,o))},r};ve.defaults=function(e){return!e||!Object.keys(e).length?ve:Xe.defaults(e).Minimatch};function Xe(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new ve(t,r).match(e)}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),zn.sep!=="/"&&(e=e.split(zn.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}ve.prototype.debug=function(){};ve.prototype.make=FS;function FS(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Wd)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}ve.prototype.parseNegate=qS;function qS(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Xe.braceExpand=function(e,t){return Xd(e,t)};ve.prototype.braceExpand=Xd;function Xd(e,t){if(t||(this instanceof ve?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:DS(e)}ve.prototype.parse=GS;var vo={};function GS(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return xu;if(e==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],u,c=!1,l=-1,d=-1,f=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function _(){if(u){switch(u){case"*":n+=Mu,i=!0;break;case"?":n+=Lu,i=!0;break;default:n+="\\"+u;break}h.debug("clearStateChar %j %j",u,n),u=!1}}for(var g=0,v=e.length,b;g<v&&(b=e.charAt(g));g++){if(this.debug("%s	%s %s %j",e,g,n,b),o&&Yd[b]){n+="\\"+b,o=!1;continue}switch(b){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,g,n,b),c){this.debug("  in class"),b==="!"&&g===d+1&&(b="^"),n+=b;continue}h.debug("call clearStateChar %j",u),_(),u=b,r.noext&&_();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}s.push({type:u,start:g-1,reStart:n.length,open:Vd[u].open,close:Vd[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!s.length){n+="\\)";continue}_(),i=!0;var y=s.pop();n+=y.close,y.type==="!"&&a.push(y),y.reEnd=n.length;continue;case"|":if(c||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),c){n+="\\"+b;continue}c=!0,d=g,l=n.length,n+=b;continue;case"]":if(g===d+1||!c){n+="\\"+b,o=!1;continue}if(c){var O=e.substring(d+1,g);try{RegExp("["+O+"]")}catch(Ge){var U=this.parse(O,vo);n=n.substr(0,l)+"\\["+U[0]+"\\]",i=i||U[1],c=!1;continue}}i=!0,c=!1,n+=b;continue;default:_(),o?o=!1:Yd[b]&&!(b==="^"&&c)&&(n+="\\"),n+=b}}for(c&&(O=e.substr(d+1),U=this.parse(O,vo),n=n.substr(0,l)+"\\["+U[0],i=i||U[1]),y=s.pop();y;y=s.pop()){var G=n.slice(y.reStart+y.open.length);this.debug("setting tail",n,y),G=G.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Ge,be,Ft){return Ft||(Ft="\\"),be+be+Ft+"|"}),this.debug(`tail=%j
   %s`,G,G,y,n);var te=y.type==="*"?Mu:y.type==="?"?Lu:"\\"+y.type;i=!0,n=n.slice(0,y.reStart)+te+"\\("+G}_(),o&&(n+="\\\\");var k=!1;switch(n.charAt(0)){case".":case"[":case"(":k=!0}for(var C=a.length-1;C>-1;C--){var T=a[C],K=n.slice(0,T.reStart),A=n.slice(T.reStart,T.reEnd-8),L=n.slice(T.reEnd-8,T.reEnd),M=n.slice(T.reEnd);L+=M;var V=K.split("(").length-1,m=M;for(g=0;g<V;g++)m=m.replace(/\)[+*?]?/,"");M=m;var E="";M===""&&t!==vo&&(E="$");var ae=K+A+M+E+L;n=ae}if(n!==""&&i&&(n="(?=.)"+n),k&&(n=f+n),t===vo)return[n,i];if(!i)return VS(e);var Y=r.nocase?"i":"";try{var Be=new RegExp("^"+n+"$",Y)}catch(Ge){return new RegExp("$.")}return Be._glob=e,Be._src=n,Be}Xe.makeRe=function(e,t){return new ve(e,t||{}).makeRe()};ve.prototype.makeRe=HS;function HS(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Mu:t.dot?BS:US,n=t.nocase?"i":"",i=e.map(function(o){return o.map(function(s){return s===xu?r:typeof s=="string"?YS(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(o){this.regexp=!1}return this.regexp}Xe.match=function(e,t,r){r=r||{};var n=new ve(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};ve.prototype.match=$S;function $S(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;zn.sep!=="/"&&(e=e.split(zn.sep).join("/")),e=e.split(Wd),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=e.length-1;o>=0&&(i=e[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=e;r.matchBase&&s.length===1&&(a=[i]);var u=this.matchOne(a,s,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}ve.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,s=e.length,a=t.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u=t[o],c=e[i];if(this.debug(t,u,c),u===!1)return!1;if(u===xu){this.debug("GLOBSTAR",[t,u,c]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=e[l];if(this.debug(`
globstar while`,e,l,t,d,f),this.matchOne(e.slice(l),t.slice(d),r))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,d),l===s))}var h;if(typeof u=="string"?(n.nocase?h=c.toLowerCase()===u.toLowerCase():h=c===u,this.debug("string match",u,c,h)):(h=c.match(u),this.debug("pattern match",u,c,h)),!h)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a){var _=i===s-1&&e[i]==="";return _}throw new Error("wtf?")};function VS(e){return e.replace(/\\(.)/g,"$1")}function YS(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Qd=p((Y1,Du)=>{typeof Object.create=="function"?Du.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Du.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Zd=p((W1,Uu)=>{try{if(Bu=I("util"),typeof Bu.inherits!="function")throw"";Uu.exports=Bu.inherits}catch(e){Uu.exports=Qd()}var Bu});var So=p((K1,bo)=>{"use strict";function Jd(e){return e.charAt(0)==="/"}function ef(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}bo.exports=process.platform==="win32"?ef:Jd;bo.exports.posix=Jd;bo.exports.win32=ef});var ku=p($t=>{$t.setopts=ZS;$t.ownProp=tf;$t.makeAbs=Qn;$t.finish=JS;$t.mark=eT;$t.isIgnored=nf;$t.childrenIgnored=tT;function tf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var WS=I("fs"),Wr=I("path"),KS=Ao(),rf=So(),ju=KS.Minimatch;function XS(e,t){return e.localeCompare(t,"en")}function zS(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(QS))}function QS(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new ju(r,{dot:!0})}return{matcher:new ju(e,{dot:!0}),gmatcher:t}}function ZS(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||WS,e.maxLength=r.maxLength||Infinity,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),zS(e,r),e.changedCwd=!1;var n=process.cwd();tf(r,"cwd")?(e.cwd=Wr.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||Wr.resolve(e.cwd,"/"),e.root=Wr.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=rf(e.cwd)?e.cwd:Qn(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new ju(t,r),e.options=e.minimatch.options}function JS(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var a=Object.keys(o);t?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(XS)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=e.cache[u]||e.cache[Qn(e,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}e.ignore.length&&(r=r.filter(function(u){return!nf(e,u)})),e.found=r}function eT(e,t){var r=Qn(e,t),n=e.cache[r],i=t;if(n){var o=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=Qn(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function Qn(e,t){var r=t;return t.charAt(0)==="/"?r=Wr.join(e.root,t):rf(t)||t===""?r=t:e.changedCwd?r=Wr.resolve(e.cwd,t):r=Wr.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function nf(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function tT(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var cf=p((J1,uf)=>{uf.exports=af;af.GlobSync=me;var rT=Iu(),of=Ao(),z1=of.Minimatch,Q1=Gu().Glob,Z1=I("util"),Fu=I("path"),sf=I("assert"),To=So(),ur=ku(),nT=ur.setopts,qu=ur.ownProp,iT=ur.childrenIgnored,oT=ur.isIgnored;function af(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new me(e,t).found}function me(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof me))return new me(e,t);if(nT(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}me.prototype._finish=function(){if(sf(this instanceof me),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var o=rT.realpathSync(i,e.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}ur.finish(this)};me.prototype._process=function(e,t,r){sf(this instanceof me);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var o=e.slice(n),s;i===null?s=".":((To(i)||To(e.join("/")))&&(!i||!To(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!iT(this,s)){var u=o[0]===of.GLOBSTAR;u?this._processGlobStar(i,s,a,o,t,r):this._processReaddir(i,s,a,o,t,r)}};me.prototype._processReaddir=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",d=[],f=0;f<s.length;f++){var h=s[f];if(h.charAt(0)!=="."||l){var _;u&&!e?_=!h.match(a):_=h.match(a),_&&d.push(h)}}var g=d.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<g;f++){var h=d[f];e&&(e.slice(-1)!=="/"?h=e+"/"+h:h=e+h),h.charAt(0)==="/"&&!this.nomount&&(h=Fu.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var f=0;f<g;f++){var h=d[f],v;e?v=[e,h]:v=[h],this._process(v.concat(n),i,o)}}}};me.prototype._emitMatch=function(e,t){if(!oT(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};me.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};me.prototype._readdir=function(e,t){var r;if(t&&!qu(this.symlinks,e))return this._readdirInGlobStar(e);if(qu(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};me.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};me.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};me.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){var a=n.slice(1),u=e?[e]:[],c=u.concat(a);this._process(c,i,!1);var l=s.length,d=this.symlinks[r];if(!(d&&o))for(var f=0;f<l;f++){var h=s[f];if(!(h.charAt(0)==="."&&!this.dot)){var _=u.concat(s[f],a);this._process(_,i,!0);var g=u.concat(s[f],n);this._process(g,i,!0)}}}};me.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&To(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Fu.join(this.root,e):(e=Fu.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};me.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&qu(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(a){i=o}else i=o}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};me.prototype._mark=function(e){return ur.mark(this,e)};me.prototype._makeAbs=function(e){return ur.makeAbs(this,e)}});var Hu=p((eD,pf)=>{pf.exports=lf;function lf(e,t){if(e&&t)return lf(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Vu=p((tD,$u)=>{var df=Hu();$u.exports=df(Ro);$u.exports.strict=df(ff);Ro.proto=Ro(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Ro(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ff(this)},configurable:!0})});function Ro(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function ff(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var _f=p((rD,hf)=>{var sT=Hu(),Zn=Object.create(null),aT=Vu();hf.exports=sT(uT);function uT(e,t){return Zn[e]?(Zn[e].push(t),null):(Zn[e]=[t],cT(e))}function cT(e){return aT(function t(){var r=Zn[e],n=r.length,i=lT(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Zn[e]}})}function lT(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Gu=p((oD,mf)=>{mf.exports=lr;var pT=Iu(),gf=Ao(),nD=gf.Minimatch,dT=Zd(),fT=I("events").EventEmitter,Yu=I("path"),Wu=I("assert"),Jn=So(),Ku=cf(),cr=ku(),hT=cr.setopts,Xu=cr.ownProp,zu=_f(),iD=I("util"),_T=cr.childrenIgnored,gT=cr.isIgnored,mT=Vu();function lr(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return Ku(e,t)}return new X(e,t,r)}lr.sync=Ku;var ET=lr.GlobSync=Ku.GlobSync;lr.glob=lr;function yT(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}lr.hasMagic=function(e,t){var r=yT({},t);r.noprocess=!0;var n=new X(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};lr.Glob=X;dT(X,fT);function X(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new ET(e,t)}if(!(this instanceof X))return new X(e,t,r);hT(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=mT(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}X.prototype._finish=function(){if(Wu(this instanceof X),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();cr.finish(this),this.emit("end",this.found)}};X.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e==0&&t._finish()}};X.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,o=n.length;if(o===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),pT.realpath(a,i.realpathCache,function(c,l){c?c.syscall==="stat"?s[a]=!0:i.emit("error",c):s[l]=!0,--o==0&&(i.matches[e]=s,t())})})};X.prototype._mark=function(e){return cr.mark(this,e)};X.prototype._makeAbs=function(e){return cr.makeAbs(this,e)};X.prototype.abort=function(){this.aborted=!0,this.emit("abort")};X.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};X.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};X.prototype._process=function(e,t,r,n){if(Wu(this instanceof X),Wu(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var o;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:o=null;break;default:o=e.slice(0,i).join("/");break}var s=e.slice(i),a;o===null?a=".":((Jn(o)||Jn(e.join("/")))&&(!o||!Jn(o))&&(o="/"+o),a=o);var u=this._makeAbs(a);if(_T(this,a))return n();var c=s[0]===gf.GLOBSTAR;c?this._processGlobStar(o,a,u,s,t,r,n):this._processReaddir(o,a,u,s,t,r,n)}};X.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){return a._processReaddir2(e,t,r,n,i,o,c,s)})};X.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();for(var u=n[0],c=!!this.minimatch.negate,l=u._glob,d=this.dot||l.charAt(0)===".",f=[],h=0;h<s.length;h++){var _=s[h];if(_.charAt(0)!=="."||d){var g;c&&!e?g=!_.match(u):g=_.match(u),g&&f.push(_)}}var v=f.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<v;h++){var _=f[h];e&&(e!=="/"?_=e+"/"+_:_=e+_),_.charAt(0)==="/"&&!this.nomount&&(_=Yu.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var h=0;h<v;h++){var _=f[h],b;e&&(e!=="/"?_=e+"/"+_:_=e+_),this._process([_].concat(n),i,o,a)}a()};X.prototype._emitMatch=function(e,t){if(!this.aborted&&!gT(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Jn(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};X.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=zu(r,o);i&&n.fs.lstat(e,i);function o(s,a){if(s&&s.code==="ENOENT")return t();var u=a&&a.isSymbolicLink();n.symlinks[e]=u,!u&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};X.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=zu("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Xu(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Xu(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,vT(this,e,r))}};function vT(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}X.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};X.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};X.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){a._processGlobStar2(e,t,r,n,i,o,c,s)})};X.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var u=n.slice(1),c=e?[e]:[],l=c.concat(u);this._process(l,i,!1,a);var d=this.symlinks[r],f=s.length;if(d&&o)return a();for(var h=0;h<f;h++){var _=s[h];if(!(_.charAt(0)==="."&&!this.dot)){var g=c.concat(s[h],u);this._process(g,i,!0,a);var v=c.concat(s[h],n);this._process(v,i,!0,a)}}a()};X.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};X.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Jn(e)&&!this.nomount){var o=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Yu.join(this.root,e):(e=Yu.resolve(this.root,e),o&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};X.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Xu(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,s)}var u=this,c=zu("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(d,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(h,_){h?u._stat2(e,r,null,f,t):u._stat2(e,r,h,_,t)});u._stat2(e,r,d,f,t)}};X.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var o=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&s==="FILE"?i():i(null,s,n)}});var yf=p((sD,pr)=>{var ei=Gu(),Ef=function(e,t){return new Promise((r,n)=>{ei(e,t,(i,o)=>i===null?r(o):n(i))})};pr.exports=Ef;pr.exports.glob=ei;pr.exports.Glob=ei.Glob;pr.exports.hasMagic=ei.hasMagic;pr.exports.promise=Ef;pr.exports.sync=ei.sync});var Kr=p((ED,dr)=>{"use strict";function Rf(e){return typeof e=="undefined"||e===null}function ST(e){return typeof e=="object"&&e!==null}function TT(e){return Array.isArray(e)?e:Rf(e)?[]:[e]}function RT(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function OT(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function CT(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}dr.exports.isNothing=Rf;dr.exports.isObject=ST;dr.exports.toArray=TT;dr.exports.repeat=OT;dr.exports.isNegativeZero=CT;dr.exports.extend=RT});var Xr=p((yD,Cf)=>{"use strict";function Of(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ti(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Of(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ti.prototype=Object.create(Error.prototype);ti.prototype.constructor=ti;ti.prototype.toString=function(t){return this.name+": "+Of(this,t)};Cf.exports=ti});var If=p((vD,Pf)=>{"use strict";var ri=Kr();function Zu(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function Ju(e,t){return ri.repeat(" ",t-e.length)+e}function PT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",u,c,l=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)c=Zu(e.buffer,n[s-u],i[s-u],e.position-(n[s]-n[s-u]),d),a=ri.repeat(" ",t.indent)+Ju((e.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=Zu(e.buffer,n[s],i[s],e.position,d),a+=ri.repeat(" ",t.indent)+Ju((e.line+1).toString(),l)+" | "+c.str+`
`,a+=ri.repeat("-",t.indent+l+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)c=Zu(e.buffer,n[s+u],i[s+u],e.position-(n[s]-n[s+u]),d),a+=ri.repeat(" ",t.indent)+Ju((e.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}Pf.exports=PT});var Se=p((AD,Nf)=>{"use strict";var wf=Xr(),IT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],wT=["scalar","sequence","mapping"];function NT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function xT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(IT.indexOf(r)===-1)throw new wf('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=NT(t.styleAliases||null),wT.indexOf(this.kind)===-1)throw new wf('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Nf.exports=xT});var rc=p((bD,Lf)=>{"use strict";var ni=Xr(),ec=Se();function xf(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function LT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function tc(e){return this.extend(e)}tc.prototype.extend=function(t){var r=[],n=[];if(t instanceof ec)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ni("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof ec))throw new ni("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new ni("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new ni("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof ec))throw new ni("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(tc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=xf(i,"implicit"),i.compiledExplicit=xf(i,"explicit"),i.compiledTypeMap=LT(i.compiledImplicit,i.compiledExplicit),i};Lf.exports=tc});var nc=p((SD,Mf)=>{"use strict";var MT=Se();Mf.exports=new MT("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var ic=p((TD,Df)=>{"use strict";var DT=Se();Df.exports=new DT("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var oc=p((RD,Bf)=>{"use strict";var BT=Se();Bf.exports=new BT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var sc=p((OD,Uf)=>{"use strict";var UT=rc();Uf.exports=new UT({explicit:[nc(),ic(),oc()]})});var ac=p((CD,jf)=>{"use strict";var jT=Se();function kT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function FT(){return null}function qT(e){return e===null}jf.exports=new jT("tag:yaml.org,2002:null",{kind:"scalar",resolve:kT,construct:FT,predicate:qT,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var uc=p((PD,kf)=>{"use strict";var GT=Se();function HT(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function $T(e){return e==="true"||e==="True"||e==="TRUE"}function VT(e){return Object.prototype.toString.call(e)==="[object Boolean]"}kf.exports=new GT("tag:yaml.org,2002:bool",{kind:"scalar",resolve:HT,construct:$T,predicate:VT,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var cc=p((ID,Ff)=>{"use strict";var YT=Kr(),WT=Se();function KT(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function XT(e){return 48<=e&&e<=55}function zT(e){return 48<=e&&e<=57}function QT(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!KT(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!XT(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!zT(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function ZT(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function JT(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!YT.isNegativeZero(e)}Ff.exports=new WT("tag:yaml.org,2002:int",{kind:"scalar",resolve:QT,construct:ZT,predicate:JT,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var lc=p((wD,Gf)=>{"use strict";var qf=Kr(),eR=Se(),tR=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rR(e){return!(e===null||!tR.test(e)||e[e.length-1]==="_")}function nR(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var iR=/^[-+]?[0-9]+e/;function oR(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(qf.isNegativeZero(e))return"-0.0";return r=e.toString(10),iR.test(r)?r.replace("e",".e"):r}function sR(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||qf.isNegativeZero(e))}Gf.exports=new eR("tag:yaml.org,2002:float",{kind:"scalar",resolve:rR,construct:nR,predicate:sR,represent:oR,defaultStyle:"lowercase"})});var pc=p((ND,Hf)=>{"use strict";Hf.exports=sc().extend({implicit:[ac(),uc(),cc(),lc()]})});var dc=p((xD,$f)=>{"use strict";$f.exports=pc()});var fc=p((LD,Wf)=>{"use strict";var aR=Se(),Vf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Yf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function uR(e){return e===null?!1:Vf.exec(e)!==null||Yf.exec(e)!==null}function cR(e){var t,r,n,i,o,s,a,u=0,c=null,l,d,f;if(t=Vf.exec(e),t===null&&(t=Yf.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],d=+(t[11]||0),c=(l*60+d)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,o,s,a,u)),c&&f.setTime(f.getTime()-c),f}function lR(e){return e.toISOString()}Wf.exports=new aR("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:uR,construct:cR,instanceOf:Date,represent:lR})});var hc=p((MD,Kf)=>{"use strict";var pR=Se();function dR(e){return e==="<<"||e===null}Kf.exports=new pR("tag:yaml.org,2002:merge",{kind:"scalar",resolve:dR})});var gc=p((DD,Xf)=>{"use strict";var fR=Se(),_c=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function hR(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=_c;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function _R(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=_c,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function gR(e){var t="",r=0,n,i,o=e.length,s=_c;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function mR(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Xf.exports=new fR("tag:yaml.org,2002:binary",{kind:"scalar",resolve:hR,construct:_R,predicate:mR,represent:gR})});var mc=p((BD,zf)=>{"use strict";var ER=Se(),yR=Object.prototype.hasOwnProperty,vR=Object.prototype.toString;function AR(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,vR.call(i)!=="[object Object]")return!1;for(o in i)if(yR.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function bR(e){return e!==null?e:[]}zf.exports=new ER("tag:yaml.org,2002:omap",{kind:"sequence",resolve:AR,construct:bR})});var Ec=p((UD,Qf)=>{"use strict";var SR=Se(),TR=Object.prototype.toString;function RR(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],TR.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function OR(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}Qf.exports=new SR("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:RR,construct:OR})});var yc=p((jD,Zf)=>{"use strict";var CR=Se(),PR=Object.prototype.hasOwnProperty;function IR(e){if(e===null)return!0;var t,r=e;for(t in r)if(PR.call(r,t)&&r[t]!==null)return!1;return!0}function wR(e){return e!==null?e:{}}Zf.exports=new CR("tag:yaml.org,2002:set",{kind:"mapping",resolve:IR,construct:wR})});var Co=p((kD,Jf)=>{"use strict";Jf.exports=dc().extend({implicit:[fc(),hc()],explicit:[gc(),mc(),Ec(),yc()]})});var _h=p((FD,Sc)=>{"use strict";var fr=Kr(),eh=Xr(),NR=If(),xR=Co(),Vt=Object.prototype.hasOwnProperty,Po=1,th=2,rh=3,Io=4,vc=1,LR=2,nh=3,MR=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,DR=/[\x85\u2028\u2029]/,BR=/[,\[\]\{\}]/,ih=/^(?:!|!!|![a-z\-]+!)$/i,oh=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function sh(e){return Object.prototype.toString.call(e)}function dt(e){return e===10||e===13}function hr(e){return e===9||e===32}function Ue(e){return e===9||e===32||e===10||e===13}function zr(e){return e===44||e===91||e===93||e===123||e===125}function UR(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function jR(e){return e===120?2:e===117?4:e===85?8:0}function kR(e){return 48<=e&&e<=57?e-48:-1}function ah(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function FR(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var uh=new Array(256),ch=new Array(256);for(var Qr=0;Qr<256;Qr++)uh[Qr]=ah(Qr)?1:0,ch[Qr]=ah(Qr);function qR(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||xR,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function lh(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=NR(r),new eh(t,r)}function x(e,t){throw lh(e,t)}function wo(e,t){e.onWarning&&e.onWarning.call(null,lh(e,t))}var ph={YAML:function(t,r,n){var i,o,s;t.version!==null&&x(t,"duplication of %YAML directive"),n.length!==1&&x(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&x(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&x(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&wo(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&x(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],ih.test(i)||x(t,"ill-formed tag handle (first argument) of the TAG directive"),Vt.call(t.tagMap,i)&&x(t,'there is a previously declared suffix for "'+i+'" tag handle'),oh.test(o)||x(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(s){x(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Yt(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||x(e,"expected valid JSON character");else MR.test(a)&&x(e,"the stream contains non-printable characters");e.result+=a}}function dh(e,t,r,n){var i,o,s,a;for(fr.isObject(r)||x(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],Vt.call(t,o)||(t[o]=r[o],n[o]=!0)}function Zr(e,t,r,n,i,o,s,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&x(e,"nested arrays are not supported inside keys"),typeof i=="object"&&sh(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&sh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)dh(e,t,o[c],r);else dh(e,t,o,r);else!e.json&&!Vt.call(r,i)&&Vt.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,x(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function Ac(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function pe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;hr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(dt(i))for(Ac(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&wo(e,"deficient indentation"),n}function No(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ue(r)))}function bc(e,t){t===1?e.result+=" ":t>1&&(e.result+=fr.repeat(`
`,t-1))}function GR(e,t,r){var n,i,o,s,a,u,c,l,d=e.kind,f=e.result,h;if(h=e.input.charCodeAt(e.position),Ue(h)||zr(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),Ue(i)||r&&zr(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),Ue(i)||r&&zr(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),Ue(n))break}else{if(e.position===e.lineStart&&No(e)||r&&zr(h))break;if(dt(h))if(u=e.line,c=e.lineStart,l=e.lineIndent,pe(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=c,e.lineIndent=l;break}}a&&(Yt(e,o,s,!1),bc(e,e.line-u),o=s=e.position,a=!1),hr(h)||(s=e.position+1),h=e.input.charCodeAt(++e.position)}return Yt(e,o,s,!1),e.result?!0:(e.kind=d,e.result=f,!1)}function HR(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Yt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else dt(r)?(Yt(e,n,i,!0),bc(e,pe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&No(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function $R(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Yt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Yt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),dt(a))pe(e,!1,t);else if(a<256&&uh[a])e.result+=ch[a],e.position++;else if((s=jR(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=UR(a))>=0?o=(o<<4)+s:x(e,"expected hexadecimal character");e.result+=FR(o),e.position++}else x(e,"unknown escape sequence");r=n=e.position}else dt(a)?(Yt(e,r,n,!0),bc(e,pe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&No(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function VR(e,t){var r=!0,n,i,o,s=e.tag,a,u=e.anchor,c,l,d,f,h,_=Object.create(null),g,v,b,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,h=!1,a=[];else if(y===123)l=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(pe(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=s,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?y===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),v=g=b=null,d=f=!1,y===63&&(c=e.input.charCodeAt(e.position+1),Ue(c)&&(d=f=!0,e.position++,pe(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,Jr(e,t,Po,!1,!0),v=e.tag,g=e.result,pe(e,!0,t),y=e.input.charCodeAt(e.position),(f||e.line===n)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),pe(e,!0,t),Jr(e,t,Po,!1,!0),b=e.result),h?Zr(e,a,_,v,g,b,n,i,o):d?a.push(Zr(e,null,_,v,g,b,n,i,o)):a.push(g),pe(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}x(e,"unexpected end of the stream within a flow collection")}function YR(e,t){var r,n,i=vc,o=!1,s=!1,a=t,u=0,c=!1,l,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)vc===i?i=d===43?nh:LR:x(e,"repeat of a chomping mode identifier");else if((l=kR(d))>=0)l===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?x(e,"repeat of an indentation width identifier"):(a=t+l-1,s=!0);else break;if(hr(d)){do d=e.input.charCodeAt(++e.position);while(hr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!dt(d)&&d!==0)}for(;d!==0;){for(Ac(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),dt(d)){u++;continue}if(e.lineIndent<a){i===nh?e.result+=fr.repeat(`
`,o?1+u:u):i===vc&&o&&(e.result+=`
`);break}for(n?hr(d)?(c=!0,e.result+=fr.repeat(`
`,o?1+u:u)):c?(c=!1,e.result+=fr.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=fr.repeat(`
`,u):e.result+=fr.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,r=e.position;!dt(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Yt(e,r,e.position,!1)}return!0}function fh(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Ue(s))));){if(a=!0,e.position++,pe(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,Jr(e,t,rh,!1,!0),o.push(e.result),pe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function WR(e,t,r){var n,i,o,s,a,u,c=e.tag,l=e.anchor,d={},f=Object.create(null),h=null,_=null,g=null,v=!1,b=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&Ue(n))y===63?(v&&(Zr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,v=!0,i=!0):v?(v=!1,i=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(s=e.line,a=e.lineStart,u=e.position,!Jr(e,r,th,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);hr(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Ue(y)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Zr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,v=!1,i=!1,h=e.tag,_=e.result;else if(b)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=l,!0}else if(b)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=l,!0}if((e.line===o||e.lineIndent>t)&&(v&&(s=e.line,a=e.lineStart,u=e.position),Jr(e,t,Io,!0,i)&&(v?_=e.result:g=e.result),v||(Zr(e,d,f,h,_,g,s,a,u),h=_=g=null),pe(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Zr(e,d,f,h,_,null,s,a,u),b&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=d),b}function KR(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ue(s);)s===33&&(n?x(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),ih.test(i)||x(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),BR.test(o)&&x(e,"tag suffix cannot contain flow indicator characters")}o&&!oh.test(o)&&x(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(a){x(e,"tag name is malformed: "+o)}return r?e.tag=o:Vt.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:x(e,'undeclared tag handle "'+i+'"'),!0}function XR(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ue(r)&&!zr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function zR(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ue(n)&&!zr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Vt.call(e.anchorMap,r)||x(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],pe(e,!0,-1),!0}function Jr(e,t,r,n,i){var o,s,a,u=1,c=!1,l=!1,d,f,h,_,g,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Io===r||rh===r,n&&pe(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;KR(e)||XR(e);)pe(e,!0,-1)?(c=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||Io===r)&&(Po===r||th===r?g=t:g=t+1,v=e.position-e.lineStart,u===1?a&&(fh(e,v)||WR(e,v,g))||VR(e,g)?l=!0:(s&&YR(e,g)||HR(e,g)||$R(e,g)?l=!0:zR(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):GR(e,g,Po===r)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&fh(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,f=e.implicitTypes.length;d<f;d+=1)if(_=e.implicitTypes[d],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Vt.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,h=e.typeMap.multi[e.kind||"fallback"],d=0,f=h.length;d<f;d+=1)if(e.tag.slice(0,h[d].tag.length)===h[d].tag){_=h[d];break}_||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function QR(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(pe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!Ue(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&x(e,"directive name must not be less than one character in length");s!==0;){for(;hr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!dt(s));break}if(dt(s))break;for(r=e.position;s!==0&&!Ue(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&Ac(e),Vt.call(ph,n)?ph[n](e,n,i):wo(e,'unknown document directive "'+n+'"')}if(pe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,pe(e,!0,-1)):o&&x(e,"directives end mark is expected"),Jr(e,e.lineIndent-1,Io,!1,!0),pe(e,!0,-1),e.checkLineBreaks&&DR.test(e.input.slice(t,e.position))&&wo(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&No(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,pe(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function hh(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new qR(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,x(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)QR(r);return r.documents}function ZR(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=hh(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function JR(e,t){var r=hh(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new eh("expected a single document in the stream, but found more")}}Sc.exports.loadAll=ZR;Sc.exports.load=JR});var Bh=p((qD,Dh)=>{"use strict";var xo=Kr(),ii=Xr(),eO=Co(),gh=Object.prototype.toString,mh=Object.prototype.hasOwnProperty,Tc=65279,tO=9,oi=10,rO=13,nO=32,iO=33,oO=34,Rc=35,sO=37,aO=38,uO=39,cO=42,Eh=44,lO=45,Lo=58,pO=61,dO=62,fO=63,hO=64,yh=91,vh=93,_O=96,Ah=123,gO=124,bh=125,Te={};Te[0]="\\0";Te[7]="\\a";Te[8]="\\b";Te[9]="\\t";Te[10]="\\n";Te[11]="\\v";Te[12]="\\f";Te[13]="\\r";Te[27]="\\e";Te[34]='\\"';Te[92]="\\\\";Te[133]="\\N";Te[160]="\\_";Te[8232]="\\L";Te[8233]="\\P";var mO=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],EO=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function yO(e,t){var r,n,i,o,s,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&mh.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}function vO(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ii("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+xo.repeat("0",n-t.length)+t}var AO=1,si=2;function bO(e){this.schema=e.schema||eO,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=xo.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=yO(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?si:AO,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Sh(e,t){for(var r=xo.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function Oc(e,t){return`
`+xo.repeat(" ",e.indent*t)}function SO(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Mo(e){return e===nO||e===tO}function ai(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Tc||65536<=e&&e<=1114111}function Th(e){return ai(e)&&e!==Tc&&e!==rO&&e!==oi}function Rh(e,t,r){var n=Th(e),i=n&&!Mo(e);return(r?n:n&&e!==Eh&&e!==yh&&e!==vh&&e!==Ah&&e!==bh)&&e!==Rc&&!(t===Lo&&!i)||Th(t)&&!Mo(t)&&e===Rc||t===Lo&&i}function TO(e){return ai(e)&&e!==Tc&&!Mo(e)&&e!==lO&&e!==fO&&e!==Lo&&e!==Eh&&e!==yh&&e!==vh&&e!==Ah&&e!==bh&&e!==Rc&&e!==aO&&e!==cO&&e!==iO&&e!==gO&&e!==pO&&e!==dO&&e!==uO&&e!==oO&&e!==sO&&e!==hO&&e!==_O}function RO(e){return!Mo(e)&&e!==Lo}function ui(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Oh(e){var t=/^\n* /;return t.test(e)}var Ch=1,Cc=2,Ph=3,Ih=4,en=5;function OO(e,t,r,n,i,o,s,a){var u,c=0,l=null,d=!1,f=!1,h=n!==-1,_=-1,g=TO(ui(e,0))&&RO(ui(e,e.length-1));if(t||s)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ui(e,u),!ai(c))return en;g=g&&Rh(c,l,a),l=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ui(e,u),c===oi)d=!0,h&&(f=f||u-_-1>n&&e[_+1]!==" ",_=u);else if(!ai(c))return en;g=g&&Rh(c,l,a),l=c}f=f||h&&u-_-1>n&&e[_+1]!==" "}return!d&&!f?g&&!s&&!i(e)?Ch:o===si?en:Cc:r>9&&Oh(e)?en:s?o===si?en:Cc:f?Ih:Ph}function CO(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===si?'""':"''";if(!e.noCompatMode&&(mO.indexOf(t)!==-1||EO.test(t)))return e.quotingType===si?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return SO(e,c)}switch(OO(t,a,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case Ch:return t;case Cc:return"'"+t.replace(/'/g,"''")+"'";case Ph:return"|"+wh(t,e.indent)+Nh(Sh(t,o));case Ih:return">"+wh(t,e.indent)+Nh(Sh(PO(t,s),o));case en:return'"'+IO(t,s)+'"';default:throw new ii("impossible error: invalid scalar style")}}()}function wh(e,t){var r=Oh(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Nh(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function PO(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,xh(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",n+=a+(!i&&!o&&u!==""?`
`:"")+xh(u,t),i=o}return n}function xh(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function IO(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ui(e,i),n=Te[r],!n&&ai(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||vO(r);return t}function wO(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(Lt(e,t,a,!1,!1)||typeof a=="undefined"&&Lt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Lh(e,t,r,n){var i="",o=e.tag,s,a,u;for(s=0,a=r.length;s<a;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(Lt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&Lt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Oc(e,t)),e.dump&&oi===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function NO(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,u,c,l;for(s=0,a=o.length;s<a;s+=1)l="",n!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=o[s],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),!!Lt(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Lt(e,t,c,!1,!1)&&(l+=e.dump,n+=l));e.tag=i,e.dump="{"+n+"}"}function xO(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,u,c,l,d,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new ii("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Oc(e,t)),c=s[a],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!Lt(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&oi===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,d&&(f+=Oc(e,t)),!!Lt(e,t+1,l,!0,d)&&(e.dump&&oi===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=o,e.dump=i||"{}"}function Mh(e,t,r){var n,i,o,s,a,u;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,gh.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(mh.call(a.represent,u))n=a.represent[u](t,u);else throw new ii("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function Lt(e,t,r,n,i,o,s){e.tag=null,e.dump=r,Mh(e,r,!1)||Mh(e,r,!0);var a=gh.call(e.dump),u=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",d,f;if(l&&(d=e.duplicates.indexOf(r),f=d!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(l&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(xO(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(NO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Lh(e,t-1,e.dump,i):Lh(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(wO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&CO(e,e.dump,t,o,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ii("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function LO(e,t){var r=[],n=[],i,o;for(Pc(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function Pc(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Pc(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)Pc(e[n[i]],t,r)}function MO(e,t){t=t||{};var r=new bO(t);r.noRefs||LO(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Lt(r,0,n,!0,!0)?r.dump+`
`:""}Dh.exports.dump=MO});var jh=p((GD,Ne)=>{"use strict";var Uh=_h(),DO=Bh();function Ic(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Ne.exports.Type=Se();Ne.exports.Schema=rc();Ne.exports.FAILSAFE_SCHEMA=sc();Ne.exports.JSON_SCHEMA=pc();Ne.exports.CORE_SCHEMA=dc();Ne.exports.DEFAULT_SCHEMA=Co();Ne.exports.load=Uh.load;Ne.exports.loadAll=Uh.loadAll;Ne.exports.dump=DO.dump;Ne.exports.YAMLException=Xr();Ne.exports.types={binary:gc(),float:lc(),map:oc(),null:ac(),pairs:Ec(),set:yc(),timestamp:fc(),bool:uc(),int:cc(),merge:hc(),omap:mc(),seq:ic(),str:nc()};Ne.exports.safeLoad=Ic("safeLoad","load");Ne.exports.safeLoadAll=Ic("safeLoadAll","loadAll");Ne.exports.safeDump=Ic("safeDump","dump")});var Hh=p(Gh=>{"use strict";Object.defineProperty(Gh,"__esModule",{value:!0})});var $h=p(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo._globalThis=void 0;Bo._globalThis=typeof globalThis=="object"?globalThis:global});var Vh=p(_r=>{"use strict";var UO=_r&&_r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jO=_r&&_r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UO(t,e,r)};Object.defineProperty(_r,"__esModule",{value:!0});jO($h(),_r)});var Yh=p(gr=>{"use strict";var kO=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FO=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kO(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});FO(Vh(),gr)});var Lc=p(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.VERSION=void 0;Uo.VERSION="1.1.0"});var Xh=p(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.isCompatible=tn._makeCompatibilityCheck=void 0;var qO=Lc(),Wh=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Kh(e){var t=new Set([e]),r=new Set,n=e.match(Wh);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function o(a){return r.add(a),!1}function s(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var c=u.match(Wh);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}tn._makeCompatibilityCheck=Kh;tn.isCompatible=Kh(qO.VERSION)});var rn=p(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.unregisterGlobal=Wt.getGlobal=Wt.registerGlobal=void 0;var GO=Yh(),li=Lc(),HO=Xh(),$O=li.VERSION.split(".")[0],pi=Symbol.for("opentelemetry.js.api."+$O),di=GO._globalThis;function VO(e,t,r,n){var i;n===void 0&&(n=!1);var o=di[pi]=(i=di[pi])!==null&&i!==void 0?i:{version:li.VERSION};if(!n&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(o.version!==li.VERSION){var s=new Error("@opentelemetry/api: All API registration versions must match");return r.error(s.stack||s.message),!1}return o[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+li.VERSION+"."),!0}Wt.registerGlobal=VO;function YO(e){var t,r,n=(t=di[pi])===null||t===void 0?void 0:t.version;if(!(!n||!HO.isCompatible(n)))return(r=di[pi])===null||r===void 0?void 0:r[e]}Wt.getGlobal=YO;function WO(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+li.VERSION+".");var r=di[pi];r&&delete r[e]}Wt.unregisterGlobal=WO});var zh=p(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.DiagComponentLogger=void 0;var KO=rn(),XO=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fi("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fi("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fi("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fi("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return fi("verbose",this._namespace,t)},e}();jo.DiagComponentLogger=XO;function fi(e,t,r){var n=KO.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var ko=p(hi=>{"use strict";Object.defineProperty(hi,"__esModule",{value:!0});hi.DiagLogLevel=void 0;var zO;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(zO=hi.DiagLogLevel||(hi.DiagLogLevel={}))});var Qh=p(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.createLogLevelDiagLogger=void 0;var Mt=ko();function QO(e,t){e<Mt.DiagLogLevel.NONE?e=Mt.DiagLogLevel.NONE:e>Mt.DiagLogLevel.ALL&&(e=Mt.DiagLogLevel.ALL),t=t||{};function r(n,i){var o=t[n];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:r("error",Mt.DiagLogLevel.ERROR),warn:r("warn",Mt.DiagLogLevel.WARN),info:r("info",Mt.DiagLogLevel.INFO),debug:r("debug",Mt.DiagLogLevel.DEBUG),verbose:r("verbose",Mt.DiagLogLevel.VERBOSE)}}Fo.createLogLevelDiagLogger=QO});var nn=p(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.DiagAPI=void 0;var ZO=zh(),JO=Qh(),eC=ko(),qo=rn(),tC="diag",rC=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=qo.getGlobal("diag");if(!!s)return s[n].apply(s,i)}}var r=this;r.setLogger=function(n,i){var o,s;if(i===void 0&&(i=eC.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=a.stack)!==null&&o!==void 0?o:a.message),!1}var u=qo.getGlobal("diag"),c=JO.createLogLevelDiagLogger(i,n);if(u){var l=(s=new Error().stack)!==null&&s!==void 0?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return qo.registerGlobal("diag",c,r,!0)},r.disable=function(){qo.unregisterGlobal(tC,r)},r.createComponentLogger=function(n){return new ZO.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();Go.DiagAPI=rC});var Zh=p(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.BaggageImpl=void 0;var nC=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,o=t;i<o.length;i++){var s=o[i];n._entries.delete(s)}return n},e.prototype.clear=function(){return new e},e}();Ho.BaggageImpl=nC});var Jh=p($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.baggageEntryMetadataSymbol=void 0;$o.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var Mc=p(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.baggageEntryMetadataFromString=on.createBaggage=void 0;var iC=nn(),oC=Zh(),sC=Jh(),aC=iC.DiagAPI.instance();function uC(e){return e===void 0&&(e={}),new oC.BaggageImpl(new Map(Object.entries(e)))}on.createBaggage=uC;function cC(e){return typeof e!="string"&&(aC.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:sC.baggageEntryMetadataSymbol,toString:function(){return e}}}on.baggageEntryMetadataFromString=cC});var t_=p(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0})});var n_=p(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0})});var o_=p(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0})});var s_=p(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DiagConsoleLogger=void 0;var Dc=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],lC=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[n];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var r=0;r<Dc.length;r++)this[Dc[r].n]=t(Dc[r].c)}return e}();Vo.DiagConsoleLogger=lC});var u_=p(Kt=>{"use strict";var pC=Kt&&Kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),a_=Kt&&Kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pC(t,e,r)};Object.defineProperty(Kt,"__esModule",{value:!0});a_(s_(),Kt);a_(ko(),Kt)});var Bc=p(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.defaultTextMapSetter=sn.defaultTextMapGetter=void 0;sn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};sn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var l_=p(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0})});var d_=p(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0})});var _i=p(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.ROOT_CONTEXT=an.createContextKey=void 0;function dC(e){return Symbol.for(e)}an.createContextKey=dC;var fC=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var o=new e(r._currentContext);return o._currentContext.set(n,i),o},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();an.ROOT_CONTEXT=new fC});var f_=p(un=>{"use strict";var hC=un&&un.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(un,"__esModule",{value:!0});un.NoopContextManager=void 0;var _C=_i(),gC=function(){function e(){}return e.prototype.active=function(){return _C.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return r.call.apply(r,hC([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();un.NoopContextManager=gC});var kc=p(cn=>{"use strict";var mC=cn&&cn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(cn,"__esModule",{value:!0});cn.ContextAPI=void 0;var EC=f_(),Uc=rn(),h_=nn(),jc="context",yC=new EC.NoopContextManager,vC=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Uc.registerGlobal(jc,t,h_.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,mC([t,r,n],o))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Uc.getGlobal(jc)||yC},e.prototype.disable=function(){this._getContextManager().disable(),Uc.unregisterGlobal(jc,h_.DiagAPI.instance())},e}();cn.ContextAPI=vC});var Fc=p(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.TraceFlags=void 0;var AC;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(AC=gi.TraceFlags||(gi.TraceFlags={}))});var Yo=p(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.INVALID_SPAN_CONTEXT=ft.INVALID_TRACEID=ft.INVALID_SPANID=void 0;var bC=Fc();ft.INVALID_SPANID="0000000000000000";ft.INVALID_TRACEID="00000000000000000000000000000000";ft.INVALID_SPAN_CONTEXT={traceId:ft.INVALID_TRACEID,spanId:ft.INVALID_SPANID,traceFlags:bC.TraceFlags.NONE}});var Ko=p(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.NonRecordingSpan=void 0;var SC=Yo(),TC=function(){function e(t){t===void 0&&(t=SC.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();Wo.NonRecordingSpan=TC});var Gc=p(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.getSpanContext=ze.setSpanContext=ze.deleteSpan=ze.setSpan=ze.getSpan=void 0;var RC=_i(),OC=Ko(),qc=RC.createContextKey("OpenTelemetry Context Key SPAN");function __(e){return e.getValue(qc)||void 0}ze.getSpan=__;function g_(e,t){return e.setValue(qc,t)}ze.setSpan=g_;function CC(e){return e.deleteValue(qc)}ze.deleteSpan=CC;function PC(e,t){return g_(e,new OC.NonRecordingSpan(t))}ze.setSpanContext=PC;function IC(e){var t;return(t=__(e))===null||t===void 0?void 0:t.spanContext()}ze.getSpanContext=IC});var Xo=p(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.wrapSpanContext=ht.isSpanContextValid=ht.isValidSpanId=ht.isValidTraceId=void 0;var m_=Yo(),wC=Ko(),NC=/^([0-9a-f]{32})$/i,xC=/^[0-9a-f]{16}$/i;function E_(e){return NC.test(e)&&e!==m_.INVALID_TRACEID}ht.isValidTraceId=E_;function y_(e){return xC.test(e)&&e!==m_.INVALID_SPANID}ht.isValidSpanId=y_;function LC(e){return E_(e.traceId)&&y_(e.spanId)}ht.isSpanContextValid=LC;function MC(e){return new wC.NonRecordingSpan(e)}ht.wrapSpanContext=MC});var $c=p(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.NoopTracer=void 0;var DC=kc(),v_=Gc(),Hc=Ko(),BC=Xo(),A_=DC.ContextAPI.getInstance(),UC=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new Hc.NonRecordingSpan;var o=n&&v_.getSpanContext(n);return jC(o)&&BC.isSpanContextValid(o)?new Hc.NonRecordingSpan(o):new Hc.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);var u=s!=null?s:A_.active(),c=this.startSpan(t,o,u),l=v_.setSpan(u,c);return A_.with(l,a,void 0,c)}},e}();zo.NoopTracer=UC;function jC(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Vc=p(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.ProxyTracer=void 0;var kC=$c(),FC=new kC.NoopTracer,qC=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):FC},e}();Qo.ProxyTracer=qC});var b_=p(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.NoopTracerProvider=void 0;var GC=$c(),HC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new GC.NoopTracer},e}();Zo.NoopTracerProvider=HC});var Yc=p(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.ProxyTracerProvider=void 0;var $C=Vc(),VC=b_(),YC=new VC.NoopTracerProvider,WC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new $C.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:YC},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Jo.ProxyTracerProvider=WC});var T_=p(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0})});var R_=p(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.SamplingDecision=void 0;var KC;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(KC=mi.SamplingDecision||(mi.SamplingDecision={}))});var C_=p(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0})});var P_=p(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SpanKind=void 0;var XC;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(XC=Ei.SpanKind||(Ei.SpanKind={}))});var w_=p(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0})});var x_=p(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0})});var L_=p(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.SpanStatusCode=void 0;var zC;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(zC=yi.SpanStatusCode||(yi.SpanStatusCode={}))});var D_=p(M_=>{"use strict";Object.defineProperty(M_,"__esModule",{value:!0})});var B_=p(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.validateValue=ln.validateKey=void 0;var Wc="[_0-9a-z-*/]",QC="[a-z]"+Wc+"{0,255}",ZC="[a-z0-9]"+Wc+"{0,240}@[a-z]"+Wc+"{0,13}",JC=new RegExp("^(?:"+QC+"|"+ZC+")$"),eP=/^[ -~]{0,255}[!-~]$/,tP=/,|=/;function rP(e){return JC.test(e)}ln.validateKey=rP;function nP(e){return eP.test(e)&&!tP.test(e)}ln.validateValue=nP});var q_=p(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.TraceStateImpl=void 0;var U_=B_(),j_=32,iP=512,k_=",",F_="=",oP=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+F_+t.get(n)),r},[]).join(k_)},e.prototype._parse=function(t){t.length>iP||(this._internalState=t.split(k_).reverse().reduce(function(r,n){var i=n.trim(),o=i.indexOf(F_);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,n.length);U_.validateKey(s)&&U_.validateValue(a)&&r.set(s,a)}return r},new Map),this._internalState.size>j_&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,j_))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();es.TraceStateImpl=oP});var G_=p(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.createTraceState=void 0;var sP=q_();function aP(e){return new sP.TraceStateImpl(e)}ts.createTraceState=aP});var $_=p(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0})});var Y_=p(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0})});var K_=p(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0})});var z_=p(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0})});var eg=p(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.TraceAPI=void 0;var Kc=rn(),Q_=Yc(),Z_=Xo(),vi=Gc(),J_=nn(),Xc="trace",uP=function(){function e(){this._proxyTracerProvider=new Q_.ProxyTracerProvider,this.wrapSpanContext=Z_.wrapSpanContext,this.isSpanContextValid=Z_.isSpanContextValid,this.deleteSpan=vi.deleteSpan,this.getSpan=vi.getSpan,this.getSpanContext=vi.getSpanContext,this.setSpan=vi.setSpan,this.setSpanContext=vi.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Kc.registerGlobal(Xc,this._proxyTracerProvider,J_.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Kc.getGlobal(Xc)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Kc.unregisterGlobal(Xc,J_.DiagAPI.instance()),this._proxyTracerProvider=new Q_.ProxyTracerProvider},e}();rs.TraceAPI=uP});var tg=p(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.NoopTextMapPropagator=void 0;var cP=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();ns.NoopTextMapPropagator=cP});var rg=p(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.deleteBaggage=Xt.setBaggage=Xt.getBaggage=void 0;var lP=_i(),zc=lP.createContextKey("OpenTelemetry Baggage Key");function pP(e){return e.getValue(zc)||void 0}Xt.getBaggage=pP;function dP(e,t){return e.setValue(zc,t)}Xt.setBaggage=dP;function fP(e){return e.deleteValue(zc)}Xt.deleteBaggage=fP});var og=p(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.PropagationAPI=void 0;var Qc=rn(),hP=tg(),ng=Bc(),Zc=rg(),_P=Mc(),ig=nn(),Jc="propagation",gP=new hP.NoopTextMapPropagator,mP=function(){function e(){this.createBaggage=_P.createBaggage,this.getBaggage=Zc.getBaggage,this.setBaggage=Zc.setBaggage,this.deleteBaggage=Zc.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Qc.registerGlobal(Jc,t,ig.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=ng.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=ng.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Qc.unregisterGlobal(Jc,ig.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return Qc.getGlobal(Jc)||gP},e}();is.PropagationAPI=mP});var D=p(w=>{"use strict";var EP=w&&w.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ie=w&&w.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EP(t,e,r)};Object.defineProperty(w,"__esModule",{value:!0});w.diag=w.propagation=w.trace=w.context=w.INVALID_SPAN_CONTEXT=w.INVALID_TRACEID=w.INVALID_SPANID=w.isValidSpanId=w.isValidTraceId=w.isSpanContextValid=w.createTraceState=w.baggageEntryMetadataFromString=void 0;ie(Hh(),w);var yP=Mc();Object.defineProperty(w,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return yP.baggageEntryMetadataFromString}});ie(t_(),w);ie(n_(),w);ie(o_(),w);ie(u_(),w);ie(Bc(),w);ie(l_(),w);ie(d_(),w);ie(Vc(),w);ie(Yc(),w);ie(T_(),w);ie(R_(),w);ie(C_(),w);ie(P_(),w);ie(w_(),w);ie(x_(),w);ie(L_(),w);ie(Fc(),w);ie(D_(),w);var vP=G_();Object.defineProperty(w,"createTraceState",{enumerable:!0,get:function(){return vP.createTraceState}});ie($_(),w);ie(Y_(),w);ie(K_(),w);var el=Xo();Object.defineProperty(w,"isSpanContextValid",{enumerable:!0,get:function(){return el.isSpanContextValid}});Object.defineProperty(w,"isValidTraceId",{enumerable:!0,get:function(){return el.isValidTraceId}});Object.defineProperty(w,"isValidSpanId",{enumerable:!0,get:function(){return el.isValidSpanId}});var tl=Yo();Object.defineProperty(w,"INVALID_SPANID",{enumerable:!0,get:function(){return tl.INVALID_SPANID}});Object.defineProperty(w,"INVALID_TRACEID",{enumerable:!0,get:function(){return tl.INVALID_TRACEID}});Object.defineProperty(w,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return tl.INVALID_SPAN_CONTEXT}});ie(_i(),w);ie(z_(),w);var AP=kc();w.context=AP.ContextAPI.getInstance();var bP=eg();w.trace=bP.TraceAPI.getInstance();var SP=og();w.propagation=SP.PropagationAPI.getInstance();var TP=nn();w.diag=TP.DiagAPI.instance();w.default={trace:w.trace,context:w.context,propagation:w.propagation,diag:w.diag}});var os=p(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.isTracingSuppressed=zt.unsuppressTracing=zt.suppressTracing=void 0;var RP=D(),rl=(0,RP.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function OP(e){return e.setValue(rl,!0)}zt.suppressTracing=OP;function CP(e){return e.deleteValue(rl)}zt.unsuppressTracing=CP;function PP(e){return e.getValue(rl)===!0}zt.isTracingSuppressed=PP});var sg=p(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.validateValue=pn.validateKey=void 0;var nl="[_0-9a-z-*/]",IP=`[a-z]${nl}{0,255}`,wP=`[a-z0-9]${nl}{0,240}@[a-z]${nl}{0,13}`,NP=new RegExp(`^(?:${IP}|${wP})$`),xP=/^[ -~]{0,255}[!-~]$/,LP=/,|=/;function MP(e){return NP.test(e)}pn.validateKey=MP;function DP(e){return xP.test(e)&&!LP.test(e)}pn.validateValue=DP});var il=p(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.TraceState=void 0;var ag=sg(),ug=32,BP=512,cg=",",lg="=",ss=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+lg+this.get(r)),t),[]).join(cg)}_parse(t){t.length>BP||(this._internalState=t.split(cg).reverse().reduce((r,n)=>{let i=n.trim(),o=i.indexOf(lg);if(o!==-1){let s=i.slice(0,o),a=i.slice(o+1,n.length);(0,ag.validateKey)(s)&&(0,ag.validateValue)(a)&&r.set(s,a)}return r},new Map),this._internalState.size>ug&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,ug))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new ss;return t._internalState=new Map(this._internalState),t}};as.TraceState=ss});var ol=p(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.W3CTraceContextPropagator=Re.parseTraceParent=Re.TRACE_STATE_HEADER=Re.TRACE_PARENT_HEADER=void 0;var us=D(),UP=os(),jP=il();Re.TRACE_PARENT_HEADER="traceparent";Re.TRACE_STATE_HEADER="tracestate";var kP="00",FP="(?!ff)[\\da-f]{2}",qP="(?![0]{32})[\\da-f]{32}",GP="(?![0]{16})[\\da-f]{16}",HP="[\\da-f]{2}",$P=new RegExp(`^\\s?(${FP})-(${qP})-(${GP})-(${HP})(-.*)?\\s?$`);function pg(e){let t=$P.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Re.parseTraceParent=pg;var dg=class{inject(t,r,n){let i=us.trace.getSpanContext(t);if(!i||(0,UP.isTracingSuppressed)(t)||!(0,us.isSpanContextValid)(i))return;let o=`${kP}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||us.TraceFlags.NONE).toString(16)}`;n.set(r,Re.TRACE_PARENT_HEADER,o),i.traceState&&n.set(r,Re.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Re.TRACE_PARENT_HEADER);if(!i)return t;let o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return t;let s=pg(o);if(!s)return t;s.isRemote=!0;let a=n.get(r,Re.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;s.traceState=new jP.TraceState(typeof u=="string"?u:void 0)}return us.trace.setSpanContext(t,s)}fields(){return[Re.TRACE_PARENT_HEADER,Re.TRACE_STATE_HEADER]}};Re.W3CTraceContextPropagator=dg});var sl=p(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.BAGGAGE_MAX_TOTAL_LENGTH=Oe.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Oe.BAGGAGE_MAX_NAME_VALUE_PAIRS=Oe.BAGGAGE_HEADER=Oe.BAGGAGE_ITEMS_SEPARATOR=Oe.BAGGAGE_PROPERTIES_SEPARATOR=Oe.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Oe.BAGGAGE_KEY_PAIR_SEPARATOR="=";Oe.BAGGAGE_PROPERTIES_SEPARATOR=";";Oe.BAGGAGE_ITEMS_SEPARATOR=",";Oe.BAGGAGE_HEADER="baggage";Oe.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Oe.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Oe.BAGGAGE_MAX_TOTAL_LENGTH=8192});var al=p(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.parseKeyPairsIntoRecord=_t.parsePairKeyValue=_t.getKeyPairs=_t.serializeKeyPairs=void 0;var VP=D(),mr=sl();function YP(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?mr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>mr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}_t.serializeKeyPairs=YP;function WP(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=mr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}_t.getKeyPairs=WP;function fg(e){let t=e.split(mr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(mr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),o=decodeURIComponent(n[1].trim()),s;return t.length>0&&(s=(0,VP.baggageEntryMetadataFromString)(t.join(mr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:o,metadata:s}}_t.parsePairKeyValue=fg;function KP(e){return typeof e!="string"||e.length===0?{}:e.split(mr.BAGGAGE_ITEMS_SEPARATOR).map(t=>fg(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}_t.parseKeyPairsIntoRecord=KP});var _g=p(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.W3CBaggagePropagator=void 0;var ul=D(),XP=os(),Er=sl(),cl=al(),hg=class{inject(t,r,n){let i=ul.propagation.getBaggage(t);if(!i||(0,XP.isTracingSuppressed)(t))return;let o=(0,cl.getKeyPairs)(i).filter(a=>a.length<=Er.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Er.BAGGAGE_MAX_NAME_VALUE_PAIRS),s=(0,cl.serializeKeyPairs)(o);s.length>0&&n.set(r,Er.BAGGAGE_HEADER,s)}extract(t,r,n){let i=n.get(r,Er.BAGGAGE_HEADER),o=Array.isArray(i)?i.join(Er.BAGGAGE_ITEMS_SEPARATOR):i;if(!o)return t;let s={};return o.length===0||(o.split(Er.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,cl.parsePairKeyValue)(u);if(c){let l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0)?t:ul.propagation.setBaggage(t,ul.propagation.createBaggage(s))}fields(){return[Er.BAGGAGE_HEADER]}};cs.W3CBaggagePropagator=hg});var vg=p(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isAttributeValue=Qt.isAttributeKey=Qt.sanitizeAttributes=void 0;var gg=D();function zP(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!mg(r)){gg.diag.warn(`Invalid attribute key: ${r}`);continue}if(!Eg(n)){gg.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Qt.sanitizeAttributes=zP;function mg(e){return typeof e=="string"&&e.length>0}Qt.isAttributeKey=mg;function Eg(e){return e==null?!0:Array.isArray(e)?QP(e):yg(e)}Qt.isAttributeValue=Eg;function QP(e){let t;for(let r of e)if(r!=null){if(!t){if(yg(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function yg(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var ll=p(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.loggingErrorHandler=void 0;var ZP=D();function JP(){return e=>{ZP.diag.error(eI(e))}}ls.loggingErrorHandler=JP;function eI(e){return typeof e=="string"?e:JSON.stringify(tI(e))}function tI(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var pl=p(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.globalErrorHandler=dn.setGlobalErrorHandler=void 0;var rI=ll(),Ag=(0,rI.loggingErrorHandler)();function nI(e){Ag=e}dn.setGlobalErrorHandler=nI;function iI(e){try{Ag(e)}catch(t){}}dn.globalErrorHandler=iI});var dl=p(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.TracesSamplerValues=void 0;var oI;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(oI=Ai.TracesSamplerValues||(Ai.TracesSamplerValues={}))});var fl=p(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.parseEnvironment=xe.DEFAULT_ENVIRONMENT=xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Zt=D(),sI=dl(),aI=",",uI=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function cI(e){return uI.indexOf(e)>-1}var lI=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function pI(e){return lI.indexOf(e)>-1}xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;xe.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Zt.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:sI.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function dI(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let o=Number(r[e]);isNaN(o)||(o<n?t[e]=n:o>i?t[e]=i:t[e]=o)}}function fI(e,t,r,n=aI){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(o=>o.trim()))}var hI={ALL:Zt.DiagLogLevel.ALL,VERBOSE:Zt.DiagLogLevel.VERBOSE,DEBUG:Zt.DiagLogLevel.DEBUG,INFO:Zt.DiagLogLevel.INFO,WARN:Zt.DiagLogLevel.WARN,ERROR:Zt.DiagLogLevel.ERROR,NONE:Zt.DiagLogLevel.NONE};function _I(e,t,r){let n=r[e];if(typeof n=="string"){let i=hI[n.toUpperCase()];i!=null&&(t[e]=i)}}function gI(e){let t={};for(let r in xe.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":_I(n,t,e);break;default:if(cI(n))dI(n,t,e);else if(pI(n))fI(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}xe.parseEnvironment=gI});var Sg=p(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.getEnv=void 0;var mI=I("os"),bg=fl();function EI(){let e=(0,bg.parseEnvironment)(process.env);return Object.assign({HOSTNAME:mI.hostname()},bg.DEFAULT_ENVIRONMENT,e)}ps.getEnv=EI});var Tg=p(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds._globalThis=void 0;ds._globalThis=typeof globalThis=="object"?globalThis:global});var Rg=p(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.hexToBase64=void 0;function yI(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),o=parseInt(i,16);r+=String.fromCharCode(o)}return Buffer.from(r,"ascii").toString("base64")}fs.hexToBase64=yI});var Ig=p(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.RandomIdGenerator=void 0;var vI=8,Og=16,Cg=class{constructor(){this.generateTraceId=Pg(Og),this.generateSpanId=Pg(vI)}};_s.RandomIdGenerator=Cg;var hs=Buffer.allocUnsafe(Og);function Pg(e){return function(){for(let r=0;r<e/4;r++)hs.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(hs[r]>0);r++)r===e-1&&(hs[e-1]=1);return hs.toString("hex",0,e)}}});var wg=p(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.otperformance=void 0;var AI=I("perf_hooks");gs.otperformance=AI.performance});var Es=p(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.VERSION=void 0;ms.VERSION="1.3.1"});var Ng=p(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.MessageTypeValues=Q.RpcGrpcStatusCodeValues=Q.MessagingOperationValues=Q.MessagingDestinationKindValues=Q.HttpFlavorValues=Q.NetHostConnectionSubtypeValues=Q.NetHostConnectionTypeValues=Q.NetTransportValues=Q.FaasInvokedProviderValues=Q.FaasDocumentOperationValues=Q.FaasTriggerValues=Q.DbCassandraConsistencyLevelValues=Q.DbSystemValues=Q.SemanticAttributes=void 0;Q.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Q.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Q.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Q.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Q.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Q.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Q.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Q.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Q.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Q.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Q.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Q.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Q.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Q.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var xg=p(yr=>{"use strict";var bI=yr&&yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SI=yr&&yr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bI(t,e,r)};Object.defineProperty(yr,"__esModule",{value:!0});SI(Ng(),yr)});var Lg=p(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.TelemetrySdkLanguageValues=Ce.OsTypeValues=Ce.HostArchValues=Ce.AwsEcsLaunchtypeValues=Ce.CloudPlatformValues=Ce.CloudProviderValues=Ce.SemanticResourceAttributes=void 0;Ce.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ce.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ce.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ce.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ce.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ce.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ce.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Mg=p(vr=>{"use strict";var TI=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RI=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TI(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});RI(Lg(),vr)});var gt=p(Jt=>{"use strict";var OI=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Dg=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OI(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});Dg(xg(),Jt);Dg(Mg(),Jt)});var Bg=p(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.SDK_INFO=void 0;var CI=Es(),bi=gt();ys.SDK_INFO={[bi.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[bi.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[bi.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:bi.TelemetrySdkLanguageValues.NODEJS,[bi.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:CI.VERSION}});var Ug=p(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.unrefTimer=void 0;function PI(e){e.unref()}vs.unrefTimer=PI});var jg=p(He=>{"use strict";var II=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ar=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&II(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});Ar(Sg(),He);Ar(Tg(),He);Ar(Rg(),He);Ar(Ig(),He);Ar(wg(),He);Ar(Bg(),He);Ar(Ug(),He)});var hl=p(br=>{"use strict";var wI=br&&br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NI=br&&br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wI(t,e,r)};Object.defineProperty(br,"__esModule",{value:!0});NI(jg(),br)});var qg=p(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.isTimeInput=de.isTimeInputHrTime=de.hrTimeToMicroseconds=de.hrTimeToMilliseconds=de.hrTimeToNanoseconds=de.hrTimeToTimeStamp=de.hrTimeDuration=de.timeInputToHrTime=de.hrTime=void 0;var _l=hl(),gl=9,Si=Math.pow(10,gl);function As(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(gl))*Si;return[r,n]}function kg(){let e=_l.otperformance.timeOrigin;if(typeof e!="number"){let t=_l.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Fg(e){let t=As(kg()),r=As(typeof e=="number"?e:_l.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>Si&&(i-=Si,n+=1),[n,i]}de.hrTime=Fg;function xI(e){if(ml(e))return e;if(typeof e=="number")return e<kg()?Fg(e):As(e);if(e instanceof Date)return As(e.getTime());throw TypeError("Invalid input type")}de.timeInputToHrTime=xI;function LI(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Si),[r,n]}de.hrTimeDuration=LI;function MI(e){let t=gl,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}de.hrTimeToTimeStamp=MI;function DI(e){return e[0]*Si+e[1]}de.hrTimeToNanoseconds=DI;function BI(e){return Math.round(e[0]*1e3+e[1]/1e6)}de.hrTimeToMilliseconds=BI;function UI(e){return Math.round(e[0]*1e6+e[1]/1e3)}de.hrTimeToMicroseconds=UI;function ml(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}de.isTimeInputHrTime=ml;function jI(e){return ml(e)||typeof e=="number"||e instanceof Date}de.isTimeInput=jI});var Hg=p(Gg=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0})});var $g=p(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.ExportResultCode=void 0;var kI;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(kI=Ti.ExportResultCode||(Ti.ExportResultCode={}))});var Wg=p(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.CompositePropagator=void 0;var Vg=D(),Yg=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(o){Vg.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}}extract(t,r,n){return this._propagators.reduce((i,o)=>{try{return o.extract(i,r,n)}catch(s){Vg.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${s.message}`)}return i},t)}fields(){return this._fields.slice()}};bs.CompositePropagator=Yg});var Xg=p(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0})});var zg=p(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.getRPCMetadata=it.deleteRPCMetadata=it.setRPCMetadata=it.RPCType=void 0;var FI=D(),El=(0,FI.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),qI;(function(e){e.HTTP="http"})(qI=it.RPCType||(it.RPCType={}));function GI(e,t){return e.setValue(El,t)}it.setRPCMetadata=GI;function HI(e){return e.deleteValue(El)}it.deleteRPCMetadata=HI;function $I(e){return e.getValue(El)}it.getRPCMetadata=$I});var yl=p(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.AlwaysOffSampler=void 0;var VI=D(),Qg=class{shouldSample(){return{decision:VI.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Ss.AlwaysOffSampler=Qg});var vl=p(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.AlwaysOnSampler=void 0;var YI=D(),Zg=class{shouldSample(){return{decision:YI.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Ts.AlwaysOnSampler=Zg});var tm=p(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.ParentBasedSampler=void 0;var Rs=D(),WI=pl(),Jg=yl(),Al=vl(),em=class{constructor(t){var r,n,i,o;this._root=t.root,this._root||((0,WI.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Al.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Al.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Jg.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Al.AlwaysOnSampler,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new Jg.AlwaysOffSampler}shouldSample(t,r,n,i,o,s){let a=Rs.trace.getSpanContext(t);return!a||!(0,Rs.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,o,s):a.isRemote?a.traceFlags&Rs.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(t,r,n,i,o,s):a.traceFlags&Rs.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,o,s):this._localParentNotSampled.shouldSample(t,r,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Os.ParentBasedSampler=em});var nm=p(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.TraceIdRatioBasedSampler=void 0;var bl=D(),rm=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,bl.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?bl.SamplingDecision.RECORD_AND_SAMPLED:bl.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,o=parseInt(t.slice(i,i+8),16);r=(r^o)>>>0}return r}};Cs.TraceIdRatioBasedSampler=rm});var um=p(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.isPlainObject=void 0;var KI="[object Object]",XI="[object Null]",zI="[object Undefined]",QI=Function.prototype,im=QI.toString,ZI=im.call(Object),JI=ew(Object.getPrototypeOf,Object),om=Object.prototype,sm=om.hasOwnProperty,Sr=Symbol?Symbol.toStringTag:void 0,am=om.toString;function ew(e,t){return function(r){return e(t(r))}}function tw(e){if(!rw(e)||nw(e)!==KI)return!1;let t=JI(e);if(t===null)return!0;let r=sm.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&im.call(r)===ZI}Ps.isPlainObject=tw;function rw(e){return e!=null&&typeof e=="object"}function nw(e){return e==null?e===void 0?zI:XI:Sr&&Sr in Object(e)?iw(e):ow(e)}function iw(e){let t=sm.call(e,Sr),r=e[Sr],n=!1;try{e[Sr]=void 0,n=!0}catch(o){}let i=am.call(e);return n&&(t?e[Sr]=r:delete e[Sr]),i}function ow(e){return am.call(e)}});var fm=p(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.merge=void 0;var cm=um(),sw=20;function aw(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=lm(t,e.shift(),0,r);return t}Ns.merge=aw;function Sl(e){return Is(e)?e.slice():e}function lm(e,t,r=0,n){let i;if(!(r>sw)){if(r++,ws(e)||ws(t)||dm(t))i=Sl(t);else if(Is(e)){if(i=e.slice(),Is(t))for(let o=0,s=t.length;o<s;o++)i.push(Sl(t[o]));else if(Ri(t)){let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s];i[u]=Sl(t[u])}}}else if(Ri(e))if(Ri(t)){if(!uw(e,t))return t;i=Object.assign({},e);let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s],c=t[u];if(ws(c))typeof c=="undefined"?delete i[u]:i[u]=c;else{let l=i[u],d=c;if(pm(e,u,n)||pm(t,u,n))delete i[u];else{if(Ri(l)&&Ri(d)){let f=n.get(l)||[],h=n.get(d)||[];f.push({obj:e,key:u}),h.push({obj:t,key:u}),n.set(l,f),n.set(d,h)}i[u]=lm(i[u],c,r,n)}}}}else i=t;return i}}function pm(e,t,r){let n=r.get(e[t])||[];for(let i=0,o=n.length;i<o;i++){let s=n[i];if(s.key===t&&s.obj===e)return!0}return!1}function Is(e){return Array.isArray(e)}function dm(e){return typeof e=="function"}function Ri(e){return!ws(e)&&!Is(e)&&!dm(e)&&typeof e=="object"}function ws(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function uw(e,t){return!(!(0,cm.isPlainObject)(e)||!(0,cm.isPlainObject)(t))}});var _m=p(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.isUrlIgnored=fn.urlMatches=void 0;function hm(e,t){return typeof t=="string"?e===t:!!e.match(t)}fn.urlMatches=hm;function cw(e,t){if(!t)return!1;for(let r of t)if(hm(e,r))return!0;return!1}fn.isUrlIgnored=cw});var gm=p(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.isWrapped=void 0;function lw(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}xs.isWrapped=lw});var Em=p(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.Deferred=void 0;var mm=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};Ls.Deferred=mm});var vm=p(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.BindOnceFuture=void 0;var pw=Em(),ym=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new pw.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Ms.BindOnceFuture=ym});var ee=p(W=>{"use strict";var dw=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J=W&&W.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dw(t,e,r)};Object.defineProperty(W,"__esModule",{value:!0});W.baggageUtils=void 0;J(_g(),W);J(vg(),W);J(pl(),W);J(ll(),W);J(qg(),W);J(Hg(),W);J($g(),W);J(Es(),W);W.baggageUtils=al();J(hl(),W);J(Wg(),W);J(ol(),W);J(Xg(),W);J(zg(),W);J(yl(),W);J(vl(),W);J(tm(),W);J(nm(),W);J(os(),W);J(il(),W);J(fl(),W);J(fm(),W);J(dl(),W);J(_m(),W);J(gm(),W);J(vm(),W);J(Es(),W)});var Am=p(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.ExceptionEventName=void 0;Ds.ExceptionEventName="exception"});var Tl=p(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Span=void 0;var mt=D(),ot=ee(),Tr=gt(),fw=Am(),bm=class{constructor(t,r,n,i,o,s,a=[],u=(0,ot.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:mt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a,this.startTime=(0,ot.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(mt.diag.warn(`Invalid attribute key: ${t}`),this):(0,ot.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(mt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return mt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(mt.diag.warn("Dropping extra events."),this.events.shift()),(0,ot.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,ot.hrTime)());let i=(0,ot.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,ot.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,ot.hrTime)()){if(this._isSpanEnded()){mt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,ot.timeInputToHrTime)(t),this._duration=(0,ot.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&mt.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,ot.hrTime)()){let n={};typeof t=="string"?n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Tr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Tr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Tr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Tr.SemanticAttributes.EXCEPTION_TYPE]||n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(fw.ExceptionEventName,n,r):mt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&mt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(mt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Bs.Span=bm});var Rl=p(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.buildSamplerFromEnv=_n.DEFAULT_CONFIG=void 0;var Us=D(),ne=ee(),hw=(0,ne.getEnv)(),_w=ne.TracesSamplerValues.AlwaysOn,hn=1;_n.DEFAULT_CONFIG={sampler:Sm(hw),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,ne.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ne.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,ne.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,ne.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,ne.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,ne.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function Sm(e=(0,ne.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case ne.TracesSamplerValues.AlwaysOn:return new ne.AlwaysOnSampler;case ne.TracesSamplerValues.AlwaysOff:return new ne.AlwaysOffSampler;case ne.TracesSamplerValues.ParentBasedAlwaysOn:return new ne.ParentBasedSampler({root:new ne.AlwaysOnSampler});case ne.TracesSamplerValues.ParentBasedAlwaysOff:return new ne.ParentBasedSampler({root:new ne.AlwaysOffSampler});case ne.TracesSamplerValues.TraceIdRatio:return new ne.TraceIdRatioBasedSampler(Tm(e));case ne.TracesSamplerValues.ParentBasedTraceIdRatio:return new ne.ParentBasedSampler({root:new ne.TraceIdRatioBasedSampler(Tm(e))});default:return Us.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${_w}".`),new ne.AlwaysOnSampler}}_n.buildSamplerFromEnv=Sm;function Tm(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Us.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${hn}.`),hn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Us.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${hn}.`),hn):t<0||t>1?(Us.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${hn}.`),hn):t}});var Ol=p(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.reconfigureLimits=gn.mergeConfig=void 0;var js=Rl();function gw(e){let t={sampler:(0,js.buildSamplerFromEnv)()},r=Object.assign({},js.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},js.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},js.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}gn.mergeConfig=gw;function mw(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}gn.reconfigureLimits=mw});var Om=p(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.Tracer=void 0;var Ae=D(),Oi=ee(),Ew=Tl(),yw=Ol(),Rm=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,yw.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Oi.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Ae.context.active()){var i,o;if((0,Oi.isTracingSuppressed)(n))return Ae.diag.debug("Instrumentation suppressed, returning Noop Span"),Ae.trace.wrapSpanContext(Ae.INVALID_SPAN_CONTEXT);r.root&&(n=Ae.trace.deleteSpan(n));let s=Ae.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,c,l;!s||!Ae.trace.isSpanContextValid(s)?u=this._idGenerator.generateTraceId():(u=s.traceId,c=s.traceState,l=s.spanId);let d=(i=r.kind)!==null&&i!==void 0?i:Ae.SpanKind.INTERNAL,f=((o=r.links)!==null&&o!==void 0?o:[]).map(O=>({context:O.context,attributes:(0,Oi.sanitizeAttributes)(O.attributes)})),h=(0,Oi.sanitizeAttributes)(r.attributes),_=this._sampler.shouldSample(n,u,t,d,h,f),g=_.decision===Ae.SamplingDecision.RECORD_AND_SAMPLED?Ae.TraceFlags.SAMPLED:Ae.TraceFlags.NONE,v={traceId:u,spanId:a,traceFlags:g,traceState:c};if(_.decision===Ae.SamplingDecision.NOT_RECORD)return Ae.diag.debug("Recording is off, propagating context in a non-recording span"),Ae.trace.wrapSpanContext(v);let b=new Ew.Span(this,n,t,v,d,l,f,r.startTime),y=(0,Oi.sanitizeAttributes)(Object.assign(h,_.attributes));return b.setAttributes(y),b}startActiveSpan(t,r,n,i){let o,s,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);let u=s!=null?s:Ae.context.active(),c=this.startSpan(t,o,u),l=Ae.trace.setSpan(u,c);return Ae.context.with(l,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};ks.Tracer=Rm});var Cm=p(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.defaultServiceName=void 0;function vw(){return`unknown_service:${process.argv0}`}Fs.defaultServiceName=vw});var Im=p(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.detectResources=void 0;var Pm=Rr(),Cl=D(),Aw=I("util"),bw=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return Cl.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return Cl.diag.debug(`${n.constructor.name} failed: ${i.message}`),Pm.Resource.empty()}}));return Sw(r),r.reduce((n,i)=>n.merge(i),Pm.Resource.empty())};qs.detectResources=bw;var Sw=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=Aw.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});Cl.diag.verbose(r)}})}});var Lm=p(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.hostDetector=void 0;var wm=gt(),Tw=Rr(),Nm=I("os"),xm=class{async detect(t){let r={[wm.SemanticResourceAttributes.HOST_NAME]:(0,Nm.hostname)(),[wm.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,Nm.arch)())};return new Tw.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Gs.hostDetector=new xm});var Um=p(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.osDetector=void 0;var Mm=gt(),Rw=Rr(),Dm=I("os"),Bm=class{async detect(t){let r={[Mm.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,Dm.platform)()),[Mm.SemanticResourceAttributes.OS_VERSION]:(0,Dm.release)()};return new Rw.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Hs.osDetector=new Bm});var jm=p(Et=>{"use strict";var Ow=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$s=Et&&Et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ow(t,e,r)};Object.defineProperty(Et,"__esModule",{value:!0});$s(Cm(),Et);$s(Im(),Et);$s(Lm(),Et);$s(Um(),Et)});var Pl=p(Or=>{"use strict";var Cw=Or&&Or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pw=Or&&Or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Cw(t,e,r)};Object.defineProperty(Or,"__esModule",{value:!0});Pw(jm(),Or)});var Rr=p(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.Resource=void 0;var Cr=gt(),Il=ee(),Iw=Pl(),er=class{constructor(t){this.attributes=t}static empty(){return er.EMPTY}static default(){return new er({[Cr.SemanticResourceAttributes.SERVICE_NAME]:(0,Iw.defaultServiceName)(),[Cr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Il.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Cr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Il.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Cr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Il.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new er(r)}};Vs.Resource=er;er.EMPTY=new er({})});var Fm=p(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0})});var Gm=p(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0})});var $m=p(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.browserDetector=void 0;var ww=D(),Ys=gt(),wl=Ci(),Hm=class{async detect(t){if(!(typeof navigator!="undefined"))return wl.Resource.empty();let n={[Ys.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Ys.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Ys.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Ys.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(ww.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),wl.Resource.empty()):new wl.Resource(Object.assign({},t))}};Ws.browserDetector=new Hm});var Ym=p(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.envDetector=void 0;var Nw=D(),xw=ee(),Lw=gt(),Mw=Rr(),Vm=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,xw.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,o=n.OTEL_SERVICE_NAME;if(i)try{let s=this._parseResourceAttributes(i);Object.assign(r,s)}catch(s){Nw.diag.debug(`EnvDetector failed: ${s.message}`)}return o&&(r[Lw.SemanticResourceAttributes.SERVICE_NAME]=o),new Mw.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let o=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(o.length!==2)continue;let[s,a]=o;if(s=s.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(s))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[s]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Ks.envDetector=new Vm});var Km=p(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.processDetector=void 0;var Dw=D(),Qe=gt(),Nl=Rr(),Wm=class{async detect(t){if(typeof process!="object")return Nl.Resource.empty();let r={[Qe.SemanticResourceAttributes.PROCESS_PID]:process.pid,[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[Qe.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[Qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[Qe.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[Qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Dw.diag.debug("ProcessDetector failed: Unable to find required process resources. "),Nl.Resource.empty()):new Nl.Resource(Object.assign({},t))}};Xs.processDetector=new Wm});var Xm=p(Dt=>{"use strict";var Bw=Dt&&Dt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xl=Dt&&Dt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Bw(t,e,r)};Object.defineProperty(Dt,"__esModule",{value:!0});xl($m(),Dt);xl(Ym(),Dt);xl(Km(),Dt)});var Ci=p(st=>{"use strict";var Uw=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pi=st&&st.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uw(t,e,r)};Object.defineProperty(st,"__esModule",{value:!0});Pi(Rr(),st);Pi(Pl(),st);Pi(Fm(),st);Pi(Gm(),st);Pi(Xm(),st)});var Qm=p(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.MultiSpanProcessor=void 0;var jw=ee(),zm=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,jw.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};zs.MultiSpanProcessor=zm});var Ll=p(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.NoopSpanProcessor=void 0;var Zm=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Qs.NoopSpanProcessor=Zm});var eE=p(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.BatchSpanProcessorBase=void 0;var Ml=D(),mn=ee(),Jm=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,mn.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new mn.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Ml.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let o=0,s=i;o<s;o++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Ml.context.with((0,mn.suppressTracing)(Ml.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var o;clearTimeout(n),i.code===mn.ExportResultCode.SUCCESS?t():r((o=i.error)!==null&&o!==void 0?o:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,mn.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,mn.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Zs.BatchSpanProcessorBase=Jm});var rE=p(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.BatchSpanProcessor=void 0;var kw=eE(),tE=class extends kw.BatchSpanProcessorBase{onShutdown(){}};Js.BatchSpanProcessor=tE});var nE=p(Pr=>{"use strict";var Fw=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qw=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fw(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});qw(rE(),Pr)});var Dl=p(Ir=>{"use strict";var Gw=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hw=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Gw(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});Hw(nE(),Ir)});var oE=p(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.BasicTracerProvider=Nr.ForceFlushState=void 0;var En=D(),yn=ee(),iE=Ci(),$w=ea(),Vw=Rl(),Yw=Qm(),Ww=Ll(),Kw=Dl(),Xw=Ol(),vn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(vn=Nr.ForceFlushState||(Nr.ForceFlushState={}));var wr=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,yn.merge)({},Vw.DEFAULT_CONFIG,(0,Xw.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:iE.Resource.empty(),this.resource=iE.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let o=new Kw.BatchSpanProcessor(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new Ww.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new $w.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>En.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Yw.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){En.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&En.context.setGlobalContextManager(t.contextManager),t.propagator&&En.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let o,s=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),o=vn.timeout},t);n.forceFlush().then(()=>{clearTimeout(s),o!==vn.timeout&&(o=vn.resolved,i(o))}).catch(a=>{clearTimeout(s),o=vn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(o=>{let s=o.filter(a=>a!==vn.resolved);s.length>0?i(s):n()}).catch(o=>i([o]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=wr._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=wr._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,yn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let o=this._getPropagator(i);return o||En.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),o}).reduce((i,o)=>(o&&i.push(o),i),[]);if(n.length!==0)return t.length===1?n[0]:new yn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,yn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||En.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};Nr.BasicTracerProvider=wr;wr._registeredPropagators=new Map([["tracecontext",()=>new yn.W3CTraceContextPropagator],["baggage",()=>new yn.W3CBaggagePropagator]]);wr._registeredExporters=new Map});var aE=p(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.ConsoleSpanExporter=void 0;var Bl=ee(),sE=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,Bl.hrTimeToMicroseconds)(t.startTime),duration:(0,Bl.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:Bl.ExportResultCode.SUCCESS})}};ta.ConsoleSpanExporter=sE});var lE=p(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.InMemorySpanExporter=void 0;var uE=ee(),cE=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:uE.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:uE.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};ra.InMemorySpanExporter=cE});var dE=p(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0})});var hE=p(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.SimpleSpanProcessor=void 0;var Ul=D(),na=ee(),fE=class{constructor(t){this._exporter=t,this._shutdownOnce=new na.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Ul.TraceFlags.SAMPLED)!=0&&Ul.context.with((0,na.suppressTracing)(Ul.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==na.ExportResultCode.SUCCESS&&(0,na.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};ia.SimpleSpanProcessor=fE});var gE=p(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0})});var EE=p(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0})});var vE=p(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0})});var bE=p(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0})});var ea=p(Ee=>{"use strict";var zw=Ee&&Ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$e=Ee&&Ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zw(t,e,r)};Object.defineProperty(Ee,"__esModule",{value:!0});$e(Om(),Ee);$e(oE(),Ee);$e(Dl(),Ee);$e(aE(),Ee);$e(lE(),Ee);$e(dE(),Ee);$e(hE(),Ee);$e(gE(),Ee);$e(Ll(),Ee);$e(Tl(),Ee);$e(EE(),Ee);$e(vE(),Ee);$e(bE(),Ee)});var Ii=p(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.invalidTimeout=Ze.configureExporterTimeout=Ze.appendRootPathToUrlIfNeeded=Ze.appendResourcePathToUrl=Ze.parseHeaders=void 0;var SE=D(),TE=ee(),RE=1e4;function Qw(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):SE.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}Ze.parseHeaders=Qw;function Zw(e,t){return e.endsWith("/")||(e=e+"/"),e+t}Ze.appendResourcePathToUrl=Zw;function Jw(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}Ze.appendRootPathToUrlIfNeeded=Jw;function eN(e){return typeof e=="number"?e<=0?jl(e,RE):e:tN()}Ze.configureExporterTimeout=eN;function tN(){var e;let t=Number((e=(0,TE.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,TE.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?jl(t,RE):t}function jl(e,t){return SE.diag.warn("Timeout must be greater than 0",e),t}Ze.invalidTimeout=jl});var sa=p(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.OTLPExporterBase=void 0;var OE=D(),wi=ee(),rN=Ii(),CE=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new wi.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,rN.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:wi.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:wi.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:wi.ExportResultCode.SUCCESS})}).catch(n=>{r({code:wi.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{OE.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return OE.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};oa.OTLPExporterBase=CE});var kl=p(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.CompressionAlgorithm=void 0;var nN;(function(e){e.NONE="none",e.GZIP="gzip"})(nN=Ni.CompressionAlgorithm||(Ni.CompressionAlgorithm={}))});var ua=p(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.OTLPExporterError=void 0;var PE=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};aa.OTLPExporterError=PE});var Hl=p(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.configureCompression=tr.createHttpAgent=tr.sendWithHttp=void 0;var IE=I("url"),wE=I("http"),NE=I("https"),iN=I("zlib"),oN=I("stream"),Fl=D(),ca=kl(),xE=ee(),ql=ua(),Gl;function sN(e,t,r,n,i){let o=e.timeoutMillis,s=new IE.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),c=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},o),l={hostname:s.hostname,port:s.port,path:s.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(s.protocol==="http:"?wE.request:NE.request)(l,h=>{let _="";h.on("data",g=>_+=g),h.on("aborted",()=>{if(a){let g=new ql.OTLPExporterError("Request Timeout");i(g)}}),h.on("end",()=>{if(!a){if(h.statusCode&&h.statusCode<299)Fl.diag.debug(`statusCode: ${h.statusCode}`,_),n();else{let g=new ql.OTLPExporterError(h.statusMessage,h.statusCode,_);i(g)}clearTimeout(c)}})});switch(f.on("error",h=>{if(a){let _=new ql.OTLPExporterError("Request Timeout",h.code);i(_)}else clearTimeout(c),i(h)}),e.compression){case ca.CompressionAlgorithm.GZIP:{Gl||(Gl=iN.createGzip()),f.setHeader("Content-Encoding","gzip"),aN(t).on("error",i).pipe(Gl).on("error",i).pipe(f);break}default:f.end(t);break}}tr.sendWithHttp=sN;function aN(e){let t=new oN.Readable;return t.push(e),t.push(null),t}function uN(e){if(e.httpAgentOptions&&e.keepAlive===!1){Fl.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new IE.URL(e.url).protocol==="http:"?wE.Agent:NE.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){Fl.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}tr.createHttpAgent=uN;function cN(e){return e||(((0,xE.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,xE.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===ca.CompressionAlgorithm.GZIP?ca.CompressionAlgorithm.GZIP:ca.CompressionAlgorithm.NONE)}tr.configureCompression=cN});var BE=p(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.OTLPExporterNodeBase=void 0;var lN=sa(),pN=Ii(),$l=Hl(),LE=D(),ME=ee(),DE=class extends lN.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&LE.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,pN.parseHeaders)(t.headers),ME.baggageUtils.parseKeyPairsIntoRecord((0,ME.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,$l.createHttpAgent)(t),this.compression=(0,$l.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){LE.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=new Promise((a,u)=>{(0,$l.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(o);let s=()=>{let a=this._sendingPromises.indexOf(o);this._sendingPromises.splice(a,1)};o.then(s,s)}onShutdown(){}};la.OTLPExporterNodeBase=DE});var UE=p(Bt=>{"use strict";var dN=Bt&&Bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vl=Bt&&Bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dN(t,e,r)};Object.defineProperty(Bt,"__esModule",{value:!0});Vl(BE(),Bt);Vl(Hl(),Bt);Vl(kl(),Bt)});var kE=p(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.sendWithXhr=An.sendWithBeacon=void 0;var jE=D(),Yl=ua();function fN(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))jE.diag.debug("sendBeacon - can send",e),n();else{let o=new Yl.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(o)}}An.sendWithBeacon=fN;function hN(e,t,r,n,i,o){let s,a=setTimeout(()=>{s=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([l,d])=>{u.setRequestHeader(l,d)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),jE.diag.debug("xhr success",e),i();else if(s){let l=new Yl.OTLPExporterError("Request Timeout",u.status);o(l)}else{let l=new Yl.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),o(l)}}}An.sendWithXhr=hN});var HE=p(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});pa.OTLPExporterBrowserBase=void 0;var _N=sa(),gN=Ii(),FE=kE(),mN=D(),qE=ee(),GE=class extends _N.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,gN.parseHeaders)(t.headers),qE.baggageUtils.parseKeyPairsIntoRecord((0,qE.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){mN.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=JSON.stringify(i),s=new Promise((u,c)=>{this._useXHR?(0,FE.sendWithXhr)(o,this.url,this._headers,this.timeoutMillis,u,c):(0,FE.sendWithBeacon)(o,this.url,{type:"application/json"},u,c)}).then(r,n);this._sendingPromises.push(s);let a=()=>{let u=this._sendingPromises.indexOf(s);this._sendingPromises.splice(u,1)};s.then(a,a)}};pa.OTLPExporterBrowserBase=GE});var $E=p(xr=>{"use strict";var EN=xr&&xr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yN=xr&&xr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EN(t,e,r)};Object.defineProperty(xr,"__esModule",{value:!0});yN(HE(),xr)});var VE=p(Ut=>{"use strict";var vN=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),AN=Ut&&Ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vN(t,e,r)};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.OTLPExporterBrowserBase=void 0;AN(UE(),Ut);var bN=$E();Object.defineProperty(Ut,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return bN.OTLPExporterBrowserBase}})});var Wl=p(yt=>{"use strict";var SN=yt&&yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),da=yt&&yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&SN(t,e,r)};Object.defineProperty(yt,"__esModule",{value:!0});da(sa(),yt);da(VE(),yt);da(ua(),yt);da(Ii(),yt)});var WE=p(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0})});var XE=p(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0})});var QE=p(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0})});var ZE=p(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.ESpanKind=void 0;var TN;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(TN=xi.ESpanKind||(xi.ESpanKind={}))});var fa=p(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.bufToHex=Je.hexToBuf=Je.toAnyValue=Je.toKeyValue=Je.toAttributes=void 0;function RN(e){return Object.keys(e).map(t=>Kl(t,e[t]))}Je.toAttributes=RN;function Kl(e,t){return{key:e,value:Xl(t)}}Je.toKeyValue=Kl;function Xl(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Xl)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>Kl(r,n))}}:{}}Je.toAnyValue=Xl;function ON(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}Je.hexToBuf=ON;function CN(e){return("0"+e.toString(16)).slice(-2)}function PN(e){if(!(e==null||e.length===0))return Array.from(e).map(CN).join("")}Je.bufToHex=PN});var ty=p(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.toOtlpSpanEvent=rr.toOtlpLink=rr.sdkSpanToOtlpSpan=void 0;var zl=ee(),Ql=fa(),Li=ee();function IN(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?Li.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:Li.hexToBase64(r.traceId),spanId:t?r.spanId:Li.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,zl.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,zl.hrTimeToNanoseconds)(e.endTime),attributes:(0,Ql.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(ey),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(o=>JE(o,t)),droppedLinksCount:0}}rr.sdkSpanToOtlpSpan=IN;function JE(e,t){return{attributes:e.attributes?(0,Ql.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:Li.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:Li.hexToBase64(e.context.traceId),droppedAttributesCount:0}}rr.toOtlpLink=JE;function ey(e){return{attributes:e.attributes?(0,Ql.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,zl.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}rr.toOtlpSpanEvent=ey});var ry=p(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.createExportTraceServiceRequest=void 0;var wN=fa(),NN=ty();function xN(e,t){return{resourceSpans:MN(e,t)}}ha.createExportTraceServiceRequest=xN;function LN(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,o=n.get(i);o||(o=[],n.set(i,o)),o.push(r)}return t}function MN(e,t){let r=LN(e),n=[],i=r.entries(),o=i.next();for(;!o.done;){let[s,a]=o.value,u=[],c=a.values(),l=c.next();for(;!l.done;){let f=l.value;if(f.length>0){let{name:h,version:_,schemaUrl:g}=f[0].instrumentationLibrary,v=f.map(b=>(0,NN.sdkSpanToOtlpSpan)(b,t));u.push({scope:{name:h,version:_},spans:v,schemaUrl:g})}l=c.next()}let d={resource:{attributes:(0,wN.toAttributes)(s.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(d),o=i.next()}return n}});var op=p(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=q.NOOP_OBSERVABLE_GAUGE_METRIC=q.NOOP_OBSERVABLE_COUNTER_METRIC=q.NOOP_UP_DOWN_COUNTER_METRIC=q.NOOP_HISTOGRAM_METRIC=q.NOOP_COUNTER_METRIC=q.NOOP_METER=q.NoopObservableUpDownCounterMetric=q.NoopObservableGaugeMetric=q.NoopObservableCounterMetric=q.NoopObservableMetric=q.NoopHistogramMetric=q.NoopUpDownCounterMetric=q.NoopCounterMetric=q.NoopMetric=q.NoopMeter=void 0;var Zl=class{constructor(){}createHistogram(t,r){return q.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return q.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return q.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return q.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return q.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};q.NoopMeter=Zl;var Mi=class{};q.NoopMetric=Mi;var Jl=class extends Mi{add(t,r){}};q.NoopCounterMetric=Jl;var ep=class extends Mi{add(t,r){}};q.NoopUpDownCounterMetric=ep;var tp=class extends Mi{record(t,r){}};q.NoopHistogramMetric=tp;var Di=class{addCallback(t){}removeCallback(t){}};q.NoopObservableMetric=Di;var rp=class extends Di{};q.NoopObservableCounterMetric=rp;var np=class extends Di{};q.NoopObservableGaugeMetric=np;var ip=class extends Di{};q.NoopObservableUpDownCounterMetric=ip;q.NOOP_METER=new Zl;q.NOOP_COUNTER_METRIC=new Jl;q.NOOP_HISTOGRAM_METRIC=new tp;q.NOOP_UP_DOWN_COUNTER_METRIC=new ep;q.NOOP_OBSERVABLE_COUNTER_METRIC=new rp;q.NOOP_OBSERVABLE_GAUGE_METRIC=new np;q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new ip});var ap=p(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.NOOP_METER_PROVIDER=bn.NoopMeterProvider=void 0;var DN=op(),sp=class{getMeter(t,r,n){return DN.NOOP_METER}};bn.NoopMeterProvider=sp;bn.NOOP_METER_PROVIDER=new sp});var iy=p(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0})});var sy=p(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0})});var ay=p(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.ValueType=void 0;var BN;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(BN=Bi.ValueType||(Bi.ValueType={}))});var cy=p(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0})});var ly=p(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});_a._globalThis=void 0;_a._globalThis=typeof globalThis=="object"?globalThis:global});var py=p(Lr=>{"use strict";var UN=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jN=Lr&&Lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UN(t,e,r)};Object.defineProperty(Lr,"__esModule",{value:!0});jN(ly(),Lr)});var dy=p(Mr=>{"use strict";var kN=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),FN=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kN(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});FN(py(),Mr)});var fy=p(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.API_BACKWARDS_COMPATIBILITY_VERSION=vt.makeGetter=vt._global=vt.GLOBAL_METRICS_API_KEY=void 0;var qN=dy();vt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");vt._global=qN._globalThis;function GN(e,t,r){return n=>n===e?t:r}vt.makeGetter=GN;vt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var _y=p(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.MetricsAPI=void 0;var hy=ap(),et=fy(),ga=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ga),this._instance}setGlobalMeterProvider(t){return et._global[et.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(et._global[et.GLOBAL_METRICS_API_KEY]=(0,et.makeGetter)(et.API_BACKWARDS_COMPATIBILITY_VERSION,t,hy.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=et._global[et.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(et._global,et.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:hy.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete et._global[et.GLOBAL_METRICS_API_KEY]}};ma.MetricsAPI=ga});var Tn=p(je=>{"use strict";var HN=je&&je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sn=je&&je.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HN(t,e,r)};Object.defineProperty(je,"__esModule",{value:!0});je.metrics=void 0;Sn(op(),je);Sn(ap(),je);Sn(iy(),je);Sn(sy(),je);Sn(ay(),je);Sn(cy(),je);var $N=_y();je.metrics=$N.MetricsAPI.getInstance()});var Ea=p(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.AggregationTemporality=void 0;var VN;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(VN=Ui.AggregationTemporality||(Ui.AggregationTemporality={}))});var ki=p(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.DataPointType=void 0;var YN;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(YN=ji.DataPointType||(ji.DataPointType={}))});var my=p(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.ConsoleMetricExporter=void 0;var WN=Ea(),KN=ee(),gy=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:WN.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:KN.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};ya.ConsoleMetricExporter=gy});var yy=p(Ey=>{"use strict";Object.defineProperty(Ey,"__esModule",{value:!0})});var jt=p(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.setEquals=fe.FlatMap=fe.isPromiseAllSettledRejectionResult=fe.PromiseAllSettled=fe.callWithTimeout=fe.TimeoutError=fe.instrumentationScopeId=fe.hashAttributes=fe.isNotNullish=void 0;function XN(e){return e!=null}fe.isNotNullish=XN;function zN(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}fe.hashAttributes=zN;function QN(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}fe.instrumentationScopeId=QN;var Fi=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,Fi.prototype)}};fe.TimeoutError=Fi;function ZN(e,t){let r,n=new Promise(function(o,s){r=setTimeout(function(){s(new Fi("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}fe.callWithTimeout=ZN;async function JN(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}fe.PromiseAllSettled=JN;function ex(e){return e.status==="rejected"}fe.isPromiseAllSettledRejectionResult=ex;function tx(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}fe.FlatMap=tx;function rx(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}fe.setEquals=rx});var up=p(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.MetricReader=void 0;var vy=D(),Ay=jt(),by=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){vy.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,Ay.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){vy.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,Ay.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};va.MetricReader=by});var Cy=p(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.PeriodicExportingMetricReader=void 0;var Sy=D(),Ty=ee(),nx=up(),Ry=jt(),Oy=class extends nx.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&Sy.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,o=>{var s;o.code!==Ty.ExportResultCode.SUCCESS?i((s=o.error)!==null&&s!==void 0?s:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${o.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,Ry.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof Ry.TimeoutError){Sy.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,Ty.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};Aa.PeriodicExportingMetricReader=Oy});var Dr=p(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.isDescriptorCompatibleWith=at.createInstrumentDescriptorWithView=at.createInstrumentDescriptor=at.InstrumentType=void 0;var ix=Tn(),ox;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(ox=at.InstrumentType||(at.InstrumentType={}));function sx(e,t,r){var n,i,o;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(o=r==null?void 0:r.valueType)!==null&&o!==void 0?o:ix.ValueType.DOUBLE}}at.createInstrumentDescriptor=sx;function ax(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}at.createInstrumentDescriptorWithView=ax;function ux(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}at.isDescriptorCompatibleWith=ux});var Sa=p(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isObservableInstrument=he.ObservableUpDownCounterInstrument=he.ObservableGaugeInstrument=he.ObservableCounterInstrument=he.ObservableInstrument=he.HistogramInstrument=he.CounterInstrument=he.UpDownCounterInstrument=he.SyncInstrument=void 0;var ba=D(),cx=Tn(),qi=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=ba.context.active()){this._descriptor.valueType===cx.ValueType.INT&&!Number.isInteger(t)&&(ba.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};he.SyncInstrument=qi;var Py=class extends qi{add(t,r,n){this._record(t,r,n)}};he.UpDownCounterInstrument=Py;var Iy=class extends qi{add(t,r,n){if(t<0){ba.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.CounterInstrument=Iy;var wy=class extends qi{record(t,r,n){if(t<0){ba.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.HistogramInstrument=wy;var Rn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};he.ObservableInstrument=Rn;var Ny=class extends Rn{};he.ObservableCounterInstrument=Ny;var xy=class extends Rn{};he.ObservableGaugeInstrument=xy;var Ly=class extends Rn{};he.ObservableUpDownCounterInstrument=Ly;function lx(e){return e instanceof Rn}he.isObservableInstrument=lx});var cp=p(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.Meter=void 0;var tt=Dr(),On=Sa(),My=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new On.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new On.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new On.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Ta.Meter=My});var Oa=p(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.ExactPredicate=Cn.PatternPredicate=void 0;var px=/[\^$\\.+?()[\]{}|]/g,Ra=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(Ra.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(px,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Cn.PatternPredicate=Ra;var Dy=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Cn.ExactPredicate=Dy});var lp=p(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.InstrumentSelector=void 0;var dx=Oa(),By=class{constructor(t){var r;this._nameFilter=new dx.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Ca.InstrumentSelector=By});var dp=p(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.MeterSelector=void 0;var pp=Oa(),Uy=class{constructor(t){this._nameFilter=new pp.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new pp.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new pp.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Pa.MeterSelector=Uy});var Hi=p(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.AggregatorKind=void 0;var fx;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(fx=Gi.AggregatorKind||(Gi.AggregatorKind={}))});var ky=p(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.DropAggregator=void 0;var hx=Hi(),jy=class{constructor(){this.kind=hx.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,o){}};Ia.DropAggregator=jy});var qy=p(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.HistogramAggregator=Pn.HistogramAccumulation=void 0;var _x=Hi(),gx=ki();function mx(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var $i=class{constructor(t,r=mx(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Pn.HistogramAccumulation=$i;var Fy=class{constructor(t){this._boundaries=t,this.kind=_x.AggregatorKind.HISTOGRAM}createAccumulation(){return new $i(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=o[u]+s[u];return new $i(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=s[u]-o[u];return new $i(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:gx.DataPointType.HISTOGRAM,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};Pn.HistogramAggregator=Fy});var Hy=p(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.LastValueAggregator=In.LastValueAccumulation=void 0;var Ex=Hi(),Vi=ee(),yx=ki(),Yi=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,Vi.hrTime)()}toPointValue(){return this._current}};In.LastValueAccumulation=Yi;var Gy=class{constructor(){this.kind=Ex.AggregatorKind.LAST_VALUE}createAccumulation(){return new Yi}merge(t,r){let n=(0,Vi.hrTimeToMicroseconds)(r.sampleTime)>=(0,Vi.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Yi(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,Vi.hrTimeToMicroseconds)(r.sampleTime)>=(0,Vi.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Yi(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:yx.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};In.LastValueAggregator=Gy});var Vy=p(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.SumAggregator=wn.SumAccumulation=void 0;var vx=Hi(),Ax=ki(),Wi=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};wn.SumAccumulation=Wi;var $y=class{constructor(){this.kind=vx.AggregatorKind.SUM}createAccumulation(){return new Wi}merge(t,r){return new Wi(t.toPointValue()+r.toPointValue())}diff(t,r){return new Wi(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:Ax.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};wn.SumAggregator=$y});var Yy=p(At=>{"use strict";var bx=At&&At.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wa=At&&At.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bx(t,e,r)};Object.defineProperty(At,"__esModule",{value:!0});wa(ky(),At);wa(qy(),At);wa(Hy(),At);wa(Vy(),At)});var hp=p(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.DefaultAggregation=Pe.ExplicitBucketHistogramAggregation=Pe.HistogramAggregation=Pe.LastValueAggregation=Pe.SumAggregation=Pe.DropAggregation=Pe.Aggregation=void 0;var Sx=D(),Ki=Yy(),Nn=Dr(),nr=class{static Drop(){return Ky}static Sum(){return Xy}static LastValue(){return zy}static Histogram(){return Qy}static Default(){return Tx}};Pe.Aggregation=nr;var xn=class extends nr{createAggregator(t){return xn.DEFAULT_INSTANCE}};Pe.DropAggregation=xn;xn.DEFAULT_INSTANCE=new Ki.DropAggregator;var Ln=class extends nr{createAggregator(t){return Ln.DEFAULT_INSTANCE}};Pe.SumAggregation=Ln;Ln.DEFAULT_INSTANCE=new Ki.SumAggregator;var Mn=class extends nr{createAggregator(t){return Mn.DEFAULT_INSTANCE}};Pe.LastValueAggregation=Mn;Mn.DEFAULT_INSTANCE=new Ki.LastValueAggregator;var Dn=class extends nr{createAggregator(t){return Dn.DEFAULT_INSTANCE}};Pe.HistogramAggregation=Dn;Dn.DEFAULT_INSTANCE=new Ki.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var Wy=class extends nr{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,o)=>i-o);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new Ki.HistogramAggregator(this._boundaries)}};Pe.ExplicitBucketHistogramAggregation=Wy;var fp=class extends nr{_resolve(t){switch(t.type){case Nn.InstrumentType.COUNTER:case Nn.InstrumentType.UP_DOWN_COUNTER:case Nn.InstrumentType.OBSERVABLE_COUNTER:case Nn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return Xy;case Nn.InstrumentType.OBSERVABLE_GAUGE:return zy;case Nn.InstrumentType.HISTOGRAM:return Qy}return Sx.diag.warn(`Unable to recognize instrument type: ${t.type}`),Ky}createAggregator(t){return this._resolve(t).createAggregator(t)}};Pe.DefaultAggregation=fp;var Ky=new xn,Xy=new Ln,zy=new Mn,Qy=new Dn,Tx=new fp});var gp=p(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.FilteringAttributesProcessor=ir.NoopAttributesProcessor=ir.AttributesProcessor=void 0;var Na=class{static Noop(){return Rx}};ir.AttributesProcessor=Na;var _p=class extends Na{process(t,r){return t}};ir.NoopAttributesProcessor=_p;var Zy=class extends Na{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};ir.FilteringAttributesProcessor=Zy;var Rx=new _p});var mp=p(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.View=void 0;var Ox=hp(),Cx=gp(),Jy=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:Ox.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:Cx.AttributesProcessor.Noop()}};xa.View=Jy});var ev=p(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.ViewRegistry=void 0;var Px=lp(),Ix=dp(),wx=mp(),Xi=class{constructor(){this._registeredViews=[]}addView(t,r=new Px.InstrumentSelector,n=new Ix.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[Xi.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};La.ViewRegistry=Xi;Xi.DEFAULT_VIEW=new wx.View});var Ep=p(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.MetricStorage=void 0;var Nx=Dr(),tv=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,Nx.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Ma.MetricStorage=tv});var zi=p(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.AttributeHashMap=Bn.HashMap=void 0;var xx=jt(),yp=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Bn.HashMap=yp;var rv=class extends yp{constructor(){super(xx.hashAttributes)}};Bn.AttributeHashMap=rv});var Ap=p(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.DeltaMetricProcessor=void 0;var vp=zi(),nv=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new vp.AttributeHashMap,this._cumulativeMemoStorage=new vp.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let o=this._aggregator.createAccumulation();if(o==null||o.record(n),this._cumulativeMemoStorage.has(r,i)){let s=this._cumulativeMemoStorage.get(r,i);o=this._aggregator.diff(s,o)}this._cumulativeMemoStorage.set(r,o,i),this._activeCollectionStorage.set(r,o,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new vp.AttributeHashMap,t}};Da.DeltaMetricProcessor=nv});var bp=p(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.TemporalMetricProcessor=void 0;var iv=Ea(),Lx=zi(),Qi=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,o,s){let a=o;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),c=u,l;if(this._reportHistory.has(t)){let d=this._reportHistory.get(t);a=d.collectionTime,l=d.aggregationTemporality,l===iv.AggregationTemporality.CUMULATIVE&&(c=Qi.merge(d.accumulations,u,this._aggregator))}else l=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:c,collectionTime:s,aggregationTemporality:l}),this._aggregator.toMetricData(n,l,Mx(c),l===iv.AggregationTemporality.CUMULATIVE?o:a,s)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new Lx.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=Qi.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let o=t,s=r.entries(),a=s.next();for(;a.done!==!0;){let[u,c,l]=a.value,d=(i=t.get(u,l))!==null&&i!==void 0?i:n.createAccumulation();o.set(u,n.merge(d,c),l),a=s.next()}return o}};Ba.TemporalMetricProcessor=Qi;function Mx(e){return Array.from(e.entries())}});var sv=p(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.AsyncMetricStorage=void 0;var Dx=Ep(),Bx=Ap(),Ux=bp(),jx=zi(),ov=class extends Dx.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Bx.DeltaMetricProcessor(r),this._temporalMetricStorage=new Ux.TemporalMetricProcessor(r)}record(t){let r=new jx.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};Ua.AsyncMetricStorage=ov});var pv=p(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.getConflictResolutionRecipe=ke.getDescriptionResolutionRecipe=ke.getTypeConflictResolutionRecipe=ke.getUnitConflictResolutionRecipe=ke.getValueTypeConflictResolutionRecipe=ke.getIncompatibilityDetails=void 0;function kx(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}ke.getIncompatibilityDetails=kx;function av(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getValueTypeConflictResolutionRecipe=av;function uv(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getUnitConflictResolutionRecipe=uv;function cv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}ke.getTypeConflictResolutionRecipe=cv;function lv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}ke.getDescriptionResolutionRecipe=lv;function Fx(e,t){return e.valueType!==t.valueType?av(e,t):e.unit!==t.unit?uv(e,t):e.type!==t.type?cv(e,t):e.description!==t.description?lv(e,t):""}ke.getConflictResolutionRecipe=Fx});var fv=p(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.MetricStorageRegistry=void 0;var qx=Dr(),dv=D(),ja=pv(),ka=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new ka}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let o of n){let s=o.getInstrumentDescriptor();(0,qx.isDescriptorCompatibleWith)(s,r)?(s.description!==r.description&&(r.description.length>s.description.length&&o.updateDescription(r.description),dv.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,ja.getIncompatibilityDetails)(s,r),`The longer description will be used.
To resolve the conflict:`,(0,ja.getConflictResolutionRecipe)(s,r))),i=o):dv.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,ja.getIncompatibilityDetails)(s,r),`To resolve the conflict:
`,(0,ja.getConflictResolutionRecipe)(s,r))}return i!=null?i:(n.push(t),t)}};Fa.MetricStorageRegistry=ka});var _v=p(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.MultiMetricStorage=void 0;var hv=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};qa.MultiMetricStorage=hv});var Sp=p(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.BatchObservableResultImpl=Un.ObservableResultImpl=void 0;var gv=D(),mv=Tn(),Ev=zi(),Gx=Sa(),yv=class{constructor(t){this._descriptor=t,this._buffer=new Ev.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===mv.ValueType.INT&&!Number.isInteger(t)&&(gv.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};Un.ObservableResultImpl=yv;var vv=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,Gx.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new Ev.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===mv.ValueType.INT&&!Number.isInteger(r)&&(gv.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};Un.BatchObservableResultImpl=vv});var Tv=p(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.ObservableRegistry=void 0;var Hx=D(),Av=Sa(),bv=Sp(),Zi=jt(),Sv=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(Av.isObservableInstrument));if(n.size===0){Hx.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(Av.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,Zi.PromiseAllSettled)([...r,...n])).filter(Zi.isPromiseAllSettledRejectionResult).map(s=>s.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new bv.ObservableResultImpl(n._descriptor),o=Promise.resolve(r(i));t!=null&&(o=(0,Zi.callWithTimeout)(o,t)),await o,n._metricStorages.forEach(s=>{s.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new bv.BatchObservableResultImpl,o=Promise.resolve(r(i));t!=null&&(o=(0,Zi.callWithTimeout)(o,t)),await o,n.forEach(s=>{let a=i._buffer.get(s);a!=null&&s._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Zi.setEquals)(n.instruments,r))}};Ga.ObservableRegistry=Sv});var Ov=p(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.SyncMetricStorage=void 0;var $x=Ep(),Vx=Ap(),Yx=bp(),Rv=class extends $x.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Vx.DeltaMetricProcessor(r),this._temporalMetricStorage=new Yx.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};Ha.SyncMetricStorage=Rv});var Iv=p(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.MeterSharedState=void 0;var Cv=Dr(),Wx=cp(),$a=jt(),Kx=sv(),Xx=fv(),zx=_v(),Qx=Tv(),Zx=Ov(),Pv=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new Xx.MetricStorageRegistry,this.observableRegistry=new Qx.ObservableRegistry,this.meter=new Wx.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Cv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new Zx.SyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter($a.isNotNullish);return n.length===1?n[0]:new zx.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Cv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new Kx.AsyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter($a.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),o=Array.from(this._metricStorageRegistry.getStorages()).map(s=>s.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter($a.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:o.filter($a.isNotNullish)},errors:i}}};Va.MeterSharedState=Pv});var Nv=p(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.MeterProviderSharedState=void 0;var Jx=ee(),eL=jt(),tL=ev(),rL=Iv(),wv=class{constructor(t){this.resource=t,this.viewRegistry=new tL.ViewRegistry,this.sdkStartTime=(0,Jx.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,eL.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new rL.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};Ya.MeterProviderSharedState=wv});var Lv=p(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.MetricCollector=void 0;var nL=ee(),iL=jt(),xv=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,nL.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(o=>o.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(o=>o.scopeMetrics)},errors:(0,iL.FlatMap)(i,o=>o.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Wa.MetricCollector=xv});var Dv=p(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.MeterProvider=void 0;var Tp=D(),oL=Tn(),sL=Ci(),aL=Nv(),uL=lp(),cL=dp(),lL=mp(),pL=Lv(),dL=gp(),fL=Oa();function hL(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var Mv=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new aL.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:sL.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(Tp.diag.warn("A shutdown MeterProvider cannot provide a Meter"),oL.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new pL.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(hL(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||fL.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new dL.FilteringAttributesProcessor(t.attributeKeys));let o=new lL.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),s=new uL.InstrumentSelector(r==null?void 0:r.instrument),a=new cL.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(o,s,a)}async shutdown(t){if(this._shutdown){Tp.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){Tp.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Ka.MeterProvider=Mv});var Bv=p(_e=>{"use strict";var _L=_e&&_e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bt=_e&&_e.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_L(t,e,r)};Object.defineProperty(_e,"__esModule",{value:!0});_e.TimeoutError=_e.InstrumentType=void 0;bt(Ea(),_e);bt(ki(),_e);bt(my(),_e);bt(yy(),_e);bt(up(),_e);bt(Cy(),_e);var gL=Dr();Object.defineProperty(_e,"InstrumentType",{enumerable:!0,get:function(){return gL.InstrumentType}});bt(cp(),_e);bt(Dv(),_e);bt(Sp(),_e);var mL=jt();Object.defineProperty(_e,"TimeoutError",{enumerable:!0,get:function(){return mL.TimeoutError}});bt(hp(),_e)});var Fv=p(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.toMetric=or.toScopeMetrics=or.toResourceMetrics=void 0;var Uv=Tn(),Xa=ee(),St=Bv(),Rp=fa();function EL(e){return{resource:{attributes:(0,Rp.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:jv(e.scopeMetrics)}}or.toResourceMetrics=EL;function jv(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>kv(n)),schemaUrl:t.scope.schemaUrl})))}or.toScopeMetrics=jv;function kv(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=TL(e.aggregationTemporality);if(e.dataPointType===St.DataPointType.SINGULAR){let n=vL(e),i=e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER;bL(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else SL(e)&&(t.histogram={aggregationTemporality:r,dataPoints:AL(e)});return t}or.toMetric=kv;function yL(e,t){let r={attributes:(0,Rp.toAttributes)(e.attributes),startTimeUnixNano:(0,Xa.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Xa.hrTimeToNanoseconds)(e.endTime)};return t===Uv.ValueType.INT?r.asInt=e.value:t===Uv.ValueType.DOUBLE&&(r.asDouble=e.value),r}function vL(e){return e.dataPoints.map(t=>yL(t,e.descriptor.valueType))}function AL(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,Rp.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Xa.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Xa.hrTimeToNanoseconds)(t.endTime)}})}function bL(e){return e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function SL(e){return e.dataPointType===St.DataPointType.HISTOGRAM}function TL(e){return e===St.AggregationTemporality.DELTA?1:e===St.AggregationTemporality.CUMULATIVE?2:0}});var qv=p(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.createExportMetricsServiceRequest=void 0;var RL=Fv();function OL(e){return{resourceMetrics:e.map(t=>(0,RL.toResourceMetrics)(t))}}za.createExportMetricsServiceRequest=OL});var Gv=p(Fe=>{"use strict";var CL=Fe&&Fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qa=Fe&&Fe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&CL(t,e,r)};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createExportMetricsServiceRequest=Fe.createExportTraceServiceRequest=void 0;Qa(WE(),Fe);Qa(XE(),Fe);Qa(QE(),Fe);Qa(ZE(),Fe);var PL=ry();Object.defineProperty(Fe,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return PL.createExportTraceServiceRequest}});var IL=qv();Object.defineProperty(Fe,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return IL.createExportMetricsServiceRequest}})});var Vv=p(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.OTLPTraceExporter=void 0;var jn=ee(),wL=Wl(),Hv=Wl(),NL=Gv(),Op="v1/traces",xL=`http://localhost:4318/${Op}`,$v=class extends wL.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,jn.baggageUtils.parseKeyPairsIntoRecord((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,NL.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,Hv.appendRootPathToUrlIfNeeded)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,Op):(0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,Hv.appendResourcePathToUrl)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,Op):xL}};Za.OTLPTraceExporter=$v});var Yv=p(Br=>{"use strict";var LL=Br&&Br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ML=Br&&Br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LL(t,e,r)};Object.defineProperty(Br,"__esModule",{value:!0});ML(Vv(),Br)});var Wv=p(Ur=>{"use strict";var DL=Ur&&Ur.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BL=Ur&&Ur.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DL(t,e,r)};Object.defineProperty(Ur,"__esModule",{value:!0});BL(Yv(),Ur)});var Kv=p(jr=>{"use strict";var UL=jr&&jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jL=jr&&jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UL(t,e,r)};Object.defineProperty(jr,"__esModule",{value:!0});jL(Wv(),jr)});var eu=p(rt=>{"use strict";rt.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;rt.find=(e,t)=>e.nodes.find(r=>r.type===t);rt.exceedsLimit=(e,t,r=1,n)=>n===!1||!rt.isInteger(e)||!rt.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;rt.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};rt.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;rt.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;rt.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;rt.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);rt.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var tu=p((cF,uA)=>{"use strict";var aA=eu();uA.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&aA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||s)&&aA.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var lA=p((lF,cA)=>{"use strict";cA.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var yA=p((pF,EA)=>{"use strict";var pA=lA(),qr=(e,t,r)=>{if(pA(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(pA(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=F({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+o+s+a;if(qr.cache.hasOwnProperty(u))return qr.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(Math.abs(c-l)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let d=mA(e)||mA(t),f={min:e,max:t,a:c,b:l},h=[],_=[];if(d&&(f.isPadded=d,f.maxLen=String(f.max).length),c<0){let g=l<0?Math.abs(l):1;_=dA(g,Math.abs(c),f,n),c=f.a=0}return l>=0&&(h=dA(c,l,f,n)),f.negatives=_,f.positives=h,f.result=FL(_,h,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&h.length+_.length>1&&(f.result=`(?:${f.result})`),qr.cache[u]=f,f.result};function FL(e,t,r){let n=Pp(e,t,"-",!1,r)||[],i=Pp(t,e,"",!1,r)||[],o=Pp(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function qL(e,t){let r=1,n=1,i=hA(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=hA(e,r);for(i=_A(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=_A(t+1,n)-1;return o=[...o],o.sort($L),o}function GL(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=HL(e,t),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?o+=u:u!=="0"||c!=="9"?o+=VL(u,c,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function dA(e,t,r,n){let i=qL(e,t),o=[],s=e,a;for(let u=0;u<i.length;u++){let c=i[u],l=GL(String(s),String(c),n),d="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+gA(a.count),s=c+1;continue}r.isPadded&&(d=YL(c,r,n)),l.string=d+l.pattern+gA(l.count),o.push(l),s=c+1,a=l}return o}function Pp(e,t,r,n,i){let o=[];for(let s of e){let{string:a}=s;!n&&!fA(t,"string",a)&&o.push(r+a),n&&fA(t,"string",a)&&o.push(r+a)}return o}function HL(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function $L(e,t){return e>t?1:t>e?-1:0}function fA(e,t,r){return e.some(n=>n[t]===r)}function hA(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function _A(e,t){return e-e%Math.pow(10,t)}function gA(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function VL(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function mA(e){return/^-?(0+)\d/.test(e)}function YL(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}qr.cache={};qr.clearCache=()=>qr.cache={};EA.exports=qr});var Np=p((dF,CA)=>{"use strict";var WL=I("util"),vA=yA(),AA=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),KL=e=>t=>e===!0?Number(t):String(t),Ip=e=>typeof e=="number"||typeof e=="string"&&e!=="",eo=e=>Number.isInteger(+e),wp=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},XL=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,zL=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},bA=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},QL=(e,t)=>{e.negatives.sort((s,a)=>s<a?-1:s>a?1:0),e.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},SA=(e,t,r,n)=>{if(r)return vA(e,t,F({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},TA=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return vA(e,t,r)},RA=(...e)=>new RangeError("Invalid range arguments: "+WL.inspect(...e)),OA=(e,t,r)=>{if(r.strictRanges===!0)throw RA([e,t]);return[]},ZL=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},JL=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw RA([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let l=wp(a)||wp(u)||wp(c),d=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&XL(e,t,n)===!1,h=n.transform||KL(f);if(n.toRegex&&r===1)return SA(bA(e,d),bA(t,d),!0,n);let _={negatives:[],positives:[]},g=y=>_[y<0?"negatives":"positives"].push(Math.abs(y)),v=[],b=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?g(i):v.push(zL(h(i,b),d,f)),i=s?i-r:i+r,b++;return n.toRegex===!0?r>1?QL(_,n):TA(v,null,F({wrap:!1},n)):v},eM=(e,t,r=1,n={})=>{if(!eo(e)&&e.length>1||!eo(t)&&t.length>1)return OA(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=o>s,u=Math.min(o,s),c=Math.max(o,s);if(n.toRegex&&r===1)return SA(u,c,!1,n);let l=[],d=0;for(;a?o>=s:o<=s;)l.push(i(o,d)),o=a?o-r:o+r,d++;return n.toRegex===!0?TA(l,null,{wrap:!1,options:n}):l},ru=(e,t,r,n={})=>{if(t==null&&Ip(e))return[e];if(!Ip(e)||!Ip(t))return OA(e,t,n);if(typeof r=="function")return ru(e,t,1,{transform:r});if(AA(r))return ru(e,t,0,r);let i=F({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,eo(r)?eo(e)&&eo(t)?JL(e,t,r,i):eM(e,t,Math.max(Math.abs(r),1),i):r!=null&&!AA(r)?ZL(r,i):ru(e,t,1,r)};CA.exports=ru});var wA=p((fF,IA)=>{"use strict";var tM=Np(),PA=eu(),rM=(e,t={})=>{let r=(n,i={})=>{let o=PA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||s===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=PA.reduce(n.nodes),d=tM(...l,ce(F({},t),{wrap:!1,toRegex:!0}));if(d.length!==0)return l.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(e)};IA.exports=rM});var LA=p((hF,xA)=>{"use strict";var nM=Np(),NA=tu(),Fn=eu(),Gr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Fn.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push(Gr(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Gr(i,o,r):i+o);return Fn.flatten(n)},iM=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Gr(a.pop(),NA(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Gr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let d=Fn.reduce(i.nodes);if(Fn.exceedsLimit(...d,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=nM(...d,t);f.length===0&&(f=NA(i,t)),a.push(Gr(a.pop(),f)),i.nodes=[];return}let u=Fn.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let d=0;d<i.nodes.length;d++){let f=i.nodes[d];if(f.type==="comma"&&i.type==="brace"){d===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Gr(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Gr(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return Fn.flatten(n(e))};xA.exports=iM});var DA=p((_F,MA)=>{"use strict";MA.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var FA=p((gF,kA)=>{"use strict";var oM=tu(),{MAX_LENGTH:BA,CHAR_BACKSLASH:xp,CHAR_BACKTICK:sM,CHAR_COMMA:aM,CHAR_DOT:uM,CHAR_LEFT_PARENTHESES:cM,CHAR_RIGHT_PARENTHESES:lM,CHAR_LEFT_CURLY_BRACE:pM,CHAR_RIGHT_CURLY_BRACE:dM,CHAR_LEFT_SQUARE_BRACKET:UA,CHAR_RIGHT_SQUARE_BRACKET:jA,CHAR_DOUBLE_QUOTE:fM,CHAR_SINGLE_QUOTE:hM,CHAR_NO_BREAK_SPACE:_M,CHAR_ZERO_WIDTH_NOBREAK_SPACE:gM}=DA(),mM=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(BA,r.maxLength):BA;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,a=i,u=0,c=e.length,l=0,d=0,f,h={},_=()=>e[l++],g=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return s.nodes.push(v),v.parent=s,v.prev=a,a=v,v};for(g({type:"bos"});l<c;)if(s=o[o.length-1],f=_(),!(f===gM||f===_M)){if(f===xp){g({type:"text",value:(t.keepEscaping?f:"")+_()});continue}if(f===jA){g({type:"text",value:"\\"+f});continue}if(f===UA){u++;let v=!0,b;for(;l<c&&(b=_());){if(f+=b,b===UA){u++;continue}if(b===xp){f+=_();continue}if(b===jA&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===cM){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:f});continue}if(f===lM){if(s.type!=="paren"){g({type:"text",value:f});continue}s=o.pop(),g({type:"text",value:f}),s=o[o.length-1];continue}if(f===fM||f===hM||f===sM){let v=f,b;for(t.keepQuotes!==!0&&(f="");l<c&&(b=_());){if(b===xp){f+=b+_();continue}if(b===v){t.keepQuotes===!0&&(f+=b);break}f+=b}g({type:"text",value:f});continue}if(f===pM){d++;let v=a.value&&a.value.slice(-1)==="$"||s.dollar===!0;s=g({type:"brace",open:!0,close:!1,dollar:v,depth:d,commas:0,ranges:0,nodes:[]}),o.push(s),g({type:"open",value:f});continue}if(f===dM){if(s.type!=="brace"){g({type:"text",value:f});continue}let v="close";s=o.pop(),s.close=!0,g({type:v,value:f}),d--,s=o[o.length-1];continue}if(f===aM&&d>0){if(s.ranges>0){s.ranges=0;let v=s.nodes.shift();s.nodes=[v,{type:"text",value:oM(s)}]}g({type:"comma",value:f}),s.commas++;continue}if(f===uM&&d>0&&s.commas===0){let v=s.nodes;if(d===0||v.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(s.range=[],a.value+=f,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){v.pop();let b=v[v.length-1];b.value+=a.value+f,a=b,s.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(y=>{y.nodes||(y.type==="open"&&(y.isOpen=!0),y.type==="close"&&(y.isClose=!0),y.nodes||(y.type="text"),y.invalid=!0)});let v=o[o.length-1],b=v.nodes.indexOf(s);v.nodes.splice(b,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};kA.exports=mM});var HA=p((mF,GA)=>{"use strict";var qA=tu(),EM=wA(),yM=LA(),vM=FA(),Ve=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Ve.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ve.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Ve.parse=(e,t={})=>vM(e,t);Ve.stringify=(e,t={})=>typeof e=="string"?qA(Ve.parse(e,t),t):qA(e,t);Ve.compile=(e,t={})=>(typeof e=="string"&&(e=Ve.parse(e,t)),EM(e,t));Ve.expand=(e,t={})=>{typeof e=="string"&&(e=Ve.parse(e,t));let r=yM(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Ve.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Ve.compile(e,t):Ve.expand(e,t);GA.exports=Ve});var to=p((EF,KA)=>{"use strict";var AM=I("path"),Ct="\\\\/",$A=`[^${Ct}]`,kt="\\.",bM="\\+",SM="\\?",nu="\\/",TM="(?=.)",VA="[^/]",Lp=`(?:${nu}|$)`,YA=`(?:^|${nu})`,Mp=`${kt}{1,2}${Lp}`,RM=`(?!${kt})`,OM=`(?!${YA}${Mp})`,CM=`(?!${kt}{0,1}${Lp})`,PM=`(?!${Mp})`,IM=`[^.${nu}]`,wM=`${VA}*?`,WA={DOT_LITERAL:kt,PLUS_LITERAL:bM,QMARK_LITERAL:SM,SLASH_LITERAL:nu,ONE_CHAR:TM,QMARK:VA,END_ANCHOR:Lp,DOTS_SLASH:Mp,NO_DOT:RM,NO_DOTS:OM,NO_DOT_SLASH:CM,NO_DOTS_SLASH:PM,QMARK_NO_DOT:IM,STAR:wM,START_ANCHOR:YA},NM=ce(F({},WA),{SLASH_LITERAL:`[${Ct}]`,QMARK:$A,STAR:`${$A}*?`,DOTS_SLASH:`${kt}{1,2}(?:[${Ct}]|$)`,NO_DOT:`(?!${kt})`,NO_DOTS:`(?!(?:^|[${Ct}])${kt}{1,2}(?:[${Ct}]|$))`,NO_DOT_SLASH:`(?!${kt}{0,1}(?:[${Ct}]|$))`,NO_DOTS_SLASH:`(?!${kt}{1,2}(?:[${Ct}]|$))`,QMARK_NO_DOT:`[^.${Ct}]`,START_ANCHOR:`(?:^|[${Ct}])`,END_ANCHOR:`(?:[${Ct}]|$)`}),xM={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};KA.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:xM,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:AM.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?NM:WA}}});var ro=p(qe=>{"use strict";var LM=I("path"),MM=process.platform==="win32",{REGEX_BACKSLASH:DM,REGEX_REMOVE_BACKSLASH:BM,REGEX_SPECIAL_CHARS:UM,REGEX_SPECIAL_CHARS_GLOBAL:jM}=to();qe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);qe.hasRegexChars=e=>UM.test(e);qe.isRegexChar=e=>e.length===1&&qe.hasRegexChars(e);qe.escapeRegex=e=>e.replace(jM,"\\$1");qe.toPosixSlashes=e=>e.replace(DM,"/");qe.removeBackslashes=e=>e.replace(BM,t=>t==="\\"?"":t);qe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};qe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:MM===!0||LM.sep==="\\";qe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?qe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};qe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};qe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var r0=p((vF,t0)=>{"use strict";var XA=ro(),{CHAR_ASTERISK:Dp,CHAR_AT:kM,CHAR_BACKWARD_SLASH:no,CHAR_COMMA:FM,CHAR_DOT:Bp,CHAR_EXCLAMATION_MARK:Up,CHAR_FORWARD_SLASH:zA,CHAR_LEFT_CURLY_BRACE:jp,CHAR_LEFT_PARENTHESES:kp,CHAR_LEFT_SQUARE_BRACKET:qM,CHAR_PLUS:GM,CHAR_QUESTION_MARK:QA,CHAR_RIGHT_CURLY_BRACE:HM,CHAR_RIGHT_PARENTHESES:ZA,CHAR_RIGHT_SQUARE_BRACKET:$M}=to(),JA=e=>e===zA||e===no,e0=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},VM=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],u=e,c=-1,l=0,d=0,f=!1,h=!1,_=!1,g=!1,v=!1,b=!1,y=!1,O=!1,U=!1,G=!1,te=0,k,C,T={value:"",depth:0,isGlob:!1},K=()=>c>=n,A=()=>u.charCodeAt(c+1),L=()=>(k=C,u.charCodeAt(++c));for(;c<n;){C=L();let ae;if(C===no){y=T.backslashes=!0,C=L(),C===jp&&(b=!0);continue}if(b===!0||C===jp){for(te++;K()!==!0&&(C=L());){if(C===no){y=T.backslashes=!0,L();continue}if(C===jp){te++;continue}if(b!==!0&&C===Bp&&(C=L())===Bp){if(f=T.isBrace=!0,_=T.isGlob=!0,G=!0,i===!0)continue;break}if(b!==!0&&C===FM){if(f=T.isBrace=!0,_=T.isGlob=!0,G=!0,i===!0)continue;break}if(C===HM&&(te--,te===0)){b=!1,f=T.isBrace=!0,G=!0;break}}if(i===!0)continue;break}if(C===zA){if(o.push(c),s.push(T),T={value:"",depth:0,isGlob:!1},G===!0)continue;if(k===Bp&&c===l+1){l+=2;continue}d=c+1;continue}if(r.noext!==!0&&(C===GM||C===kM||C===Dp||C===QA||C===Up)===!0&&A()===kp){if(_=T.isGlob=!0,g=T.isExtglob=!0,G=!0,C===Up&&c===l&&(U=!0),i===!0){for(;K()!==!0&&(C=L());){if(C===no){y=T.backslashes=!0,C=L();continue}if(C===ZA){_=T.isGlob=!0,G=!0;break}}continue}break}if(C===Dp){if(k===Dp&&(v=T.isGlobstar=!0),_=T.isGlob=!0,G=!0,i===!0)continue;break}if(C===QA){if(_=T.isGlob=!0,G=!0,i===!0)continue;break}if(C===qM){for(;K()!==!0&&(ae=L());){if(ae===no){y=T.backslashes=!0,L();continue}if(ae===$M){h=T.isBracket=!0,_=T.isGlob=!0,G=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&C===Up&&c===l){O=T.negated=!0,l++;continue}if(r.noparen!==!0&&C===kp){if(_=T.isGlob=!0,i===!0){for(;K()!==!0&&(C=L());){if(C===kp){y=T.backslashes=!0,C=L();continue}if(C===ZA){G=!0;break}}continue}break}if(_===!0){if(G=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,_=!1);let M=u,V="",m="";l>0&&(V=u.slice(0,l),u=u.slice(l),d-=l),M&&_===!0&&d>0?(M=u.slice(0,d),m=u.slice(d)):_===!0?(M="",m=u):M=u,M&&M!==""&&M!=="/"&&M!==u&&JA(M.charCodeAt(M.length-1))&&(M=M.slice(0,-1)),r.unescape===!0&&(m&&(m=XA.removeBackslashes(m)),M&&y===!0&&(M=XA.removeBackslashes(M)));let E={prefix:V,input:e,start:l,base:M,glob:m,isBrace:f,isBracket:h,isGlob:_,isExtglob:g,isGlobstar:v,negated:O,negatedExtglob:U};if(r.tokens===!0&&(E.maxDepth=0,JA(C)||s.push(T),E.tokens=s),r.parts===!0||r.tokens===!0){let ae;for(let Y=0;Y<o.length;Y++){let Be=ae?ae+1:l,Ge=o[Y],be=e.slice(Be,Ge);r.tokens&&(Y===0&&l!==0?(s[Y].isPrefix=!0,s[Y].value=V):s[Y].value=be,e0(s[Y]),E.maxDepth+=s[Y].depth),(Y!==0||be!=="")&&a.push(be),ae=Ge}if(ae&&ae+1<e.length){let Y=e.slice(ae+1);a.push(Y),r.tokens&&(s[s.length-1].value=Y,e0(s[s.length-1]),E.maxDepth+=s[s.length-1].depth)}E.slashes=o,E.parts=a}return E};t0.exports=VM});var s0=p((AF,o0)=>{"use strict";var iu=to(),Ye=ro(),{MAX_LENGTH:ou,POSIX_REGEX_SOURCE:YM,REGEX_NON_SPECIAL_CHARS:WM,REGEX_SPECIAL_CHARS_BACKREF:KM,REPLACEMENTS:n0}=iu,XM=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>Ye.escapeRegex(i)).join("..")}return r},qn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,i0=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=n0[e]||e;let r=F({},t),n=typeof r.maxLength=="number"?Math.min(ou,r.maxLength):ou,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=Ye.isWindows(t),c=iu.globChars(u),l=iu.extglobChars(c),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:g,NO_DOT:v,NO_DOT_SLASH:b,NO_DOTS_SLASH:y,QMARK:O,QMARK_NO_DOT:U,STAR:G,START_ANCHOR:te}=c,k=R=>`(${a}(?:(?!${te}${R.dot?g:d}).)*?)`,C=r.dot?"":v,T=r.dot?O:U,K=r.bash===!0?k(r):G;r.capture&&(K=`(${K})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let A={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=Ye.removePrefix(e,A),i=e.length;let L=[],M=[],V=[],m=o,E,ae=()=>A.index===i-1,Y=A.peek=(R=1)=>e[A.index+R],Be=A.advance=()=>e[++A.index]||"",Ge=()=>e.slice(A.index+1),be=(R="",re=0)=>{A.consumed+=R,A.index+=re},Ft=R=>{A.output+=R.output!=null?R.output:R.value,be(R.value)},Vb=()=>{let R=1;for(;Y()==="!"&&(Y(2)!=="("||Y(3)==="?");)Be(),A.start++,R++;return R%2==0?!1:(A.negated=!0,A.start++,!0)},go=R=>{A[R]++,V.push(R)},sr=R=>{A[R]--,V.pop()},$=R=>{if(m.type==="globstar"){let re=A.braces>0&&(R.type==="comma"||R.type==="brace"),S=R.extglob===!0||L.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!re&&!S&&(A.output=A.output.slice(0,-m.output.length),m.type="star",m.value="*",m.output=K,A.output+=m.output)}if(L.length&&R.type!=="paren"&&(L[L.length-1].inner+=R.value),(R.value||R.output)&&Ft(R),m&&m.type==="text"&&R.type==="text"){m.value+=R.value,m.output=(m.output||"")+R.value;return}R.prev=m,s.push(R),m=R},mo=(R,re)=>{let S=ce(F({},l[re]),{conditions:1,inner:""});S.prev=m,S.parens=A.parens,S.output=A.output;let H=(r.capture?"(":"")+S.open;go("parens"),$({type:R,value:re,output:A.output?"":_}),$({type:"paren",extglob:!0,value:Be(),output:H}),L.push(S)},Yb=R=>{let re=R.close+(r.capture?")":""),S;if(R.type==="negate"){let H=K;R.inner&&R.inner.length>1&&R.inner.includes("/")&&(H=k(r)),(H!==K||ae()||/^\)+$/.test(Ge()))&&(re=R.close=`)$))${H}`),R.inner.includes("*")&&(S=Ge())&&/^\.[^\\/.]+$/.test(S)&&(re=R.close=`)${S})${H})`),R.prev.type==="bos"&&(A.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:E,output:re}),sr("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,re=e.replace(KM,(S,H,ue,we,ge,Au)=>we==="\\"?(R=!0,S):we==="?"?H?H+we+(ge?O.repeat(ge.length):""):Au===0?T+(ge?O.repeat(ge.length):""):O.repeat(ue.length):we==="."?d.repeat(ue.length):we==="*"?H?H+we+(ge?K:""):K:H?S:`\\${S}`);return R===!0&&(r.unescape===!0?re=re.replace(/\\/g,""):re=re.replace(/\\+/g,S=>S.length%2==0?"\\\\":S?"\\":"")),re===e&&r.contains===!0?(A.output=e,A):(A.output=Ye.wrapOutput(re,A,t),A)}for(;!ae();){if(E=Be(),E==="\0")continue;if(E==="\\"){let S=Y();if(S==="/"&&r.bash!==!0||S==="."||S===";")continue;if(!S){E+="\\",$({type:"text",value:E});continue}let H=/^\\+/.exec(Ge()),ue=0;if(H&&H[0].length>2&&(ue=H[0].length,A.index+=ue,ue%2!=0&&(E+="\\")),r.unescape===!0?E=Be():E+=Be(),A.brackets===0){$({type:"text",value:E});continue}}if(A.brackets>0&&(E!=="]"||m.value==="["||m.value==="[^")){if(r.posix!==!1&&E===":"){let S=m.value.slice(1);if(S.includes("[")&&(m.posix=!0,S.includes(":"))){let H=m.value.lastIndexOf("["),ue=m.value.slice(0,H),we=m.value.slice(H+2),ge=YM[we];if(ge){m.value=ue+ge,A.backtrack=!0,Be(),!o.output&&s.indexOf(m)===1&&(o.output=_);continue}}}(E==="["&&Y()!==":"||E==="-"&&Y()==="]")&&(E=`\\${E}`),E==="]"&&(m.value==="["||m.value==="[^")&&(E=`\\${E}`),r.posix===!0&&E==="!"&&m.value==="["&&(E="^"),m.value+=E,Ft({value:E});continue}if(A.quotes===1&&E!=='"'){E=Ye.escapeRegex(E),m.value+=E,Ft({value:E});continue}if(E==='"'){A.quotes=A.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:E});continue}if(E==="("){go("parens"),$({type:"paren",value:E});continue}if(E===")"){if(A.parens===0&&r.strictBrackets===!0)throw new SyntaxError(qn("opening","("));let S=L[L.length-1];if(S&&A.parens===S.parens+1){Yb(L.pop());continue}$({type:"paren",value:E,output:A.parens?")":"\\)"}),sr("parens");continue}if(E==="["){if(r.nobracket===!0||!Ge().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(qn("closing","]"));E=`\\${E}`}else go("brackets");$({type:"bracket",value:E});continue}if(E==="]"){if(r.nobracket===!0||m&&m.type==="bracket"&&m.value.length===1){$({type:"text",value:E,output:`\\${E}`});continue}if(A.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(qn("opening","["));$({type:"text",value:E,output:`\\${E}`});continue}sr("brackets");let S=m.value.slice(1);if(m.posix!==!0&&S[0]==="^"&&!S.includes("/")&&(E=`/${E}`),m.value+=E,Ft({value:E}),r.literalBrackets===!1||Ye.hasRegexChars(S))continue;let H=Ye.escapeRegex(m.value);if(A.output=A.output.slice(0,-m.value.length),r.literalBrackets===!0){A.output+=H,m.value=H;continue}m.value=`(${a}${H}|${m.value})`,A.output+=m.value;continue}if(E==="{"&&r.nobrace!==!0){go("braces");let S={type:"brace",value:E,output:"(",outputIndex:A.output.length,tokensIndex:A.tokens.length};M.push(S),$(S);continue}if(E==="}"){let S=M[M.length-1];if(r.nobrace===!0||!S){$({type:"text",value:E,output:E});continue}let H=")";if(S.dots===!0){let ue=s.slice(),we=[];for(let ge=ue.length-1;ge>=0&&(s.pop(),ue[ge].type!=="brace");ge--)ue[ge].type!=="dots"&&we.unshift(ue[ge].value);H=XM(we,r),A.backtrack=!0}if(S.comma!==!0&&S.dots!==!0){let ue=A.output.slice(0,S.outputIndex),we=A.tokens.slice(S.tokensIndex);S.value=S.output="\\{",E=H="\\}",A.output=ue;for(let ge of we)A.output+=ge.output||ge.value}$({type:"brace",value:E,output:H}),sr("braces"),M.pop();continue}if(E==="|"){L.length>0&&L[L.length-1].conditions++,$({type:"text",value:E});continue}if(E===","){let S=E,H=M[M.length-1];H&&V[V.length-1]==="braces"&&(H.comma=!0,S="|"),$({type:"comma",value:E,output:S});continue}if(E==="/"){if(m.type==="dot"&&A.index===A.start+1){A.start=A.index+1,A.consumed="",A.output="",s.pop(),m=o;continue}$({type:"slash",value:E,output:h});continue}if(E==="."){if(A.braces>0&&m.type==="dot"){m.value==="."&&(m.output=d);let S=M[M.length-1];m.type="dots",m.output+=E,m.value+=E,S.dots=!0;continue}if(A.braces+A.parens===0&&m.type!=="bos"&&m.type!=="slash"){$({type:"text",value:E,output:d});continue}$({type:"dot",value:E,output:d});continue}if(E==="?"){if(!(m&&m.value==="(")&&r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){mo("qmark",E);continue}if(m&&m.type==="paren"){let H=Y(),ue=E;if(H==="<"&&!Ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(m.value==="("&&!/[!=<:]/.test(H)||H==="<"&&!/<([!=]|\w+>)/.test(Ge()))&&(ue=`\\${E}`),$({type:"text",value:E,output:ue});continue}if(r.dot!==!0&&(m.type==="slash"||m.type==="bos")){$({type:"qmark",value:E,output:U});continue}$({type:"qmark",value:E,output:O});continue}if(E==="!"){if(r.noextglob!==!0&&Y()==="("&&(Y(2)!=="?"||!/[!=<:]/.test(Y(3)))){mo("negate",E);continue}if(r.nonegate!==!0&&A.index===0){Vb();continue}}if(E==="+"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){mo("plus",E);continue}if(m&&m.value==="("||r.regex===!1){$({type:"plus",value:E,output:f});continue}if(m&&(m.type==="bracket"||m.type==="paren"||m.type==="brace")||A.parens>0){$({type:"plus",value:E});continue}$({type:"plus",value:f});continue}if(E==="@"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){$({type:"at",extglob:!0,value:E,output:""});continue}$({type:"text",value:E});continue}if(E!=="*"){(E==="$"||E==="^")&&(E=`\\${E}`);let S=WM.exec(Ge());S&&(E+=S[0],A.index+=S[0].length),$({type:"text",value:E});continue}if(m&&(m.type==="globstar"||m.star===!0)){m.type="star",m.star=!0,m.value+=E,m.output=K,A.backtrack=!0,A.globstar=!0,be(E);continue}let R=Ge();if(r.noextglob!==!0&&/^\([^?]/.test(R)){mo("star",E);continue}if(m.type==="star"){if(r.noglobstar===!0){be(E);continue}let S=m.prev,H=S.prev,ue=S.type==="slash"||S.type==="bos",we=H&&(H.type==="star"||H.type==="globstar");if(r.bash===!0&&(!ue||R[0]&&R[0]!=="/")){$({type:"star",value:E,output:""});continue}let ge=A.braces>0&&(S.type==="comma"||S.type==="brace"),Au=L.length&&(S.type==="pipe"||S.type==="paren");if(!ue&&S.type!=="paren"&&!ge&&!Au){$({type:"star",value:E,output:""});continue}for(;R.slice(0,3)==="/**";){let Eo=e[A.index+4];if(Eo&&Eo!=="/")break;R=R.slice(3),be("/**",3)}if(S.type==="bos"&&ae()){m.type="globstar",m.value+=E,m.output=k(r),A.output=m.output,A.globstar=!0,be(E);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&!we&&ae()){A.output=A.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=k(r)+(r.strictSlashes?")":"|$)"),m.value+=E,A.globstar=!0,A.output+=S.output+m.output,be(E);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&R[0]==="/"){let Eo=R[1]!==void 0?"|$":"";A.output=A.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=`${k(r)}${h}|${h}${Eo})`,m.value+=E,A.output+=S.output+m.output,A.globstar=!0,be(E+Be()),$({type:"slash",value:"/",output:""});continue}if(S.type==="bos"&&R[0]==="/"){m.type="globstar",m.value+=E,m.output=`(?:^|${h}|${k(r)}${h})`,A.output=m.output,A.globstar=!0,be(E+Be()),$({type:"slash",value:"/",output:""});continue}A.output=A.output.slice(0,-m.output.length),m.type="globstar",m.output=k(r),m.value+=E,A.output+=m.output,A.globstar=!0,be(E);continue}let re={type:"star",value:E,output:K};if(r.bash===!0){re.output=".*?",(m.type==="bos"||m.type==="slash")&&(re.output=C+re.output),$(re);continue}if(m&&(m.type==="bracket"||m.type==="paren")&&r.regex===!0){re.output=E,$(re);continue}(A.index===A.start||m.type==="slash"||m.type==="dot")&&(m.type==="dot"?(A.output+=b,m.output+=b):r.dot===!0?(A.output+=y,m.output+=y):(A.output+=C,m.output+=C),Y()!=="*"&&(A.output+=_,m.output+=_)),$(re)}for(;A.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(qn("closing","]"));A.output=Ye.escapeLast(A.output,"["),sr("brackets")}for(;A.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(qn("closing",")"));A.output=Ye.escapeLast(A.output,"("),sr("parens")}for(;A.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(qn("closing","}"));A.output=Ye.escapeLast(A.output,"{"),sr("braces")}if(r.strictSlashes!==!0&&(m.type==="star"||m.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${h}?`}),A.backtrack===!0){A.output="";for(let R of A.tokens)A.output+=R.output!=null?R.output:R.value,R.suffix&&(A.output+=R.suffix)}return A};i0.fastpaths=(e,t)=>{let r=F({},t),n=typeof r.maxLength=="number"?Math.min(ou,r.maxLength):ou,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=n0[e]||e;let o=Ye.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:_}=iu.globChars(o),g=r.dot?d:l,v=r.dot?f:l,b=r.capture?"":"?:",y={negated:!1,prefix:""},O=r.bash===!0?".*?":h;r.capture&&(O=`(${O})`);let U=C=>C.noglobstar===!0?O:`(${b}(?:(?!${_}${C.dot?c:s}).)*?)`,G=C=>{switch(C){case"*":return`${g}${u}${O}`;case".*":return`${s}${u}${O}`;case"*.*":return`${g}${O}${s}${u}${O}`;case"*/*":return`${g}${O}${a}${u}${v}${O}`;case"**":return g+U(r);case"**/*":return`(?:${g}${U(r)}${a})?${v}${u}${O}`;case"**/*.*":return`(?:${g}${U(r)}${a})?${v}${O}${s}${u}${O}`;case"**/.*":return`(?:${g}${U(r)}${a})?${s}${u}${O}`;default:{let T=/^(.*?)\.(\w+)$/.exec(C);if(!T)return;let K=G(T[1]);return K?K+s+T[2]:void 0}}},te=Ye.removePrefix(e,y),k=G(te);return k&&r.strictSlashes!==!0&&(k+=`${a}?`),k};o0.exports=i0});var u0=p((bF,a0)=>{"use strict";var zM=I("path"),QM=r0(),Fp=s0(),qp=ro(),ZM=to(),JM=e=>e&&typeof e=="object"&&!Array.isArray(e),le=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(f=>le(f,t,r));return f=>{for(let h of l){let _=h(f);if(_)return _}return!1}}let n=JM(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=qp.isWindows(t),s=n?le.compileRe(e,t):le.makeRe(e,t,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(i.ignore){let l=ce(F({},t),{ignore:null,onMatch:null,onResult:null});u=le(i.ignore,l,r)}let c=(l,d=!1)=>{let{isMatch:f,match:h,output:_}=le.test(l,s,t,{glob:e,posix:o}),g={glob:e,state:a,regex:s,posix:o,input:l,output:_,match:h,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,d?g:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,d?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),d?g:!0)};return r&&(c.state=a),c};le.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?qp.toPosixSlashes:null),a=e===n,u=a&&s?s(e):e;return a===!1&&(u=s?s(e):e,a=u===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=le.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};le.matchBase=(e,t,r,n=qp.isWindows(r))=>(t instanceof RegExp?t:le.makeRe(t,r)).test(zM.basename(e));le.isMatch=(e,t,r)=>le(t,r)(e);le.parse=(e,t)=>Array.isArray(e)?e.map(r=>le.parse(r,t)):Fp(e,ce(F({},t),{fastpaths:!1}));le.scan=(e,t)=>QM(e,t);le.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=le.toRegex(a,t);return n===!0&&(u.state=e),u};le.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Fp.fastpaths(e,t)),i.output||(i=Fp(e,t)),le.compileRe(i,t,r,n)};le.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};le.constants=ZM;a0.exports=le});var l0=p((SF,c0)=>{"use strict";c0.exports=u0()});var Hp=p((TF,h0)=>{"use strict";var p0=I("util"),d0=HA(),Pt=l0(),Gp=ro(),f0=e=>e===""||e==="./",oe=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let d=Pt(String(t[l]),ce(F({},r),{onResult:a}),!0),f=d.state.negated||d.state.negatedExtglob;f&&s++;for(let h of e){let _=d(h,!0);!(f?!_.isMatch:_.isMatch)||(f?n.add(_.output):(n.delete(_.output),i.add(_.output)))}}let c=(s===t.length?[...o]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return c};oe.match=oe;oe.matcher=(e,t)=>Pt(e,t);oe.isMatch=(e,t,r)=>Pt(t,r)(e);oe.any=oe.isMatch;oe.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=oe(e,t,ce(F({},r),{onResult:o}));for(let a of i)s.includes(a)||n.add(a);return[...n]};oe.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${p0.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>oe.contains(e,n,r));if(typeof t=="string"){if(f0(e)||f0(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return oe.isMatch(e,t,ce(F({},r),{contains:!0}))};oe.matchKeys=(e,t,r)=>{if(!Gp.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=oe(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};oe.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Pt(String(i),r);if(n.some(s=>o(s)))return!0}return!1};oe.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Pt(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};oe.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${p0.inspect(e)}"`);return[].concat(t).every(n=>Pt(n,r)(e))};oe.capture=(e,t,r)=>{let n=Gp.isWindows(r),o=Pt.makeRe(String(e),ce(F({},r),{capture:!0})).exec(n?Gp.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};oe.makeRe=(...e)=>Pt.makeRe(...e);oe.scan=(...e)=>Pt.scan(...e);oe.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of d0(String(n),t))r.push(Pt.parse(i,t));return r};oe.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:d0(e,t)};oe.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return oe.braces(e,ce(F({},t),{expand:!0}))};h0.exports=oe});var _0=p((RF,e1)=>{e1.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var E0=p(We=>{"use strict";var g0=_0(),It=process.env;Object.defineProperty(We,"_vendors",{value:g0.map(function(e){return e.constant})});We.name=null;We.isPR=null;g0.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return m0(n)});if(We[e.constant]=r,r)switch(We.name=e.name,typeof e.pr){case"string":We.isPR=!!It[e.pr];break;case"object":"env"in e.pr?We.isPR=e.pr.env in It&&It[e.pr.env]!==e.pr.ne:"any"in e.pr?We.isPR=e.pr.any.some(function(n){return!!It[n]}):We.isPR=m0(e.pr);break;default:We.isPR=null}});We.isCI=!!(It.CI||It.CONTINUOUS_INTEGRATION||It.BUILD_NUMBER||It.RUN_ID||We.name);function m0(e){return typeof e=="string"?!!It[e]:Object.keys(e).every(function(t){return It[t]===e[t]})}});var v0=p((CF,y0)=>{"use strict";y0.exports=E0().isCI});var b0=p((PF,$p)=>{"use strict";var t1=Object.prototype.hasOwnProperty,Me="~";function io(){}Object.create&&(io.prototype=Object.create(null),new io().__proto__||(Me=!1));function r1(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function A0(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new r1(r,n||e,i),s=Me?Me+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function su(e,t){--e._eventsCount==0?e._events=new io:delete e._events[t]}function Ie(){this._events=new io,this._eventsCount=0}Ie.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)t1.call(r,n)&&t.push(Me?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ie.prototype.listeners=function(t){var r=Me?Me+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};Ie.prototype.listenerCount=function(t){var r=Me?Me+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ie.prototype.emit=function(t,r,n,i,o,s){var a=Me?Me+t:t;if(!this._events[a])return!1;var u=this._events[a],c=arguments.length,l,d;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,o),!0;case 6:return u.fn.call(u.context,r,n,i,o,s),!0}for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];u.fn.apply(u.context,l)}else{var f=u.length,h;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),c){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,i);break;default:if(!l)for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u[d].fn.apply(u[d].context,l)}}return!0};Ie.prototype.on=function(t,r,n){return A0(this,t,r,n,!1)};Ie.prototype.once=function(t,r,n){return A0(this,t,r,n,!0)};Ie.prototype.removeListener=function(t,r,n,i){var o=Me?Me+t:t;if(!this._events[o])return this;if(!r)return su(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&su(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=u.length===1?u[0]:u:su(this,o)}return this};Ie.prototype.removeAllListeners=function(t){var r;return t?(r=Me?Me+t:t,this._events[r]&&su(this,r)):(this._events=new io,this._eventsCount=0),this};Ie.prototype.off=Ie.prototype.removeListener;Ie.prototype.addListener=Ie.prototype.on;Ie.prefixed=Me;Ie.EventEmitter=Ie;typeof $p!="undefined"&&($p.exports=Ie)});var T0=p((IF,S0)=>{"use strict";S0.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var O0=p((wF,au)=>{"use strict";var n1=T0(),Vp=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},R0=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let o=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let s=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Vp(s);typeof e.cancel=="function"&&e.cancel(),i(a)},t);n1(e.then(n,i),()=>{clearTimeout(o)})});au.exports=R0;au.exports.default=R0;au.exports.TimeoutError=Vp});var C0=p(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});function i1(e,t,r){let n=0,i=e.length;for(;i>0;){let o=i/2|0,s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}Yp.default=i1});var I0=p(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});var o1=C0(),P0=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=o1.default(this._queue,n,(o,s)=>s.priority-o.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};Wp.default=P0});var x0=p(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var s1=b0(),w0=O0(),a1=I0(),uu=()=>{},u1=new w0.TimeoutError,N0=class extends s1{constructor(t){var r,n,i,o;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=uu,this._resolveIdle=uu,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:a1.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=uu,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=uu,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let s=this._timeout===void 0&&r.timeout===void 0?t():w0.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(u1)});n(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(o,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Kp.default=N0});var M0=p((MF,Xp)=>{"use strict";var L0=(e,...t)=>new Promise(r=>{r(e(...t))});Xp.exports=L0;Xp.exports.default=L0});var B0=p((DF,zp)=>{"use strict";var c1=M0(),D0=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...c)=>{r++;let l=c1(a,...c);u(l),l.then(n,n)},o=(a,u,...c)=>{r<e?i(a,u,...c):t.push(i.bind(null,a,u,...c))},s=(a,...u)=>new Promise(c=>o(a,c,...u));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};zp.exports=D0;zp.exports.default=D0});var j0=p(Zp=>{"use strict";var Qp=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Zp.Semaphore=Qp;var U0=class extends Qp{constructor(){super(1)}};Zp.Mutex=U0});var F0=p((UF,k0)=>{"use strict";k0.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var Jp=p((jF,q0)=>{"use strict";var l1=F0();q0.exports=e=>typeof e=="string"?e.replace(l1(),""):e});var H0=p((kF,ed)=>{"use strict";var G0=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);ed.exports=G0;ed.exports.default=G0});var Y0=p((FF,V0)=>{"use strict";var $0="[\uD800-\uDBFF][\uDC00-\uDFFF]",p1=e=>e&&e.exact?new RegExp(`^${$0}$`):new RegExp($0,"g");V0.exports=p1});var K0=p((qF,W0)=>{"use strict";W0.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var td=p((GF,z0)=>{var oo=K0(),X0={};for(let e of Object.keys(oo))X0[oo[e]]=e;var P={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};z0.exports=P;for(let e of Object.keys(P)){if(!("channels"in P[e]))throw new Error("missing channels property: "+e);if(!("labels"in P[e]))throw new Error("missing channel labels property: "+e);if(P[e].labels.length!==P[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=P[e];delete P[e].channels,delete P[e].labels,Object.defineProperty(P[e],"channels",{value:t}),Object.defineProperty(P[e],"labels",{value:r})}P.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,a,u;o===i?a=0:t===o?a=(r-n)/s:r===o?a=2+(n-t)/s:n===o&&(a=4+(t-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+o)/2;return o===i?u=0:c<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,c*100]};P.rgb.hsv=function(e){let t,r,n,i,o,s=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(s,a,u),l=c-Math.min(s,a,u),d=function(f){return(c-f)/6/l+1/2};return l===0?(i=0,o=0):(o=l/c,t=d(s),r=d(a),n=d(u),s===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,c*100]};P.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=P.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};P.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),o=(1-t-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function d1(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}P.rgb.keyword=function(e){let t=X0[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(oo)){let o=oo[i],s=d1(e,o);s<r&&(r=s,n=i)}return n};P.keyword.rgb=function(e){return oo[e]};P.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};P.rgb.lab=function(e){let t=P.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};P.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,u[c]=s*255;return u};P.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[t,a*100,s*100]};P.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};P.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,o*100,s*100]};P.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*t),a=1-n;o=6*t-s,(s&1)!=0&&(o=1-o);let u=r+o*(a-r),c,l,d;switch(s){default:case 6:case 0:c=a,l=u,d=r;break;case 1:c=u,l=a,d=r;break;case 2:c=r,l=a,d=u;break;case 3:c=r,l=u,d=a;break;case 4:c=u,l=r,d=a;break;case 5:c=a,l=r,d=u;break}return[c*255,l*255,d*255]};P.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};P.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};P.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(t-r),s=200*(r-n);return[i,o,s]};P.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;let a=o**3,u=i**3,c=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};P.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[t,s,i]};P.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[t,o,s]};P.rgb.ansi16=function(e,t=null){let[r,n,i]=e,o=t===null?P.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};P.hsv.ansi16=function(e){return P.rgb.ansi16(P.hsv.rgb(e),e[2])};P.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};P.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};P.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};P.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};P.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};P.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===t?u=(r-n)/s%6:i===r?u=2+(n-t)/s:u=4+(t-r)/s,u/=6,u%=1,[u*360,s*100,a*100]};P.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};P.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};P.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=t%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};P.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};P.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};P.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};P.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};P.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};P.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};P.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};P.gray.hsl=function(e){return[0,0,e[0]]};P.gray.hsv=P.gray.hsl;P.gray.hwb=function(e){return[0,100,e[0]]};P.gray.cmyk=function(e){return[0,0,0,e[0]]};P.gray.lab=function(e){return[e[0],0,0]};P.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};P.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var Z0=p((HF,Q0)=>{var cu=td();function f1(){let e={},t=Object.keys(cu);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function h1(e){let t=f1(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(cu[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function _1(e,t){return function(r){return t(e(r))}}function g1(e,t){let r=[t[e].parent,e],n=cu[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=_1(cu[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}Q0.exports=function(e){let t=h1(e),r={},n=Object.keys(t);for(let i=n.length,o=0;o<i;o++){let s=n[o];t[s].parent!==null&&(r[s]=g1(s,t))}return r}});var eb=p(($F,J0)=>{var rd=td(),m1=Z0(),Gn={},E1=Object.keys(rd);function y1(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function v1(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}E1.forEach(e=>{Gn[e]={},Object.defineProperty(Gn[e],"channels",{value:rd[e].channels}),Object.defineProperty(Gn[e],"labels",{value:rd[e].labels});let t=m1(e);Object.keys(t).forEach(n=>{let i=t[n];Gn[e][n]=v1(i),Gn[e][n].raw=y1(i)})});J0.exports=Gn});var sb=p((VF,ob)=>{"use strict";var tb=(e,t)=>(...r)=>`[${e(...r)+t}m`,rb=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},nb=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},lu=e=>e,ib=(e,t,r)=>[e,t,r],Hn=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},nd,$n=(e,t,r,n)=>{nd===void 0&&(nd=eb());let i=n?10:0,o={};for(let[s,a]of Object.entries(nd)){let u=s==="ansi16"?"ansi":s;s===t?o[u]=e(r,i):typeof a=="object"&&(o[u]=e(a[t],i))}return o};function A1(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,o]of Object.entries(n))t[i]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[i]=t[i],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",Hn(t.color,"ansi",()=>$n(tb,"ansi16",lu,!1)),Hn(t.color,"ansi256",()=>$n(rb,"ansi256",lu,!1)),Hn(t.color,"ansi16m",()=>$n(nb,"rgb",ib,!1)),Hn(t.bgColor,"ansi",()=>$n(tb,"ansi16",lu,!0)),Hn(t.bgColor,"ansi256",()=>$n(rb,"ansi256",lu,!0)),Hn(t.bgColor,"ansi16m",()=>$n(nb,"rgb",ib,!0)),t}Object.defineProperty(ob,"exports",{enumerable:!0,get:A1})});var pb=p((YF,lb)=>{"use strict";var b1=H0(),S1=Y0(),ab=sb(),ub=["","\x9B"],pu=e=>`${ub[0]}[${e}m`,cb=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let o=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let s=ab.codes.get(Number.parseInt(i,10));if(s){let a=e.indexOf(s.toString());a===-1?n.push(pu(t?s:o)):e.splice(a,1)}else if(t){n.push(pu(0));break}else n.push(pu(o))}if(t&&(n=n.filter((i,o)=>n.indexOf(i)===o),r!==void 0)){let i=pu(ab.codes.get(Number.parseInt(r,10)));n=n.reduce((o,s)=>s===i?[s,...o]:[...o,s],[])}return n.join("")};lb.exports=(e,t,r)=>{let n=[...e],i=[],o=typeof r=="number"?r:n.length,s=!1,a,u=0,c="";for(let[l,d]of n.entries()){let f=!1;if(ub.includes(d)){let h=/\d[^m]*/.exec(e.slice(l,l+18));a=h&&h.length>0?h[0]:void 0,u<o&&(s=!0,a!==void 0&&i.push(a))}else s&&d==="m"&&(s=!1,f=!0);if(!s&&!f&&u++,!S1({exact:!0}).test(d)&&b1(d.codePointAt())&&(u++,typeof r!="number"&&o++),u>t&&u<=o)c+=d;else if(u===t&&!s&&a!==void 0)c=cb(i);else if(u>=o){c+=cb(i,!0,a);break}}return c}});var M1={};tS(M1,{default:()=>L1});var Fr=N(I("@yarnpkg/cli")),Le=N(I("@yarnpkg/core")),nA=N(I("@yarnpkg/libzip")),Z=N(I("@yarnpkg/fslib")),ut=N(I("clipanion")),Cp=N(I("path"));var pd=N(I("fs")),dd=async e=>{try{return(0,pd.readFileSync)(e,"utf-8").split(`
`)}catch(t){return[]}};var fd=N(I("path")),hd=({ignoreFile:e,cwd:t})=>(0,fd.join)(t,e);var bf=N(Td());var vf=N(yf()),Af=async({cwd:e})=>{try{return(await(0,vf.default)(`${e}/**/*`,{dot:!0})).map(r=>{var n;return(n=r.split(`${e}/`)[1])!=null?n:""}).filter(Boolean)}catch(t){return[]}};var Qu=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=hd({ignoreFile:t,cwd:r}),i=(0,bf.default)().add([...e,...await dd(n)]);return(await Af({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var Sf=["package.json","package.yaml","package.yml"];var Oo=N(I("path")),AT={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,Oo.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>Sf.map(t=>(0,Oo.join)(e,t))},bT=({cwd:e,rootDir:t})=>[...new Set(...[Object.values(AT).map(r=>r({cwd:e,rootDir:t})).flat()])],Tf=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>bT({cwd:r,rootDir:t})).flat();var ci=N(I("@yarnpkg/fslib")),z=N(I("typanion")),Do=N(jh()),BO=".yarnbuildrc.yml",wc=".bundleignore",Nc=z.isObject({folders:z.isObject({input:z.isOneOf([z.isString(),z.isArray(z.isString())]),output:z.isOneOf([z.isString(),z.isArray(z.isString())])}),exclude:z.isArray(z.isString()),bail:z.isBoolean(),hideYarnBuildBadge:z.isBoolean(),ignoreFile:z.isString(),maxConcurrency:z.isOptional(z.applyCascade(z.isNumber(),[z.isInteger(),z.isInInclusiveRange(1,128)]))}),xc={folders:{input:".",output:["build","node_modules"]},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:wc,maxConcurrency:8};async function kh(e){let t=BO,r=ci.ppath.join(e.projectCwd||e.startingCwd,t);if(ci.xfs.existsSync(r)){let n=await ci.xfs.readFilePromise(r,"utf8"),i=[];try{let o=(0,Do.load)(n,{schema:Do.JSON_SCHEMA});if(Nc(o,{errors:i}))return o;console.warn(i)}catch(o){let s="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(s=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${s}`)}}return xc}async function Fh(e){return await kh(e)}async function qh(e){var r;let t=await kh(e);return ce(F(F({},xc),t),{folders:F(F({},xc.folders),(r=t.folders)!=null?r:{})})}var B={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var rA=N(D());var eA=N(D()),tA=N(ol());var Xv=N(ea()),zv=N(Ci()),Qv=N(gt()),Zv=N(Kv()),Jv=N(ea()),kn=N(D());process.env.DEBUG&&kn.diag.setLogger(new kn.DiagConsoleLogger,kn.DiagLogLevel.DEBUG);var Ja=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new Zv.OTLPTraceExporter,r=new Xv.BasicTracerProvider({resource:new zv.Resource({[Qv.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new Jv.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var kr=N(D()),Tt=class{constructor(t){this.name=t,this._tracer=Ja.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:eA.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){var s;let n;if(typeof t.ctx=="undefined"?n=kr.context.active():n=t.ctx,!!t.propegateFromEnv||((s=t==null?void 0:t.spanOptions)==null?void 0:s.kind)==4){let a=process.env.TRACEPARENT;if(typeof a=="string"){let u=(0,tA.parseTraceParent)(a!=null?a:"");u&&(n=kr.trace.setSpanContext(kr.context.active(),u))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),o=kr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:o}):r({span:i,ctx:o})}catch(a){if((typeof a=="string"||a instanceof Error)&&this.recordException(i,a),!t.supressExceptions)throw a}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=kr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var iA=N(D()),Rt;(function(o){o.Info="YB1000",o.RemoveUnusedPackages="YB1001",o.RemoveEmptyDirectories="YB1002",o.RemoveExcluded="YB1003",o.AddedEntryPoint="YB1004"})(Rt||(Rt={}));var Ot;(function(n){n.Start=" \u250C ",n.Progress=" \u2502 ",n.End=" \u2514 "})(Ot||(Ot={}));var Ji=class extends Fr.BaseCommand{constructor(){super(...arguments);this.tracer=new Tt("yarn.build");this.json=ut.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=ut.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=ut.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=ut.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=ut.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=ut.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=ut.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=ut.Option.String("--ignore-file",wc,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:t,group:r,msg:n,span:i}){this.quiet!==!0&&console.info(`\u27A4 ${t}:${r}${n}`),typeof i!="undefined"&&i.addEvent(n,{[B.YARN_BUILD_MESSAGE_CODE]:t})}async removeUnusedPackages(t,r,n,i){return await this.tracer.startSpan({name:"remove unused packages",ctx:t},async({span:o})=>{var d;let{project:s,workspace:a}=await Le.Project.find(i,n);if(!a)throw new Fr.WorkspaceRequiredError(s.cwd,n);let u=await Le.Project.find(i,r);if(!u.workspace)throw new Fr.WorkspaceRequiredError(u.project.cwd,r);let c=new Set([a,u.workspace]),l=await Fh(i);this.exclude=l.exclude?[...this.exclude,...l.exclude]:this.exclude,this.ignoreFile=(d=l==null?void 0:l.ignoreFile)!=null?d:this.ignoreFile;for(let f of c)for(let h of Le.Manifest.allDependencies)for(let _ of f.manifest.getForScope(h).values()){let g=s.tryWorkspaceByDescriptor(_);g!==null&&(c.add(g),this.progress({code:Rt.RemoveUnusedPackages,group:Ot.Progress,msg:`required:	${g.relativeCwd}`,span:o}))}for(let f of s.workspaces)c.has(f)||f.cwd!==r&&(await Z.xfs.removePromise(f.cwd),this.progress({code:Rt.RemoveUnusedPackages,group:Ot.Progress,msg:`unused:	${f.relativeCwd}`,span:o}))})}async removeEmptyDirectories(t,{tmpDir:r,cwd:n}){let i=iA.trace.getSpan(t);if(!Z.xfs.statSync(n).isDirectory())return!1;let s=await Z.xfs.readdirPromise(n);for(let a of s)await this.removeEmptyDirectories(t,{tmpDir:r,cwd:Z.ppath.join(n,a)});return s=await Z.xfs.readdirPromise(n),s.length===0?(await Z.xfs.removePromise(n),this.progress({code:Rt.RemoveEmptyDirectories,group:Ot.Progress,msg:`empty:	${n.replace(r+"/","")}`,span:i}),!0):!1}async removeExcluded(t,{tmpDir:r,excluded:n,nonRemovableFiles:i,yarnDirectory:o,cacheDirectory:s,shouldRemoveEmptyDirectories:a=!1}){let u=`${r}/.git`;try{await Z.xfs.lstatPromise(u)&&await Z.xfs.removePromise(u)}catch(c){}await Promise.all(n.map(async c=>{if(!c.startsWith(o)&&!c.startsWith(s)&&!i.includes(c)&&!!c.startsWith(r))try{await Z.xfs.lstatPromise(c)&&await Z.xfs.removePromise(c)}catch(l){}})),a&&await this.removeEmptyDirectories(t,{tmpDir:r,cwd:r})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:t,ctx:r})=>{this.progress({code:Rt.Info,group:Ot.Start,msg:`Prepare ${this.context.cwd} for bundling`,span:t}),this.progress({code:Rt.Info,group:Ot.Progress,msg:"Preparing temporary directory",span:t});let n=async i=>await this.tracer.startSpan({name:"prepare for bundle",ctx:r},async({span:o,ctx:s})=>{let a=`${this.context.cwd}`,u=Z.ppath.join(a,this.archiveName),c={[B.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[B.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[B.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:i,[B.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[B.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[B.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[B.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(o.setAttributes(c),typeof this.outputDirectory=="string"){let L=oA(this.outputDirectory);if(o.setAttribute(B.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,L),Z.xfs.existsSync(L)||await Z.xfs.mkdirPromise(L),Z.xfs.readdirSync(L).length!=0)throw new Error(" --output-directory is not empty");u=Z.ppath.join(L,this.archiveName)}let l=await Le.Configuration.find(this.context.cwd,this.context.plugins);if(l.projectCwd===null)throw new Error("Can't find project directory");let d=a.replace(l.projectCwd,""),f=!1,h;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(h=oA(this.outputDirectory),h.startsWith(l.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);f=!0}let _=new Z.NodeFS;this.progress({code:Rt.Info,group:Ot.Progress,msg:"Copying repo to temporary directory",span:o}),await this.tracer.wrap({name:"copy to tmp dir",ctx:s},async L=>Z.xfs.copyPromise(i,L,{baseFs:_}),l.projectCwd);let g=`${i}${d}`,v=`${g}/${this.archiveName}`,b=this.exclude;try{await Z.xfs.lstatPromise(v)&&b.push(v)}catch(L){}let y=await Le.Configuration.find(g,this.context.plugins);y.use("<custom>",{enableNetwork:!1},g);let O=await Le.Cache.find(y),U=`${i}/.yarn`,G=O.cwd;this.progress({code:Rt.Info,group:Ot.Progress,msg:"Removing unused and excluded workspaces, folders and files",span:o}),await this.removeUnusedPackages(s,i,g,y);let{project:te,workspace:k}=await Le.Project.find(y,g);if(!k)throw new Fr.WorkspaceRequiredError(te.cwd,g);o.setAttributes({[B.PACKAGE_DIRECTORY]:d,[B.PACKAGE_NAME]:k.locator.name}),typeof k.locator.scope=="string"&&o.setAttribute(B.PACKAGE_SCOPE,`@${k.locator.scope}`);let C=await Le.Project.find(y,i);if(!C.workspace)throw new Fr.WorkspaceRequiredError(C.project.cwd,i);let T=new Set([k,C.workspace]),K=Tf({workspaces:T,rootDir:i});b=await Qu({cwd:i,ignoreFile:this.ignoreFile,exclude:b});for(let L of T)for(let M of Le.Manifest.allDependencies)for(let V of L.manifest.getForScope(M).values()){let m=te.tryWorkspaceByDescriptor(V);m!==null&&T.add(m)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:s},async()=>{for(let L of T){let M=await Qu({cwd:L.cwd,ignoreFile:this.ignoreFile,exclude:b});await this.removeExcluded(s,{tmpDir:i,excluded:M,nonRemovableFiles:K,yarnDirectory:U,cacheDirectory:G,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:s},async()=>{await this.removeExcluded(s,{tmpDir:i,excluded:b,nonRemovableFiles:K,yarnDirectory:U,cacheDirectory:G,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:s},async()=>{var L,M,V,m;for(let E of te.workspaces)E.manifest.devDependencies.clear(),!T.has(E)&&(E.manifest.dependencies.clear(),E.manifest.peerDependencies.clear());if((M=(L=k==null?void 0:k.manifest)==null?void 0:L.raw)==null?void 0:M.main){let E=k.relativeCwd+Cp.default.posix.sep+((m=(V=k==null?void 0:k.manifest)==null?void 0:V.raw)==null?void 0:m.main),ae=".pnp.cjs";Z.xfs.writeFilePromise(`${i}${Cp.default.posix.sep}entrypoint.js`,kL(E,ae))}this.progress({code:Rt.Info,group:Ot.End,msg:"Completed",span:o})}),(await this.tracer.startSpan({name:"bundle",ctx:s},async({ctx:L})=>await Le.StreamReport.start({configuration:y,json:this.json,stdout:this.context.stdout,includeLogs:!0},async M=>{if(await this.tracer.wrap({name:"yarn install",ctx:L},async({cache:V,report:m})=>await te.install({cache:V,report:m}),{cache:O,report:M}),typeof this.temporaryDirectory=="undefined")if(f&&typeof h!="undefined")M.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:L},async({outputPath:V,tmpDir:m})=>_.copyPromise(V,m),{outputPath:h,tmpDir:i});else{let V=await(0,nA.getLibzipPromise)();M.reportInfo(null,"Creating archive");let m=new Z.ZipFS(u,{create:!0,libzip:V});M.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:L},async({tmpDir:E,baseFs:ae})=>await m.copyPromise("/",E,{baseFs:ae}),{tmpDir:i,baseFs:_}),await this.tracer.wrap({name:"save zip",ctx:L},async()=>m.saveAndClose()),M.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:u})}}))).exitCode()});return typeof this.temporaryDirectory!="undefined"?await n(this.temporaryDirectory):await Z.xfs.mktempPromise(n)})}};Ji.paths=[["bundle"]],Ji.usage=ut.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var sA=Ji,kL=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function oA(e){let t=Z.npath.toPortablePath(e);return Z.ppath.resolve(t)}var mu=N(I("@yarnpkg/cli")),De=N(I("@yarnpkg/core")),ye=N(I("clipanion")),ad=N(I("path")),ao=N(Hp());var j=N(I("@yarnpkg/core")),nt=N(v0()),mb=N(I("os")),lt=N(I("@yarnpkg/fslib"));var Eb=N(Hp()),yb=N(I("events")),vb=N(x0()),hu=N(I("path")),Ab=N(B0()),od=N(j0()),_u=N(Jp()),gu=N(pb());var Yn=class{constructor(){this.tracer=new Tt("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new Vn(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let o=t.dependencies[i];if(!r.has(o.id)){if(n.has(o.id))throw new du(t.id,o.id);this.resolveNode(o,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let o=new Set,s=new Set,a={};for(let u of r)this.resolveQueue(u,o,a);return n?(await this.dryRunLoop(o,a,s,0),a):(await new Promise(u=>{this.workLoop(i,o,a,s,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((o,s)=>{this.dryRunCallback(o,i-1),r[o.id]={success:!0,done:!0},n.delete(s)}),t.size!==0&&t.forEach(o=>{var s;o.canStart(r)&&((s=o==null?void 0:o.node)==null?void 0:s.runCallback)&&(n.add(o.node),t.delete(o))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,o){if(r.size!==0&&r.forEach(s=>{var a,u;s.canStart(n)&&(((a=s==null?void 0:s.node)==null?void 0:a.runCallback)?((u=s==null?void 0:s.node)==null||u.runCallback(t,n),i.add(s.node)):n[s.node.id]={success:!0,done:!0},r.delete(s))}),i.forEach((s,a)=>{n[s.id].done&&i.delete(a)}),Object.keys(n).map(s=>{var a,u;return(u=(a=n[s])==null?void 0:a.done)!=null?u:!0}).every(s=>s===!0)){o();return}setTimeout(()=>this.workLoop(t,r,n,i,o),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(o=>{let s=t.dependencies[o];if(i.push(s.id),!n[s.id]&&s.runCallback){n[s.id]=F({},Yn.RunLogInit);let a=this.resolveQueue(s,r,n),u={node:s,canStart:Yn.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]=F({},Yn.RunLogInit);let o={node:t,canStart:Yn.QueueItemCanStart(i)};r.add(o)}return i}},so=Yn;so.RunLogInit={success:!1,done:!1},so.QueueItemCanStart=t=>r=>t.map(n=>{var i,o;return(o=(i=r[n])==null?void 0:i.done)!=null?o:!0}).every(n=>n===!0);var Vn=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,Vn.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},du=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var db=N(Jp()),T1="",Ke=T1+"[",id=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);id.cursorUp(t)}static cursorUp(t=1){process.stdout.write(Ke+`${t}A`)}static cursorSave(){process.stdout.write(Ke+"s")}static cursorRestore(){process.stdout.write(Ke+"u")}static autoWrap(t){t?process.stdout.write(Ke+"?7h"):process.stdout.write(Ke+"?7l")}static clearScreenDown(){process.stdout.write(Ke+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(Ke+"6n")})}static setScrollableRegion(t,r){process.stdout.write(Ke+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(Ke+"r")}static moveTo(t){process.stdout.write(Ke+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(Ke+"H")}static alternateScreen(){process.stdout.write(Ke+"?1049h")}static mainScreen(){process.stdout.write(Ke+"?1049l")}static linesRequired(t,r){var o;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((o=(0,db.default)(t).match(n))!=null?o:[""]).length-1}},ct=id;ct.row=0,ct.column=0;var hb=N(I("child_process")),_b=N(I("util"));var fb=()=>process.platform==="win32"?"windows":"unix";var R1=(0,_b.promisify)(hb.exec),gb=async e=>{let t=fb(),r=(({platform:i,pid:o})=>{switch(i){case"unix":return`pgrep "-P ${o}"`;case"windows":return`wmic process where (ParentProcessId=${o}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await R1(r);n=i.split(`
`).filter(Boolean).map(o=>parseInt(o,10)).filter(o=>!isNaN(o))}catch(i){}return n};var Wn={hasBeenTerminated:!1,callId:0},fu=async(e=0)=>{if(e!==Wn.callId||Wn.hasBeenTerminated)return;let t=process.pid;(await gb(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(o){}});let n=Wn.callId+1;Wn.callId=n,setTimeout(async()=>{fu(n)},50)};var bb=N(D());var O1="yarn.build.json",Sb=80,C1="-".repeat(Sb),wt;(function(o){o.pending="pending",o.skipped="skipped",o.inProgress="inProgress",o.failed="failed",o.succeeded="succeeded"})(wt||(wt={}));var se;(function(l){l.pending="pending",l.start="start",l.info="info",l.error="error",l.skipped="skipped",l.ignored="ignored",l.success="success",l.fail="fail",l.finish="finish",l.forceQuit="force-quit"})(se||(se={}));var Tb=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:o,pluginConfiguration:s,dryRun:a,ignoreRunCache:u,verbose:c,concurrency:l,continueOnError:d,excludeWorkspacePredicate:f}){this.tracer=new Tt("yarn.build");this.runGraph=new so;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new yb.EventEmitter;this.runReport={mutex:new od.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(se.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(se.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(o=>{this.runReport.workspaces[t]=ce(F({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),o()})}),this.runReporter.on(se.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(se.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(se.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=ce(F({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];nt.default&&process.stdout.write(`[success] ${n.name.padEnd(60," ")}${Hr(0,(i=n.runtimeSeconds)!=null?i:0).padStart(10)}
`),r()})}),this.runReporter.on(se.skipped,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r()})}),this.runReporter.on(se.ignored,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r()})}),this.runReporter.on(se.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var s,a;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],o=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);nt.default&&process.stdout.write(`=> [fail${(o==null?void 0:o.exitCode)?`: ${o==null?void 0:o.exitCode}`:""}] ${i.name.padEnd(60," ")}${Hr(0,(a=i.runtimeSeconds)!=null?a:0).padStart(10)}
`)})})};this.getDependenciesCount=async t=>{let r=0;for(let n of j.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,s,a,u,c;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");this.runGraph.checkCyclical(t);let n=!1;this.runMutexes[r.relativeCwd]=new od.Mutex;for(let l of j.Manifest.hardDependencies)for(let d of r.manifest.getForScope(l).values()){let f=this.project.tryWorkspaceByDescriptor(d);if(f===null||this.excludeWorkspacePredicate(f))continue;let h=this.runGraph.addNode(f.relativeCwd);this.runGraph.addRunCallback(h,this.createRunItem(f)),t.addDependency(h),this.runGraph.checkCyclical(h);let _=await this.plan(h,f),g=!1;f!==this.project.topLevelWorkspace&&(g=await this.checkIfRunIsRequired(f)),(g||_)&&(n=!0,this.removeFromExcluded(f))}let i=!1;if(r!==this.project.topLevelWorkspace&&(i=await this.checkIfRunIsRequired(r)),this.runReporter.emit(se.pending,r.relativeCwd,r.locator),n||i){this.runReporter.emit(se.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(s=r.manifest.name)==null?void 0:s.scope}/`:""}${(a=r.manifest.name)==null?void 0:a.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);return}else{let l=(u=this.runLog)==null?void 0:u.get(`${r.relativeCwd}#${this.runCommand}`);l&&((c=this.runLog)==null||c.set(`${r.relativeCwd}#${this.runCommand}`,{lastModified:l.lastModified,status:wt.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}))}};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",o={1:[]};this.runGraph.dryRunCallback=(u,c)=>{o[c]?o[c].push(u.id):o[c]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let s=(u,c,l,d)=>{let f=d&&l?"\u2514\u2500":l?"\u2514\u2500\u252C":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f} ${c}`},a=Object.keys(o);return a.forEach((u,c)=>{let l=parseInt(u),d=o[l],f=c==a.length-1;d.forEach((h,_)=>{let g=this.runGraph.getNode(h);i+=s(l,h,_==d.length-1,f),g instanceof Vn&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{var s,a;let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(nt.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),nt.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;nt.default||ct.pad(this.concurrency+3),nt.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(a=(s=this.runTargets[0])==null?void 0:s.relativeCwd)!=null?a:"Nothing to run",nt.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let o=this.generateFinalReport();return typeof o=="string"&&process.stdout.write(`
${o}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";nt.default?this.updateProgressCI(t):(n=this.generateProgressString(t),ct.cursorUp(ct.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ct.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,P1(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>j.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=j.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=j.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),o=j.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${o} ${Hr(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var o;nt.default||(ct.cursorUp(ct.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ct.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),nt.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let a in this.runReport.workspaces){let u=this.runReport.workspaces[a];u.fail&&s.push(a),!(this.runReport.failCount!==0&&u.fail===!1)&&((u.stdout.length!==0||u.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${j.formatUtils.pretty(this.configuration,a,j.FormatType.PATH)}`,2)+`
`}`),u.stdout.length!==0&&u.stdout.forEach(c=>{c.split(`
`).forEach(d=>{typeof d!="undefined"&&d.length!==0&&(r+=`${d+`
`}`)})}),u.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,u.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(h=>{typeof h!="undefined"&&h.length!==0&&(r+=`${h+`
`}`)})})))}s.length>=2&&(r+=`${this.grey(C1)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,s.forEach(u=>{r+=`${`- ${j.formatUtils.pretty(this.configuration,u,j.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${j.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?j.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:a,ignoredCount:u,skipCount:c}=this.runReport,l=this.runGraph.runSize-u,d=l-a-s-c,f=j.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),h=j.formatUtils.pretty(this.configuration,`Fail: ${a}`,"red"),_=j.formatUtils.pretty(this.configuration,`Skipped: ${c}`,"white"),g=j.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),v=j.formatUtils.pretty(this.configuration,`Up to date: ${d}`,"white"),b=j.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=f+`
`,r+=v+`
`,r+=h+`
`,this.verbose&&a>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let O=this.runReport.workspaces[y];O.fail&&(r+=` - ${j.formatUtils.pretty(this.configuration,y,"grey")}${j.formatUtils.pretty(this.configuration,O.locator,"IDENT")}
`)}),r+=_+`
`,this.verbose&&c>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let O=this.runReport.workspaces[y];O.skipped&&(r+=` - ${j.formatUtils.pretty(this.configuration,y,"grey")}${j.formatUtils.pretty(this.configuration,O.locator,"IDENT")}
`)}),r+=g+`
`,this.verbose&&this.excluded.size>0)for(let y of this.excluded)r+=` - ${j.formatUtils.pretty(this.configuration,y.relativeCwd,"grey")}${j.formatUtils.pretty(this.configuration,y.locator,"IDENT")}
`;r+=b+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces)i+=(o=this.runReport.workspaces[s].runtimeSeconds)!=null?o:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,u=Date.now()-this.runReport.runStart,c=Hr(u,s);nt.default||(r+=`Cumulative: (cpu): ${Hr(0,i)}
`,r+=`Saved: ${c}
`)}return this.runReport.runStart&&(r+="Runtime (wall): "+Hr(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:o})=>{var l,d,f,h,_,g,v,b;let s=t.relativeCwd,a={[B.PACKAGE_NAME]:t.locator.name,[B.PACKAGE_DIRECTORY]:t.relativeCwd,[B.PACKAGE_COMMAND]:this.runCommand};typeof t.locator.scope=="string"&&(a[B.PACKAGE_SCOPE]=`@${t.locator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[B.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let c=(l=this.runLog)==null?void 0:l.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(se.start,t.relativeCwd,t.locator,`${((d=t.manifest.name)==null?void 0:d.scope)?`@${(f=t.manifest.name)==null?void 0:f.scope}/`:""}${(h=t.manifest.name)==null?void 0:h.name}`,u),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit(se.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(se.ignored,t.relativeCwd),!0;try{if(this.runReport.failCount!==0&&(this.runReporter.emit(se.skipped,t.relativeCwd),(_=this.runLog)==null||_.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.skipped,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let y=await this.cli(o,this.runCommand,t.cwd,this.runReporter,s);if(i.setAttribute(B.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,y),y!==0)return this.runReporter.emit(se.fail,t.relativeCwd),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand,exitCode:`${y}`}),this.continueOnError===!1&&fu(),!1;(v=this.runLog)==null||v.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.runReporter.emit(se.success,t.relativeCwd)}catch(y){return this.runReporter.emit(se.fail,t.relativeCwd,y),(b=this.runLog)==null||b.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),(typeof y=="string"||y instanceof Error)&&i.recordException(y),i.setStatus({code:bb.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),fu()),!1}return!1}));let h=l!=null?l:Math.max(1,(0,mb.cpus)().length);this.configuration=o,this.pluginConfiguration=s,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=c,this.concurrency=h,this.continueOnError=d,this.limit=(0,Ab.default)(h),this.queue=new vb.default({concurrency:h,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=lt.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"}))}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return lt.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return lt.ppath.resolve(this.project.cwd,".yarn",O1)}async readRunLog(){let t=new Map;try{let r=await lt.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{lastModified:r.packages[n].lastModified,status:r.packages[n].status,haveCheckedForRerun:!1,rerun:!0,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await lt.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:F({},t&&t.packages)};for(let[n,i]of this.runLog)i.status===wt.succeeded&&(r.packages[n]=F(F({},r.packages[n]),this.runLog.get(n)));await lt.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}getWorkspaceConfig(t){let r=[],n=ce(F({},this.pluginConfiguration),{folders:F(F({},this.pluginConfiguration.folders),t==null?void 0:t.manifest.raw["yarn.build"])});return Nc(n,{errors:r})?n:(console.warn(r),this.pluginConfiguration)}async checkIfRunIsRequired(t){var d,f,h,_,g,v,b,y,O,U,G,te,k,C;if(this.ignoreRunCache===!0)return!0;if(typeof t.manifest.scripts.get(this.runCommand)!="string")return!1;let r=!1,n=lt.ppath.resolve(t.project.cwd,t.relativeCwd),i=this.getWorkspaceConfig(t),o=Array.isArray(i.folders.output)?[...i.folders.output]:[i.folders.output];typeof((f=(d=t==null?void 0:t.manifest)==null?void 0:d.raw)==null?void 0:f.bin)=="string"?o.push(t.manifest.raw.bin):typeof((g=(_=(h=t==null?void 0:t.manifest)==null?void 0:h.raw)==null?void 0:_.directories)==null?void 0:g.bin)=="string"?o.push(t.manifest.raw.directories.bin):typeof((b=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:b.files)=="string"?o.push(t.manifest.raw.files):Array.isArray((O=(y=t==null?void 0:t.manifest)==null?void 0:y.raw)==null?void 0:O.files)?o.push(...t.manifest.raw.files):typeof((G=(U=t==null?void 0:t.manifest)==null?void 0:U.raw)==null?void 0:G.main)=="string"&&o.push(t.manifest.raw.main);let s=o.map(T=>`${n}${hu.default.posix.sep}${T}`),a=i.folders.input,u=typeof a=="string"?[a]:a,c=u==null?void 0:u.map(T=>`${n}${hu.default.posix.sep}${T}`).map(T=>(T==null?void 0:T.endsWith("/."))?T.substring(0,T.length-2):T),l=await this.runReport.mutex.acquire();try{let T=(te=this.runLog)==null?void 0:te.get(`${t.relativeCwd}#${this.runCommand}`);if(T==null?void 0:T.haveCheckedForRerun)return(k=T==null?void 0:T.rerun)!=null?k:!0;let K=await Rb(c!=null?c:[n],s);(T==null?void 0:T.lastModified)!==K&&(r=!0),(C=this.runLog)==null||C.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:K,status:r?wt.succeeded:wt.pending,haveCheckedForRerun:!0,rerun:r,command:this.runCommand})}catch(T){this.runReport.workspaces[t.relativeCwd].stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${T})`))}finally{l()}return r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,o=(0,_u.default)(i).length,s=n?"[ yarn.build ]":"",a=Sb-o;return n&&(a-=s.length),i+this.grey("-".repeat(a))+this.grey(s)}generateHeaderString(){return`${j.formatUtils.pretty(this.configuration,`${this.runCommand}`,j.FormatType.CODE)} for ${j.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",j.FormatType.SCOPE)}${this.dryRun?j.formatUtils.pretty(this.configuration," --dry-run",j.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-this.runReport.runStart)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=s=>this.grey(`[${s}]`),i=j.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let o=1;for(let s in this.runReport.workspaces){let a=this.runReport.workspaces[s];if(!a||!a.start||a.done)continue;let u=j.formatUtils.pretty(this.configuration,s,j.FormatType.PATH),c=j.formatUtils.pretty(this.configuration,`(${a.runScript})`,j.FormatType.REFERENCE),l=a.start?j.formatUtils.pretty(this.configuration,Hr(a.start,t),j.FormatType.RANGE):"",d=n(o++),f=" ".repeat(d.length-1),h=j.formatUtils.pretty(this.configuration,a.name,j.FormatType.NAME),_=`${d} ${h}${j.formatUtils.pretty(this.configuration,"@","grey")}${u} ${c} ${l}
`,g="",v="",b="";(0,_u.default)(_).length>=process.stdout.columns&&(g=`${d} ${u}${h}
`,v=`${f} ${c} ${l}
`,(0,_u.default)(g).length>=process.stdout.columns&&(g=(0,gu.default)(`${d} ${u}
`,0,process.stdout.columns),v=(0,gu.default)(`${f} ${h}
`,0,process.stdout.columns),b=(0,gu.default)(`${f} ${c} ${l}
`,0,process.stdout.columns)),_=g+v+b),r+=_}for(o;o<this.concurrency+1;)r+=`${n(o++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},Rb=async(e,t)=>{let r=await Promise.all(e.map(async n=>{if((t==null?void 0:t.some(o=>n.startsWith(o)))||(t==null?void 0:t.some(o=>Eb.default.isMatch(n,o))))return 0;let i=await lt.xfs.statPromise(n);if(i.isFile())return i.mtimeMs;if(i.isDirectory()){let o=await lt.xfs.readdirPromise(n);return await Rb(o.map(s=>`${n}${hu.default.posix.sep}${s}`),t)}return 0}));return Math.max(...r)},Hr=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function P1(e){return new Promise(t=>setTimeout(t,e))}var Ob=Tb;var Cb=N(I("child_process"));async function sd(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,Cb.exec)(n,(i,o,s)=>{if(i&&r(i),o){let a=o.split(`
`),c=[...e.root.workspacesCwds].map(l=>{if(a.some(d=>d.startsWith(l.replace(`${e.root.cwd}/`,""))))return l}).filter(l=>!!l).map(l=>!!l&&e.root.project.workspacesByCwd.get(l)).filter(l=>!!l);t(c)}s&&t([])})})}var $r=N(I("@yarnpkg/core"));var Pb=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...Pb(i,t))}return r},Ib=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=Pb(e,t);for(let i of n)for(let o of $r.Manifest.hardDependencies){for(let s of i.manifest.getForScope(o).values()){let a=t.tryWorkspaceByDescriptor(s);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof du){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,o=n.node.length<n.dep.length+4?"\u21B0":"",s=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${$r.formatUtils.pretty(r.configuration,n.node,"white")} ${o}
 \u21B3 ${$r.formatUtils.pretty(r.configuration,n.dep,"red")} ${s}

`,i+=$r.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=$r.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var uo=N(D());var co=class extends mu.BaseCommand{constructor(){super(...arguments);this.json=ye.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=ye.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=ye.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=ye.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=ye.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=ye.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a build, but not actually run it"});this.ignoreBuildCache=ye.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=ye.Option.String("-m,--max-concurrency",{description:"is the maximum number of builds that can run at a time, defaults to the number of logical CPUs on the current machine. Will override the global config option."});this.continueOnError=ye.Option.Boolean("--continue-on-error",!1,{description:"if a build fails, continue with the rest"});this.exclude=ye.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=ye.Option.Boolean("--exclude-current",!1,{description:"build this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=ye.Option.Boolean("--changes",!1,{description:"only build packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=ye.Option.String("--since",{description:"only build packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=ye.Option.String("--since-branch",{description:"only build packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=ye.Option.Boolean("--only-current",!1,{description:"only build the current workspace"});this.buildTargets=ye.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.buildLog={};this.commandType="build"}async execute(){return await new Tt("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:r,ctx:n})=>{var v,b;r.setAttributes({[B.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[B.YARN_BUILD_FLAGS_ALL]:this.all,[B.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[B.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[B.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[B.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[B.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[B.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[B.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[B.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[B.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[B.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[B.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[B.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[B.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[B.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let i=await De.Configuration.find(this.context.cwd,this.context.plugins),{project:o,workspace:s}=await De.Project.find(i,this.context.cwd);if(!s)throw new mu.WorkspaceRequiredError(o.cwd,this.context.cwd);let a=this.all?o.topLevelWorkspace:s,u=!1;a==o.topLevelWorkspace&&(u=!0);let c=[a,...this.buildTargets.length>0?a.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?c=await sd({root:o.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(c=await sd({root:o.topLevelWorkspace,commit:(v=this.onlyGitChangesSinceCommit)!=null?v:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(De.structUtils.stringifyIdent(s.locator)),!u&&this.onlyCurrent&&(this.maxConcurrency="1");let l=y=>{var O,U;return!u&&this.onlyCurrent?y!=s:(U=(O=this.exclude)==null?void 0:O.some(G=>ao.default.isMatch(De.structUtils.stringifyIdent(y.locator),G)||ao.default.isMatch(y.cwd,`${i.projectCwd}${ad.default.posix.sep}${G}`)))!=null?U:!1},d=y=>!u&&this.onlyCurrent?y==s:this.buildTargets.some(O=>ao.default.isMatch(De.structUtils.stringifyIdent(y.locator),O)||ao.default.isMatch(y.cwd,`${i.projectCwd}${ad.default.posix.sep}${O}`)),f=this.buildTargets.length>0?c.filter(d):c,h=await qh(i);this.continueOnError=(b=this.continueOnError)!=null?b:!!h.bail;let _=this.maxConcurrency===void 0?h.maxConcurrency:parseInt(this.maxConcurrency);r.setAttributes({[B.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[B.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[B.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[B.YARN_BUILD_CONFIG_BAIL]:h.bail,[B.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[B.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:h.maxConcurrency});let g=await De.StreamReport.start({configuration:i,json:this.json,stdout:this.context.stdout,includeLogs:!0},async y=>{let O=async(te,k,C,T,K)=>{let A=uo.trace.getSpan(te),L=new De.miscUtils.BufferStream;L.on("data",V=>T==null?void 0:T.emit(se.info,K,V&&V.toString()));let M=new De.miscUtils.BufferStream;if(M.on("data",V=>T==null?void 0:T.emit(se.error,K,V&&V.toString())),this.forceQuit)return L.destroy(),M.destroy(),L.end(),M.end(),2;try{let V=await this.cli.run(["run",k],{cwd:C,stdout:L,stderr:M})||0;return L.end(),M.end(),V}catch(V){A==null||A.setStatus({code:uo.SpanStatusCode.ERROR,message:V.message}),(typeof V=="string"||V instanceof Error)&&(A==null||A.recordException(V)),L.end(),M.end()}return 2},U=new Ob({project:o,configuration:i,pluginConfiguration:h,report:y,runCommand:this.buildCommand,cli:O,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:_,continueOnError:this.continueOnError,excludeWorkspacePredicate:l});U.runReporter.on(se.forceQuit,()=>{this.forceQuit=!0}),await U.setup();for(let te of f)await Ib({targetWorkspace:te,project:o,supervisor:U});await U.run(n)===!1&&(y.reportError(De.MessageName.BUILD_FAILED,"Build failed"),r.setStatus({code:uo.SpanStatusCode.ERROR,message:"Build failed"}))});return Wn.hasBeenTerminated=!0,g.exitCode()})}};co.paths=[["build"]],co.usage=ye.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var Eu=co;var Fb=N(I("@yarnpkg/cli")),qb=N(I("@yarnpkg/core")),vu=N(I("@yarnpkg/core")),Gb=N(I("clipanion"));var pt=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var wb=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>pt(i)),n=Array.from(t.workspaces.values()).map(i=>pt(i.manifest.name));return r.filter(i=>n.includes(i))};var Nb=({project:e,workspaceName:t})=>e.workspaces.find(n=>pt(n.manifest.name)===t);var Lb=N(I("@yarnpkg/core"));var I1={firstCharacters:"\u27A4 ",tabString:"\u2502 "},xb="gray",lo=({format:e,padding:t,step:r=5,characters:n=I1})=>{let{firstCharacters:i,tabString:o}=n,s=o.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((c,l)=>l<s.length?s[l]:c).join("");process.stdout.write(e(u,xb))}process.stdout.write(e(i,xb))};var w1=Lb.FormatType.NAME,Mb="red",Db=({format:e,circular:t,dependency:r,parents:n,current:i,project:o,padding:s=0})=>{if(t){lo({format:e,padding:s+1}),process.stdout.write(e(r,w1)),process.stdout.write(e(" -> circular dependency",Mb)),process.stdout.write(`
`);return}let a=Nb({project:o,workspaceName:r});if(!a){lo({format:e,padding:s+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",Mb)),process.stdout.write(`
`);return}yu({format:e,project:o,parent:i,parents:[...n,i],padding:s+1,workspace:a})};var Bb=({format:e,workspace:t,parent:r,parents:n,project:i,padding:o=0})=>{let s=wb({workspace:t,project:i});for(let a of s)Db({format:e,workspace:t,project:i,padding:o,parent:r,parents:n,current:pt(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var Ub=N(I("@yarnpkg/core"));var N1=Ub.FormatType.NAME,jb=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=pt(n);lo({format:e,padding:r}),process.stdout.write(e(i,N1)),process.stdout.write(`
`)};var yu=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:o})=>{jb({workspace:t,padding:i,format:e}),Bb({parents:n,workspace:t,project:r,padding:i,parent:o,format:e})};var po=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var kb=({workspace:e,format:t})=>{let r=pt(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),po({padding:1})};var fo=class extends Fb.BaseCommand{async execute(){let t=await vu.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await vu.Project.find(t,this.context.cwd);if(!n)return 0;let i=(o,s)=>qb.formatUtils.pretty(t,o,s);return po({padding:1}),kb({workspace:n,format:i}),yu({parents:[],workspace:n,project:r,format:i}),po({padding:2}),0}};fo.paths=[["build","query"]],fo.usage=Gb.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var Hb=fo;var ho=N(I("clipanion"));var _o=class extends Eu{constructor(){super(...arguments);this.buildCommand=ho.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=ho.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.commandType="test"}};_o.paths=[["test"]],_o.usage=ho.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var $b=_o;var x1={commands:[sA,Hb,Eu,$b]},L1=x1;return M1;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
