/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-all",
factory: function (require) {
"use strict";var plugin=(()=>{var dL=Object.create;var Ho=Object.defineProperty;var _L=Object.getOwnPropertyDescriptor;var fL=Object.getOwnPropertyNames;var pL=Object.getPrototypeOf,hL=Object.prototype.hasOwnProperty;var O=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gL=(e,t)=>{for(var r in t)Ho(e,r,{get:t[r],enumerable:!0})},Jm=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of fL(t))!hL.call(e,i)&&i!==r&&Ho(e,i,{get:()=>t[i],enumerable:!(n=_L(t,i))||n.enumerable});return e};var Q=(e,t,r)=>(r=e!=null?dL(pL(e)):{},Jm(t||!e||!e.__esModule?Ho(r,"default",{value:e,enumerable:!0}):r,e)),EL=e=>Jm(Ho({},"__esModule",{value:!0}),e);var _S=c((QY,dS)=>{function iS(e){return Array.isArray(e)?e:[e]}var $d="",sS=" ",qd="\\",mL=/^\s+$/,SL=/(?:[^\\]|^)\\$/,AL=/^\\!/,TL=/^\\#/,yL=/\r?\n/g,RL=/^\.*\/|^\.+$/,Hd="/",uS="node-ignore";typeof Symbol<"u"&&(uS=Symbol.for("node-ignore"));var oS=uS,OL=(e,t,r)=>Object.defineProperty(e,t,{value:r}),bL=/([0-z])-([0-z])/g,cS=()=>!1,vL=e=>e.replace(bL,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:$d),PL=e=>{let{length:t}=e;return e.slice(0,t-t%2)},CL=[[/^\uFEFF/,()=>$d],[/\\?\s+$/,e=>e.indexOf("\\")===0?sS:$d],[/\\\s/g,()=>sS],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>qd],[/\\\\/g,()=>qd],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===qd?`\\[${r}${PL(n)}${i}`:i==="]"&&n.length%2===0?`[${vL(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],aS=Object.create(null),IL=(e,t)=>{let r=aS[e];return r||(r=CL.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),aS[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Wd=e=>typeof e=="string",NL=e=>e&&Wd(e)&&!mL.test(e)&&!SL.test(e)&&e.indexOf("#")!==0,LL=e=>e.split(yL),Vd=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},wL=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(AL,"!").replace(TL,"#");let i=IL(e,t);return new Vd(r,e,n,i)},ML=(e,t)=>{throw new t(e)},Kt=(e,t,r)=>Wd(e)?e?Kt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),lS=e=>RL.test(e);Kt.isNotRelative=lS;Kt.convert=e=>e;var Yd=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){OL(this,oS,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[oS]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(NL(t)){let r=wL(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,iS(Wd(t)?LL(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Kt.convert(t);return Kt(s,t,this._allowRelativePaths?cS:ML),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Hd)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(Hd)+Hd,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return iS(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},$o=e=>new Yd(e),DL=e=>Kt(e&&Kt.convert(e),e,cS);$o.isPathValid=DL;$o.default=$o;dS.exports=$o;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Kt.convert=e;let t=/^[a-z]:\//i;Kt.isNotRelative=r=>t.test(r)||lS(r)}});var pS=c((ZY,fS)=>{"use strict";fS.exports=(...e)=>[...new Set([].concat(...e))]});var Kd=c((JY,ES)=>{"use strict";var xL=O("stream"),hS=xL.PassThrough,BL=Array.prototype.slice;ES.exports=UL;function UL(){let e=[],t=BL.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=hS(n);function a(){for(let d=0,_=arguments.length;d<_;d++)e.push(gS(arguments[d],n));return u(),this}function u(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(l);return}Array.isArray(d)||(d=[d]);let _=d.length+1;function f(){--_>0||(r=!1,u())}function p(h){function g(){h.removeListener("merge2UnpipeEnd",g),h.removeListener("end",g),s&&h.removeListener("error",A),f()}function A(y){o.emit("error",y)}if(h._readableState.endEmitted)return f();h.on("merge2UnpipeEnd",g),h.on("end",g),s&&h.on("error",A),h.pipe(o,{end:!1}),h.resume()}for(let h=0;h<d.length;h++)p(d[h]);f()}function l(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),o}function gS(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=gS(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(hS(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var mS=c(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.splitWhen=Vn.flatten=void 0;function GL(e){return e.reduce((t,r)=>[].concat(t,r),[])}Vn.flatten=GL;function FL(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}Vn.splitWhen=FL});var SS=c(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.isEnoentCodeError=void 0;function jL(e){return e.code==="ENOENT"}Vo.isEnoentCodeError=jL});var AS=c(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.createDirentFromStats=void 0;var Xd=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function kL(e,t){return new Xd(e,t)}Yo.createDirentFromStats=kL});var TS=c(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.removeLeadingDotSegment=vt.escape=vt.makeAbsolute=vt.unixify=void 0;var qL=O("path"),HL=2,$L=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function VL(e){return e.replace(/\\/g,"/")}vt.unixify=VL;function YL(e,t){return qL.resolve(e,t)}vt.makeAbsolute=YL;function WL(e){return e.replace($L,"\\$2")}vt.escape=WL;function KL(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(HL)}return e}vt.removeLeadingDotSegment=KL});var RS=c((iW,yS)=>{yS.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var bS=c((sW,OS)=>{var XL=RS(),zL={"{":"}","(":")","[":"]"},QL=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/,ZL=/\\(.)|(^!|[*?{}()[\]]|\(\?)/;OS.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(XL(t))return!0;var n=QL,i;for(r&&r.strict===!1&&(n=ZL);i=n.exec(t);){if(i[2])return!0;var s=i.index+i[0].length,o=i[1],a=o?zL[o]:null;if(o&&a){var u=t.indexOf(a,s);u!==-1&&(s=u+1)}t=t.slice(s)}return!1}});var PS=c((oW,vS)=>{"use strict";var JL=bS(),ew=O("path").posix.dirname,tw=O("os").platform()==="win32",zd="/",rw=/\\/g,nw=/[\{\[].*[\}\]]$/,iw=/(^|[^\\])([\{\[]|\([^\)]+$)/,sw=/\\([\!\*\?\|\[\]\(\)\{\}])/g;vS.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&tw&&t.indexOf(zd)<0&&(t=t.replace(rw,zd)),nw.test(t)&&(t+=zd),t+="a";do t=ew(t);while(JL(t)||iw.test(t));return t.replace(sw,"$1")}});var Wo=c(ut=>{"use strict";ut.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ut.find=(e,t)=>e.nodes.find(r=>r.type===t);ut.exceedsLimit=(e,t,r=1,n)=>n===!1||!ut.isInteger(e)||!ut.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ut.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ut.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ut.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ut.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ut.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ut.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,t):s!==void 0&&t.push(s)}return t};return r(e),t}});var Ko=c((uW,IS)=>{"use strict";var CS=Wo();IS.exports=(e,t={})=>{let r=(n,i={})=>{let s=t.escapeInvalid&&CS.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(s||o)&&CS.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var LS=c((cW,NS)=>{"use strict";NS.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var jS=c((lW,FS)=>{"use strict";var wS=LS(),Br=(e,t,r)=>{if(wS(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(wS(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+s+o+a;if(Br.cache.hasOwnProperty(u))return Br.cache[u].result;let l=Math.min(e,t),d=Math.max(e,t);if(Math.abs(l-d)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let _=GS(e)||GS(t),f={min:e,max:t,a:l,b:d},p=[],h=[];if(_&&(f.isPadded=_,f.maxLen=String(f.max).length),l<0){let g=d<0?Math.abs(d):1;h=MS(g,Math.abs(l),f,n),l=f.a=0}return d>=0&&(p=MS(l,d,f,n)),f.negatives=h,f.positives=p,f.result=ow(h,p,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&p.length+h.length>1&&(f.result=`(?:${f.result})`),Br.cache[u]=f,f.result};function ow(e,t,r){let n=Qd(e,t,"-",!1,r)||[],i=Qd(t,e,"",!1,r)||[],s=Qd(e,t,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function aw(e,t){let r=1,n=1,i=xS(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=xS(e,r);for(i=BS(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=BS(t+1,n)-1;return s=[...s],s.sort(lw),s}function uw(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=cw(e,t),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[u,l]=n[a];u===l?s+=u:u!=="0"||l!=="9"?s+=dw(u,l,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function MS(e,t,r,n){let i=aw(e,t),s=[],o=e,a;for(let u=0;u<i.length;u++){let l=i[u],d=uw(String(o),String(l),n),_="";if(!r.isPadded&&a&&a.pattern===d.pattern){a.count.length>1&&a.count.pop(),a.count.push(d.count[0]),a.string=a.pattern+US(a.count),o=l+1;continue}r.isPadded&&(_=_w(l,r,n)),d.string=_+d.pattern+US(d.count),s.push(d),o=l+1,a=d}return s}function Qd(e,t,r,n,i){let s=[];for(let o of e){let{string:a}=o;!n&&!DS(t,"string",a)&&s.push(r+a),n&&DS(t,"string",a)&&s.push(r+a)}return s}function cw(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function lw(e,t){return e>t?1:t>e?-1:0}function DS(e,t,r){return e.some(n=>n[t]===r)}function xS(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function BS(e,t){return e-e%Math.pow(10,t)}function US(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function dw(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function GS(e){return/^-?(0+)\d/.test(e)}function _w(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Br.cache={};Br.clearCache=()=>Br.cache={};FS.exports=Br});var e_=c((dW,KS)=>{"use strict";var fw=O("util"),HS=jS(),kS=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),pw=e=>t=>e===!0?Number(t):String(t),Zd=e=>typeof e=="number"||typeof e=="string"&&e!=="",ps=e=>Number.isInteger(+e),Jd=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},hw=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,gw=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},qS=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},Ew=(e,t)=>{e.negatives.sort((o,a)=>o<a?-1:o>a?1:0),e.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=t.capture?"":"?:",n="",i="",s;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,t.wrap?`(${r}${s})`:s},$S=(e,t,r,n)=>{if(r)return HS(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let s=String.fromCharCode(t);return`[${i}-${s}]`},VS=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return HS(e,t,r)},YS=(...e)=>new RangeError("Invalid range arguments: "+fw.inspect(...e)),WS=(e,t,r)=>{if(r.strictRanges===!0)throw YS([e,t]);return[]},mw=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},Sw=(e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw YS([e,t]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(e),u=String(t),l=String(r);r=Math.max(Math.abs(r),1);let d=Jd(a)||Jd(u)||Jd(l),_=d?Math.max(a.length,u.length,l.length):0,f=d===!1&&hw(e,t,n)===!1,p=n.transform||pw(f);if(n.toRegex&&r===1)return $S(qS(e,_),qS(t,_),!0,n);let h={negatives:[],positives:[]},g=T=>h[T<0?"negatives":"positives"].push(Math.abs(T)),A=[],y=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?g(i):A.push(gw(p(i,y),_,f)),i=o?i-r:i+r,y++;return n.toRegex===!0?r>1?Ew(h,n):VS(A,null,{wrap:!1,...n}):A},Aw=(e,t,r=1,n={})=>{if(!ps(e)&&e.length>1||!ps(t)&&t.length>1)return WS(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,u=Math.min(s,o),l=Math.max(s,o);if(n.toRegex&&r===1)return $S(u,l,!1,n);let d=[],_=0;for(;a?s>=o:s<=o;)d.push(i(s,_)),s=a?s-r:s+r,_++;return n.toRegex===!0?VS(d,null,{wrap:!1,options:n}):d},Xo=(e,t,r,n={})=>{if(t==null&&Zd(e))return[e];if(!Zd(e)||!Zd(t))return WS(e,t,n);if(typeof r=="function")return Xo(e,t,1,{transform:r});if(kS(r))return Xo(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,ps(r)?ps(e)&&ps(t)?Sw(e,t,r,i):Aw(e,t,Math.max(Math.abs(r),1),i):r!=null&&!kS(r)?mw(r,i):Xo(e,t,1,r)};KS.exports=Xo});var QS=c((_W,zS)=>{"use strict";var Tw=e_(),XS=Wo(),yw=(e,t={})=>{let r=(n,i={})=>{let s=XS.isInvalidBrace(i),o=n.invalid===!0&&t.escapeInvalid===!0,a=s===!0||o===!0,u=t.escapeInvalid===!0?"\\":"",l="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=XS.reduce(n.nodes),_=Tw(...d,{...t,wrap:!1,toRegex:!0});if(_.length!==0)return d.length>1&&_.length>1?`(${_})`:_}if(n.nodes)for(let d of n.nodes)l+=r(d,n);return l};return r(e)};zS.exports=yw});var eA=c((fW,JS)=>{"use strict";var Rw=e_(),ZS=Ko(),Yn=Wo(),Ur=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Yn.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let s of i)n.push(Ur(s,t,r));else for(let s of t)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?Ur(i,s,r):i+s);return Yn.flatten(n)},Ow=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(Ur(a.pop(),ZS(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Ur(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let _=Yn.reduce(i.nodes);if(Yn.exceedsLimit(..._,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=Rw(..._,t);f.length===0&&(f=ZS(i,t)),a.push(Ur(a.pop(),f)),i.nodes=[];return}let u=Yn.encloseBrace(i),l=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,l=d.queue;for(let _=0;_<i.nodes.length;_++){let f=i.nodes[_];if(f.type==="comma"&&i.type==="brace"){_===1&&l.push(""),l.push("");continue}if(f.type==="close"){a.push(Ur(a.pop(),l,u));continue}if(f.value&&f.type!=="open"){l.push(Ur(l.pop(),f.value));continue}f.nodes&&n(f,i)}return l};return Yn.flatten(n(e))};JS.exports=Ow});var rA=c((pW,tA)=>{"use strict";tA.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var aA=c((hW,oA)=>{"use strict";var bw=Ko(),{MAX_LENGTH:nA,CHAR_BACKSLASH:t_,CHAR_BACKTICK:vw,CHAR_COMMA:Pw,CHAR_DOT:Cw,CHAR_LEFT_PARENTHESES:Iw,CHAR_RIGHT_PARENTHESES:Nw,CHAR_LEFT_CURLY_BRACE:Lw,CHAR_RIGHT_CURLY_BRACE:ww,CHAR_LEFT_SQUARE_BRACKET:iA,CHAR_RIGHT_SQUARE_BRACKET:sA,CHAR_DOUBLE_QUOTE:Mw,CHAR_SINGLE_QUOTE:Dw,CHAR_NO_BREAK_SPACE:xw,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Bw}=rA(),Uw=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(nA,r.maxLength):nA;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},s=[i],o=i,a=i,u=0,l=e.length,d=0,_=0,f,p={},h=()=>e[d++],g=A=>{if(A.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&A.type==="text"){a.value+=A.value;return}return o.nodes.push(A),A.parent=o,A.prev=a,a=A,A};for(g({type:"bos"});d<l;)if(o=s[s.length-1],f=h(),!(f===Bw||f===xw)){if(f===t_){g({type:"text",value:(t.keepEscaping?f:"")+h()});continue}if(f===sA){g({type:"text",value:"\\"+f});continue}if(f===iA){u++;let A=!0,y;for(;d<l&&(y=h());){if(f+=y,y===iA){u++;continue}if(y===t_){f+=h();continue}if(y===sA&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===Iw){o=g({type:"paren",nodes:[]}),s.push(o),g({type:"text",value:f});continue}if(f===Nw){if(o.type!=="paren"){g({type:"text",value:f});continue}o=s.pop(),g({type:"text",value:f}),o=s[s.length-1];continue}if(f===Mw||f===Dw||f===vw){let A=f,y;for(t.keepQuotes!==!0&&(f="");d<l&&(y=h());){if(y===t_){f+=y+h();continue}if(y===A){t.keepQuotes===!0&&(f+=y);break}f+=y}g({type:"text",value:f});continue}if(f===Lw){_++;let y={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||o.dollar===!0,depth:_,commas:0,ranges:0,nodes:[]};o=g(y),s.push(o),g({type:"open",value:f});continue}if(f===ww){if(o.type!=="brace"){g({type:"text",value:f});continue}let A="close";o=s.pop(),o.close=!0,g({type:A,value:f}),_--,o=s[s.length-1];continue}if(f===Pw&&_>0){if(o.ranges>0){o.ranges=0;let A=o.nodes.shift();o.nodes=[A,{type:"text",value:bw(o)}]}g({type:"comma",value:f}),o.commas++;continue}if(f===Cw&&_>0&&o.commas===0){let A=o.nodes;if(_===0||A.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){A.pop();let y=A[A.length-1];y.value+=a.value+f,a=y,o.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(T=>{T.nodes||(T.type==="open"&&(T.isOpen=!0),T.type==="close"&&(T.isClose=!0),T.nodes||(T.type="text"),T.invalid=!0)});let A=s[s.length-1],y=A.nodes.indexOf(o);A.nodes.splice(y,1,...o.nodes)}while(s.length>0);return g({type:"eos"}),i};oA.exports=Uw});var lA=c((gW,cA)=>{"use strict";var uA=Ko(),Gw=QS(),Fw=eA(),jw=aA(),et=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=et.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(et.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};et.parse=(e,t={})=>jw(e,t);et.stringify=(e,t={})=>uA(typeof e=="string"?et.parse(e,t):e,t);et.compile=(e,t={})=>(typeof e=="string"&&(e=et.parse(e,t)),Gw(e,t));et.expand=(e,t={})=>{typeof e=="string"&&(e=et.parse(e,t));let r=Fw(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};et.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?et.compile(e,t):et.expand(e,t);cA.exports=et});var hs=c((EW,hA)=>{"use strict";var kw=O("path"),Pt="\\\\/",dA=`[^${Pt}]`,Xt="\\.",qw="\\+",Hw="\\?",zo="\\/",$w="(?=.)",_A="[^/]",r_=`(?:${zo}|$)`,fA=`(?:^|${zo})`,n_=`${Xt}{1,2}${r_}`,Vw=`(?!${Xt})`,Yw=`(?!${fA}${n_})`,Ww=`(?!${Xt}{0,1}${r_})`,Kw=`(?!${n_})`,Xw=`[^.${zo}]`,zw=`${_A}*?`,pA={DOT_LITERAL:Xt,PLUS_LITERAL:qw,QMARK_LITERAL:Hw,SLASH_LITERAL:zo,ONE_CHAR:$w,QMARK:_A,END_ANCHOR:r_,DOTS_SLASH:n_,NO_DOT:Vw,NO_DOTS:Yw,NO_DOT_SLASH:Ww,NO_DOTS_SLASH:Kw,QMARK_NO_DOT:Xw,STAR:zw,START_ANCHOR:fA},Qw={...pA,SLASH_LITERAL:`[${Pt}]`,QMARK:dA,STAR:`${dA}*?`,DOTS_SLASH:`${Xt}{1,2}(?:[${Pt}]|$)`,NO_DOT:`(?!${Xt})`,NO_DOTS:`(?!(?:^|[${Pt}])${Xt}{1,2}(?:[${Pt}]|$))`,NO_DOT_SLASH:`(?!${Xt}{0,1}(?:[${Pt}]|$))`,NO_DOTS_SLASH:`(?!${Xt}{1,2}(?:[${Pt}]|$))`,QMARK_NO_DOT:`[^.${Pt}]`,START_ANCHOR:`(?:^|[${Pt}])`,END_ANCHOR:`(?:[${Pt}]|$)`},Zw={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};hA.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Zw,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:kw.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?Qw:pA}}});var gs=c($e=>{"use strict";var Jw=O("path"),eM=process.platform==="win32",{REGEX_BACKSLASH:tM,REGEX_REMOVE_BACKSLASH:rM,REGEX_SPECIAL_CHARS:nM,REGEX_SPECIAL_CHARS_GLOBAL:iM}=hs();$e.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);$e.hasRegexChars=e=>nM.test(e);$e.isRegexChar=e=>e.length===1&&$e.hasRegexChars(e);$e.escapeRegex=e=>e.replace(iM,"\\$1");$e.toPosixSlashes=e=>e.replace(tM,"/");$e.removeBackslashes=e=>e.replace(rM,t=>t==="\\"?"":t);$e.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};$e.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:eM===!0||Jw.sep==="\\";$e.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?$e.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};$e.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};$e.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${e})${i}`;return t.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var RA=c((SW,yA)=>{"use strict";var gA=gs(),{CHAR_ASTERISK:i_,CHAR_AT:sM,CHAR_BACKWARD_SLASH:Es,CHAR_COMMA:oM,CHAR_DOT:s_,CHAR_EXCLAMATION_MARK:o_,CHAR_FORWARD_SLASH:TA,CHAR_LEFT_CURLY_BRACE:a_,CHAR_LEFT_PARENTHESES:u_,CHAR_LEFT_SQUARE_BRACKET:aM,CHAR_PLUS:uM,CHAR_QUESTION_MARK:EA,CHAR_RIGHT_CURLY_BRACE:cM,CHAR_RIGHT_PARENTHESES:mA,CHAR_RIGHT_SQUARE_BRACKET:lM}=hs(),SA=e=>e===TA||e===Es,AA=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},dM=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],u=e,l=-1,d=0,_=0,f=!1,p=!1,h=!1,g=!1,A=!1,y=!1,T=!1,R=!1,G=!1,b=!1,B=0,N,M,H={value:"",depth:0,isGlob:!1},ee=()=>l>=n,S=()=>u.charCodeAt(l+1),L=()=>(N=M,u.charCodeAt(++l));for(;l<n;){M=L();let ye;if(M===Es){T=H.backslashes=!0,M=L(),M===a_&&(y=!0);continue}if(y===!0||M===a_){for(B++;ee()!==!0&&(M=L());){if(M===Es){T=H.backslashes=!0,L();continue}if(M===a_){B++;continue}if(y!==!0&&M===s_&&(M=L())===s_){if(f=H.isBrace=!0,h=H.isGlob=!0,b=!0,i===!0)continue;break}if(y!==!0&&M===oM){if(f=H.isBrace=!0,h=H.isGlob=!0,b=!0,i===!0)continue;break}if(M===cM&&(B--,B===0)){y=!1,f=H.isBrace=!0,b=!0;break}}if(i===!0)continue;break}if(M===TA){if(s.push(l),o.push(H),H={value:"",depth:0,isGlob:!1},b===!0)continue;if(N===s_&&l===d+1){d+=2;continue}_=l+1;continue}if(r.noext!==!0&&(M===uM||M===sM||M===i_||M===EA||M===o_)===!0&&S()===u_){if(h=H.isGlob=!0,g=H.isExtglob=!0,b=!0,M===o_&&l===d&&(G=!0),i===!0){for(;ee()!==!0&&(M=L());){if(M===Es){T=H.backslashes=!0,M=L();continue}if(M===mA){h=H.isGlob=!0,b=!0;break}}continue}break}if(M===i_){if(N===i_&&(A=H.isGlobstar=!0),h=H.isGlob=!0,b=!0,i===!0)continue;break}if(M===EA){if(h=H.isGlob=!0,b=!0,i===!0)continue;break}if(M===aM){for(;ee()!==!0&&(ye=L());){if(ye===Es){T=H.backslashes=!0,L();continue}if(ye===lM){p=H.isBracket=!0,h=H.isGlob=!0,b=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&M===o_&&l===d){R=H.negated=!0,d++;continue}if(r.noparen!==!0&&M===u_){if(h=H.isGlob=!0,i===!0){for(;ee()!==!0&&(M=L());){if(M===u_){T=H.backslashes=!0,M=L();continue}if(M===mA){b=!0;break}}continue}break}if(h===!0){if(b=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,h=!1);let v=u,le="",E="";d>0&&(le=u.slice(0,d),u=u.slice(d),_-=d),v&&h===!0&&_>0?(v=u.slice(0,_),E=u.slice(_)):h===!0?(v="",E=u):v=u,v&&v!==""&&v!=="/"&&v!==u&&SA(v.charCodeAt(v.length-1))&&(v=v.slice(0,-1)),r.unescape===!0&&(E&&(E=gA.removeBackslashes(E)),v&&T===!0&&(v=gA.removeBackslashes(v)));let m={prefix:le,input:e,start:d,base:v,glob:E,isBrace:f,isBracket:p,isGlob:h,isExtglob:g,isGlobstar:A,negated:R,negatedExtglob:G};if(r.tokens===!0&&(m.maxDepth=0,SA(M)||o.push(H),m.tokens=o),r.parts===!0||r.tokens===!0){let ye;for(let X=0;X<s.length;X++){let Ot=ye?ye+1:d,bt=s[X],Je=e.slice(Ot,bt);r.tokens&&(X===0&&d!==0?(o[X].isPrefix=!0,o[X].value=le):o[X].value=Je,AA(o[X]),m.maxDepth+=o[X].depth),(X!==0||Je!=="")&&a.push(Je),ye=bt}if(ye&&ye+1<e.length){let X=e.slice(ye+1);a.push(X),r.tokens&&(o[o.length-1].value=X,AA(o[o.length-1]),m.maxDepth+=o[o.length-1].depth)}m.slashes=s,m.parts=a}return m};yA.exports=dM});var PA=c((AW,vA)=>{"use strict";var Qo=hs(),tt=gs(),{MAX_LENGTH:Zo,POSIX_REGEX_SOURCE:_M,REGEX_NON_SPECIAL_CHARS:fM,REGEX_SPECIAL_CHARS_BACKREF:pM,REPLACEMENTS:OA}=Qo,hM=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>tt.escapeRegex(i)).join("..")}return r},Wn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,bA=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=OA[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Zo,r.maxLength):Zo,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",u=tt.isWindows(t),l=Qo.globChars(u),d=Qo.extglobChars(l),{DOT_LITERAL:_,PLUS_LITERAL:f,SLASH_LITERAL:p,ONE_CHAR:h,DOTS_SLASH:g,NO_DOT:A,NO_DOT_SLASH:y,NO_DOTS_SLASH:T,QMARK:R,QMARK_NO_DOT:G,STAR:b,START_ANCHOR:B}=l,N=I=>`(${a}(?:(?!${B}${I.dot?g:_}).)*?)`,M=r.dot?"":A,H=r.dot?R:G,ee=r.bash===!0?N(r):b;r.capture&&(ee=`(${ee})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let S={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=tt.removePrefix(e,S),i=e.length;let L=[],v=[],le=[],E=s,m,ye=()=>S.index===i-1,X=S.peek=(I=1)=>e[S.index+I],Ot=S.advance=()=>e[++S.index]||"",bt=()=>e.slice(S.index+1),Je=(I="",oe=0)=>{S.consumed+=I,S.index+=oe},Fo=I=>{S.output+=I.output!=null?I.output:I.value,Je(I.value)},cL=()=>{let I=1;for(;X()==="!"&&(X(2)!=="("||X(3)==="?");)Ot(),S.start++,I++;return I%2===0?!1:(S.negated=!0,S.start++,!0)},jo=I=>{S[I]++,le.push(I)},xr=I=>{S[I]--,le.pop()},W=I=>{if(E.type==="globstar"){let oe=S.braces>0&&(I.type==="comma"||I.type==="brace"),P=I.extglob===!0||L.length&&(I.type==="pipe"||I.type==="paren");I.type!=="slash"&&I.type!=="paren"&&!oe&&!P&&(S.output=S.output.slice(0,-E.output.length),E.type="star",E.value="*",E.output=ee,S.output+=E.output)}if(L.length&&I.type!=="paren"&&(L[L.length-1].inner+=I.value),(I.value||I.output)&&Fo(I),E&&E.type==="text"&&I.type==="text"){E.value+=I.value,E.output=(E.output||"")+I.value;return}I.prev=E,o.push(I),E=I},ko=(I,oe)=>{let P={...d[oe],conditions:1,inner:""};P.prev=E,P.parens=S.parens,P.output=S.output;let $=(r.capture?"(":"")+P.open;jo("parens"),W({type:I,value:oe,output:S.output?"":h}),W({type:"paren",extglob:!0,value:Ot(),output:$}),L.push(P)},lL=I=>{let oe=I.close+(r.capture?")":""),P;if(I.type==="negate"){let $=ee;I.inner&&I.inner.length>1&&I.inner.includes("/")&&($=N(r)),($!==ee||ye()||/^\)+$/.test(bt()))&&(oe=I.close=`)$))${$}`),I.inner.includes("*")&&(P=bt())&&/^\.[^\\/.]+$/.test(P)&&(oe=I.close=`)${P})${$})`),I.prev.type==="bos"&&(S.negatedExtglob=!0)}W({type:"paren",extglob:!0,value:m,output:oe}),xr("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let I=!1,oe=e.replace(pM,(P,$,de,Fe,Se,kd)=>Fe==="\\"?(I=!0,P):Fe==="?"?$?$+Fe+(Se?R.repeat(Se.length):""):kd===0?H+(Se?R.repeat(Se.length):""):R.repeat(de.length):Fe==="."?_.repeat(de.length):Fe==="*"?$?$+Fe+(Se?ee:""):ee:$?P:`\\${P}`);return I===!0&&(r.unescape===!0?oe=oe.replace(/\\/g,""):oe=oe.replace(/\\+/g,P=>P.length%2===0?"\\\\":P?"\\":"")),oe===e&&r.contains===!0?(S.output=e,S):(S.output=tt.wrapOutput(oe,S,t),S)}for(;!ye();){if(m=Ot(),m==="\0")continue;if(m==="\\"){let P=X();if(P==="/"&&r.bash!==!0||P==="."||P===";")continue;if(!P){m+="\\",W({type:"text",value:m});continue}let $=/^\\+/.exec(bt()),de=0;if($&&$[0].length>2&&(de=$[0].length,S.index+=de,de%2!==0&&(m+="\\")),r.unescape===!0?m=Ot():m+=Ot(),S.brackets===0){W({type:"text",value:m});continue}}if(S.brackets>0&&(m!=="]"||E.value==="["||E.value==="[^")){if(r.posix!==!1&&m===":"){let P=E.value.slice(1);if(P.includes("[")&&(E.posix=!0,P.includes(":"))){let $=E.value.lastIndexOf("["),de=E.value.slice(0,$),Fe=E.value.slice($+2),Se=_M[Fe];if(Se){E.value=de+Se,S.backtrack=!0,Ot(),!s.output&&o.indexOf(E)===1&&(s.output=h);continue}}}(m==="["&&X()!==":"||m==="-"&&X()==="]")&&(m=`\\${m}`),m==="]"&&(E.value==="["||E.value==="[^")&&(m=`\\${m}`),r.posix===!0&&m==="!"&&E.value==="["&&(m="^"),E.value+=m,Fo({value:m});continue}if(S.quotes===1&&m!=='"'){m=tt.escapeRegex(m),E.value+=m,Fo({value:m});continue}if(m==='"'){S.quotes=S.quotes===1?0:1,r.keepQuotes===!0&&W({type:"text",value:m});continue}if(m==="("){jo("parens"),W({type:"paren",value:m});continue}if(m===")"){if(S.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Wn("opening","("));let P=L[L.length-1];if(P&&S.parens===P.parens+1){lL(L.pop());continue}W({type:"paren",value:m,output:S.parens?")":"\\)"}),xr("parens");continue}if(m==="["){if(r.nobracket===!0||!bt().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Wn("closing","]"));m=`\\${m}`}else jo("brackets");W({type:"bracket",value:m});continue}if(m==="]"){if(r.nobracket===!0||E&&E.type==="bracket"&&E.value.length===1){W({type:"text",value:m,output:`\\${m}`});continue}if(S.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Wn("opening","["));W({type:"text",value:m,output:`\\${m}`});continue}xr("brackets");let P=E.value.slice(1);if(E.posix!==!0&&P[0]==="^"&&!P.includes("/")&&(m=`/${m}`),E.value+=m,Fo({value:m}),r.literalBrackets===!1||tt.hasRegexChars(P))continue;let $=tt.escapeRegex(E.value);if(S.output=S.output.slice(0,-E.value.length),r.literalBrackets===!0){S.output+=$,E.value=$;continue}E.value=`(${a}${$}|${E.value})`,S.output+=E.value;continue}if(m==="{"&&r.nobrace!==!0){jo("braces");let P={type:"brace",value:m,output:"(",outputIndex:S.output.length,tokensIndex:S.tokens.length};v.push(P),W(P);continue}if(m==="}"){let P=v[v.length-1];if(r.nobrace===!0||!P){W({type:"text",value:m,output:m});continue}let $=")";if(P.dots===!0){let de=o.slice(),Fe=[];for(let Se=de.length-1;Se>=0&&(o.pop(),de[Se].type!=="brace");Se--)de[Se].type!=="dots"&&Fe.unshift(de[Se].value);$=hM(Fe,r),S.backtrack=!0}if(P.comma!==!0&&P.dots!==!0){let de=S.output.slice(0,P.outputIndex),Fe=S.tokens.slice(P.tokensIndex);P.value=P.output="\\{",m=$="\\}",S.output=de;for(let Se of Fe)S.output+=Se.output||Se.value}W({type:"brace",value:m,output:$}),xr("braces"),v.pop();continue}if(m==="|"){L.length>0&&L[L.length-1].conditions++,W({type:"text",value:m});continue}if(m===","){let P=m,$=v[v.length-1];$&&le[le.length-1]==="braces"&&($.comma=!0,P="|"),W({type:"comma",value:m,output:P});continue}if(m==="/"){if(E.type==="dot"&&S.index===S.start+1){S.start=S.index+1,S.consumed="",S.output="",o.pop(),E=s;continue}W({type:"slash",value:m,output:p});continue}if(m==="."){if(S.braces>0&&E.type==="dot"){E.value==="."&&(E.output=_);let P=v[v.length-1];E.type="dots",E.output+=m,E.value+=m,P.dots=!0;continue}if(S.braces+S.parens===0&&E.type!=="bos"&&E.type!=="slash"){W({type:"text",value:m,output:_});continue}W({type:"dot",value:m,output:_});continue}if(m==="?"){if(!(E&&E.value==="(")&&r.noextglob!==!0&&X()==="("&&X(2)!=="?"){ko("qmark",m);continue}if(E&&E.type==="paren"){let $=X(),de=m;if($==="<"&&!tt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(E.value==="("&&!/[!=<:]/.test($)||$==="<"&&!/<([!=]|\w+>)/.test(bt()))&&(de=`\\${m}`),W({type:"text",value:m,output:de});continue}if(r.dot!==!0&&(E.type==="slash"||E.type==="bos")){W({type:"qmark",value:m,output:G});continue}W({type:"qmark",value:m,output:R});continue}if(m==="!"){if(r.noextglob!==!0&&X()==="("&&(X(2)!=="?"||!/[!=<:]/.test(X(3)))){ko("negate",m);continue}if(r.nonegate!==!0&&S.index===0){cL();continue}}if(m==="+"){if(r.noextglob!==!0&&X()==="("&&X(2)!=="?"){ko("plus",m);continue}if(E&&E.value==="("||r.regex===!1){W({type:"plus",value:m,output:f});continue}if(E&&(E.type==="bracket"||E.type==="paren"||E.type==="brace")||S.parens>0){W({type:"plus",value:m});continue}W({type:"plus",value:f});continue}if(m==="@"){if(r.noextglob!==!0&&X()==="("&&X(2)!=="?"){W({type:"at",extglob:!0,value:m,output:""});continue}W({type:"text",value:m});continue}if(m!=="*"){(m==="$"||m==="^")&&(m=`\\${m}`);let P=fM.exec(bt());P&&(m+=P[0],S.index+=P[0].length),W({type:"text",value:m});continue}if(E&&(E.type==="globstar"||E.star===!0)){E.type="star",E.star=!0,E.value+=m,E.output=ee,S.backtrack=!0,S.globstar=!0,Je(m);continue}let I=bt();if(r.noextglob!==!0&&/^\([^?]/.test(I)){ko("star",m);continue}if(E.type==="star"){if(r.noglobstar===!0){Je(m);continue}let P=E.prev,$=P.prev,de=P.type==="slash"||P.type==="bos",Fe=$&&($.type==="star"||$.type==="globstar");if(r.bash===!0&&(!de||I[0]&&I[0]!=="/")){W({type:"star",value:m,output:""});continue}let Se=S.braces>0&&(P.type==="comma"||P.type==="brace"),kd=L.length&&(P.type==="pipe"||P.type==="paren");if(!de&&P.type!=="paren"&&!Se&&!kd){W({type:"star",value:m,output:""});continue}for(;I.slice(0,3)==="/**";){let qo=e[S.index+4];if(qo&&qo!=="/")break;I=I.slice(3),Je("/**",3)}if(P.type==="bos"&&ye()){E.type="globstar",E.value+=m,E.output=N(r),S.output=E.output,S.globstar=!0,Je(m);continue}if(P.type==="slash"&&P.prev.type!=="bos"&&!Fe&&ye()){S.output=S.output.slice(0,-(P.output+E.output).length),P.output=`(?:${P.output}`,E.type="globstar",E.output=N(r)+(r.strictSlashes?")":"|$)"),E.value+=m,S.globstar=!0,S.output+=P.output+E.output,Je(m);continue}if(P.type==="slash"&&P.prev.type!=="bos"&&I[0]==="/"){let qo=I[1]!==void 0?"|$":"";S.output=S.output.slice(0,-(P.output+E.output).length),P.output=`(?:${P.output}`,E.type="globstar",E.output=`${N(r)}${p}|${p}${qo})`,E.value+=m,S.output+=P.output+E.output,S.globstar=!0,Je(m+Ot()),W({type:"slash",value:"/",output:""});continue}if(P.type==="bos"&&I[0]==="/"){E.type="globstar",E.value+=m,E.output=`(?:^|${p}|${N(r)}${p})`,S.output=E.output,S.globstar=!0,Je(m+Ot()),W({type:"slash",value:"/",output:""});continue}S.output=S.output.slice(0,-E.output.length),E.type="globstar",E.output=N(r),E.value+=m,S.output+=E.output,S.globstar=!0,Je(m);continue}let oe={type:"star",value:m,output:ee};if(r.bash===!0){oe.output=".*?",(E.type==="bos"||E.type==="slash")&&(oe.output=M+oe.output),W(oe);continue}if(E&&(E.type==="bracket"||E.type==="paren")&&r.regex===!0){oe.output=m,W(oe);continue}(S.index===S.start||E.type==="slash"||E.type==="dot")&&(E.type==="dot"?(S.output+=y,E.output+=y):r.dot===!0?(S.output+=T,E.output+=T):(S.output+=M,E.output+=M),X()!=="*"&&(S.output+=h,E.output+=h)),W(oe)}for(;S.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Wn("closing","]"));S.output=tt.escapeLast(S.output,"["),xr("brackets")}for(;S.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Wn("closing",")"));S.output=tt.escapeLast(S.output,"("),xr("parens")}for(;S.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Wn("closing","}"));S.output=tt.escapeLast(S.output,"{"),xr("braces")}if(r.strictSlashes!==!0&&(E.type==="star"||E.type==="bracket")&&W({type:"maybe_slash",value:"",output:`${p}?`}),S.backtrack===!0){S.output="";for(let I of S.tokens)S.output+=I.output!=null?I.output:I.value,I.suffix&&(S.output+=I.suffix)}return S};bA.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Zo,r.maxLength):Zo,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=OA[e]||e;let s=tt.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:l,NO_DOT:d,NO_DOTS:_,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:h}=Qo.globChars(s),g=r.dot?_:d,A=r.dot?f:d,y=r.capture?"":"?:",T={negated:!1,prefix:""},R=r.bash===!0?".*?":p;r.capture&&(R=`(${R})`);let G=M=>M.noglobstar===!0?R:`(${y}(?:(?!${h}${M.dot?l:o}).)*?)`,b=M=>{switch(M){case"*":return`${g}${u}${R}`;case".*":return`${o}${u}${R}`;case"*.*":return`${g}${R}${o}${u}${R}`;case"*/*":return`${g}${R}${a}${u}${A}${R}`;case"**":return g+G(r);case"**/*":return`(?:${g}${G(r)}${a})?${A}${u}${R}`;case"**/*.*":return`(?:${g}${G(r)}${a})?${A}${R}${o}${u}${R}`;case"**/.*":return`(?:${g}${G(r)}${a})?${o}${u}${R}`;default:{let H=/^(.*?)\.(\w+)$/.exec(M);if(!H)return;let ee=b(H[1]);return ee?ee+o+H[2]:void 0}}},B=tt.removePrefix(e,T),N=b(B);return N&&r.strictSlashes!==!0&&(N+=`${a}?`),N};vA.exports=bA});var IA=c((TW,CA)=>{"use strict";var gM=O("path"),EM=RA(),c_=PA(),l_=gs(),mM=hs(),SM=e=>e&&typeof e=="object"&&!Array.isArray(e),_e=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(f=>_e(f,t,r));return f=>{for(let p of d){let h=p(f);if(h)return h}return!1}}let n=SM(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},s=l_.isWindows(t),o=n?_e.compileRe(e,t):_e.makeRe(e,t,!1,!0),a=o.state;delete o.state;let u=()=>!1;if(i.ignore){let d={...t,ignore:null,onMatch:null,onResult:null};u=_e(i.ignore,d,r)}let l=(d,_=!1)=>{let{isMatch:f,match:p,output:h}=_e.test(d,o,t,{glob:e,posix:s}),g={glob:e,state:a,regex:o,posix:s,input:d,output:h,match:p,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,_?g:!1):u(d)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,_?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),_?g:!0)};return r&&(l.state=a),l};_e.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?l_.toPosixSlashes:null),a=e===n,u=a&&o?o(e):e;return a===!1&&(u=o?o(e):e,a=u===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=_e.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};_e.matchBase=(e,t,r,n=l_.isWindows(r))=>(t instanceof RegExp?t:_e.makeRe(t,r)).test(gM.basename(e));_e.isMatch=(e,t,r)=>_e(t,r)(e);_e.parse=(e,t)=>Array.isArray(e)?e.map(r=>_e.parse(r,t)):c_(e,{...t,fastpaths:!1});_e.scan=(e,t)=>EM(e,t);_e.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${e.output})${o}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=_e.toRegex(a,t);return n===!0&&(u.state=e),u};_e.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=c_.fastpaths(e,t)),i.output||(i=c_(e,t)),_e.compileRe(i,t,r,n)};_e.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};_e.constants=mM;CA.exports=_e});var LA=c((yW,NA)=>{"use strict";NA.exports=IA()});var __=c((RW,xA)=>{"use strict";var MA=O("util"),DA=lA(),Ct=LA(),d_=gs(),wA=e=>e===""||e==="./",ce=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,s=new Set,o=0,a=d=>{s.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let _=Ct(String(t[d]),{...r,onResult:a},!0),f=_.state.negated||_.state.negatedExtglob;f&&o++;for(let p of e){let h=_(p,!0);!(f?!h.isMatch:h.isMatch)||(f?n.add(h.output):(n.delete(h.output),i.add(h.output)))}}let l=(o===t.length?[...s]:[...i]).filter(d=>!n.has(d));if(r&&l.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return l};ce.match=ce;ce.matcher=(e,t)=>Ct(e,t);ce.isMatch=(e,t,r)=>Ct(t,r)(e);ce.any=ce.isMatch;ce.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=ce(e,t,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)o.includes(a)||n.add(a);return[...n]};ce.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${MA.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ce.contains(e,n,r));if(typeof t=="string"){if(wA(e)||wA(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ce.isMatch(e,t,{...r,contains:!0})};ce.matchKeys=(e,t,r)=>{if(!d_.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ce(Object.keys(e),t,r),i={};for(let s of n)i[s]=e[s];return i};ce.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Ct(String(i),r);if(n.some(o=>s(o)))return!0}return!1};ce.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let s=Ct(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};ce.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${MA.inspect(e)}"`);return[].concat(t).every(n=>Ct(n,r)(e))};ce.capture=(e,t,r)=>{let n=d_.isWindows(r),s=Ct.makeRe(String(e),{...r,capture:!0}).exec(n?d_.toPosixSlashes(t):t);if(s)return s.slice(1).map(o=>o===void 0?"":o)};ce.makeRe=(...e)=>Ct.makeRe(...e);ce.scan=(...e)=>Ct.scan(...e);ce.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of DA(String(n),t))r.push(Ct.parse(i,t));return r};ce.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:DA(e,t)};ce.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ce.braces(e,{...t,expand:!0})};xA.exports=ce});var HA=c(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.matchAny=F.convertPatternsToRe=F.makeRe=F.getPatternParts=F.expandBraceExpansion=F.expandPatternsWithBraceExpansion=F.isAffectDepthOfReadingPattern=F.endsWithSlashGlobStar=F.hasGlobStar=F.getBaseDirectory=F.isPatternRelatedToParentDirectory=F.getPatternsOutsideCurrentDirectory=F.getPatternsInsideCurrentDirectory=F.getPositivePatterns=F.getNegativePatterns=F.isPositivePattern=F.isNegativePattern=F.convertToNegativePattern=F.convertToPositivePattern=F.isDynamicPattern=F.isStaticPattern=void 0;var AM=O("path"),TM=PS(),f_=__(),BA="**",yM="\\",RM=/[*?]|^!/,OM=/\[[^[]*]/,bM=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,vM=/[!*+?@]\([^(]*\)/,PM=/,|\.\./;function UA(e,t={}){return!GA(e,t)}F.isStaticPattern=UA;function GA(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(yM)||RM.test(e)||OM.test(e)||bM.test(e)||t.extglob!==!1&&vM.test(e)||t.braceExpansion!==!1&&CM(e))}F.isDynamicPattern=GA;function CM(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return PM.test(n)}function IM(e){return Jo(e)?e.slice(1):e}F.convertToPositivePattern=IM;function NM(e){return"!"+e}F.convertToNegativePattern=NM;function Jo(e){return e.startsWith("!")&&e[1]!=="("}F.isNegativePattern=Jo;function FA(e){return!Jo(e)}F.isPositivePattern=FA;function LM(e){return e.filter(Jo)}F.getNegativePatterns=LM;function wM(e){return e.filter(FA)}F.getPositivePatterns=wM;function MM(e){return e.filter(t=>!p_(t))}F.getPatternsInsideCurrentDirectory=MM;function DM(e){return e.filter(p_)}F.getPatternsOutsideCurrentDirectory=DM;function p_(e){return e.startsWith("..")||e.startsWith("./..")}F.isPatternRelatedToParentDirectory=p_;function xM(e){return TM(e,{flipBackslashes:!1})}F.getBaseDirectory=xM;function BM(e){return e.includes(BA)}F.hasGlobStar=BM;function jA(e){return e.endsWith("/"+BA)}F.endsWithSlashGlobStar=jA;function UM(e){let t=AM.basename(e);return jA(e)||UA(t)}F.isAffectDepthOfReadingPattern=UM;function GM(e){return e.reduce((t,r)=>t.concat(kA(r)),[])}F.expandPatternsWithBraceExpansion=GM;function kA(e){return f_.braces(e,{expand:!0,nodupes:!0})}F.expandBraceExpansion=kA;function FM(e,t){let{parts:r}=f_.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}F.getPatternParts=FM;function qA(e,t){return f_.makeRe(e,t)}F.makeRe=qA;function jM(e,t){return e.map(r=>qA(r,t))}F.convertPatternsToRe=jM;function kM(e,t){return t.some(r=>r.test(e))}F.matchAny=kM});var VA=c(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.merge=void 0;var qM=Kd();function HM(e){let t=qM(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>$A(e)),t.once("end",()=>$A(e)),t}ea.merge=HM;function $A(e){e.forEach(t=>t.emit("close"))}});var YA=c(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.isEmpty=Kn.isString=void 0;function $M(e){return typeof e=="string"}Kn.isString=$M;function VM(e){return e===""}Kn.isEmpty=VM});var zt=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.string=ve.stream=ve.pattern=ve.path=ve.fs=ve.errno=ve.array=void 0;var YM=mS();ve.array=YM;var WM=SS();ve.errno=WM;var KM=AS();ve.fs=KM;var XM=TS();ve.path=XM;var zM=HA();ve.pattern=zM;var QM=VA();ve.stream=QM;var ZM=YA();ve.string=ZM});var XA=c(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.convertPatternGroupToTask=Pe.convertPatternGroupsToTasks=Pe.groupPatternsByBaseDirectory=Pe.getNegativePatternsAsPositive=Pe.getPositivePatterns=Pe.convertPatternsToTasks=Pe.generate=void 0;var Qt=zt();function JM(e,t){let r=WA(e),n=KA(e,t.ignore),i=r.filter(u=>Qt.pattern.isStaticPattern(u,t)),s=r.filter(u=>Qt.pattern.isDynamicPattern(u,t)),o=h_(i,n,!1),a=h_(s,n,!0);return o.concat(a)}Pe.generate=JM;function h_(e,t,r){let n=[],i=Qt.pattern.getPatternsOutsideCurrentDirectory(e),s=Qt.pattern.getPatternsInsideCurrentDirectory(e),o=g_(i),a=g_(s);return n.push(...E_(o,t,r)),"."in a?n.push(m_(".",s,t,r)):n.push(...E_(a,t,r)),n}Pe.convertPatternsToTasks=h_;function WA(e){return Qt.pattern.getPositivePatterns(e)}Pe.getPositivePatterns=WA;function KA(e,t){return Qt.pattern.getNegativePatterns(e).concat(t).map(Qt.pattern.convertToPositivePattern)}Pe.getNegativePatternsAsPositive=KA;function g_(e){let t={};return e.reduce((r,n)=>{let i=Qt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Pe.groupPatternsByBaseDirectory=g_;function E_(e,t,r){return Object.keys(e).map(n=>m_(n,e[n],t,r))}Pe.convertPatternGroupsToTasks=E_;function m_(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Qt.pattern.convertToNegativePattern))}}Pe.convertPatternGroupToTask=m_});var QA=c(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.removeDuplicateSlashes=Xn.transform=void 0;var eD=/(?!^)\/{2,}/g;function tD(e){return e.map(t=>zA(t))}Xn.transform=tD;function zA(e){return e.replace(eD,"/")}Xn.removeDuplicateSlashes=zA});var JA=c(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.read=void 0;function rD(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){ZA(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){S_(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){ZA(r,s);return}S_(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),S_(r,o)})})}ta.read=rD;function ZA(e,t){e(t)}function S_(e,t){e(null,t)}});var eT=c(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.read=void 0;function nD(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}ra.read=nD});var tT=c(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.createFileSystemAdapter=dr.FILE_SYSTEM_ADAPTER=void 0;var na=O("fs");dr.FILE_SYSTEM_ADAPTER={lstat:na.lstat,stat:na.stat,lstatSync:na.lstatSync,statSync:na.statSync};function iD(e){return e===void 0?dr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},dr.FILE_SYSTEM_ADAPTER),e)}dr.createFileSystemAdapter=iD});var rT=c(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0});var sD=tT(),A_=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=sD.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};T_.default=A_});var Gr=c(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.statSync=_r.stat=_r.Settings=void 0;var nT=JA(),oD=eT(),y_=rT();_r.Settings=y_.default;function aD(e,t,r){if(typeof t=="function"){nT.read(e,R_(),t);return}nT.read(e,R_(t),r)}_r.stat=aD;function uD(e,t){let r=R_(t);return oD.read(e,r)}_r.statSync=uD;function R_(e={}){return e instanceof y_.default?e:new y_.default(e)}});var oT=c((xW,sT)=>{var iT;sT.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(iT||(iT=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var uT=c((BW,aT)=>{aT.exports=lD;var cD=oT();function lD(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(u){function l(){t&&t(u,r),t=null}s?cD(l):l()}function a(u,l,d){r[u]=d,(--n===0||l)&&o(l)}n?i?i.forEach(function(u){e[u](function(l,d){a(u,l,d)})}):e.forEach(function(u,l){u(function(d,_){a(l,d,_)})}):o(null),s=!1}});var O_=c(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var ia=process.versions.node.split(".");if(ia[0]===void 0||ia[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var cT=Number.parseInt(ia[0],10),dD=Number.parseInt(ia[1],10),lT=10,_D=10,fD=cT>lT,pD=cT===lT&&dD>=_D;sa.IS_SUPPORT_READDIR_WITH_FILE_TYPES=fD||pD});var dT=c(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.createDirentFromStats=void 0;var b_=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function hD(e,t){return new b_(e,t)}oa.createDirentFromStats=hD});var v_=c(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.fs=void 0;var gD=dT();aa.fs=gD});var P_=c(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.joinPathSegments=void 0;function ED(e,t,r){return e.endsWith(r)?e+t:e+r+t}ua.joinPathSegments=ED});var ET=c(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.readdir=fr.readdirWithFileTypes=fr.read=void 0;var mD=Gr(),_T=uT(),SD=O_(),fT=v_(),pT=P_();function AD(e,t,r){if(!t.stats&&SD.IS_SUPPORT_READDIR_WITH_FILE_TYPES){hT(e,t,r);return}gT(e,t,r)}fr.read=AD;function hT(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){ca(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:pT.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){C_(r,s);return}let o=s.map(a=>TD(a,t));_T(o,(a,u)=>{if(a!==null){ca(r,a);return}C_(r,u)})})}fr.readdirWithFileTypes=hT;function TD(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=fT.fs.createDirentFromStats(e.name,i),r(null,e)})}}function gT(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){ca(r,n);return}let s=i.map(o=>{let a=pT.joinPathSegments(e,o,t.pathSegmentSeparator);return u=>{mD.stat(a,t.fsStatSettings,(l,d)=>{if(l!==null){u(l);return}let _={name:o,path:a,dirent:fT.fs.createDirentFromStats(o,d)};t.stats&&(_.stats=d),u(null,_)})}});_T(s,(o,a)=>{if(o!==null){ca(r,o);return}C_(r,a)})})}fr.readdir=gT;function ca(e,t){e(t)}function C_(e,t){e(null,t)}});var yT=c(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.readdir=pr.readdirWithFileTypes=pr.read=void 0;var yD=Gr(),RD=O_(),mT=v_(),ST=P_();function OD(e,t){return!t.stats&&RD.IS_SUPPORT_READDIR_WITH_FILE_TYPES?AT(e,t):TT(e,t)}pr.read=OD;function AT(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:ST.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=mT.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}pr.readdirWithFileTypes=AT;function TT(e,t){return t.fs.readdirSync(e).map(n=>{let i=ST.joinPathSegments(e,n,t.pathSegmentSeparator),s=yD.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:mT.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}pr.readdir=TT});var RT=c(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.createFileSystemAdapter=hr.FILE_SYSTEM_ADAPTER=void 0;var zn=O("fs");hr.FILE_SYSTEM_ADAPTER={lstat:zn.lstat,stat:zn.stat,lstatSync:zn.lstatSync,statSync:zn.statSync,readdir:zn.readdir,readdirSync:zn.readdirSync};function bD(e){return e===void 0?hr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},hr.FILE_SYSTEM_ADAPTER),e)}hr.createFileSystemAdapter=bD});var OT=c(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0});var vD=O("path"),PD=Gr(),CD=RT(),I_=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=CD.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,vD.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new PD.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};N_.default=I_});var la=c(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.Settings=gr.scandirSync=gr.scandir=void 0;var bT=ET(),ID=yT(),L_=OT();gr.Settings=L_.default;function ND(e,t,r){if(typeof t=="function"){bT.read(e,w_(),t);return}bT.read(e,w_(t),r)}gr.scandir=ND;function LD(e,t){let r=w_(t);return ID.read(e,r)}gr.scandirSync=LD;function w_(e={}){return e instanceof L_.default?e:new L_.default(e)}});var PT=c((YW,vT)=>{"use strict";function wD(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}vT.exports=wD});var IT=c((WW,M_)=>{"use strict";var MD=PT();function CT(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=MD(DD),i=null,s=null,o=0,a=null,u={push:g,drain:It,saturated:It,pause:d,paused:!1,concurrency:r,running:l,resume:p,idle:h,length:_,getQueue:f,unshift:A,empty:It,kill:T,killAndDrain:R,error:G};return u;function l(){return o}function d(){u.paused=!0}function _(){for(var b=i,B=0;b;)b=b.next,B++;return B}function f(){for(var b=i,B=[];b;)B.push(b.value),b=b.next;return B}function p(){if(!!u.paused){u.paused=!1;for(var b=0;b<u.concurrency;b++)o++,y()}}function h(){return o===0&&u.length()===0}function g(b,B){var N=n.get();N.context=e,N.release=y,N.value=b,N.callback=B||It,N.errorHandler=a,o===u.concurrency||u.paused?s?(s.next=N,s=N):(i=N,s=N,u.saturated()):(o++,t.call(e,N.value,N.worked))}function A(b,B){var N=n.get();N.context=e,N.release=y,N.value=b,N.callback=B||It,o===u.concurrency||u.paused?i?(N.next=i,i=N):(i=N,s=N,u.saturated()):(o++,t.call(e,N.value,N.worked))}function y(b){b&&n.release(b);var B=i;B?u.paused?o--:(s===i&&(s=null),i=B.next,B.next=null,t.call(e,B.value,B.worked),s===null&&u.empty()):--o===0&&u.drain()}function T(){i=null,s=null,u.drain=It}function R(){i=null,s=null,u.drain(),u.drain=It}function G(b){a=b}}function It(){}function DD(){this.value=null,this.callback=It,this.next=null,this.release=It,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=It,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function xD(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,d){t.call(this,l).then(function(_){d(null,_)},d)}var i=CT(e,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=u,i;function a(l){return new Promise(function(d,_){s(l,function(f,p){if(f){_(f);return}d(p)})})}function u(l){return new Promise(function(d,_){o(l,function(f,p){if(f){_(f);return}d(p)})})}}M_.exports=CT;M_.exports.promise=xD});var da=c(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.joinPathSegments=Nt.replacePathSegmentSeparator=Nt.isAppliedFilter=Nt.isFatalError=void 0;function BD(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Nt.isFatalError=BD;function UD(e,t){return e===null||e(t)}Nt.isAppliedFilter=UD;function GD(e,t){return e.split(/[/\\]/).join(t)}Nt.replacePathSegmentSeparator=GD;function FD(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Nt.joinPathSegments=FD});var B_=c(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});var jD=da(),D_=class{constructor(t,r){this._root=t,this._settings=r,this._root=jD.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};x_.default=D_});var F_=c(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0});var kD=O("events"),qD=la(),HD=IT(),_a=da(),$D=B_(),U_=class extends $D.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=qD.scandir,this._emitter=new kD.EventEmitter,this._queue=HD(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!_a.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=_a.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),_a.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&_a.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};G_.default=U_});var NT=c(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});var VD=F_(),j_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new VD.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{YD(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{WD(t,this._storage)}),this._reader.read()}};k_.default=j_;function YD(e,t){e(t)}function WD(e,t){e(null,t)}});var LT=c(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0});var KD=O("stream"),XD=F_(),q_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new XD.default(this._root,this._settings),this._stream=new KD.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};H_.default=q_});var wT=c(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0});var zD=la(),fa=da(),QD=B_(),$_=class extends QD.default{constructor(){super(...arguments),this._scandir=zD.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!fa.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=fa.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),fa.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&fa.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};V_.default=$_});var MT=c(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});var ZD=wT(),Y_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new ZD.default(this._root,this._settings)}read(){return this._reader.read()}};W_.default=Y_});var DT=c(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0});var JD=O("path"),e1=la(),K_=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,JD.sep),this.fsScandirSettings=new e1.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};X_.default=K_});var Q_=c(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.Settings=Lt.walkStream=Lt.walkSync=Lt.walk=void 0;var xT=NT(),t1=LT(),r1=MT(),z_=DT();Lt.Settings=z_.default;function n1(e,t,r){if(typeof t=="function"){new xT.default(e,pa()).read(t);return}new xT.default(e,pa(t)).read(r)}Lt.walk=n1;function i1(e,t){let r=pa(t);return new r1.default(e,r).read()}Lt.walkSync=i1;function s1(e,t){let r=pa(t);return new t1.default(e,r).read()}Lt.walkStream=s1;function pa(e={}){return e instanceof z_.default?e:new z_.default(e)}});var ef=c(J_=>{"use strict";Object.defineProperty(J_,"__esModule",{value:!0});var o1=O("path"),a1=Gr(),BT=zt(),Z_=class{constructor(t){this._settings=t,this._fsStatSettings=new a1.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return o1.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:BT.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!BT.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};J_.default=Z_});var nf=c(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});var u1=O("stream"),c1=Gr(),l1=Q_(),d1=ef(),tf=class extends d1.default{constructor(){super(...arguments),this._walkStream=l1.walkStream,this._stat=c1.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new u1.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],t[s],r).then(u=>{u!==null&&r.entryFilter(u)&&i.push(u),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};rf.default=tf});var UT=c(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var Qn=zt(),sf=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=Qn.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return Qn.pattern.getPatternParts(t,this._micromatchOptions).map(n=>Qn.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Qn.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return Qn.array.splitWhen(t,r=>r.dynamic&&Qn.pattern.hasGlobStar(r.pattern))}};of.default=sf});var GT=c(uf=>{"use strict";Object.defineProperty(uf,"__esModule",{value:!0});var _1=UT(),af=class extends _1.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((u,l)=>{let d=s.segments[l];return!!(d.dynamic&&d.patternRe.test(u)||!d.dynamic&&d.pattern===u)}))return!0}return!1}};uf.default=af});var FT=c(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var ha=zt(),f1=GT(),cf=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(t,o,i,s)}_getMatcher(t){return new f1.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(ha.pattern.isAffectDepthOfReadingPattern);return ha.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=ha.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!ha.pattern.matchAny(t,r)}};lf.default=cf});var jT=c(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var Fr=zt(),df=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=Fr.pattern.convertPatternsToRe(t,this._micromatchOptions),i=Fr.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=Fr.path.makeAbsolute(this._settings.cwd,t);return Fr.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=Fr.path.removeLeadingDotSegment(t);return Fr.pattern.matchAny(n,r)||Fr.pattern.matchAny(n+"/",r)}};_f.default=df});var kT=c(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});var p1=zt(),ff=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return p1.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};pf.default=ff});var HT=c(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var qT=zt(),hf=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=qT.path.makeAbsolute(this._settings.cwd,r),r=qT.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};gf.default=hf});var ga=c(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});var h1=O("path"),g1=FT(),E1=jT(),m1=kT(),S1=HT(),Ef=class{constructor(t){this._settings=t,this.errorFilter=new m1.default(this._settings),this.entryFilter=new E1.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new g1.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new S1.default(this._settings)}_getRootDirectory(t){return h1.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};mf.default=Ef});var $T=c(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var A1=nf(),T1=ga(),Sf=class extends T1.default{constructor(){super(...arguments),this._reader=new A1.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((s,o)=>{let a=this.api(r,t,n);a.once("error",o),a.on("data",u=>i.push(n.transform(u))),a.once("end",()=>s(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Af.default=Sf});var VT=c(yf=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});var y1=O("stream"),R1=nf(),O1=ga(),Tf=class extends O1.default{constructor(){super(...arguments),this._reader=new R1.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),s=new y1.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};yf.default=Tf});var YT=c(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var b1=Gr(),v1=Q_(),P1=ef(),Rf=class extends P1.default{constructor(){super(...arguments),this._walkSync=v1.walkSync,this._statSync=b1.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Of.default=Rf});var WT=c(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});var C1=YT(),I1=ga(),bf=class extends I1.default{constructor(){super(...arguments),this._reader=new C1.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};vf.default=bf});var KT=c(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Zn=O("fs"),N1=O("os"),L1=Math.max(N1.cpus().length,1);Jn.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Zn.lstat,lstatSync:Zn.lstatSync,stat:Zn.stat,statSync:Zn.statSync,readdir:Zn.readdir,readdirSync:Zn.readdirSync};var Pf=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,L1),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},Jn.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};Jn.default=Pf});var Lf=c((EK,QT)=>{"use strict";var XT=XA(),zT=QA(),w1=$T(),M1=VT(),D1=WT(),Cf=KT(),jr=zt();async function If(e,t){ei(e);let r=Nf(e,w1.default,t),n=await Promise.all(r);return jr.array.flatten(n)}(function(e){function t(o,a){ei(o);let u=Nf(o,D1.default,a);return jr.array.flatten(u)}e.sync=t;function r(o,a){ei(o);let u=Nf(o,M1.default,a);return jr.stream.merge(u)}e.stream=r;function n(o,a){ei(o);let u=zT.transform([].concat(o)),l=new Cf.default(a);return XT.generate(u,l)}e.generateTasks=n;function i(o,a){ei(o);let u=new Cf.default(a);return jr.pattern.isDynamicPattern(o,u)}e.isDynamicPattern=i;function s(o){return ei(o),jr.path.escape(o)}e.escapePath=s})(If||(If={}));function Nf(e,t,r){let n=zT.transform([].concat(e)),i=new Cf.default(r),s=XT.generate(n,i),o=new t(i);return s.map(o.read,o)}function ei(e){if(![].concat(e).every(n=>jr.string.isString(n)&&!jr.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}QT.exports=If});var JT=c(kr=>{"use strict";var{promisify:x1}=O("util"),ZT=O("fs");async function wf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await x1(ZT[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Mf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return ZT[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}kr.isFile=wf.bind(null,"stat","isFile");kr.isDirectory=wf.bind(null,"stat","isDirectory");kr.isSymlink=wf.bind(null,"lstat","isSymbolicLink");kr.isFileSync=Mf.bind(null,"statSync","isFile");kr.isDirectorySync=Mf.bind(null,"statSync","isDirectory");kr.isSymlinkSync=Mf.bind(null,"lstatSync","isSymbolicLink")});var iy=c((SK,Df)=>{"use strict";var qr=O("path"),ey=JT(),ty=e=>e.length>1?`{${e.join(",")}}`:e[0],ry=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return qr.isAbsolute(r)?r:qr.join(t,r)},B1=(e,t)=>qr.extname(e)?`**/${e}`:`**/${e}.${ty(t)}`,ny=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>qr.posix.join(e,B1(r,t.extensions))):t.files?t.files.map(r=>qr.posix.join(e,`**/${r}`)):t.extensions?[qr.posix.join(e,`**/*.${ty(t.extensions)}`)]:[qr.posix.join(e,"**")]};Df.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await ey.isDirectory(ry(n,t.cwd))?ny(n,t):n));return[].concat.apply([],r)};Df.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>ey.isDirectorySync(ry(n,t.cwd))?ny(n,t):n);return[].concat.apply([],r)}});var fy=c((AK,_y)=>{function sy(e){return Array.isArray(e)?e:[e]}var cy="",oy=" ",xf="\\",U1=/^\s+$/,G1=/^\\!/,F1=/^\\#/,j1=/\r?\n/g,k1=/^\.*\/|^\.+$/,Bf="/",ay=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",q1=(e,t,r)=>Object.defineProperty(e,t,{value:r}),H1=/([0-z])-([0-z])/g,ly=()=>!1,$1=e=>e.replace(H1,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:cy),V1=e=>{let{length:t}=e;return e.slice(0,t-t%2)},Y1=[[/\\?\s+$/,e=>e.indexOf("\\")===0?oy:cy],[/\\\s/g,()=>oy],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>xf],[/\\\\/g,()=>xf],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===xf?`\\[${r}${V1(n)}${i}`:i==="]"&&n.length%2===0?`[${$1(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],uy=Object.create(null),W1=(e,t)=>{let r=uy[e];return r||(r=Y1.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),uy[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Ff=e=>typeof e=="string",K1=e=>e&&Ff(e)&&!U1.test(e)&&e.indexOf("#")!==0,X1=e=>e.split(j1),Uf=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},z1=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(G1,"!").replace(F1,"#");let i=W1(e,t);return new Uf(r,e,n,i)},Q1=(e,t)=>{throw new t(e)},Zt=(e,t,r)=>Ff(e)?e?Zt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),dy=e=>k1.test(e);Zt.isNotRelative=dy;Zt.convert=e=>e;var Gf=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){q1(this,ay,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[ay]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(K1(t)){let r=z1(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,sy(Ff(t)?X1(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(t)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(t,r,n,i){let s=t&&Zt.convert(t);return Zt(s,t,this._allowRelativePaths?ly:Q1),this._t(s,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Bf)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let s=this._t(i.join(Bf)+Bf,r,n,i);return r[t]=s.ignored?s:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return sy(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Ea=e=>new Gf(e),Z1=e=>Zt(e&&Zt.convert(e),e,ly);Ea.isPathValid=Z1;Ea.default=Ea;_y.exports=Ea;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Zt.convert=e;let t=/^[a-z]:\//i;Zt.isNotRelative=r=>t.test(r)||dy(r)}});var hy=c((TK,py)=>{"use strict";py.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var yy=c((yK,jf)=>{"use strict";var{promisify:J1}=O("util"),gy=O("fs"),Jt=O("path"),Ey=Lf(),ex=fy(),ms=hy(),my=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],tx=J1(gy.readFile),rx=e=>t=>t.startsWith("!")?"!"+Jt.posix.join(e,t.slice(1)):Jt.posix.join(e,t),nx=(e,t)=>{let r=ms(Jt.relative(t.cwd,Jt.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(rx(r))},Sy=e=>{let t=ex();for(let r of e)t.add(nx(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},ix=(e,t)=>{if(e=ms(e),Jt.isAbsolute(t)){if(ms(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return Jt.join(e,t)},Ay=(e,t)=>r=>e.ignores(ms(Jt.relative(t,ix(t,r.path||r)))),sx=async(e,t)=>{let r=Jt.join(t,e),n=await tx(r,"utf8");return{cwd:t,filePath:r,content:n}},ox=(e,t)=>{let r=Jt.join(t,e),n=gy.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},Ty=({ignore:e=[],cwd:t=ms(process.cwd())}={})=>({ignore:e,cwd:t});jf.exports=async e=>{e=Ty(e);let t=await Ey("**/.gitignore",{ignore:my.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>sx(i,e.cwd))),n=Sy(r);return Ay(n,e.cwd)};jf.exports.sync=e=>{e=Ty(e);let r=Ey.sync("**/.gitignore",{ignore:my.concat(e.ignore),cwd:e.cwd}).map(i=>ox(i,e.cwd)),n=Sy(r);return Ay(n,e.cwd)}});var Oy=c((RK,Ry)=>{"use strict";var{Transform:ax}=O("stream"),ma=class extends ax{constructor(){super({objectMode:!0})}},kf=class extends ma{constructor(t){super(),this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},qf=class extends ma{constructor(){super(),this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};Ry.exports={FilterStream:kf,UniqueStream:qf}});var Yf=c((OK,Hr)=>{"use strict";var vy=O("fs"),Sa=pS(),ux=Kd(),Aa=Lf(),Ta=iy(),Hf=yy(),{FilterStream:cx,UniqueStream:lx}=Oy(),Py=()=>!1,by=e=>e[0]==="!",dx=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},_x=(e={})=>{if(!e.cwd)return;let t;try{t=vy.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},fx=e=>e.stats instanceof vy.Stats?e.path:e,ya=(e,t)=>{e=Sa([].concat(e)),dx(e),_x(t);let r=[];t={ignore:[],expandDirectories:!0,...t};for(let[n,i]of e.entries()){if(by(i))continue;let s=e.slice(n).filter(a=>by(a)).map(a=>a.slice(1)),o={...t,ignore:t.ignore.concat(s)};r.push({pattern:i,options:o})}return r},px=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)},$f=(e,t)=>e.options.expandDirectories?px(e,t):[e.pattern],Cy=e=>e&&e.gitignore?Hf.sync({cwd:e.cwd,ignore:e.ignore}):Py,Vf=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Ta.sync(r.ignore)),{pattern:t,options:r}};Hr.exports=async(e,t)=>{let r=ya(e,t),n=async()=>t&&t.gitignore?Hf({cwd:t.cwd,ignore:t.ignore}):Py,i=async()=>{let u=await Promise.all(r.map(async l=>{let d=await $f(l,Ta);return Promise.all(d.map(Vf(l)))}));return Sa(...u)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(u=>Aa(u.pattern,u.options)));return Sa(...a).filter(u=>!s(fx(u)))};Hr.exports.sync=(e,t)=>{let r=ya(e,t),n=[];for(let o of r){let a=$f(o,Ta.sync).map(Vf(o));n.push(...a)}let i=Cy(t),s=[];for(let o of n)s=Sa(s,Aa.sync(o.pattern,o.options));return s.filter(o=>!i(o))};Hr.exports.stream=(e,t)=>{let r=ya(e,t),n=[];for(let a of r){let u=$f(a,Ta.sync).map(Vf(a));n.push(...u)}let i=Cy(t),s=new cx(a=>!i(a)),o=new lx;return ux(n.map(a=>Aa.stream(a.pattern,a.options))).pipe(s).pipe(o)};Hr.exports.generateGlobTasks=ya;Hr.exports.hasMagic=(e,t)=>[].concat(e).some(r=>Aa.isDynamicPattern(r,t));Hr.exports.gitignore=Hf});var PR=c(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na._globalThis=void 0;Na._globalThis=typeof globalThis=="object"?globalThis:global});var CR=c(Yr=>{"use strict";var kU=Yr&&Yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qU=Yr&&Yr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kU(t,e,r)};Object.defineProperty(Yr,"__esModule",{value:!0});qU(PR(),Yr)});var IR=c(Wr=>{"use strict";var HU=Wr&&Wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$U=Wr&&Wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HU(t,e,r)};Object.defineProperty(Wr,"__esModule",{value:!0});$U(CR(),Wr)});var cp=c(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.VERSION=void 0;La.VERSION="1.7.0"});var wR=c(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.isCompatible=si._makeCompatibilityCheck=void 0;var VU=cp(),NR=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function LR(e){let t=new Set([e]),r=new Set,n=e.match(NR);if(!n)return()=>!1;let i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function s(a){return r.add(a),!1}function o(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;let l=u.match(NR);if(!l)return s(u);let d={major:+l[1],minor:+l[2],patch:+l[3],prerelease:l[4]};return d.prerelease!=null||i.major!==d.major?s(u):i.major===0?i.minor===d.minor&&i.patch<=d.patch?o(u):s(u):i.minor<=d.minor?o(u):s(u)}}si._makeCompatibilityCheck=LR;si.isCompatible=LR(VU.VERSION)});var Kr=c(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.unregisterGlobal=Sr.getGlobal=Sr.registerGlobal=void 0;var YU=IR(),oi=cp(),WU=wR(),KU=oi.VERSION.split(".")[0],bs=Symbol.for(`opentelemetry.js.api.${KU}`),vs=YU._globalThis;function XU(e,t,r,n=!1){var i;let s=vs[bs]=(i=vs[bs])!==null&&i!==void 0?i:{version:oi.VERSION};if(!n&&s[e]){let o=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(o.stack||o.message),!1}if(s.version!==oi.VERSION){let o=new Error(`@opentelemetry/api: Registration of version v${s.version} for ${e} does not match previously registered API v${oi.VERSION}`);return r.error(o.stack||o.message),!1}return s[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${oi.VERSION}.`),!0}Sr.registerGlobal=XU;function zU(e){var t,r;let n=(t=vs[bs])===null||t===void 0?void 0:t.version;if(!(!n||!(0,WU.isCompatible)(n)))return(r=vs[bs])===null||r===void 0?void 0:r[e]}Sr.getGlobal=zU;function QU(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${oi.VERSION}.`);let r=vs[bs];r&&delete r[e]}Sr.unregisterGlobal=QU});var MR=c(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.DiagComponentLogger=void 0;var ZU=Kr(),lp=class{constructor(t){this._namespace=t.namespace||"DiagComponentLogger"}debug(...t){return Ps("debug",this._namespace,t)}error(...t){return Ps("error",this._namespace,t)}info(...t){return Ps("info",this._namespace,t)}warn(...t){return Ps("warn",this._namespace,t)}verbose(...t){return Ps("verbose",this._namespace,t)}};wa.DiagComponentLogger=lp;function Ps(e,t,r){let n=(0,ZU.getGlobal)("diag");if(!!n)return r.unshift(t),n[e](...r)}});var Ma=c(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.DiagLogLevel=void 0;var JU;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(JU=Cs.DiagLogLevel||(Cs.DiagLogLevel={}))});var DR=c(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.createLogLevelDiagLogger=void 0;var tr=Ma();function eG(e,t){e<tr.DiagLogLevel.NONE?e=tr.DiagLogLevel.NONE:e>tr.DiagLogLevel.ALL&&(e=tr.DiagLogLevel.ALL),t=t||{};function r(n,i){let s=t[n];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:r("error",tr.DiagLogLevel.ERROR),warn:r("warn",tr.DiagLogLevel.WARN),info:r("info",tr.DiagLogLevel.INFO),debug:r("debug",tr.DiagLogLevel.DEBUG),verbose:r("verbose",tr.DiagLogLevel.VERBOSE)}}Da.createLogLevelDiagLogger=eG});var Xr=c(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.DiagAPI=void 0;var tG=MR(),rG=DR(),xR=Ma(),xa=Kr(),nG="diag",Is=class{constructor(){function t(i){return function(...s){let o=(0,xa.getGlobal)("diag");if(!!o)return o[i](...s)}}let r=this,n=(i,s={logLevel:xR.DiagLogLevel.INFO})=>{var o,a,u;if(i===r){let _=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=_.stack)!==null&&o!==void 0?o:_.message),!1}typeof s=="number"&&(s={logLevel:s});let l=(0,xa.getGlobal)("diag"),d=(0,rG.createLogLevelDiagLogger)((a=s.logLevel)!==null&&a!==void 0?a:xR.DiagLogLevel.INFO,i);if(l&&!s.suppressOverrideMessage){let _=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${_}`),d.warn(`Current logger will overwrite one already registered from ${_}`)}return(0,xa.registerGlobal)("diag",d,r,!0)};r.setLogger=n,r.disable=()=>{(0,xa.unregisterGlobal)(nG,r)},r.createComponentLogger=i=>new tG.DiagComponentLogger(i),r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}static instance(){return this._instance||(this._instance=new Is),this._instance}};Ba.DiagAPI=Is});var BR=c(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.BaggageImpl=void 0;var Ar=class{constructor(t){this._entries=t?new Map(t):new Map}getEntry(t){let r=this._entries.get(t);if(!!r)return Object.assign({},r)}getAllEntries(){return Array.from(this._entries.entries()).map(([t,r])=>[t,r])}setEntry(t,r){let n=new Ar(this._entries);return n._entries.set(t,r),n}removeEntry(t){let r=new Ar(this._entries);return r._entries.delete(t),r}removeEntries(...t){let r=new Ar(this._entries);for(let n of t)r._entries.delete(n);return r}clear(){return new Ar}};Ua.BaggageImpl=Ar});var UR=c(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.baggageEntryMetadataSymbol=void 0;Ga.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var dp=c(ai=>{"use strict";Object.defineProperty(ai,"__esModule",{value:!0});ai.baggageEntryMetadataFromString=ai.createBaggage=void 0;var iG=Xr(),sG=BR(),oG=UR(),aG=iG.DiagAPI.instance();function uG(e={}){return new sG.BaggageImpl(new Map(Object.entries(e)))}ai.createBaggage=uG;function cG(e){return typeof e!="string"&&(aG.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:oG.baggageEntryMetadataSymbol,toString(){return e}}}ai.baggageEntryMetadataFromString=cG});var Ns=c(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.ROOT_CONTEXT=ci.createContextKey=void 0;function lG(e){return Symbol.for(e)}ci.createContextKey=lG;var ui=class{constructor(t){let r=this;r._currentContext=t?new Map(t):new Map,r.getValue=n=>r._currentContext.get(n),r.setValue=(n,i)=>{let s=new ui(r._currentContext);return s._currentContext.set(n,i),s},r.deleteValue=n=>{let i=new ui(r._currentContext);return i._currentContext.delete(n),i}}};ci.ROOT_CONTEXT=new ui});var GR=c(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.DiagConsoleLogger=void 0;var _p=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],fp=class{constructor(){function t(r){return function(...n){if(console){let i=console[r];if(typeof i!="function"&&(i=console.log),typeof i=="function")return i.apply(console,n)}}}for(let r=0;r<_p.length;r++)this[_p[r].n]=t(_p[r].c)}};Fa.DiagConsoleLogger=fp});var pp=c(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.createNoopMeter=j.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=j.NOOP_OBSERVABLE_GAUGE_METRIC=j.NOOP_OBSERVABLE_COUNTER_METRIC=j.NOOP_UP_DOWN_COUNTER_METRIC=j.NOOP_HISTOGRAM_METRIC=j.NOOP_COUNTER_METRIC=j.NOOP_METER=j.NoopObservableUpDownCounterMetric=j.NoopObservableGaugeMetric=j.NoopObservableCounterMetric=j.NoopObservableMetric=j.NoopHistogramMetric=j.NoopUpDownCounterMetric=j.NoopCounterMetric=j.NoopMetric=j.NoopMeter=void 0;var ja=class{constructor(){}createHistogram(t,r){return j.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return j.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return j.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return j.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return j.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return j.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};j.NoopMeter=ja;var li=class{};j.NoopMetric=li;var ka=class extends li{add(t,r){}};j.NoopCounterMetric=ka;var qa=class extends li{add(t,r){}};j.NoopUpDownCounterMetric=qa;var Ha=class extends li{record(t,r){}};j.NoopHistogramMetric=Ha;var di=class{addCallback(t){}removeCallback(t){}};j.NoopObservableMetric=di;var $a=class extends di{};j.NoopObservableCounterMetric=$a;var Va=class extends di{};j.NoopObservableGaugeMetric=Va;var Ya=class extends di{};j.NoopObservableUpDownCounterMetric=Ya;j.NOOP_METER=new ja;j.NOOP_COUNTER_METRIC=new ka;j.NOOP_HISTOGRAM_METRIC=new Ha;j.NOOP_UP_DOWN_COUNTER_METRIC=new qa;j.NOOP_OBSERVABLE_COUNTER_METRIC=new $a;j.NOOP_OBSERVABLE_GAUGE_METRIC=new Va;j.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Ya;function dG(){return j.NOOP_METER}j.createNoopMeter=dG});var FR=c(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ValueType=void 0;var _G;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(_G=Ls.ValueType||(Ls.ValueType={}))});var hp=c(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.defaultTextMapSetter=_i.defaultTextMapGetter=void 0;_i.defaultTextMapGetter={get(e,t){if(e!=null)return e[t]},keys(e){return e==null?[]:Object.keys(e)}};_i.defaultTextMapSetter={set(e,t,r){e!=null&&(e[t]=r)}}});var jR=c(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.NoopContextManager=void 0;var fG=Ns(),gp=class{active(){return fG.ROOT_CONTEXT}with(t,r,n,...i){return r.call(n,...i)}bind(t,r){return r}enable(){return this}disable(){return this}};Wa.NoopContextManager=gp});var Ms=c(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.ContextAPI=void 0;var pG=jR(),Ep=Kr(),kR=Xr(),mp="context",hG=new pG.NoopContextManager,ws=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ws),this._instance}setGlobalContextManager(t){return(0,Ep.registerGlobal)(mp,t,kR.DiagAPI.instance())}active(){return this._getContextManager().active()}with(t,r,n,...i){return this._getContextManager().with(t,r,n,...i)}bind(t,r){return this._getContextManager().bind(t,r)}_getContextManager(){return(0,Ep.getGlobal)(mp)||hG}disable(){this._getContextManager().disable(),(0,Ep.unregisterGlobal)(mp,kR.DiagAPI.instance())}};Ka.ContextAPI=ws});var Sp=c(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.TraceFlags=void 0;var gG;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(gG=Ds.TraceFlags||(Ds.TraceFlags={}))});var Xa=c(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.INVALID_SPAN_CONTEXT=Mt.INVALID_TRACEID=Mt.INVALID_SPANID=void 0;var EG=Sp();Mt.INVALID_SPANID="0000000000000000";Mt.INVALID_TRACEID="00000000000000000000000000000000";Mt.INVALID_SPAN_CONTEXT={traceId:Mt.INVALID_TRACEID,spanId:Mt.INVALID_SPANID,traceFlags:EG.TraceFlags.NONE}});var Qa=c(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.NonRecordingSpan=void 0;var mG=Xa(),Ap=class{constructor(t=mG.INVALID_SPAN_CONTEXT){this._spanContext=t}spanContext(){return this._spanContext}setAttribute(t,r){return this}setAttributes(t){return this}addEvent(t,r){return this}setStatus(t){return this}updateName(t){return this}end(t){}isRecording(){return!1}recordException(t,r){}};za.NonRecordingSpan=Ap});var Rp=c(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.getSpanContext=We.setSpanContext=We.deleteSpan=We.setSpan=We.getActiveSpan=We.getSpan=void 0;var SG=Ns(),AG=Qa(),TG=Ms(),Tp=(0,SG.createContextKey)("OpenTelemetry Context Key SPAN");function yp(e){return e.getValue(Tp)||void 0}We.getSpan=yp;function yG(){return yp(TG.ContextAPI.getInstance().active())}We.getActiveSpan=yG;function qR(e,t){return e.setValue(Tp,t)}We.setSpan=qR;function RG(e){return e.deleteValue(Tp)}We.deleteSpan=RG;function OG(e,t){return qR(e,new AG.NonRecordingSpan(t))}We.setSpanContext=OG;function bG(e){var t;return(t=yp(e))===null||t===void 0?void 0:t.spanContext()}We.getSpanContext=bG});var Za=c(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.wrapSpanContext=Dt.isSpanContextValid=Dt.isValidSpanId=Dt.isValidTraceId=void 0;var HR=Xa(),vG=Qa(),PG=/^([0-9a-f]{32})$/i,CG=/^[0-9a-f]{16}$/i;function $R(e){return PG.test(e)&&e!==HR.INVALID_TRACEID}Dt.isValidTraceId=$R;function VR(e){return CG.test(e)&&e!==HR.INVALID_SPANID}Dt.isValidSpanId=VR;function IG(e){return $R(e.traceId)&&VR(e.spanId)}Dt.isSpanContextValid=IG;function NG(e){return new vG.NonRecordingSpan(e)}Dt.wrapSpanContext=NG});var Pp=c(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.NoopTracer=void 0;var LG=Ms(),YR=Rp(),Op=Qa(),wG=Za(),bp=LG.ContextAPI.getInstance(),vp=class{startSpan(t,r,n=bp.active()){if(Boolean(r?.root))return new Op.NonRecordingSpan;let s=n&&(0,YR.getSpanContext)(n);return MG(s)&&(0,wG.isSpanContextValid)(s)?new Op.NonRecordingSpan(s):new Op.NonRecordingSpan}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??bp.active(),l=this.startSpan(t,s,u),d=(0,YR.setSpan)(u,l);return bp.with(d,a,void 0,l)}};Ja.NoopTracer=vp;function MG(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Ip=c(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.ProxyTracer=void 0;var DG=Pp(),xG=new DG.NoopTracer,Cp=class{constructor(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}startSpan(t,r,n){return this._getTracer().startSpan(t,r,n)}startActiveSpan(t,r,n,i){let s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)}_getTracer(){if(this._delegate)return this._delegate;let t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):xG}};eu.ProxyTracer=Cp});var WR=c(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.NoopTracerProvider=void 0;var BG=Pp(),Np=class{getTracer(t,r,n){return new BG.NoopTracer}};tu.NoopTracerProvider=Np});var wp=c(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.ProxyTracerProvider=void 0;var UG=Ip(),GG=WR(),FG=new GG.NoopTracerProvider,Lp=class{getTracer(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new UG.ProxyTracer(this,t,r,n)}getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:FG}setDelegate(t){this._delegate=t}getDelegateTracer(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)}};ru.ProxyTracerProvider=Lp});var KR=c(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.SamplingDecision=void 0;var jG;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(jG=xs.SamplingDecision||(xs.SamplingDecision={}))});var XR=c(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.SpanKind=void 0;var kG;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(kG=Bs.SpanKind||(Bs.SpanKind={}))});var zR=c(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.SpanStatusCode=void 0;var qG;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(qG=Us.SpanStatusCode||(Us.SpanStatusCode={}))});var QR=c(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.validateValue=fi.validateKey=void 0;var Mp="[_0-9a-z-*/]",HG=`[a-z]${Mp}{0,255}`,$G=`[a-z0-9]${Mp}{0,240}@[a-z]${Mp}{0,13}`,VG=new RegExp(`^(?:${HG}|${$G})$`),YG=/^[ -~]{0,255}[!-~]$/,WG=/,|=/;function KG(e){return VG.test(e)}fi.validateKey=KG;function XG(e){return YG.test(e)&&!WG.test(e)}fi.validateValue=XG});var rO=c(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.TraceStateImpl=void 0;var ZR=QR(),JR=32,zG=512,eO=",",tO="=",Gs=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+tO+this.get(r)),t),[]).join(eO)}_parse(t){t.length>zG||(this._internalState=t.split(eO).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(tO);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,ZR.validateKey)(o)&&(0,ZR.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>JR&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,JR))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Gs;return t._internalState=new Map(this._internalState),t}};nu.TraceStateImpl=Gs});var nO=c(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.createTraceState=void 0;var QG=rO();function ZG(e){return new QG.TraceStateImpl(e)}iu.createTraceState=ZG});var iO=c(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.context=void 0;var JG=Ms();su.context=JG.ContextAPI.getInstance()});var sO=c(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.diag=void 0;var eF=Xr();ou.diag=eF.DiagAPI.instance()});var oO=c(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.NOOP_METER_PROVIDER=pi.NoopMeterProvider=void 0;var tF=pp(),au=class{getMeter(t,r,n){return tF.NOOP_METER}};pi.NoopMeterProvider=au;pi.NOOP_METER_PROVIDER=new au});var uO=c(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.MetricsAPI=void 0;var rF=oO(),Dp=Kr(),aO=Xr(),xp="metrics",Fs=class{constructor(){}static getInstance(){return this._instance||(this._instance=new Fs),this._instance}setGlobalMeterProvider(t){return(0,Dp.registerGlobal)(xp,t,aO.DiagAPI.instance())}getMeterProvider(){return(0,Dp.getGlobal)(xp)||rF.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){(0,Dp.unregisterGlobal)(xp,aO.DiagAPI.instance())}};uu.MetricsAPI=Fs});var cO=c(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.metrics=void 0;var nF=uO();cu.metrics=nF.MetricsAPI.getInstance()});var lO=c(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.NoopTextMapPropagator=void 0;var Bp=class{inject(t,r){}extract(t,r){return t}fields(){return[]}};lu.NoopTextMapPropagator=Bp});var _O=c(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.deleteBaggage=xt.setBaggage=xt.getActiveBaggage=xt.getBaggage=void 0;var iF=Ms(),sF=Ns(),Up=(0,sF.createContextKey)("OpenTelemetry Baggage Key");function dO(e){return e.getValue(Up)||void 0}xt.getBaggage=dO;function oF(){return dO(iF.ContextAPI.getInstance().active())}xt.getActiveBaggage=oF;function aF(e,t){return e.setValue(Up,t)}xt.setBaggage=aF;function uF(e){return e.deleteValue(Up)}xt.deleteBaggage=uF});var hO=c(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.PropagationAPI=void 0;var Gp=Kr(),cF=lO(),fO=hp(),du=_O(),lF=dp(),pO=Xr(),Fp="propagation",dF=new cF.NoopTextMapPropagator,js=class{constructor(){this.createBaggage=lF.createBaggage,this.getBaggage=du.getBaggage,this.getActiveBaggage=du.getActiveBaggage,this.setBaggage=du.setBaggage,this.deleteBaggage=du.deleteBaggage}static getInstance(){return this._instance||(this._instance=new js),this._instance}setGlobalPropagator(t){return(0,Gp.registerGlobal)(Fp,t,pO.DiagAPI.instance())}inject(t,r,n=fO.defaultTextMapSetter){return this._getGlobalPropagator().inject(t,r,n)}extract(t,r,n=fO.defaultTextMapGetter){return this._getGlobalPropagator().extract(t,r,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,Gp.unregisterGlobal)(Fp,pO.DiagAPI.instance())}_getGlobalPropagator(){return(0,Gp.getGlobal)(Fp)||dF}};_u.PropagationAPI=js});var gO=c(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.propagation=void 0;var _F=hO();fu.propagation=_F.PropagationAPI.getInstance()});var AO=c(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.TraceAPI=void 0;var jp=Kr(),EO=wp(),mO=Za(),hi=Rp(),SO=Xr(),kp="trace",ks=class{constructor(){this._proxyTracerProvider=new EO.ProxyTracerProvider,this.wrapSpanContext=mO.wrapSpanContext,this.isSpanContextValid=mO.isSpanContextValid,this.deleteSpan=hi.deleteSpan,this.getSpan=hi.getSpan,this.getActiveSpan=hi.getActiveSpan,this.getSpanContext=hi.getSpanContext,this.setSpan=hi.setSpan,this.setSpanContext=hi.setSpanContext}static getInstance(){return this._instance||(this._instance=new ks),this._instance}setGlobalTracerProvider(t){let r=(0,jp.registerGlobal)(kp,this._proxyTracerProvider,SO.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r}getTracerProvider(){return(0,jp.getGlobal)(kp)||this._proxyTracerProvider}getTracer(t,r){return this.getTracerProvider().getTracer(t,r)}disable(){(0,jp.unregisterGlobal)(kp,SO.DiagAPI.instance()),this._proxyTracerProvider=new EO.ProxyTracerProvider}};pu.TraceAPI=ks});var TO=c(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.trace=void 0;var fF=AO();hu.trace=fF.TraceAPI.getInstance()});var C=c(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.trace=D.propagation=D.metrics=D.diag=D.context=D.INVALID_SPAN_CONTEXT=D.INVALID_TRACEID=D.INVALID_SPANID=D.isValidSpanId=D.isValidTraceId=D.isSpanContextValid=D.createTraceState=D.TraceFlags=D.SpanStatusCode=D.SpanKind=D.SamplingDecision=D.ProxyTracerProvider=D.ProxyTracer=D.defaultTextMapSetter=D.defaultTextMapGetter=D.ValueType=D.createNoopMeter=D.DiagLogLevel=D.DiagConsoleLogger=D.ROOT_CONTEXT=D.createContextKey=D.baggageEntryMetadataFromString=void 0;var pF=dp();Object.defineProperty(D,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return pF.baggageEntryMetadataFromString}});var yO=Ns();Object.defineProperty(D,"createContextKey",{enumerable:!0,get:function(){return yO.createContextKey}});Object.defineProperty(D,"ROOT_CONTEXT",{enumerable:!0,get:function(){return yO.ROOT_CONTEXT}});var hF=GR();Object.defineProperty(D,"DiagConsoleLogger",{enumerable:!0,get:function(){return hF.DiagConsoleLogger}});var gF=Ma();Object.defineProperty(D,"DiagLogLevel",{enumerable:!0,get:function(){return gF.DiagLogLevel}});var EF=pp();Object.defineProperty(D,"createNoopMeter",{enumerable:!0,get:function(){return EF.createNoopMeter}});var mF=FR();Object.defineProperty(D,"ValueType",{enumerable:!0,get:function(){return mF.ValueType}});var RO=hp();Object.defineProperty(D,"defaultTextMapGetter",{enumerable:!0,get:function(){return RO.defaultTextMapGetter}});Object.defineProperty(D,"defaultTextMapSetter",{enumerable:!0,get:function(){return RO.defaultTextMapSetter}});var SF=Ip();Object.defineProperty(D,"ProxyTracer",{enumerable:!0,get:function(){return SF.ProxyTracer}});var AF=wp();Object.defineProperty(D,"ProxyTracerProvider",{enumerable:!0,get:function(){return AF.ProxyTracerProvider}});var TF=KR();Object.defineProperty(D,"SamplingDecision",{enumerable:!0,get:function(){return TF.SamplingDecision}});var yF=XR();Object.defineProperty(D,"SpanKind",{enumerable:!0,get:function(){return yF.SpanKind}});var RF=zR();Object.defineProperty(D,"SpanStatusCode",{enumerable:!0,get:function(){return RF.SpanStatusCode}});var OF=Sp();Object.defineProperty(D,"TraceFlags",{enumerable:!0,get:function(){return OF.TraceFlags}});var bF=nO();Object.defineProperty(D,"createTraceState",{enumerable:!0,get:function(){return bF.createTraceState}});var qp=Za();Object.defineProperty(D,"isSpanContextValid",{enumerable:!0,get:function(){return qp.isSpanContextValid}});Object.defineProperty(D,"isValidTraceId",{enumerable:!0,get:function(){return qp.isValidTraceId}});Object.defineProperty(D,"isValidSpanId",{enumerable:!0,get:function(){return qp.isValidSpanId}});var Hp=Xa();Object.defineProperty(D,"INVALID_SPANID",{enumerable:!0,get:function(){return Hp.INVALID_SPANID}});Object.defineProperty(D,"INVALID_TRACEID",{enumerable:!0,get:function(){return Hp.INVALID_TRACEID}});Object.defineProperty(D,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Hp.INVALID_SPAN_CONTEXT}});var OO=iO();Object.defineProperty(D,"context",{enumerable:!0,get:function(){return OO.context}});var bO=sO();Object.defineProperty(D,"diag",{enumerable:!0,get:function(){return bO.diag}});var vO=cO();Object.defineProperty(D,"metrics",{enumerable:!0,get:function(){return vO.metrics}});var PO=gO();Object.defineProperty(D,"propagation",{enumerable:!0,get:function(){return PO.propagation}});var CO=TO();Object.defineProperty(D,"trace",{enumerable:!0,get:function(){return CO.trace}});D.default={context:OO.context,diag:bO.diag,metrics:vO.metrics,propagation:PO.propagation,trace:CO.trace}});var qs=c(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.isTracingSuppressed=Tr.unsuppressTracing=Tr.suppressTracing=void 0;var vF=C(),$p=(0,vF.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function PF(e){return e.setValue($p,!0)}Tr.suppressTracing=PF;function CF(e){return e.deleteValue($p)}Tr.unsuppressTracing=CF;function IF(e){return e.getValue($p)===!0}Tr.isTracingSuppressed=IF});var IO=c(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.validateValue=gi.validateKey=void 0;var Vp="[_0-9a-z-*/]",NF=`[a-z]${Vp}{0,255}`,LF=`[a-z0-9]${Vp}{0,240}@[a-z]${Vp}{0,13}`,wF=new RegExp(`^(?:${NF}|${LF})$`),MF=/^[ -~]{0,255}[!-~]$/,DF=/,|=/;function xF(e){return wF.test(e)}gi.validateKey=xF;function BF(e){return MF.test(e)&&!DF.test(e)}gi.validateValue=BF});var Yp=c(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.TraceState=void 0;var NO=IO(),LO=32,UF=512,wO=",",MO="=",Hs=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+MO+this.get(r)),t),[]).join(wO)}_parse(t){t.length>UF||(this._internalState=t.split(wO).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(MO);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,NO.validateKey)(o)&&(0,NO.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>LO&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,LO))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new Hs;return t._internalState=new Map(this._internalState),t}};gu.TraceState=Hs});var Kp=c(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.W3CTraceContextPropagator=Ne.parseTraceParent=Ne.TRACE_STATE_HEADER=Ne.TRACE_PARENT_HEADER=void 0;var Eu=C(),GF=qs(),FF=Yp();Ne.TRACE_PARENT_HEADER="traceparent";Ne.TRACE_STATE_HEADER="tracestate";var jF="00",kF="(?!ff)[\\da-f]{2}",qF="(?![0]{32})[\\da-f]{32}",HF="(?![0]{16})[\\da-f]{16}",$F="[\\da-f]{2}",VF=new RegExp(`^\\s?(${kF})-(${qF})-(${HF})-(${$F})(-.*)?\\s?$`);function DO(e){let t=VF.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ne.parseTraceParent=DO;var Wp=class{inject(t,r,n){let i=Eu.trace.getSpanContext(t);if(!i||(0,GF.isTracingSuppressed)(t)||!(0,Eu.isSpanContextValid)(i))return;let s=`${jF}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||Eu.TraceFlags.NONE).toString(16)}`;n.set(r,Ne.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Ne.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ne.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=DO(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Ne.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new FF.TraceState(typeof u=="string"?u:void 0)}return Eu.trace.setSpanContext(t,o)}fields(){return[Ne.TRACE_PARENT_HEADER,Ne.TRACE_STATE_HEADER]}};Ne.W3CTraceContextPropagator=Wp});var Xp=c(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.BAGGAGE_MAX_TOTAL_LENGTH=Le.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Le.BAGGAGE_MAX_NAME_VALUE_PAIRS=Le.BAGGAGE_HEADER=Le.BAGGAGE_ITEMS_SEPARATOR=Le.BAGGAGE_PROPERTIES_SEPARATOR=Le.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Le.BAGGAGE_KEY_PAIR_SEPARATOR="=";Le.BAGGAGE_PROPERTIES_SEPARATOR=";";Le.BAGGAGE_ITEMS_SEPARATOR=",";Le.BAGGAGE_HEADER="baggage";Le.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Le.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Le.BAGGAGE_MAX_TOTAL_LENGTH=8192});var zp=c(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.parseKeyPairsIntoRecord=Bt.parsePairKeyValue=Bt.getKeyPairs=Bt.serializeKeyPairs=void 0;var YF=C(),zr=Xp();function WF(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?zr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>zr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}Bt.serializeKeyPairs=WF;function KF(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=zr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}Bt.getKeyPairs=KF;function xO(e){let t=e.split(zr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.indexOf(zr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;let i=decodeURIComponent(r.substring(0,n).trim()),s=decodeURIComponent(r.substring(n+1).trim()),o;return t.length>0&&(o=(0,YF.baggageEntryMetadataFromString)(t.join(zr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}Bt.parsePairKeyValue=xO;function XF(e){return typeof e!="string"||e.length===0?{}:e.split(zr.BAGGAGE_ITEMS_SEPARATOR).map(t=>xO(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}Bt.parseKeyPairsIntoRecord=XF});var BO=c(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.W3CBaggagePropagator=void 0;var Qp=C(),zF=qs(),Qr=Xp(),Zp=zp(),Jp=class{inject(t,r,n){let i=Qp.propagation.getBaggage(t);if(!i||(0,zF.isTracingSuppressed)(t))return;let s=(0,Zp.getKeyPairs)(i).filter(a=>a.length<=Qr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Qr.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Zp.serializeKeyPairs)(s);o.length>0&&n.set(r,Qr.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,Qr.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(Qr.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(Qr.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,Zp.parsePairKeyValue)(u);if(l){let d={value:l.value};l.metadata&&(d.metadata=l.metadata),o[l.key]=d}}),Object.entries(o).length===0)?t:Qp.propagation.setBaggage(t,Qp.propagation.createBaggage(o))}fields(){return[Qr.BAGGAGE_HEADER]}};mu.W3CBaggagePropagator=Jp});var UO=c(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.AnchoredClock=void 0;var eh=class{constructor(t,r){this._monotonicClock=r,this._epochMillis=t.now(),this._performanceMillis=r.now()}now(){let t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t}};Su.AnchoredClock=eh});var qO=c(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.isAttributeValue=yr.isAttributeKey=yr.sanitizeAttributes=void 0;var GO=C();function QF(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!FO(r)){GO.diag.warn(`Invalid attribute key: ${r}`);continue}if(!jO(n)){GO.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}yr.sanitizeAttributes=QF;function FO(e){return typeof e=="string"&&e.length>0}yr.isAttributeKey=FO;function jO(e){return e==null?!0:Array.isArray(e)?ZF(e):kO(e)}yr.isAttributeValue=jO;function ZF(e){let t;for(let r of e)if(r!=null){if(!t){if(kO(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function kO(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var th=c(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.loggingErrorHandler=void 0;var JF=C();function ej(){return e=>{JF.diag.error(tj(e))}}Au.loggingErrorHandler=ej;function tj(e){return typeof e=="string"?e:JSON.stringify(rj(e))}function rj(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var rh=c(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.globalErrorHandler=Ei.setGlobalErrorHandler=void 0;var nj=th(),HO=(0,nj.loggingErrorHandler)();function ij(e){HO=e}Ei.setGlobalErrorHandler=ij;function sj(e){try{HO(e)}catch{}}Ei.globalErrorHandler=sj});var nh=c($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.TracesSamplerValues=void 0;var oj;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(oj=$s.TracesSamplerValues||($s.TracesSamplerValues={}))});var $O=c(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu._globalThis=void 0;Tu._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var sh=c(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.getEnvWithoutDefaults=ae.parseEnvironment=ae.DEFAULT_ENVIRONMENT=ae.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=ae.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=ae.DEFAULT_ATTRIBUTE_COUNT_LIMIT=ae.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Rr=C(),aj=nh(),uj=$O(),cj=",",lj=["OTEL_SDK_DISABLED"];function dj(e){return lj.indexOf(e)>-1}var _j=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function fj(e){return _j.indexOf(e)>-1}var pj=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function hj(e){return pj.indexOf(e)>-1}ae.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;ae.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;ae.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;ae.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;ae.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Rr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ae.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:ae.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ae.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ae.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ae.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ae.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:ae.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:ae.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:aj.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function gj(e,t,r){if(typeof r[e]>"u")return;let n=String(r[e]);t[e]=n.toLowerCase()==="true"}function Ej(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function mj(e,t,r,n=cj){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var Sj={ALL:Rr.DiagLogLevel.ALL,VERBOSE:Rr.DiagLogLevel.VERBOSE,DEBUG:Rr.DiagLogLevel.DEBUG,INFO:Rr.DiagLogLevel.INFO,WARN:Rr.DiagLogLevel.WARN,ERROR:Rr.DiagLogLevel.ERROR,NONE:Rr.DiagLogLevel.NONE};function Aj(e,t,r){let n=r[e];if(typeof n=="string"){let i=Sj[n.toUpperCase()];i!=null&&(t[e]=i)}}function ih(e){let t={};for(let r in ae.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":Aj(n,t,e);break;default:if(dj(n))gj(n,t,e);else if(fj(n))Ej(n,t,e);else if(hj(n))mj(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}ae.parseEnvironment=ih;function Tj(){return typeof process<"u"&&process&&process.env?ih(process.env):ih(uj._globalThis)}ae.getEnvWithoutDefaults=Tj});var YO=c(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.getEnv=void 0;var VO=sh();function yj(){let e=(0,VO.parseEnvironment)(process.env);return Object.assign({},VO.DEFAULT_ENVIRONMENT,e)}yu.getEnv=yj});var WO=c(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru._globalThis=void 0;Ru._globalThis=typeof globalThis=="object"?globalThis:global});var oh=c(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.hexToBinary=void 0;function KO(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function Rj(e){let t=new Uint8Array(e.length/2),r=0;for(let n=0;n<e.length;n+=2){let i=KO(e.charCodeAt(n)),s=KO(e.charCodeAt(n+1));t[r++]=i<<4|s}return t}Ou.hexToBinary=Rj});var XO=c(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.hexToBase64=void 0;var Oj=oh();function bj(e){return Buffer.from((0,Oj.hexToBinary)(e)).toString("base64")}bu.hexToBase64=bj});var ZO=c(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.RandomIdGenerator=void 0;var vj=8,QO=16,ah=class{constructor(){this.generateTraceId=zO(QO),this.generateSpanId=zO(vj)}};Pu.RandomIdGenerator=ah;var vu=Buffer.allocUnsafe(QO);function zO(e){return function(){for(let r=0;r<e/4;r++)vu.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(vu[r]>0);r++)r===e-1&&(vu[e-1]=1);return vu.toString("hex",0,e)}}});var JO=c(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.otperformance=void 0;var Pj=O("perf_hooks");Cu.otperformance=Pj.performance});var uh=c(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.VERSION=void 0;Iu.VERSION="1.21.0"});var eb=c(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.MessageTypeValues=Z.RpcGrpcStatusCodeValues=Z.MessagingOperationValues=Z.MessagingDestinationKindValues=Z.HttpFlavorValues=Z.NetHostConnectionSubtypeValues=Z.NetHostConnectionTypeValues=Z.NetTransportValues=Z.FaasInvokedProviderValues=Z.FaasDocumentOperationValues=Z.FaasTriggerValues=Z.DbCassandraConsistencyLevelValues=Z.DbSystemValues=Z.SemanticAttributes=void 0;Z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};Z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};Z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};Z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};Z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};Z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};Z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};Z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};Z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};Z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};Z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};Z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};Z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var tb=c(Zr=>{"use strict";var Cj=Zr&&Zr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ij=Zr&&Zr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Cj(t,e,r)};Object.defineProperty(Zr,"__esModule",{value:!0});Ij(eb(),Zr)});var rb=c(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.TelemetrySdkLanguageValues=we.OsTypeValues=we.HostArchValues=we.AwsEcsLaunchtypeValues=we.CloudPlatformValues=we.CloudProviderValues=we.SemanticResourceAttributes=void 0;we.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};we.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};we.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};we.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};we.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};we.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};we.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var nb=c(Jr=>{"use strict";var Nj=Jr&&Jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lj=Jr&&Jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Nj(t,e,r)};Object.defineProperty(Jr,"__esModule",{value:!0});Lj(rb(),Jr)});var Ut=c(Or=>{"use strict";var wj=Or&&Or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ib=Or&&Or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wj(t,e,r)};Object.defineProperty(Or,"__esModule",{value:!0});ib(tb(),Or);ib(nb(),Or)});var sb=c(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.SDK_INFO=void 0;var Mj=uh(),Vs=Ut();Nu.SDK_INFO={[Vs.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Vs.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Vs.TelemetrySdkLanguageValues.NODEJS,[Vs.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Mj.VERSION}});var ob=c(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.unrefTimer=void 0;function Dj(e){e.unref()}Lu.unrefTimer=Dj});var ab=c(rt=>{"use strict";var xj=rt&&rt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),en=rt&&rt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xj(t,e,r)};Object.defineProperty(rt,"__esModule",{value:!0});en(YO(),rt);en(WO(),rt);en(XO(),rt);en(ZO(),rt);en(JO(),rt);en(sb(),rt);en(ob(),rt)});var ch=c(tn=>{"use strict";var Bj=tn&&tn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Uj=tn&&tn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Bj(t,e,r)};Object.defineProperty(tn,"__esModule",{value:!0});Uj(ab(),tn)});var db=c(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.addHrTimes=ie.isTimeInput=ie.isTimeInputHrTime=ie.hrTimeToMicroseconds=ie.hrTimeToMilliseconds=ie.hrTimeToNanoseconds=ie.hrTimeToTimeStamp=ie.hrTimeDuration=ie.timeInputToHrTime=ie.hrTime=ie.getTimeOrigin=ie.millisToHrTime=void 0;var lh=ch(),ub=9,Gj=6,Fj=Math.pow(10,Gj),wu=Math.pow(10,ub);function Ys(e){let t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*Fj);return[r,n]}ie.millisToHrTime=Ys;function dh(){let e=lh.otperformance.timeOrigin;if(typeof e!="number"){let t=lh.otperformance;e=t.timing&&t.timing.fetchStart}return e}ie.getTimeOrigin=dh;function cb(e){let t=Ys(dh()),r=Ys(typeof e=="number"?e:lh.otperformance.now());return lb(t,r)}ie.hrTime=cb;function jj(e){if(_h(e))return e;if(typeof e=="number")return e<dh()?cb(e):Ys(e);if(e instanceof Date)return Ys(e.getTime());throw TypeError("Invalid input type")}ie.timeInputToHrTime=jj;function kj(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=wu),[r,n]}ie.hrTimeDuration=kj;function qj(e){let t=ub,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}ie.hrTimeToTimeStamp=qj;function Hj(e){return e[0]*wu+e[1]}ie.hrTimeToNanoseconds=Hj;function $j(e){return e[0]*1e3+e[1]/1e6}ie.hrTimeToMilliseconds=$j;function Vj(e){return e[0]*1e6+e[1]/1e3}ie.hrTimeToMicroseconds=Vj;function _h(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}ie.isTimeInputHrTime=_h;function Yj(e){return _h(e)||typeof e=="number"||e instanceof Date}ie.isTimeInput=Yj;function lb(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=wu&&(r[1]-=wu,r[0]+=1),r}ie.addHrTimes=lb});var fb=c(_b=>{"use strict";Object.defineProperty(_b,"__esModule",{value:!0})});var pb=c(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.ExportResultCode=void 0;var Wj;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Wj=Ws.ExportResultCode||(Ws.ExportResultCode={}))});var gb=c(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.CompositePropagator=void 0;var hb=C(),fh=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){hb.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){hb.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};Mu.CompositePropagator=fh});var mb=c(Eb=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0})});var Sb=c(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.getRPCMetadata=ht.deleteRPCMetadata=ht.setRPCMetadata=ht.RPCType=void 0;var Kj=C(),ph=(0,Kj.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),Xj;(function(e){e.HTTP="http"})(Xj=ht.RPCType||(ht.RPCType={}));function zj(e,t){return e.setValue(ph,t)}ht.setRPCMetadata=zj;function Qj(e){return e.deleteValue(ph)}ht.deleteRPCMetadata=Qj;function Zj(e){return e.getValue(ph)}ht.getRPCMetadata=Zj});var gh=c(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.AlwaysOffSampler=void 0;var Jj=C(),hh=class{shouldSample(){return{decision:Jj.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Du.AlwaysOffSampler=hh});var mh=c(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.AlwaysOnSampler=void 0;var ek=C(),Eh=class{shouldSample(){return{decision:ek.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};xu.AlwaysOnSampler=Eh});var Tb=c(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.ParentBasedSampler=void 0;var Bu=C(),tk=rh(),Ab=gh(),Sh=mh(),Ah=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,tk.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Sh.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Sh.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Ab.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Sh.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new Ab.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=Bu.trace.getSpanContext(t);return!a||!(0,Bu.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&Bu.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&Bu.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Uu.ParentBasedSampler=Ah});var yb=c(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.TraceIdRatioBasedSampler=void 0;var Th=C(),yh=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,Th.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?Th.SamplingDecision.RECORD_AND_SAMPLED:Th.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};Gu.TraceIdRatioBasedSampler=yh});var Pb=c(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.isPlainObject=void 0;var rk="[object Object]",nk="[object Null]",ik="[object Undefined]",sk=Function.prototype,Rb=sk.toString,ok=Rb.call(Object),ak=uk(Object.getPrototypeOf,Object),Ob=Object.prototype,bb=Ob.hasOwnProperty,rn=Symbol?Symbol.toStringTag:void 0,vb=Ob.toString;function uk(e,t){return function(r){return e(t(r))}}function ck(e){if(!lk(e)||dk(e)!==rk)return!1;let t=ak(e);if(t===null)return!0;let r=bb.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Rb.call(r)===ok}Fu.isPlainObject=ck;function lk(e){return e!=null&&typeof e=="object"}function dk(e){return e==null?e===void 0?ik:nk:rn&&rn in Object(e)?_k(e):fk(e)}function _k(e){let t=bb.call(e,rn),r=e[rn],n=!1;try{e[rn]=void 0,n=!0}catch{}let i=vb.call(e);return n&&(t?e[rn]=r:delete e[rn]),i}function fk(e){return vb.call(e)}});var wb=c(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.merge=void 0;var Cb=Pb(),pk=20;function hk(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=Nb(t,e.shift(),0,r);return t}qu.merge=hk;function Rh(e){return ku(e)?e.slice():e}function Nb(e,t,r=0,n){let i;if(!(r>pk)){if(r++,ju(e)||ju(t)||Lb(t))i=Rh(t);else if(ku(e)){if(i=e.slice(),ku(t))for(let s=0,o=t.length;s<o;s++)i.push(Rh(t[s]));else if(Ks(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=Rh(t[u])}}}else if(Ks(e))if(Ks(t)){if(!gk(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(ju(l))typeof l>"u"?delete i[u]:i[u]=l;else{let d=i[u],_=l;if(Ib(e,u,n)||Ib(t,u,n))delete i[u];else{if(Ks(d)&&Ks(_)){let f=n.get(d)||[],p=n.get(_)||[];f.push({obj:e,key:u}),p.push({obj:t,key:u}),n.set(d,f),n.set(_,p)}i[u]=Nb(i[u],l,r,n)}}}}else i=t;return i}}function Ib(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function ku(e){return Array.isArray(e)}function Lb(e){return typeof e=="function"}function Ks(e){return!ju(e)&&!ku(e)&&!Lb(e)&&typeof e=="object"}function ju(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function gk(e,t){return!(!(0,Cb.isPlainObject)(e)||!(0,Cb.isPlainObject)(t))}});var Mb=c(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.callWithTimeout=Si.TimeoutError=void 0;var mi=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,mi.prototype)}};Si.TimeoutError=mi;function Ek(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new mi("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}Si.callWithTimeout=Ek});var xb=c(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.isUrlIgnored=Ai.urlMatches=void 0;function Db(e,t){return typeof t=="string"?e===t:!!e.match(t)}Ai.urlMatches=Db;function mk(e,t){if(!t)return!1;for(let r of t)if(Db(e,r))return!0;return!1}Ai.isUrlIgnored=mk});var Bb=c(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.isWrapped=void 0;function Sk(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}Hu.isWrapped=Sk});var Ub=c($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.Deferred=void 0;var Oh=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};$u.Deferred=Oh});var Gb=c(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.BindOnceFuture=void 0;var Ak=Ub(),bh=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new Ak.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Vu.BindOnceFuture=bh});var jb=c(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu._export=void 0;var Fb=C(),Tk=qs();function yk(e,t){return new Promise(r=>{Fb.context.with((0,Tk.suppressTracing)(Fb.context.active()),()=>{e.export(t,n=>{r(n)})})})}Yu._export=yk});var Ke=c(V=>{"use strict";var Rk=V&&V.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),te=V&&V.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rk(t,e,r)};Object.defineProperty(V,"__esModule",{value:!0});V.internal=V.baggageUtils=void 0;te(BO(),V);te(UO(),V);te(qO(),V);te(rh(),V);te(th(),V);te(db(),V);te(fb(),V);te(oh(),V);te(pb(),V);V.baggageUtils=zp();te(ch(),V);te(gb(),V);te(Kp(),V);te(mb(),V);te(Sb(),V);te(gh(),V);te(mh(),V);te(Tb(),V);te(yb(),V);te(qs(),V);te(Yp(),V);te(sh(),V);te(wb(),V);te(nh(),V);te(Mb(),V);te(xb(),V);te(Bb(),V);te(Gb(),V);te(uh(),V);var Ok=jb();V.internal={_export:Ok._export}});var kb=c(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.ExceptionEventName=void 0;Wu.ExceptionEventName="exception"});var Ph=c(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.Span=void 0;var gt=C(),Me=Ke(),nn=Ut(),bk=kb(),vh=class{constructor(t,r,n,i,s,o,a=[],u,l,d){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:gt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=o,this.kind=s,this.links=a;let _=Date.now();this._performanceStartTime=Me.otperformance.now(),this._performanceOffset=_-(this._performanceStartTime+(0,Me.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u??_),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0,d!=null&&this.setAttributes(d),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r)}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(gt.diag.warn(`Invalid attribute key: ${t}`),this):(0,Me.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),this):(gt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return gt.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(this._droppedEventsCount===0&&gt.diag.debug("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Me.isTimeInput)(r)&&((0,Me.isTimeInput)(n)||(n=r),r=void 0);let i=(0,Me.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:this._getTime(n),droppedAttributesCount:0}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t){if(this._isSpanEnded()){gt.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(t),this._duration=(0,Me.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(gt.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._droppedEventsCount>0&&gt.diag.warn(`Dropped ${this._droppedEventsCount} events because eventCountLimit reached`),this._spanProcessor.onEnd(this)}_getTime(t){if(typeof t=="number"&&t<Me.otperformance.now())return(0,Me.hrTime)(t+this._performanceOffset);if(typeof t=="number")return(0,Me.millisToHrTime)(t);if(t instanceof Date)return(0,Me.millisToHrTime)(t.getTime());if((0,Me.isTimeInputHrTime)(t))return t;if(this._startTimeProvided)return(0,Me.millisToHrTime)(Date.now());let r=Me.otperformance.now()-this._performanceStartTime;return(0,Me.addHrTimes)(this.startTime,(0,Me.millisToHrTime)(r))}isRecording(){return this._ended===!1}recordException(t,r){let n={};typeof t=="string"?n[nn.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[nn.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[nn.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[nn.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[nn.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[nn.SemanticAttributes.EXCEPTION_TYPE]||n[nn.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(bk.ExceptionEventName,n,r):gt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&gt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(gt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Ku.Span=vh});var zs=c(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.SamplingDecision=void 0;var vk;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(vk=Xs.SamplingDecision||(Xs.SamplingDecision={}))});var zu=c(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.AlwaysOffSampler=void 0;var Pk=zs(),Ch=class{shouldSample(){return{decision:Pk.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Xu.AlwaysOffSampler=Ch});var Zu=c(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.AlwaysOnSampler=void 0;var Ck=zs(),Ih=class{shouldSample(){return{decision:Ck.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Qu.AlwaysOnSampler=Ih});var wh=c(ec=>{"use strict";Object.defineProperty(ec,"__esModule",{value:!0});ec.ParentBasedSampler=void 0;var Ju=C(),Ik=Ke(),qb=zu(),Nh=Zu(),Lh=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,Ik.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Nh.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Nh.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new qb.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Nh.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new qb.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=Ju.trace.getSpanContext(t);return!a||!(0,Ju.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&Ju.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&Ju.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};ec.ParentBasedSampler=Lh});var Dh=c(tc=>{"use strict";Object.defineProperty(tc,"__esModule",{value:!0});tc.TraceIdRatioBasedSampler=void 0;var Nk=C(),Hb=zs(),Mh=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,Nk.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?Hb.SamplingDecision.RECORD_AND_SAMPLED:Hb.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};tc.TraceIdRatioBasedSampler=Mh});var Uh=c(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.buildSamplerFromEnv=yi.loadDefaultConfig=void 0;var rc=C(),Re=Ke(),$b=zu(),xh=Zu(),Bh=wh(),Vb=Dh(),Lk=(0,Re.getEnv)(),wk=Re.TracesSamplerValues.AlwaysOn,Ti=1;function Mk(){return{sampler:Wb(Lk),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,Re.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Re.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,Re.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,Re.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,Re.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,Re.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,Re.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,Re.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}yi.loadDefaultConfig=Mk;function Wb(e=(0,Re.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case Re.TracesSamplerValues.AlwaysOn:return new xh.AlwaysOnSampler;case Re.TracesSamplerValues.AlwaysOff:return new $b.AlwaysOffSampler;case Re.TracesSamplerValues.ParentBasedAlwaysOn:return new Bh.ParentBasedSampler({root:new xh.AlwaysOnSampler});case Re.TracesSamplerValues.ParentBasedAlwaysOff:return new Bh.ParentBasedSampler({root:new $b.AlwaysOffSampler});case Re.TracesSamplerValues.TraceIdRatio:return new Vb.TraceIdRatioBasedSampler(Yb(e));case Re.TracesSamplerValues.ParentBasedTraceIdRatio:return new Bh.ParentBasedSampler({root:new Vb.TraceIdRatioBasedSampler(Yb(e))});default:return rc.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${wk}".`),new xh.AlwaysOnSampler}}yi.buildSamplerFromEnv=Wb;function Yb(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return rc.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Ti}.`),Ti;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(rc.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Ti}.`),Ti):t<0||t>1?(rc.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Ti}.`),Ti):t}});var Fh=c(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.reconfigureLimits=Ri.mergeConfig=void 0;var Kb=Uh(),Gh=Ke();function Dk(e){let t={sampler:(0,Kb.buildSamplerFromEnv)()},r=(0,Kb.loadDefaultConfig)(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}Ri.mergeConfig=Dk;function xk(e){var t,r,n,i,s,o,a,u,l,d,_,f;let p=Object.assign({},e.spanLimits),h=(0,Gh.getEnvWithoutDefaults)();return p.attributeCountLimit=(o=(s=(i=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&i!==void 0?i:h.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:h.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:Gh.DEFAULT_ATTRIBUTE_COUNT_LIMIT,p.attributeValueLengthLimit=(f=(_=(d=(u=(a=e.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(l=e.generalLimits)===null||l===void 0?void 0:l.attributeValueLengthLimit)!==null&&d!==void 0?d:h.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&_!==void 0?_:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:Gh.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:p})}Ri.reconfigureLimits=xk});var Xb=c(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.BatchSpanProcessorBase=void 0;var Oi=C(),sn=Ke(),jh=class{constructor(t,r){this._exporter=t,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let n=(0,sn.getEnv)();this._maxExportBatchSize=typeof r?.maxExportBatchSize=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof r?.maxQueueSize=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof r?.scheduledDelayMillis=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof r?.exportTimeoutMillis=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new sn.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Oi.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Oi.TraceFlags.SAMPLED)!==0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&Oi.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(Oi.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let s=0,o=i;s<o;s++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Oi.context.with((0,sn.suppressTracing)(Oi.context.active()),()=>{let i=this._finishedSpans.splice(0,this._maxExportBatchSize),s=()=>this._exporter.export(i,a=>{var u;clearTimeout(n),a.code===sn.ExportResultCode.SUCCESS?t():r((u=a.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),o=i.map(a=>a.resource).filter(a=>a.asyncAttributesPending);o.length===0?s():Promise.all(o.map(a=>{var u;return(u=a.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(a)})).then(s,a=>{(0,sn.globalErrorHandler)(a),r(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let t=()=>{this._isExporting=!0,this._flushOneBatch().finally(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(r=>{this._isExporting=!1,(0,sn.globalErrorHandler)(r)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return t();this._timer===void 0&&(this._timer=setTimeout(()=>t(),this._scheduledDelayMillis),(0,sn.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};nc.BatchSpanProcessorBase=jh});var zb=c(ic=>{"use strict";Object.defineProperty(ic,"__esModule",{value:!0});ic.BatchSpanProcessor=void 0;var Bk=Xb(),kh=class extends Bk.BatchSpanProcessorBase{onShutdown(){}};ic.BatchSpanProcessor=kh});var Jb=c(oc=>{"use strict";Object.defineProperty(oc,"__esModule",{value:!0});oc.RandomIdGenerator=void 0;var Uk=8,Zb=16,qh=class{constructor(){this.generateTraceId=Qb(Zb),this.generateSpanId=Qb(Uk)}};oc.RandomIdGenerator=qh;var sc=Buffer.allocUnsafe(Zb);function Qb(e){return function(){for(let r=0;r<e/4;r++)sc.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(sc[r]>0);r++)r===e-1&&(sc[e-1]=1);return sc.toString("hex",0,e)}}});var t0=c(br=>{"use strict";var Gk=br&&br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),e0=br&&br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Gk(t,e,r)};Object.defineProperty(br,"__esModule",{value:!0});e0(zb(),br);e0(Jb(),br)});var ac=c(on=>{"use strict";var Fk=on&&on.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jk=on&&on.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fk(t,e,r)};Object.defineProperty(on,"__esModule",{value:!0});jk(t0(),on)});var r0=c(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.Tracer=void 0;var Oe=C(),uc=Ke(),kk=Ph(),qk=Fh(),Hk=ac(),Hh=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,qk.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Hk.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Oe.context.active()){var i,s,o;r.root&&(n=Oe.trace.deleteSpan(n));let a=Oe.trace.getSpan(n);if((0,uc.isTracingSuppressed)(n))return Oe.diag.debug("Instrumentation suppressed, returning Noop Span"),Oe.trace.wrapSpanContext(Oe.INVALID_SPAN_CONTEXT);let u=a?.spanContext(),l=this._idGenerator.generateSpanId(),d,_,f;!u||!Oe.trace.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,_=u.traceState,f=u.spanId);let p=(i=r.kind)!==null&&i!==void 0?i:Oe.SpanKind.INTERNAL,h=((s=r.links)!==null&&s!==void 0?s:[]).map(b=>({context:b.context,attributes:(0,uc.sanitizeAttributes)(b.attributes)})),g=(0,uc.sanitizeAttributes)(r.attributes),A=this._sampler.shouldSample(n,d,t,p,g,h);_=(o=A.traceState)!==null&&o!==void 0?o:_;let y=A.decision===Oe.SamplingDecision.RECORD_AND_SAMPLED?Oe.TraceFlags.SAMPLED:Oe.TraceFlags.NONE,T={traceId:d,spanId:l,traceFlags:y,traceState:_};if(A.decision===Oe.SamplingDecision.NOT_RECORD)return Oe.diag.debug("Recording is off, propagating context in a non-recording span"),Oe.trace.wrapSpanContext(T);let R=(0,uc.sanitizeAttributes)(Object.assign(g,A.attributes));return new kk.Span(this,n,t,T,p,f,h,r.startTime,void 0,R)}startActiveSpan(t,r,n,i){let s,o,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(s=r,a=n):(s=r,o=n,a=i);let u=o??Oe.context.active(),l=this.startSpan(t,s,u),d=Oe.trace.setSpan(u,l);return Oe.context.with(d,a,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};cc.Tracer=Hh});var n0=c(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});lc.defaultServiceName=void 0;function $k(){return`unknown_service:${process.argv0}`}lc.defaultServiceName=$k});var $h=c(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.normalizeType=bi.normalizeArch=void 0;var Vk=e=>{switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}};bi.normalizeArch=Vk;var Yk=e=>{switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}};bi.normalizeType=Yk});var _c=c(dc=>{"use strict";Object.defineProperty(dc,"__esModule",{value:!0});dc.execAsync=void 0;var Wk=O("child_process"),Kk=O("util");dc.execAsync=Kk.promisify(Wk.exec)});var i0=c(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.getMachineId=void 0;var Xk=_c(),zk=C();async function Qk(){try{let t=(await(0,Xk.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!t)return"";let r=t.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(e){zk.diag.debug(`error reading machine id: ${e}`)}return""}fc.getMachineId=Qk});var s0=c(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.getMachineId=void 0;var Zk=O("fs"),Jk=C();async function eq(){let e=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let t of e)try{return(await Zk.promises.readFile(t,{encoding:"utf8"})).trim()}catch(r){Jk.diag.debug(`error reading machine id: ${r}`)}return""}pc.getMachineId=eq});var a0=c(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.getMachineId=void 0;var tq=O("fs"),rq=_c(),o0=C();async function nq(){try{return(await tq.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(e){o0.diag.debug(`error reading machine id: ${e}`)}try{return(await(0,rq.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(e){o0.diag.debug(`error reading machine id: ${e}`)}return""}hc.getMachineId=nq});var c0=c(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.getMachineId=void 0;var u0=O("process"),iq=_c(),sq=C();async function oq(){let e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe";u0.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in u0.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t);try{let n=(await(0,iq.execAsync)(`${t} ${e}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(r){sq.diag.debug(`error reading machine id: ${r}`)}return""}gc.getMachineId=oq});var l0=c(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.getMachineId=void 0;var aq=C();async function uq(){return aq.diag.debug("could not read machine-id: unsupported platform"),""}Ec.getMachineId=uq});var d0=c(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.getMachineId=void 0;var cq=O("process"),vi;rr.getMachineId=vi;switch(cq.platform){case"darwin":rr.getMachineId=vi=i0().getMachineId;break;case"linux":rr.getMachineId=vi=s0().getMachineId;break;case"freebsd":rr.getMachineId=vi=a0().getMachineId;break;case"win32":rr.getMachineId=vi=c0().getMachineId;break;default:rr.getMachineId=vi=l0().getMachineId}});var Wh=c(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.hostDetectorSync=void 0;var Vh=Ut(),lq=an(),_0=O("os"),dq=$h(),_q=d0(),Yh=class{detect(t){let r={[Vh.SemanticResourceAttributes.HOST_NAME]:(0,_0.hostname)(),[Vh.SemanticResourceAttributes.HOST_ARCH]:(0,dq.normalizeArch)((0,_0.arch)())};return new lq.Resource(r,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,_q.getMachineId)().then(t=>{let r={};return t&&(r[Vh.SemanticResourceAttributes.HOST_ID]=t),r})}};mc.hostDetectorSync=new Yh});var f0=c(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.hostDetector=void 0;var fq=Wh(),Kh=class{detect(t){return Promise.resolve(fq.hostDetectorSync.detect(t))}};Sc.hostDetector=new Kh});var zh=c(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.osDetectorSync=void 0;var p0=Ut(),pq=an(),h0=O("os"),hq=$h(),Xh=class{detect(t){let r={[p0.SemanticResourceAttributes.OS_TYPE]:(0,hq.normalizeType)((0,h0.platform)()),[p0.SemanticResourceAttributes.OS_VERSION]:(0,h0.release)()};return new pq.Resource(r)}};Ac.osDetectorSync=new Xh});var g0=c(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.osDetector=void 0;var gq=zh(),Qh=class{detect(t){return Promise.resolve(gq.osDetectorSync.detect(t))}};Tc.osDetector=new Qh});var Jh=c(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.processDetectorSync=void 0;var Eq=C(),nr=Ut(),mq=an(),Sq=O("os"),Zh=class{detect(t){let r={[nr.SemanticResourceAttributes.PROCESS_PID]:process.pid,[nr.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[nr.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[nr.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[nr.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[nr.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[nr.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(r[nr.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let n=Sq.userInfo();r[nr.SemanticResourceAttributes.PROCESS_OWNER]=n.username}catch(n){Eq.diag.debug(`error obtaining process owner: ${n}`)}return new mq.Resource(r)}};yc.processDetectorSync=new Zh});var E0=c(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.processDetector=void 0;var Aq=Jh(),eg=class{detect(t){return Promise.resolve(Aq.processDetectorSync.detect(t))}};Rc.processDetector=new eg});var m0=c(nt=>{"use strict";var Tq=nt&&nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),un=nt&&nt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tq(t,e,r)};Object.defineProperty(nt,"__esModule",{value:!0});un(n0(),nt);un(f0(),nt);un(g0(),nt);un(Wh(),nt);un(zh(),nt);un(E0(),nt);un(Jh(),nt)});var tg=c(cn=>{"use strict";var yq=cn&&cn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rq=cn&&cn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yq(t,e,r)};Object.defineProperty(cn,"__esModule",{value:!0});Rq(m0(),cn)});var an=c(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Resource=void 0;var S0=C(),ln=Ut(),rg=Ke(),Oq=tg(),Gt=class{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=r?.then(i=>(this._attributes=Object.assign({},this._attributes,i),this.asyncAttributesPending=!1,i),i=>(S0.diag.debug("a resource's async attributes promise rejected: %s",i),this.asyncAttributesPending=!1,{}))}static empty(){return Gt.EMPTY}static default(){return new Gt({[ln.SemanticResourceAttributes.SERVICE_NAME]:(0,Oq.defaultServiceName)(),[ln.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:rg.SDK_INFO[ln.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[ln.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:rg.SDK_INFO[ln.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[ln.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:rg.SDK_INFO[ln.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var t;return this.asyncAttributesPending&&S0.diag.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(t){var r;if(!t)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new Gt(n);let i=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(([s,o])=>{var a;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),s),(a=t._syncAttributes)!==null&&a!==void 0?a:t.attributes),o)});return new Gt(n,i)}};Oc.Resource=Gt;Gt.EMPTY=new Gt({})});var T0=c(A0=>{"use strict";Object.defineProperty(A0,"__esModule",{value:!0})});var R0=c(y0=>{"use strict";Object.defineProperty(y0,"__esModule",{value:!0})});var b0=c(O0=>{"use strict";Object.defineProperty(O0,"__esModule",{value:!0})});var v0=c(bc=>{"use strict";Object.defineProperty(bc,"__esModule",{value:!0});bc.browserDetector=void 0;var bq=Qs(),ng=class{detect(t){return Promise.resolve(bq.browserDetectorSync.detect(t))}};bc.browserDetector=new ng});var sg=c(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.envDetectorSync=void 0;var vq=C(),Pq=Ke(),Cq=Ut(),Iq=an(),ig=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(t){let r={},n=(0,Pq.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){vq.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[Cq.SemanticResourceAttributes.SERVICE_NAME]=s),new Iq.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=decodeURIComponent(a)}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)}_isBaggageOctetString(t){for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};vc.envDetectorSync=new ig});var P0=c(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.envDetector=void 0;var Nq=sg(),og=class{detect(t){return Promise.resolve(Nq.envDetectorSync.detect(t))}};Pc.envDetector=new og});var C0=c(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.browserDetectorSync=void 0;var Cc=Ut(),ag=Qs(),Lq=C(),ug=class{detect(t){if(!(typeof navigator<"u"))return ag.Resource.empty();let n={[Cc.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Cc.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Cc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Cc.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Lq.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),ag.Resource.empty()):new ag.Resource(Object.assign({},t))}};Ic.browserDetectorSync=new ug});var I0=c(Ft=>{"use strict";var wq=Ft&&Ft.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Nc=Ft&&Ft.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wq(t,e,r)};Object.defineProperty(Ft,"__esModule",{value:!0});Nc(v0(),Ft);Nc(P0(),Ft);Nc(C0(),Ft);Nc(sg(),Ft)});var N0=c(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.isPromiseLike=void 0;var Mq=e=>e!==null&&typeof e=="object"&&typeof e.then=="function";Lc.isPromiseLike=Mq});var w0=c(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.detectResourcesSync=Ci.detectResources=void 0;var Zs=an(),Pi=C(),Dq=N0(),xq=async(e={})=>{let t=await Promise.all((e.detectors||[]).map(async r=>{try{let n=await r.detect(e);return Pi.diag.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return Pi.diag.debug(`${r.constructor.name} failed: ${n.message}`),Zs.Resource.empty()}}));return L0(t),t.reduce((r,n)=>r.merge(n),Zs.Resource.empty())};Ci.detectResources=xq;var Bq=(e={})=>{var t;let r=((t=e.detectors)!==null&&t!==void 0?t:[]).map(i=>{try{let s=i.detect(e),o;if((0,Dq.isPromiseLike)(s)){let a=async()=>(await s).attributes;o=new Zs.Resource({},a())}else o=s;return o.waitForAsyncAttributes?o.waitForAsyncAttributes().then(()=>Pi.diag.debug(`${i.constructor.name} found resource.`,o)):Pi.diag.debug(`${i.constructor.name} found resource.`,o),o}catch(s){return Pi.diag.error(`${i.constructor.name} failed: ${s.message}`),Zs.Resource.empty()}}),n=r.reduce((i,s)=>i.merge(s),Zs.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{L0(r)}),n};Ci.detectResourcesSync=Bq;var L0=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=JSON.stringify(t.attributes,null,4);Pi.diag.verbose(r)}})}});var Qs=c(it=>{"use strict";var Uq=it&&it.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dn=it&&it.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uq(t,e,r)};Object.defineProperty(it,"__esModule",{value:!0});dn(an(),it);dn(T0(),it);dn(tg(),it);dn(R0(),it);dn(b0(),it);dn(I0(),it);dn(w0(),it)});var M0=c(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.MultiSpanProcessor=void 0;var Gq=Ke(),cg=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,Gq.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};wc.MultiSpanProcessor=cg});var dg=c(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.NoopSpanProcessor=void 0;var lg=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};Mc.NoopSpanProcessor=lg});var x0=c(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.BasicTracerProvider=_n.ForceFlushState=void 0;var Ii=C(),Li=Ke(),D0=Qs(),Fq=Dc(),jq=Uh(),kq=M0(),qq=dg(),Hq=ac(),$q=Fh(),Ni;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Ni=_n.ForceFlushState||(_n.ForceFlushState={}));var Js=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,Li.merge)({},(0,jq.loadDefaultConfig)(),(0,$q.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:D0.Resource.empty(),this.resource=D0.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let s=new Hq.BatchSpanProcessor(i);this.activeSpanProcessor=s}else this.activeSpanProcessor=new qq.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${n?.schemaUrl||""}`;return this._tracers.has(i)||this._tracers.set(i,new Fq.Tracer({name:t,version:r,schemaUrl:n?.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>Ii.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new kq.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){Ii.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&Ii.context.setGlobalContextManager(t.contextManager),t.propagator&&Ii.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let s,o=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),s=Ni.timeout},t);n.forceFlush().then(()=>{clearTimeout(o),s!==Ni.timeout&&(s=Ni.resolved,i(s))}).catch(a=>{clearTimeout(o),s=Ni.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(s=>{let o=s.filter(a=>a!==Ni.resolved);o.length>0?i(o):n()}).catch(s=>i([s]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=this.constructor._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=this.constructor._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,Li.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let s=this._getPropagator(i);return s||Ii.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),s}).reduce((i,s)=>(s&&i.push(s),i),[]);if(n.length!==0)return t.length===1?n[0]:new Li.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,Li.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none"||t==="")return;let r=this._getSpanExporter(t);return r||Ii.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};_n.BasicTracerProvider=Js;Js._registeredPropagators=new Map([["tracecontext",()=>new Li.W3CTraceContextPropagator],["baggage",()=>new Li.W3CBaggagePropagator]]);Js._registeredExporters=new Map});var B0=c(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.ConsoleSpanExporter=void 0;var _g=Ke(),fg=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(t){var r;return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(r=t.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,_g.hrTimeToMicroseconds)(t.startTime),duration:(0,_g.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:_g.ExportResultCode.SUCCESS})}};xc.ConsoleSpanExporter=fg});var G0=c(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.InMemorySpanExporter=void 0;var U0=Ke(),pg=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:U0.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:U0.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};Bc.InMemorySpanExporter=pg});var j0=c(F0=>{"use strict";Object.defineProperty(F0,"__esModule",{value:!0})});var k0=c(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.SimpleSpanProcessor=void 0;var Vq=C(),wi=Ke(),hg=class{constructor(t){this._exporter=t,this._shutdownOnce=new wi.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(t,r){}onEnd(t){var r,n;if(this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Vq.TraceFlags.SAMPLED)===0)return;let i=()=>wi.internal._export(this._exporter,[t]).then(s=>{var o;s.code!==wi.ExportResultCode.SUCCESS&&(0,wi.globalErrorHandler)((o=s.error)!==null&&o!==void 0?o:new Error(`SimpleSpanProcessor: span export failed (status ${s})`))}).catch(s=>{(0,wi.globalErrorHandler)(s)});if(t.resource.asyncAttributesPending){let s=(n=(r=t.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(r).then(()=>(s!=null&&this._unresolvedExports.delete(s),i()),o=>(0,wi.globalErrorHandler)(o));s!=null&&this._unresolvedExports.add(s)}else i()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};Uc.SimpleSpanProcessor=hg});var H0=c(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0})});var V0=c($0=>{"use strict";Object.defineProperty($0,"__esModule",{value:!0})});var W0=c(Y0=>{"use strict";Object.defineProperty(Y0,"__esModule",{value:!0})});var X0=c(K0=>{"use strict";Object.defineProperty(K0,"__esModule",{value:!0})});var Q0=c(z0=>{"use strict";Object.defineProperty(z0,"__esModule",{value:!0})});var Dc=c(ue=>{"use strict";var Yq=ue&&ue.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Te=ue&&ue.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Yq(t,e,r)};Object.defineProperty(ue,"__esModule",{value:!0});Te(r0(),ue);Te(x0(),ue);Te(ac(),ue);Te(B0(),ue);Te(G0(),ue);Te(j0(),ue);Te(k0(),ue);Te(H0(),ue);Te(dg(),ue);Te(zu(),ue);Te(Zu(),ue);Te(wh(),ue);Te(Dh(),ue);Te(zs(),ue);Te(Ph(),ue);Te(V0(),ue);Te(W0(),ue);Te(X0(),ue);Te(Q0(),ue)});var Gc=c(vr=>{"use strict";Object.defineProperty(vr,"__esModule",{value:!0});vr.isTracingSuppressed=vr.unsuppressTracing=vr.suppressTracing=void 0;var Wq=C(),gg=(0,Wq.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function Kq(e){return e.setValue(gg,!0)}vr.suppressTracing=Kq;function Xq(e){return e.deleteValue(gg)}vr.unsuppressTracing=Xq;function zq(e){return e.getValue(gg)===!0}vr.isTracingSuppressed=zq});var Eg=c(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.BAGGAGE_MAX_TOTAL_LENGTH=De.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=De.BAGGAGE_MAX_NAME_VALUE_PAIRS=De.BAGGAGE_HEADER=De.BAGGAGE_ITEMS_SEPARATOR=De.BAGGAGE_PROPERTIES_SEPARATOR=De.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;De.BAGGAGE_KEY_PAIR_SEPARATOR="=";De.BAGGAGE_PROPERTIES_SEPARATOR=";";De.BAGGAGE_ITEMS_SEPARATOR=",";De.BAGGAGE_HEADER="baggage";De.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;De.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;De.BAGGAGE_MAX_TOTAL_LENGTH=8192});var mg=c(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.parseKeyPairsIntoRecord=jt.parsePairKeyValue=jt.getKeyPairs=jt.serializeKeyPairs=void 0;var Qq=C(),fn=Eg();function Zq(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?fn.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>fn.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}jt.serializeKeyPairs=Zq;function Jq(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=fn.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}jt.getKeyPairs=Jq;function Z0(e){let t=e.split(fn.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(fn.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),s=decodeURIComponent(n[1].trim()),o;return t.length>0&&(o=(0,Qq.baggageEntryMetadataFromString)(t.join(fn.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:s,metadata:o}}jt.parsePairKeyValue=Z0;function e2(e){return typeof e!="string"||e.length===0?{}:e.split(fn.BAGGAGE_ITEMS_SEPARATOR).map(t=>Z0(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}jt.parseKeyPairsIntoRecord=e2});var J0=c(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.W3CBaggagePropagator=void 0;var Sg=C(),t2=Gc(),pn=Eg(),Ag=mg(),Tg=class{inject(t,r,n){let i=Sg.propagation.getBaggage(t);if(!i||(0,t2.isTracingSuppressed)(t))return;let s=(0,Ag.getKeyPairs)(i).filter(a=>a.length<=pn.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,pn.BAGGAGE_MAX_NAME_VALUE_PAIRS),o=(0,Ag.serializeKeyPairs)(s);o.length>0&&n.set(r,pn.BAGGAGE_HEADER,o)}extract(t,r,n){let i=n.get(r,pn.BAGGAGE_HEADER),s=Array.isArray(i)?i.join(pn.BAGGAGE_ITEMS_SEPARATOR):i;if(!s)return t;let o={};return s.length===0||(s.split(pn.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let l=(0,Ag.parsePairKeyValue)(u);if(l){let d={value:l.value};l.metadata&&(d.metadata=l.metadata),o[l.key]=d}}),Object.entries(o).length===0)?t:Sg.propagation.setBaggage(t,Sg.propagation.createBaggage(o))}fields(){return[pn.BAGGAGE_HEADER]}};Fc.W3CBaggagePropagator=Tg});var iv=c(Pr=>{"use strict";Object.defineProperty(Pr,"__esModule",{value:!0});Pr.isAttributeValue=Pr.isAttributeKey=Pr.sanitizeAttributes=void 0;var ev=C();function r2(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!tv(r)){ev.diag.warn(`Invalid attribute key: ${r}`);continue}if(!rv(n)){ev.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Pr.sanitizeAttributes=r2;function tv(e){return typeof e=="string"&&e.length>0}Pr.isAttributeKey=tv;function rv(e){return e==null?!0:Array.isArray(e)?n2(e):nv(e)}Pr.isAttributeValue=rv;function n2(e){let t;for(let r of e)if(r!=null){if(!t){if(nv(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function nv(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var yg=c(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.loggingErrorHandler=void 0;var i2=C();function s2(){return e=>{i2.diag.error(o2(e))}}jc.loggingErrorHandler=s2;function o2(e){return typeof e=="string"?e:JSON.stringify(a2(e))}function a2(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var Rg=c(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.globalErrorHandler=Mi.setGlobalErrorHandler=void 0;var u2=yg(),sv=(0,u2.loggingErrorHandler)();function c2(e){sv=e}Mi.setGlobalErrorHandler=c2;function l2(e){try{sv(e)}catch{}}Mi.globalErrorHandler=l2});var Og=c(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.TracesSamplerValues=void 0;var d2;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(d2=eo.TracesSamplerValues||(eo.TracesSamplerValues={}))});var bg=c(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.parseEnvironment=je.DEFAULT_ENVIRONMENT=je.DEFAULT_ATTRIBUTE_COUNT_LIMIT=je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Cr=C(),_2=Og(),f2=",",p2=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function h2(e){return p2.indexOf(e)>-1}var g2=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function E2(e){return g2.indexOf(e)>-1}je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;je.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;je.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Cr.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:je.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:je.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:je.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:_2.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function m2(e,t,r,n=-1/0,i=1/0){if(typeof r[e]<"u"){let s=Number(r[e]);isNaN(s)||(s<n?t[e]=n:s>i?t[e]=i:t[e]=s)}}function S2(e,t,r,n=f2){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(s=>s.trim()))}var A2={ALL:Cr.DiagLogLevel.ALL,VERBOSE:Cr.DiagLogLevel.VERBOSE,DEBUG:Cr.DiagLogLevel.DEBUG,INFO:Cr.DiagLogLevel.INFO,WARN:Cr.DiagLogLevel.WARN,ERROR:Cr.DiagLogLevel.ERROR,NONE:Cr.DiagLogLevel.NONE};function T2(e,t,r){let n=r[e];if(typeof n=="string"){let i=A2[n.toUpperCase()];i!=null&&(t[e]=i)}}function y2(e){let t={};for(let r in je.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":T2(n,t,e);break;default:if(h2(n))m2(n,t,e);else if(E2(n))S2(n,t,e);else{let i=e[n];typeof i<"u"&&i!==null&&(t[n]=String(i))}}}return t}je.parseEnvironment=y2});var av=c(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.getEnv=void 0;var R2=O("os"),ov=bg();function O2(){let e=(0,ov.parseEnvironment)(process.env);return Object.assign({HOSTNAME:R2.hostname()},ov.DEFAULT_ENVIRONMENT,e)}kc.getEnv=O2});var uv=c(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc._globalThis=void 0;qc._globalThis=typeof globalThis=="object"?globalThis:global});var cv=c(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.hexToBase64=void 0;function b2(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),s=parseInt(i,16);r+=String.fromCharCode(s)}return Buffer.from(r,"ascii").toString("base64")}Hc.hexToBase64=b2});var _v=c(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.RandomIdGenerator=void 0;var v2=8,dv=16,vg=class{constructor(){this.generateTraceId=lv(dv),this.generateSpanId=lv(v2)}};Vc.RandomIdGenerator=vg;var $c=Buffer.allocUnsafe(dv);function lv(e){return function(){for(let r=0;r<e/4;r++)$c.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!($c[r]>0);r++)r===e-1&&($c[e-1]=1);return $c.toString("hex",0,e)}}});var fv=c(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.otperformance=void 0;var P2=O("perf_hooks");Yc.otperformance=P2.performance});var Kc=c(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.VERSION=void 0;Wc.VERSION="1.3.1"});var pv=c(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.MessageTypeValues=J.RpcGrpcStatusCodeValues=J.MessagingOperationValues=J.MessagingDestinationKindValues=J.HttpFlavorValues=J.NetHostConnectionSubtypeValues=J.NetHostConnectionTypeValues=J.NetTransportValues=J.FaasInvokedProviderValues=J.FaasDocumentOperationValues=J.FaasTriggerValues=J.DbCassandraConsistencyLevelValues=J.DbSystemValues=J.SemanticAttributes=void 0;J.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};J.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};J.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};J.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};J.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};J.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};J.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};J.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};J.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};J.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};J.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};J.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};J.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};J.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var hv=c(hn=>{"use strict";var C2=hn&&hn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),I2=hn&&hn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&C2(t,e,r)};Object.defineProperty(hn,"__esModule",{value:!0});I2(pv(),hn)});var gv=c(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.TelemetrySdkLanguageValues=xe.OsTypeValues=xe.HostArchValues=xe.AwsEcsLaunchtypeValues=xe.CloudPlatformValues=xe.CloudProviderValues=xe.SemanticResourceAttributes=void 0;xe.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};xe.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};xe.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};xe.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};xe.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};xe.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};xe.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Ev=c(gn=>{"use strict";var N2=gn&&gn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L2=gn&&gn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&N2(t,e,r)};Object.defineProperty(gn,"__esModule",{value:!0});L2(gv(),gn)});var Nr=c(Ir=>{"use strict";var w2=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mv=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&w2(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});mv(hv(),Ir);mv(Ev(),Ir)});var Sv=c(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.SDK_INFO=void 0;var M2=Kc(),to=Nr();Xc.SDK_INFO={[to.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[to.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[to.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:to.TelemetrySdkLanguageValues.NODEJS,[to.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:M2.VERSION}});var Av=c(zc=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});zc.unrefTimer=void 0;function D2(e){e.unref()}zc.unrefTimer=D2});var Tv=c(st=>{"use strict";var x2=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),En=st&&st.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&x2(t,e,r)};Object.defineProperty(st,"__esModule",{value:!0});En(av(),st);En(uv(),st);En(cv(),st);En(_v(),st);En(fv(),st);En(Sv(),st);En(Av(),st)});var Pg=c(mn=>{"use strict";var B2=mn&&mn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),U2=mn&&mn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&B2(t,e,r)};Object.defineProperty(mn,"__esModule",{value:!0});U2(Tv(),mn)});var Ov=c(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isTimeInput=he.isTimeInputHrTime=he.hrTimeToMicroseconds=he.hrTimeToMilliseconds=he.hrTimeToNanoseconds=he.hrTimeToTimeStamp=he.hrTimeDuration=he.timeInputToHrTime=he.hrTime=void 0;var Cg=Pg(),Ig=9,ro=Math.pow(10,Ig);function Qc(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(Ig))*ro;return[r,n]}function yv(){let e=Cg.otperformance.timeOrigin;if(typeof e!="number"){let t=Cg.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Rv(e){let t=Qc(yv()),r=Qc(typeof e=="number"?e:Cg.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>ro&&(i-=ro,n+=1),[n,i]}he.hrTime=Rv;function G2(e){if(Ng(e))return e;if(typeof e=="number")return e<yv()?Rv(e):Qc(e);if(e instanceof Date)return Qc(e.getTime());throw TypeError("Invalid input type")}he.timeInputToHrTime=G2;function F2(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=ro),[r,n]}he.hrTimeDuration=F2;function j2(e){let t=Ig,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}he.hrTimeToTimeStamp=j2;function k2(e){return e[0]*ro+e[1]}he.hrTimeToNanoseconds=k2;function q2(e){return Math.round(e[0]*1e3+e[1]/1e6)}he.hrTimeToMilliseconds=q2;function H2(e){return Math.round(e[0]*1e6+e[1]/1e3)}he.hrTimeToMicroseconds=H2;function Ng(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}he.isTimeInputHrTime=Ng;function $2(e){return Ng(e)||typeof e=="number"||e instanceof Date}he.isTimeInput=$2});var vv=c(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0})});var Pv=c(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.ExportResultCode=void 0;var V2;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(V2=no.ExportResultCode||(no.ExportResultCode={}))});var Iv=c(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.CompositePropagator=void 0;var Cv=C(),Lg=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(s){Cv.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${s.message}`)}}extract(t,r,n){return this._propagators.reduce((i,s)=>{try{return s.extract(i,r,n)}catch(o){Cv.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${o.message}`)}return i},t)}fields(){return this._fields.slice()}};Zc.CompositePropagator=Lg});var Nv=c(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.validateValue=Di.validateKey=void 0;var wg="[_0-9a-z-*/]",Y2=`[a-z]${wg}{0,255}`,W2=`[a-z0-9]${wg}{0,240}@[a-z]${wg}{0,13}`,K2=new RegExp(`^(?:${Y2}|${W2})$`),X2=/^[ -~]{0,255}[!-~]$/,z2=/,|=/;function Q2(e){return K2.test(e)}Di.validateKey=Q2;function Z2(e){return X2.test(e)&&!z2.test(e)}Di.validateValue=Z2});var Mg=c(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.TraceState=void 0;var Lv=Nv(),wv=32,J2=512,Mv=",",Dv="=",io=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+Dv+this.get(r)),t),[]).join(Mv)}_parse(t){t.length>J2||(this._internalState=t.split(Mv).reverse().reduce((r,n)=>{let i=n.trim(),s=i.indexOf(Dv);if(s!==-1){let o=i.slice(0,s),a=i.slice(s+1,n.length);(0,Lv.validateKey)(o)&&(0,Lv.validateValue)(a)&&r.set(o,a)}return r},new Map),this._internalState.size>wv&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,wv))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new io;return t._internalState=new Map(this._internalState),t}};Jc.TraceState=io});var Bv=c(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.W3CTraceContextPropagator=Be.parseTraceParent=Be.TRACE_STATE_HEADER=Be.TRACE_PARENT_HEADER=void 0;var el=C(),eH=Gc(),tH=Mg();Be.TRACE_PARENT_HEADER="traceparent";Be.TRACE_STATE_HEADER="tracestate";var rH="00",nH="(?!ff)[\\da-f]{2}",iH="(?![0]{32})[\\da-f]{32}",sH="(?![0]{16})[\\da-f]{16}",oH="[\\da-f]{2}",aH=new RegExp(`^\\s?(${nH})-(${iH})-(${sH})-(${oH})(-.*)?\\s?$`);function xv(e){let t=aH.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Be.parseTraceParent=xv;var Dg=class{inject(t,r,n){let i=el.trace.getSpanContext(t);if(!i||(0,eH.isTracingSuppressed)(t)||!(0,el.isSpanContextValid)(i))return;let s=`${rH}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||el.TraceFlags.NONE).toString(16)}`;n.set(r,Be.TRACE_PARENT_HEADER,s),i.traceState&&n.set(r,Be.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Be.TRACE_PARENT_HEADER);if(!i)return t;let s=Array.isArray(i)?i[0]:i;if(typeof s!="string")return t;let o=xv(s);if(!o)return t;o.isRemote=!0;let a=n.get(r,Be.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;o.traceState=new tH.TraceState(typeof u=="string"?u:void 0)}return el.trace.setSpanContext(t,o)}fields(){return[Be.TRACE_PARENT_HEADER,Be.TRACE_STATE_HEADER]}};Be.W3CTraceContextPropagator=Dg});var Gv=c(Uv=>{"use strict";Object.defineProperty(Uv,"__esModule",{value:!0})});var Fv=c(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.getRPCMetadata=Et.deleteRPCMetadata=Et.setRPCMetadata=Et.RPCType=void 0;var uH=C(),xg=(0,uH.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),cH;(function(e){e.HTTP="http"})(cH=Et.RPCType||(Et.RPCType={}));function lH(e,t){return e.setValue(xg,t)}Et.setRPCMetadata=lH;function dH(e){return e.deleteValue(xg)}Et.deleteRPCMetadata=dH;function _H(e){return e.getValue(xg)}Et.getRPCMetadata=_H});var Ug=c(tl=>{"use strict";Object.defineProperty(tl,"__esModule",{value:!0});tl.AlwaysOffSampler=void 0;var fH=C(),Bg=class{shouldSample(){return{decision:fH.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};tl.AlwaysOffSampler=Bg});var Fg=c(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.AlwaysOnSampler=void 0;var pH=C(),Gg=class{shouldSample(){return{decision:pH.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};rl.AlwaysOnSampler=Gg});var kv=c(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.ParentBasedSampler=void 0;var nl=C(),hH=Rg(),jv=Ug(),jg=Fg(),kg=class{constructor(t){var r,n,i,s;this._root=t.root,this._root||((0,hH.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new jg.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new jg.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new jv.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new jg.AlwaysOnSampler,this._localParentNotSampled=(s=t.localParentNotSampled)!==null&&s!==void 0?s:new jv.AlwaysOffSampler}shouldSample(t,r,n,i,s,o){let a=nl.trace.getSpanContext(t);return!a||!(0,nl.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,s,o):a.isRemote?a.traceFlags&nl.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,s,o):this._remoteParentNotSampled.shouldSample(t,r,n,i,s,o):a.traceFlags&nl.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,s,o):this._localParentNotSampled.shouldSample(t,r,n,i,s,o)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};il.ParentBasedSampler=kg});var qv=c(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.TraceIdRatioBasedSampler=void 0;var qg=C(),Hg=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,qg.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?qg.SamplingDecision.RECORD_AND_SAMPLED:qg.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,s=parseInt(t.slice(i,i+8),16);r=(r^s)>>>0}return r}};sl.TraceIdRatioBasedSampler=Hg});var Wv=c(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.isPlainObject=void 0;var gH="[object Object]",EH="[object Null]",mH="[object Undefined]",SH=Function.prototype,Hv=SH.toString,AH=Hv.call(Object),TH=yH(Object.getPrototypeOf,Object),$v=Object.prototype,Vv=$v.hasOwnProperty,Sn=Symbol?Symbol.toStringTag:void 0,Yv=$v.toString;function yH(e,t){return function(r){return e(t(r))}}function RH(e){if(!OH(e)||bH(e)!==gH)return!1;let t=TH(e);if(t===null)return!0;let r=Vv.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Hv.call(r)===AH}ol.isPlainObject=RH;function OH(e){return e!=null&&typeof e=="object"}function bH(e){return e==null?e===void 0?mH:EH:Sn&&Sn in Object(e)?vH(e):PH(e)}function vH(e){let t=Vv.call(e,Sn),r=e[Sn],n=!1;try{e[Sn]=void 0,n=!0}catch{}let i=Yv.call(e);return n&&(t?e[Sn]=r:delete e[Sn]),i}function PH(e){return Yv.call(e)}});var Zv=c(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.merge=void 0;var Kv=Wv(),CH=20;function IH(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=zv(t,e.shift(),0,r);return t}cl.merge=IH;function $g(e){return ul(e)?e.slice():e}function zv(e,t,r=0,n){let i;if(!(r>CH)){if(r++,al(e)||al(t)||Qv(t))i=$g(t);else if(ul(e)){if(i=e.slice(),ul(t))for(let s=0,o=t.length;s<o;s++)i.push($g(t[s]));else if(so(t)){let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o];i[u]=$g(t[u])}}}else if(so(e))if(so(t)){if(!NH(e,t))return t;i=Object.assign({},e);let s=Object.keys(t);for(let o=0,a=s.length;o<a;o++){let u=s[o],l=t[u];if(al(l))typeof l>"u"?delete i[u]:i[u]=l;else{let d=i[u],_=l;if(Xv(e,u,n)||Xv(t,u,n))delete i[u];else{if(so(d)&&so(_)){let f=n.get(d)||[],p=n.get(_)||[];f.push({obj:e,key:u}),p.push({obj:t,key:u}),n.set(d,f),n.set(_,p)}i[u]=zv(i[u],l,r,n)}}}}else i=t;return i}}function Xv(e,t,r){let n=r.get(e[t])||[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if(o.key===t&&o.obj===e)return!0}return!1}function ul(e){return Array.isArray(e)}function Qv(e){return typeof e=="function"}function so(e){return!al(e)&&!ul(e)&&!Qv(e)&&typeof e=="object"}function al(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function NH(e,t){return!(!(0,Kv.isPlainObject)(e)||!(0,Kv.isPlainObject)(t))}});var eP=c(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.isUrlIgnored=xi.urlMatches=void 0;function Jv(e,t){return typeof t=="string"?e===t:!!e.match(t)}xi.urlMatches=Jv;function LH(e,t){if(!t)return!1;for(let r of t)if(Jv(e,r))return!0;return!1}xi.isUrlIgnored=LH});var tP=c(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.isWrapped=void 0;function wH(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}ll.isWrapped=wH});var rP=c(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.Deferred=void 0;var Vg=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};dl.Deferred=Vg});var nP=c(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.BindOnceFuture=void 0;var MH=rP(),Yg=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new MH.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};_l.BindOnceFuture=Yg});var be=c(z=>{"use strict";var DH=z&&z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),se=z&&z.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DH(t,e,r)};Object.defineProperty(z,"__esModule",{value:!0});z.baggageUtils=void 0;se(J0(),z);se(iv(),z);se(Rg(),z);se(yg(),z);se(Ov(),z);se(vv(),z);se(Pv(),z);se(Kc(),z);z.baggageUtils=mg();se(Pg(),z);se(Iv(),z);se(Bv(),z);se(Gv(),z);se(Fv(),z);se(Ug(),z);se(Fg(),z);se(kv(),z);se(qv(),z);se(Gc(),z);se(Mg(),z);se(bg(),z);se(Zv(),z);se(Og(),z);se(eP(),z);se(tP(),z);se(nP(),z);se(Kc(),z)});var oo=c(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.invalidTimeout=ct.configureExporterTimeout=ct.appendRootPathToUrlIfNeeded=ct.appendResourcePathToUrl=ct.parseHeaders=void 0;var sP=C(),iP=be(),oP=1e4;function xH(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n<"u"?t[r]=String(n):sP.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}ct.parseHeaders=xH;function BH(e,t){return e.endsWith("/")||(e=e+"/"),e+t}ct.appendResourcePathToUrl=BH;function UH(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}ct.appendRootPathToUrlIfNeeded=UH;function GH(e){return typeof e=="number"?e<=0?Wg(e,oP):e:FH()}ct.configureExporterTimeout=GH;function FH(){var e;let t=Number((e=(0,iP.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,iP.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?Wg(t,oP):t}function Wg(e,t){return sP.diag.warn("Timeout must be greater than 0",e),t}ct.invalidTimeout=Wg});var pl=c(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.OTLPExporterBase=void 0;var aP=C(),ao=be(),jH=oo(),Kg=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new ao.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:1/0,this.timeoutMillis=(0,jH.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:ao.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:ao.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:ao.ExportResultCode.SUCCESS})}).catch(n=>{r({code:ao.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{aP.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return aP.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};fl.OTLPExporterBase=Kg});var Xg=c(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.CompressionAlgorithm=void 0;var kH;(function(e){e.NONE="none",e.GZIP="gzip"})(kH=uo.CompressionAlgorithm||(uo.CompressionAlgorithm={}))});var gl=c(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.OTLPExporterError=void 0;var zg=class extends Error{constructor(t,r,n){super(t),this.name="OTLPExporterError",this.data=n,this.code=r}};hl.OTLPExporterError=zg});var eE=c(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.configureCompression=Lr.createHttpAgent=Lr.sendWithHttp=void 0;var cP=O("url"),lP=O("http"),dP=O("https"),qH=O("zlib"),HH=O("stream"),Jg=C(),El=Xg(),uP=be(),Qg=gl(),Zg;function $H(e,t,r,n,i){let s=e.timeoutMillis,o=new cP.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),l=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},s),d={hostname:o.hostname,port:o.port,path:o.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(o.protocol==="http:"?lP.request:dP.request)(d,p=>{let h="";p.on("data",g=>h+=g),p.on("aborted",()=>{if(a){let g=new Qg.OTLPExporterError("Request Timeout");i(g)}}),p.on("end",()=>{if(!a){if(p.statusCode&&p.statusCode<299)Jg.diag.debug(`statusCode: ${p.statusCode}`,h),n();else{let g=new Qg.OTLPExporterError(p.statusMessage,p.statusCode,h);i(g)}clearTimeout(l)}})});switch(f.on("error",p=>{if(a){let h=new Qg.OTLPExporterError("Request Timeout",p.code);i(h)}else clearTimeout(l),i(p)}),e.compression){case El.CompressionAlgorithm.GZIP:{Zg||(Zg=qH.createGzip()),f.setHeader("Content-Encoding","gzip"),VH(t).on("error",i).pipe(Zg).on("error",i).pipe(f);break}default:f.end(t);break}}Lr.sendWithHttp=$H;function VH(e){let t=new HH.Readable;return t.push(e),t.push(null),t}function YH(e){if(e.httpAgentOptions&&e.keepAlive===!1){Jg.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new cP.URL(e.url).protocol==="http:"?lP.Agent:dP.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){Jg.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}Lr.createHttpAgent=YH;function WH(e){return e||(((0,uP.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,uP.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===El.CompressionAlgorithm.GZIP?El.CompressionAlgorithm.GZIP:El.CompressionAlgorithm.NONE)}Lr.configureCompression=WH});var pP=c(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.OTLPExporterNodeBase=void 0;var KH=pl(),XH=oo(),tE=eE(),_P=C(),fP=be(),rE=class extends KH.OTLPExporterBase{constructor(t={}){super(t),this.DEFAULT_HEADERS={},t.metadata&&_P.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,XH.parseHeaders)(t.headers),fP.baggageUtils.parseKeyPairsIntoRecord((0,fP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,tE.createHttpAgent)(t),this.compression=(0,tE.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){_P.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=new Promise((a,u)=>{(0,tE.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(s);let o=()=>{let a=this._sendingPromises.indexOf(s);this._sendingPromises.splice(a,1)};s.then(o,o)}onShutdown(){}};ml.OTLPExporterNodeBase=rE});var hP=c(ir=>{"use strict";var zH=ir&&ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nE=ir&&ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zH(t,e,r)};Object.defineProperty(ir,"__esModule",{value:!0});nE(pP(),ir);nE(eE(),ir);nE(Xg(),ir)});var EP=c(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.sendWithXhr=Bi.sendWithBeacon=void 0;var gP=C(),iE=gl();function QH(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))gP.diag.debug("sendBeacon - can send",e),n();else{let s=new iE.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(s)}}Bi.sendWithBeacon=QH;function ZH(e,t,r,n,i,s){let o,a=setTimeout(()=>{o=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([d,_])=>{u.setRequestHeader(d,_)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),gP.diag.debug("xhr success",e),i();else if(o){let d=new iE.OTLPExporterError("Request Timeout",u.status);s(d)}else{let d=new iE.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),s(d)}}}Bi.sendWithXhr=ZH});var AP=c(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.OTLPExporterBrowserBase=void 0;var JH=pl(),e$=oo(),mP=EP(),t$=C(),SP=be(),sE=class extends JH.OTLPExporterBase{constructor(t={}){super(t),this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,e$.parseHeaders)(t.headers),SP.baggageUtils.parseKeyPairsIntoRecord((0,SP.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){t$.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),s=JSON.stringify(i),o=new Promise((u,l)=>{this._useXHR?(0,mP.sendWithXhr)(s,this.url,this._headers,this.timeoutMillis,u,l):(0,mP.sendWithBeacon)(s,this.url,{type:"application/json"},u,l)}).then(r,n);this._sendingPromises.push(o);let a=()=>{let u=this._sendingPromises.indexOf(o);this._sendingPromises.splice(u,1)};o.then(a,a)}};Sl.OTLPExporterBrowserBase=sE});var TP=c(An=>{"use strict";var r$=An&&An.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),n$=An&&An.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&r$(t,e,r)};Object.defineProperty(An,"__esModule",{value:!0});n$(AP(),An)});var yP=c(sr=>{"use strict";var i$=sr&&sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),s$=sr&&sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&i$(t,e,r)};Object.defineProperty(sr,"__esModule",{value:!0});sr.OTLPExporterBrowserBase=void 0;s$(hP(),sr);var o$=TP();Object.defineProperty(sr,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return o$.OTLPExporterBrowserBase}})});var oE=c(kt=>{"use strict";var a$=kt&&kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Al=kt&&kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&a$(t,e,r)};Object.defineProperty(kt,"__esModule",{value:!0});Al(pl(),kt);Al(yP(),kt);Al(gl(),kt);Al(oo(),kt)});var OP=c(RP=>{"use strict";Object.defineProperty(RP,"__esModule",{value:!0})});var vP=c(bP=>{"use strict";Object.defineProperty(bP,"__esModule",{value:!0})});var CP=c(PP=>{"use strict";Object.defineProperty(PP,"__esModule",{value:!0})});var IP=c(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.ESpanKind=void 0;var u$;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(u$=co.ESpanKind||(co.ESpanKind={}))});var Tl=c(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.bufToHex=lt.hexToBuf=lt.toAnyValue=lt.toKeyValue=lt.toAttributes=void 0;function c$(e){return Object.keys(e).map(t=>aE(t,e[t]))}lt.toAttributes=c$;function aE(e,t){return{key:e,value:uE(t)}}lt.toKeyValue=aE;function uE(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(uE)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>aE(r,n))}}:{}}lt.toAnyValue=uE;function l$(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}lt.hexToBuf=l$;function d$(e){return("0"+e.toString(16)).slice(-2)}function _$(e){if(!(e==null||e.length===0))return Array.from(e).map(d$).join("")}lt.bufToHex=_$});var wP=c(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.toOtlpSpanEvent=wr.toOtlpLink=wr.sdkSpanToOtlpSpan=void 0;var cE=be(),lE=Tl(),lo=be();function f$(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?lo.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:lo.hexToBase64(r.traceId),spanId:t?r.spanId:lo.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,cE.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,cE.hrTimeToNanoseconds)(e.endTime),attributes:(0,lE.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(LP),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(s=>NP(s,t)),droppedLinksCount:0}}wr.sdkSpanToOtlpSpan=f$;function NP(e,t){return{attributes:e.attributes?(0,lE.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:lo.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:lo.hexToBase64(e.context.traceId),droppedAttributesCount:0}}wr.toOtlpLink=NP;function LP(e){return{attributes:e.attributes?(0,lE.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,cE.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}wr.toOtlpSpanEvent=LP});var MP=c(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.createExportTraceServiceRequest=void 0;var p$=Tl(),h$=wP();function g$(e,t){return{resourceSpans:m$(e,t)}}yl.createExportTraceServiceRequest=g$;function E$(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,s=n.get(i);s||(s=[],n.set(i,s)),s.push(r)}return t}function m$(e,t){let r=E$(e),n=[],i=r.entries(),s=i.next();for(;!s.done;){let[o,a]=s.value,u=[],l=a.values(),d=l.next();for(;!d.done;){let f=d.value;if(f.length>0){let{name:p,version:h,schemaUrl:g}=f[0].instrumentationLibrary,A=f.map(y=>(0,h$.sdkSpanToOtlpSpan)(y,t));u.push({scope:{name:p,version:h},spans:A,schemaUrl:g})}d=l.next()}let _={resource:{attributes:(0,p$.toAttributes)(o.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(_),s=i.next()}return n}});var dE=c(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=q.NOOP_OBSERVABLE_GAUGE_METRIC=q.NOOP_OBSERVABLE_COUNTER_METRIC=q.NOOP_UP_DOWN_COUNTER_METRIC=q.NOOP_HISTOGRAM_METRIC=q.NOOP_COUNTER_METRIC=q.NOOP_METER=q.NoopObservableUpDownCounterMetric=q.NoopObservableGaugeMetric=q.NoopObservableCounterMetric=q.NoopObservableMetric=q.NoopHistogramMetric=q.NoopUpDownCounterMetric=q.NoopCounterMetric=q.NoopMetric=q.NoopMeter=void 0;var Rl=class{constructor(){}createHistogram(t,r){return q.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return q.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return q.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return q.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return q.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};q.NoopMeter=Rl;var Ui=class{};q.NoopMetric=Ui;var Ol=class extends Ui{add(t,r){}};q.NoopCounterMetric=Ol;var bl=class extends Ui{add(t,r){}};q.NoopUpDownCounterMetric=bl;var vl=class extends Ui{record(t,r){}};q.NoopHistogramMetric=vl;var Gi=class{addCallback(t){}removeCallback(t){}};q.NoopObservableMetric=Gi;var Pl=class extends Gi{};q.NoopObservableCounterMetric=Pl;var Cl=class extends Gi{};q.NoopObservableGaugeMetric=Cl;var Il=class extends Gi{};q.NoopObservableUpDownCounterMetric=Il;q.NOOP_METER=new Rl;q.NOOP_COUNTER_METRIC=new Ol;q.NOOP_HISTOGRAM_METRIC=new vl;q.NOOP_UP_DOWN_COUNTER_METRIC=new bl;q.NOOP_OBSERVABLE_COUNTER_METRIC=new Pl;q.NOOP_OBSERVABLE_GAUGE_METRIC=new Cl;q.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new Il});var _E=c(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.NOOP_METER_PROVIDER=Fi.NoopMeterProvider=void 0;var S$=dE(),Nl=class{getMeter(t,r,n){return S$.NOOP_METER}};Fi.NoopMeterProvider=Nl;Fi.NOOP_METER_PROVIDER=new Nl});var xP=c(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0})});var UP=c(BP=>{"use strict";Object.defineProperty(BP,"__esModule",{value:!0})});var GP=c(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.ValueType=void 0;var A$;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(A$=_o.ValueType||(_o.ValueType={}))});var jP=c(FP=>{"use strict";Object.defineProperty(FP,"__esModule",{value:!0})});var kP=c(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll._globalThis=void 0;Ll._globalThis=typeof globalThis=="object"?globalThis:global});var qP=c(Tn=>{"use strict";var T$=Tn&&Tn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),y$=Tn&&Tn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&T$(t,e,r)};Object.defineProperty(Tn,"__esModule",{value:!0});y$(kP(),Tn)});var HP=c(yn=>{"use strict";var R$=yn&&yn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O$=yn&&yn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&R$(t,e,r)};Object.defineProperty(yn,"__esModule",{value:!0});O$(qP(),yn)});var $P=c(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.API_BACKWARDS_COMPATIBILITY_VERSION=qt.makeGetter=qt._global=qt.GLOBAL_METRICS_API_KEY=void 0;var b$=HP();qt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");qt._global=b$._globalThis;function v$(e,t,r){return n=>n===e?t:r}qt.makeGetter=v$;qt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var YP=c(wl=>{"use strict";Object.defineProperty(wl,"__esModule",{value:!0});wl.MetricsAPI=void 0;var VP=_E(),dt=$P(),fo=class{constructor(){}static getInstance(){return this._instance||(this._instance=new fo),this._instance}setGlobalMeterProvider(t){return dt._global[dt.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(dt._global[dt.GLOBAL_METRICS_API_KEY]=(0,dt.makeGetter)(dt.API_BACKWARDS_COMPATIBILITY_VERSION,t,VP.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=dt._global[dt.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(dt._global,dt.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:VP.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete dt._global[dt.GLOBAL_METRICS_API_KEY]}};wl.MetricsAPI=fo});var ki=c(Xe=>{"use strict";var P$=Xe&&Xe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ji=Xe&&Xe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&P$(t,e,r)};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.metrics=void 0;ji(dE(),Xe);ji(_E(),Xe);ji(xP(),Xe);ji(UP(),Xe);ji(GP(),Xe);ji(jP(),Xe);var C$=YP();Xe.metrics=C$.MetricsAPI.getInstance()});var Ml=c(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.AggregationTemporality=void 0;var I$;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(I$=po.AggregationTemporality||(po.AggregationTemporality={}))});var go=c(ho=>{"use strict";Object.defineProperty(ho,"__esModule",{value:!0});ho.DataPointType=void 0;var N$;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(N$=ho.DataPointType||(ho.DataPointType={}))});var WP=c(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});Dl.ConsoleMetricExporter=void 0;var L$=Ml(),w$=be(),fE=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t??L$.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:w$.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};Dl.ConsoleMetricExporter=fE});var XP=c(KP=>{"use strict";Object.defineProperty(KP,"__esModule",{value:!0})});var or=c(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.setEquals=ge.FlatMap=ge.isPromiseAllSettledRejectionResult=ge.PromiseAllSettled=ge.callWithTimeout=ge.TimeoutError=ge.instrumentationScopeId=ge.hashAttributes=ge.isNotNullish=void 0;function M$(e){return e!=null}ge.isNotNullish=M$;function D$(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}ge.hashAttributes=D$;function x$(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}ge.instrumentationScopeId=x$;var qi=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,qi.prototype)}};ge.TimeoutError=qi;function B$(e,t){let r,n=new Promise(function(s,o){r=setTimeout(function(){o(new qi("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}ge.callWithTimeout=B$;async function U$(e){return Promise.all(e.map(async t=>{try{return{status:"fulfilled",value:await t}}catch(r){return{status:"rejected",reason:r}}}))}ge.PromiseAllSettled=U$;function G$(e){return e.status==="rejected"}ge.isPromiseAllSettledRejectionResult=G$;function F$(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}ge.FlatMap=F$;function j$(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}ge.setEquals=j$});var hE=c(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.MetricReader=void 0;var zP=C(),QP=or(),pE=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t?.timeoutMillis})}async shutdown(t){if(this._shutdown){zP.diag.error("Cannot call shutdown twice.");return}t?.timeoutMillis==null?await this.onShutdown():await(0,QP.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){zP.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if(t?.timeoutMillis==null){await this.onForceFlush();return}await(0,QP.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};xl.MetricReader=pE});var tC=c(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});Bl.PeriodicExportingMetricReader=void 0;var ZP=C(),JP=be(),k$=hE(),eC=or(),gE=class extends k$.MetricReader{constructor(t){var r,n;if(super(),t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&ZP.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,s=>{var o;s.code!==JP.ExportResultCode.SUCCESS?i((o=s.error)!==null&&o!==void 0?o:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${s.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,eC.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof eC.TimeoutError){ZP.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,JP.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};Bl.PeriodicExportingMetricReader=gE});var Rn=c(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.isDescriptorCompatibleWith=mt.createInstrumentDescriptorWithView=mt.createInstrumentDescriptor=mt.InstrumentType=void 0;var q$=ki(),H$;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(H$=mt.InstrumentType||(mt.InstrumentType={}));function $$(e,t,r){var n,i,s;return{name:e,type:t,description:(n=r?.description)!==null&&n!==void 0?n:"",unit:(i=r?.unit)!==null&&i!==void 0?i:"",valueType:(s=r?.valueType)!==null&&s!==void 0?s:q$.ValueType.DOUBLE}}mt.createInstrumentDescriptor=$$;function V$(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}mt.createInstrumentDescriptorWithView=V$;function Y$(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}mt.isDescriptorCompatibleWith=Y$});var Gl=c(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.isObservableInstrument=Ee.ObservableUpDownCounterInstrument=Ee.ObservableGaugeInstrument=Ee.ObservableCounterInstrument=Ee.ObservableInstrument=Ee.HistogramInstrument=Ee.CounterInstrument=Ee.UpDownCounterInstrument=Ee.SyncInstrument=void 0;var Ul=C(),W$=ki(),Hi=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=Ul.context.active()){this._descriptor.valueType===W$.ValueType.INT&&!Number.isInteger(t)&&(Ul.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};Ee.SyncInstrument=Hi;var EE=class extends Hi{add(t,r,n){this._record(t,r,n)}};Ee.UpDownCounterInstrument=EE;var mE=class extends Hi{add(t,r,n){if(t<0){Ul.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};Ee.CounterInstrument=mE;var SE=class extends Hi{record(t,r,n){if(t<0){Ul.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};Ee.HistogramInstrument=SE;var On=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};Ee.ObservableInstrument=On;var AE=class extends On{};Ee.ObservableCounterInstrument=AE;var TE=class extends On{};Ee.ObservableGaugeInstrument=TE;var yE=class extends On{};Ee.ObservableUpDownCounterInstrument=yE;function K$(e){return e instanceof On}Ee.isObservableInstrument=K$});var OE=c(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});Fl.Meter=void 0;var _t=Rn(),$i=Gl(),RE=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,_t.createInstrumentDescriptor)(t,_t.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new $i.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,_t.createInstrumentDescriptor)(t,_t.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new $i.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,_t.createInstrumentDescriptor)(t,_t.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new $i.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,_t.createInstrumentDescriptor)(t,_t.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new $i.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,_t.createInstrumentDescriptor)(t,_t.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new $i.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,_t.createInstrumentDescriptor)(t,_t.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new $i.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Fl.Meter=RE});var rC=c(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.defaultServiceName=void 0;function X$(){return`unknown_service:${process.argv0}`}jl.defaultServiceName=X$});var iC=c(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.detectResources=void 0;var nC=bn(),bE=C(),z$=O("util"),Q$=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return bE.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return bE.diag.debug(`${n.constructor.name} failed: ${i.message}`),nC.Resource.empty()}}));return Z$(r),r.reduce((n,i)=>n.merge(i),nC.Resource.empty())};kl.detectResources=Q$;var Z$=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=z$.inspect(t.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});bE.diag.verbose(r)}})}});var aC=c(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.hostDetector=void 0;var sC=Nr(),J$=bn(),oC=O("os"),vE=class{async detect(t){let r={[sC.SemanticResourceAttributes.HOST_NAME]:(0,oC.hostname)(),[sC.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,oC.arch)())};return new J$.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};ql.hostDetector=new vE});var lC=c(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.osDetector=void 0;var uC=Nr(),eV=bn(),cC=O("os"),PE=class{async detect(t){let r={[uC.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,cC.platform)()),[uC.SemanticResourceAttributes.OS_VERSION]:(0,cC.release)()};return new eV.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Hl.osDetector=new PE});var dC=c(Ht=>{"use strict";var tV=Ht&&Ht.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$l=Ht&&Ht.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tV(t,e,r)};Object.defineProperty(Ht,"__esModule",{value:!0});$l(rC(),Ht);$l(iC(),Ht);$l(aC(),Ht);$l(lC(),Ht)});var CE=c(vn=>{"use strict";var rV=vn&&vn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nV=vn&&vn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rV(t,e,r)};Object.defineProperty(vn,"__esModule",{value:!0});nV(dC(),vn)});var bn=c(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});Vl.Resource=void 0;var Pn=Nr(),IE=be(),iV=CE(),ar=class{constructor(t){this.attributes=t}static empty(){return ar.EMPTY}static default(){return new ar({[Pn.SemanticResourceAttributes.SERVICE_NAME]:(0,iV.defaultServiceName)(),[Pn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:IE.SDK_INFO[Pn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Pn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:IE.SDK_INFO[Pn.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Pn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:IE.SDK_INFO[Pn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new ar(r)}};Vl.Resource=ar;ar.EMPTY=new ar({})});var fC=c(_C=>{"use strict";Object.defineProperty(_C,"__esModule",{value:!0})});var hC=c(pC=>{"use strict";Object.defineProperty(pC,"__esModule",{value:!0})});var gC=c(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.browserDetector=void 0;var sV=C(),Yl=Nr(),NE=wE(),LE=class{async detect(t){if(!(typeof navigator<"u"))return NE.Resource.empty();let n={[Yl.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Yl.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Yl.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Yl.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(sV.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),NE.Resource.empty()):new NE.Resource(Object.assign({},t))}};Wl.browserDetector=new LE});var EC=c(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.envDetector=void 0;var oV=C(),aV=be(),uV=Nr(),cV=bn(),ME=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,aV.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,s=n.OTEL_SERVICE_NAME;if(i)try{let o=this._parseResourceAttributes(i);Object.assign(r,o)}catch(o){oV.diag.debug(`EnvDetector failed: ${o.message}`)}return s&&(r[uV.SemanticResourceAttributes.SERVICE_NAME]=s),new cV.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let s=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(s.length!==2)continue;let[o,a]=s;if(o=o.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(o))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[o]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Kl.envDetector=new ME});var mC=c(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.processDetector=void 0;var lV=C(),ft=Nr(),DE=bn(),xE=class{async detect(t){if(typeof process!="object")return DE.Resource.empty();let r={[ft.SemanticResourceAttributes.PROCESS_PID]:process.pid,[ft.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[ft.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[ft.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[ft.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[ft.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[ft.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[ft.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[ft.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[ft.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[ft.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[ft.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(lV.diag.debug("ProcessDetector failed: Unable to find required process resources. "),DE.Resource.empty()):new DE.Resource(Object.assign({},t))}};Xl.processDetector=new xE});var SC=c(ur=>{"use strict";var dV=ur&&ur.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BE=ur&&ur.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dV(t,e,r)};Object.defineProperty(ur,"__esModule",{value:!0});BE(gC(),ur);BE(EC(),ur);BE(mC(),ur)});var wE=c(St=>{"use strict";var _V=St&&St.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Eo=St&&St.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_V(t,e,r)};Object.defineProperty(St,"__esModule",{value:!0});Eo(bn(),St);Eo(CE(),St);Eo(fC(),St);Eo(hC(),St);Eo(SC(),St)});var zl=c(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.ExactPredicate=Vi.PatternPredicate=void 0;var fV=/[\^$\\.+?()[\]{}|]/g,mo=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(mo.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(fV,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Vi.PatternPredicate=mo;var UE=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Vi.ExactPredicate=UE});var FE=c(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.InstrumentSelector=void 0;var pV=zl(),GE=class{constructor(t){var r;this._nameFilter=new pV.PatternPredicate((r=t?.name)!==null&&r!==void 0?r:"*"),this._type=t?.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Ql.InstrumentSelector=GE});var qE=c(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.MeterSelector=void 0;var jE=zl(),kE=class{constructor(t){this._nameFilter=new jE.ExactPredicate(t?.name),this._versionFilter=new jE.ExactPredicate(t?.version),this._schemaUrlFilter=new jE.ExactPredicate(t?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Zl.MeterSelector=kE});var Ao=c(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.AggregatorKind=void 0;var hV;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(hV=So.AggregatorKind||(So.AggregatorKind={}))});var AC=c(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});Jl.DropAggregator=void 0;var gV=Ao(),HE=class{constructor(){this.kind=gV.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,s){}};Jl.DropAggregator=HE});var TC=c(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.HistogramAggregator=Wi.HistogramAccumulation=void 0;var EV=Ao(),mV=go();function SV(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var Yi=class{constructor(t,r=SV(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Wi.HistogramAccumulation=Yi;var $E=class{constructor(t){this._boundaries=t,this.kind=EV.AggregatorKind.HISTOGRAM}createAccumulation(){return new Yi(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=s[u]+o[u];return new Yi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),s=n.buckets.counts,o=i.buckets.counts,a=new Array(s.length);for(let u=0;u<s.length;u++)a[u]=o[u]-s[u];return new Yi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:mV.DataPointType.HISTOGRAM,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Wi.HistogramAggregator=$E});var yC=c(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.LastValueAggregator=Xi.LastValueAccumulation=void 0;var AV=Ao(),To=be(),TV=go(),Ki=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,To.hrTime)()}toPointValue(){return this._current}};Xi.LastValueAccumulation=Ki;var VE=class{constructor(){this.kind=AV.AggregatorKind.LAST_VALUE}createAccumulation(){return new Ki}merge(t,r){let n=(0,To.hrTimeToMicroseconds)(r.sampleTime)>=(0,To.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Ki(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,To.hrTimeToMicroseconds)(r.sampleTime)>=(0,To.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Ki(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:TV.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Xi.LastValueAggregator=VE});var RC=c(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.SumAggregator=Qi.SumAccumulation=void 0;var yV=Ao(),RV=go(),zi=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Qi.SumAccumulation=zi;var YE=class{constructor(){this.kind=yV.AggregatorKind.SUM}createAccumulation(){return new zi}merge(t,r){return new zi(t.toPointValue()+r.toPointValue())}diff(t,r){return new zi(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,s){return{descriptor:t,aggregationTemporality:r,dataPointType:RV.DataPointType.SINGULAR,dataPoints:n.map(([o,a])=>({attributes:o,startTime:i,endTime:s,value:a.toPointValue()}))}}};Qi.SumAggregator=YE});var OC=c($t=>{"use strict";var OV=$t&&$t.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ed=$t&&$t.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&OV(t,e,r)};Object.defineProperty($t,"__esModule",{value:!0});ed(AC(),$t);ed(TC(),$t);ed(yC(),$t);ed(RC(),$t)});var KE=c(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.DefaultAggregation=Ue.ExplicitBucketHistogramAggregation=Ue.HistogramAggregation=Ue.LastValueAggregation=Ue.SumAggregation=Ue.DropAggregation=Ue.Aggregation=void 0;var bV=C(),yo=OC(),Zi=Rn(),cr=class{static Drop(){return bC}static Sum(){return vC}static LastValue(){return PC}static Histogram(){return CC}static Default(){return vV}};Ue.Aggregation=cr;var Cn=class extends cr{createAggregator(t){return Cn.DEFAULT_INSTANCE}};Ue.DropAggregation=Cn;Cn.DEFAULT_INSTANCE=new yo.DropAggregator;var In=class extends cr{createAggregator(t){return In.DEFAULT_INSTANCE}};Ue.SumAggregation=In;In.DEFAULT_INSTANCE=new yo.SumAggregator;var Nn=class extends cr{createAggregator(t){return Nn.DEFAULT_INSTANCE}};Ue.LastValueAggregation=Nn;Nn.DEFAULT_INSTANCE=new yo.LastValueAggregator;var Ln=class extends cr{createAggregator(t){return Ln.DEFAULT_INSTANCE}};Ue.HistogramAggregation=Ln;Ln.DEFAULT_INSTANCE=new yo.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var WE=class extends cr{constructor(t){if(super(),t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,s)=>i-s);let r=t.lastIndexOf(-1/0),n=t.indexOf(1/0);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new yo.HistogramAggregator(this._boundaries)}};Ue.ExplicitBucketHistogramAggregation=WE;var td=class extends cr{_resolve(t){switch(t.type){case Zi.InstrumentType.COUNTER:case Zi.InstrumentType.UP_DOWN_COUNTER:case Zi.InstrumentType.OBSERVABLE_COUNTER:case Zi.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return vC;case Zi.InstrumentType.OBSERVABLE_GAUGE:return PC;case Zi.InstrumentType.HISTOGRAM:return CC}return bV.diag.warn(`Unable to recognize instrument type: ${t.type}`),bC}createAggregator(t){return this._resolve(t).createAggregator(t)}};Ue.DefaultAggregation=td;var bC=new Cn,vC=new In,PC=new Nn,CC=new Ln,vV=new td});var zE=c(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.FilteringAttributesProcessor=Mr.NoopAttributesProcessor=Mr.AttributesProcessor=void 0;var Ro=class{static Noop(){return PV}};Mr.AttributesProcessor=Ro;var rd=class extends Ro{process(t,r){return t}};Mr.NoopAttributesProcessor=rd;var XE=class extends Ro{constructor(t){super(),this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};Mr.FilteringAttributesProcessor=XE;var PV=new rd});var ZE=c(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.View=void 0;var CV=KE(),IV=zE(),QE=class{constructor(t){var r,n;this.name=t?.name,this.description=t?.description,this.aggregation=(r=t?.aggregation)!==null&&r!==void 0?r:CV.Aggregation.Default(),this.attributesProcessor=(n=t?.attributesProcessor)!==null&&n!==void 0?n:IV.AttributesProcessor.Noop()}};nd.View=QE});var IC=c(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.ViewRegistry=void 0;var NV=FE(),LV=qE(),wV=ZE(),Ji=class{constructor(){this._registeredViews=[]}addView(t,r=new NV.InstrumentSelector,n=new LV.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[Ji.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};id.ViewRegistry=Ji;Ji.DEFAULT_VIEW=new wV.View});var em=c(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.MetricStorage=void 0;var MV=Rn(),JE=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,MV.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};sd.MetricStorage=JE});var Oo=c(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.AttributeHashMap=es.HashMap=void 0;var DV=or(),od=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r??(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n??(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r??(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};es.HashMap=od;var tm=class extends od{constructor(){super(DV.hashAttributes)}};es.AttributeHashMap=tm});var im=c(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.DeltaMetricProcessor=void 0;var rm=Oo(),nm=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new rm.AttributeHashMap,this._cumulativeMemoStorage=new rm.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i?.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let s=this._aggregator.createAccumulation();if(s?.record(n),this._cumulativeMemoStorage.has(r,i)){let o=this._cumulativeMemoStorage.get(r,i);s=this._aggregator.diff(o,s)}this._cumulativeMemoStorage.set(r,s,i),this._activeCollectionStorage.set(r,s,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new rm.AttributeHashMap,t}};ad.DeltaMetricProcessor=nm});var sm=c(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.TemporalMetricProcessor=void 0;var NC=Ml(),xV=Oo(),ts=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,s,o){let a=s;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),l=u,d;if(this._reportHistory.has(t)){let _=this._reportHistory.get(t);a=_.collectionTime,d=_.aggregationTemporality,d===NC.AggregationTemporality.CUMULATIVE&&(l=ts.merge(_.accumulations,u,this._aggregator))}else d=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:l,collectionTime:o,aggregationTemporality:d}),this._aggregator.toMetricData(n,d,BV(l),d===NC.AggregationTemporality.CUMULATIVE?s:a,o)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new xV.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=ts.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let s=t,o=r.entries(),a=o.next();for(;a.done!==!0;){let[u,l,d]=a.value,_=(i=t.get(u,d))!==null&&i!==void 0?i:n.createAccumulation();s.set(u,n.merge(_,l),d),a=o.next()}return s}};ud.TemporalMetricProcessor=ts;function BV(e){return Array.from(e.entries())}});var LC=c(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.AsyncMetricStorage=void 0;var UV=em(),GV=im(),FV=sm(),jV=Oo(),om=class extends UV.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new GV.DeltaMetricProcessor(r),this._temporalMetricStorage=new FV.TemporalMetricProcessor(r)}record(t){let r=new jV.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};cd.AsyncMetricStorage=om});var BC=c(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.getConflictResolutionRecipe=ze.getDescriptionResolutionRecipe=ze.getTypeConflictResolutionRecipe=ze.getUnitConflictResolutionRecipe=ze.getValueTypeConflictResolutionRecipe=ze.getIncompatibilityDetails=void 0;function kV(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}ze.getIncompatibilityDetails=kV;function wC(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}ze.getValueTypeConflictResolutionRecipe=wC;function MC(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}ze.getUnitConflictResolutionRecipe=MC;function DC(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}ze.getTypeConflictResolutionRecipe=DC;function xC(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}ze.getDescriptionResolutionRecipe=xC;function qV(e,t){return e.valueType!==t.valueType?wC(e,t):e.unit!==t.unit?MC(e,t):e.type!==t.type?DC(e,t):e.description!==t.description?xC(e,t):""}ze.getConflictResolutionRecipe=qV});var GC=c(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.MetricStorageRegistry=void 0;var HV=Rn(),UC=C(),ld=BC(),bo=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new bo}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let s of n){let o=s.getInstrumentDescriptor();(0,HV.isDescriptorCompatibleWith)(o,r)?(o.description!==r.description&&(r.description.length>o.description.length&&s.updateDescription(r.description),UC.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,ld.getIncompatibilityDetails)(o,r),`The longer description will be used.
To resolve the conflict:`,(0,ld.getConflictResolutionRecipe)(o,r))),i=s):UC.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,ld.getIncompatibilityDetails)(o,r),`To resolve the conflict:
`,(0,ld.getConflictResolutionRecipe)(o,r))}return i??(n.push(t),t)}};dd.MetricStorageRegistry=bo});var FC=c(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.MultiMetricStorage=void 0;var am=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};_d.MultiMetricStorage=am});var lm=c(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.BatchObservableResultImpl=rs.ObservableResultImpl=void 0;var jC=C(),kC=ki(),qC=Oo(),$V=Gl(),um=class{constructor(t){this._descriptor=t,this._buffer=new qC.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===kC.ValueType.INT&&!Number.isInteger(t)&&(jC.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};rs.ObservableResultImpl=um;var cm=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,$V.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new qC.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===kC.ValueType.INT&&!Number.isInteger(r)&&(jC.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};rs.BatchObservableResultImpl=cm});var VC=c(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.ObservableRegistry=void 0;var VV=C(),HC=Gl(),$C=lm(),vo=or(),dm=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(HC.isObservableInstrument));if(n.size===0){VV.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(HC.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,vo.PromiseAllSettled)([...r,...n])).filter(vo.isPromiseAllSettledRejectionResult).map(o=>o.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new $C.ObservableResultImpl(n._descriptor),s=Promise.resolve(r(i));t!=null&&(s=(0,vo.callWithTimeout)(s,t)),await s,n._metricStorages.forEach(o=>{o.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new $C.BatchObservableResultImpl,s=Promise.resolve(r(i));t!=null&&(s=(0,vo.callWithTimeout)(s,t)),await s,n.forEach(o=>{let a=i._buffer.get(o);a!=null&&o._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,vo.setEquals)(n.instruments,r))}};fd.ObservableRegistry=dm});var YC=c(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.SyncMetricStorage=void 0;var YV=em(),WV=im(),KV=sm(),_m=class extends YV.MetricStorage{constructor(t,r,n){super(t),this._attributesProcessor=n,this._deltaMetricStorage=new WV.DeltaMetricProcessor(r),this._temporalMetricStorage=new KV.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let s=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,s,n,i)}};pd.SyncMetricStorage=_m});var KC=c(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.MeterSharedState=void 0;var WC=Rn(),XV=OE(),hd=or(),zV=LC(),QV=GC(),ZV=FC(),JV=VC(),e5=YC(),fm=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new QV.MetricStorageRegistry,this.observableRegistry=new JV.ObservableRegistry,this.meter=new XV.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,WC.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new e5.SyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(hd.isNotNullish);return n.length===1?n[0]:new ZV.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let s=(0,WC.createInstrumentDescriptorWithView)(i,t),o=i.aggregation.createAggregator(s),a=new zV.AsyncMetricStorage(s,o,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(hd.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n?.timeoutMillis),s=Array.from(this._metricStorageRegistry.getStorages()).map(o=>o.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(hd.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:s.filter(hd.isNotNullish)},errors:i}}};gd.MeterSharedState=fm});var XC=c(Ed=>{"use strict";Object.defineProperty(Ed,"__esModule",{value:!0});Ed.MeterProviderSharedState=void 0;var t5=be(),r5=or(),n5=IC(),i5=KC(),pm=class{constructor(t){this.resource=t,this.viewRegistry=new n5.ViewRegistry,this.sdkStartTime=(0,t5.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,r5.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new i5.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};Ed.MeterProviderSharedState=pm});var zC=c(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.MetricCollector=void 0;var s5=be(),o5=or(),hm=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,s5.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(s=>s.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(s=>s.scopeMetrics)},errors:(0,o5.FlatMap)(i,s=>s.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};md.MetricCollector=hm});var QC=c(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.MeterProvider=void 0;var gm=C(),a5=ki(),u5=wE(),c5=XC(),l5=FE(),d5=qE(),_5=ZE(),f5=zC(),p5=zE(),h5=zl();function g5(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var Em=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new c5.MeterProviderSharedState((r=t?.resource)!==null&&r!==void 0?r:u5.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(gm.diag.warn("A shutdown MeterProvider cannot provide a Meter"),a5.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new f5.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(g5(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r?.instrument)===null||n===void 0?void 0:n.name)==null||h5.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new p5.FilteringAttributesProcessor(t.attributeKeys));let s=new _5.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),o=new l5.InstrumentSelector(r?.instrument),a=new d5.MeterSelector(r?.meter);this._sharedState.viewRegistry.addView(s,o,a)}async shutdown(t){if(this._shutdown){gm.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){gm.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Sd.MeterProvider=Em});var ZC=c(me=>{"use strict";var E5=me&&me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Vt=me&&me.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&E5(t,e,r)};Object.defineProperty(me,"__esModule",{value:!0});me.TimeoutError=me.InstrumentType=void 0;Vt(Ml(),me);Vt(go(),me);Vt(WP(),me);Vt(XP(),me);Vt(hE(),me);Vt(tC(),me);var m5=Rn();Object.defineProperty(me,"InstrumentType",{enumerable:!0,get:function(){return m5.InstrumentType}});Vt(OE(),me);Vt(QC(),me);Vt(lm(),me);var S5=or();Object.defineProperty(me,"TimeoutError",{enumerable:!0,get:function(){return S5.TimeoutError}});Vt(KE(),me)});var rI=c(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});Dr.toMetric=Dr.toScopeMetrics=Dr.toResourceMetrics=void 0;var JC=ki(),Ad=be(),Yt=ZC(),mm=Tl();function A5(e){return{resource:{attributes:(0,mm.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:eI(e.scopeMetrics)}}Dr.toResourceMetrics=A5;function eI(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>tI(n)),schemaUrl:t.scope.schemaUrl})))}Dr.toScopeMetrics=eI;function tI(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=v5(e.aggregationTemporality);if(e.dataPointType===Yt.DataPointType.SINGULAR){let n=y5(e),i=e.descriptor.type===Yt.InstrumentType.COUNTER||e.descriptor.type===Yt.InstrumentType.OBSERVABLE_COUNTER;O5(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else b5(e)&&(t.histogram={aggregationTemporality:r,dataPoints:R5(e)});return t}Dr.toMetric=tI;function T5(e,t){let r={attributes:(0,mm.toAttributes)(e.attributes),startTimeUnixNano:(0,Ad.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Ad.hrTimeToNanoseconds)(e.endTime)};return t===JC.ValueType.INT?r.asInt=e.value:t===JC.ValueType.DOUBLE&&(r.asDouble=e.value),r}function y5(e){return e.dataPoints.map(t=>T5(t,e.descriptor.valueType))}function R5(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,mm.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Ad.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Ad.hrTimeToNanoseconds)(t.endTime)}})}function O5(e){return e.descriptor.type===Yt.InstrumentType.COUNTER||e.descriptor.type===Yt.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===Yt.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===Yt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function b5(e){return e.dataPointType===Yt.DataPointType.HISTOGRAM}function v5(e){return e===Yt.AggregationTemporality.DELTA?1:e===Yt.AggregationTemporality.CUMULATIVE?2:0}});var nI=c(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.createExportMetricsServiceRequest=void 0;var P5=rI();function C5(e){return{resourceMetrics:e.map(t=>(0,P5.toResourceMetrics)(t))}}Td.createExportMetricsServiceRequest=C5});var iI=c(Qe=>{"use strict";var I5=Qe&&Qe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yd=Qe&&Qe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&I5(t,e,r)};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.createExportMetricsServiceRequest=Qe.createExportTraceServiceRequest=void 0;yd(OP(),Qe);yd(vP(),Qe);yd(CP(),Qe);yd(IP(),Qe);var N5=MP();Object.defineProperty(Qe,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return N5.createExportTraceServiceRequest}});var L5=nI();Object.defineProperty(Qe,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return L5.createExportMetricsServiceRequest}})});var oI=c(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.OTLPTraceExporter=void 0;var ns=be(),w5=oE(),sI=oE(),M5=iI(),Sm="v1/traces",D5=`http://localhost:4318/${Sm}`,Am=class extends w5.OTLPExporterNodeBase{constructor(t={}){super(t),this.headers=Object.assign(this.headers,ns.baggageUtils.parseKeyPairsIntoRecord((0,ns.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,M5.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,ns.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,sI.appendRootPathToUrlIfNeeded)((0,ns.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,Sm):(0,ns.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,sI.appendResourcePathToUrl)((0,ns.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,Sm):D5}};Rd.OTLPTraceExporter=Am});var aI=c(wn=>{"use strict";var x5=wn&&wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),B5=wn&&wn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&x5(t,e,r)};Object.defineProperty(wn,"__esModule",{value:!0});B5(oI(),wn)});var uI=c(Mn=>{"use strict";var U5=Mn&&Mn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G5=Mn&&Mn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&U5(t,e,r)};Object.defineProperty(Mn,"__esModule",{value:!0});G5(aI(),Mn)});var cI=c(Dn=>{"use strict";var F5=Dn&&Dn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),j5=Dn&&Dn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&F5(t,e,r)};Object.defineProperty(Dn,"__esModule",{value:!0});j5(uI(),Dn)});var AI=c((w9,q5)=>{q5.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var RI=c(ot=>{"use strict";var yI=AI(),Wt=process.env;Object.defineProperty(ot,"_vendors",{value:yI.map(function(e){return e.constant})});ot.name=null;ot.isPR=null;yI.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return TI(n)});if(ot[e.constant]=r,r)switch(ot.name=e.name,typeof e.pr){case"string":ot.isPR=!!Wt[e.pr];break;case"object":"env"in e.pr?ot.isPR=e.pr.env in Wt&&Wt[e.pr.env]!==e.pr.ne:"any"in e.pr?ot.isPR=e.pr.any.some(function(n){return!!Wt[n]}):ot.isPR=TI(e.pr);break;default:ot.isPR=null}});ot.isCI=!!(Wt.CI||Wt.CONTINUOUS_INTEGRATION||Wt.BUILD_NUMBER||Wt.RUN_ID||ot.name);function TI(e){return typeof e=="string"?!!Wt[e]:Object.keys(e).every(function(t){return Wt[t]===e[t]})}});var bI=c((D9,OI)=>{"use strict";OI.exports=RI().isCI});var PI=c((x9,ym)=>{"use strict";var H5=Object.prototype.hasOwnProperty,qe="~";function Co(){}Object.create&&(Co.prototype=Object.create(null),new Co().__proto__||(qe=!1));function $5(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function vI(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var s=new $5(r,n||e,i),o=qe?qe+t:t;return e._events[o]?e._events[o].fn?e._events[o]=[e._events[o],s]:e._events[o].push(s):(e._events[o]=s,e._eventsCount++),e}function Od(e,t){--e._eventsCount===0?e._events=new Co:delete e._events[t]}function Ge(){this._events=new Co,this._eventsCount=0}Ge.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)H5.call(r,n)&&t.push(qe?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ge.prototype.listeners=function(t){var r=qe?qe+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o};Ge.prototype.listenerCount=function(t){var r=qe?qe+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ge.prototype.emit=function(t,r,n,i,s,o){var a=qe?qe+t:t;if(!this._events[a])return!1;var u=this._events[a],l=arguments.length,d,_;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),l){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,s),!0;case 6:return u.fn.call(u.context,r,n,i,s,o),!0}for(_=1,d=new Array(l-1);_<l;_++)d[_-1]=arguments[_];u.fn.apply(u.context,d)}else{var f=u.length,p;for(_=0;_<f;_++)switch(u[_].once&&this.removeListener(t,u[_].fn,void 0,!0),l){case 1:u[_].fn.call(u[_].context);break;case 2:u[_].fn.call(u[_].context,r);break;case 3:u[_].fn.call(u[_].context,r,n);break;case 4:u[_].fn.call(u[_].context,r,n,i);break;default:if(!d)for(p=1,d=new Array(l-1);p<l;p++)d[p-1]=arguments[p];u[_].fn.apply(u[_].context,d)}}return!0};Ge.prototype.on=function(t,r,n){return vI(this,t,r,n,!1)};Ge.prototype.once=function(t,r,n){return vI(this,t,r,n,!0)};Ge.prototype.removeListener=function(t,r,n,i){var s=qe?qe+t:t;if(!this._events[s])return this;if(!r)return Od(this,s),this;var o=this._events[s];if(o.fn)o.fn===r&&(!i||o.once)&&(!n||o.context===n)&&Od(this,s);else{for(var a=0,u=[],l=o.length;a<l;a++)(o[a].fn!==r||i&&!o[a].once||n&&o[a].context!==n)&&u.push(o[a]);u.length?this._events[s]=u.length===1?u[0]:u:Od(this,s)}return this};Ge.prototype.removeAllListeners=function(t){var r;return t?(r=qe?qe+t:t,this._events[r]&&Od(this,r)):(this._events=new Co,this._eventsCount=0),this};Ge.prototype.off=Ge.prototype.removeListener;Ge.prototype.addListener=Ge.prototype.on;Ge.prefixed=qe;Ge.EventEmitter=Ge;typeof ym<"u"&&(ym.exports=Ge)});var II=c((B9,CI)=>{"use strict";CI.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var LI=c((U9,vd)=>{"use strict";var V5=II(),bd=class extends Error{constructor(t){super(t),this.name="TimeoutError"}},NI=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0){n(e);return}let s=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let o=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new bd(o);typeof e.cancel=="function"&&e.cancel(),i(a)},t);V5(e.then(n,i),()=>{clearTimeout(s)})});vd.exports=NI;vd.exports.default=NI;vd.exports.TimeoutError=bd});var wI=c(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});function Y5(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,o=n+s;r(e[o],t)<=0?(n=++o,i-=s+1):i=s}return n}Rm.default=Y5});var MI=c(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});var W5=wI(),Om=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=W5.default(this._queue,n,(s,o)=>o.priority-s.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t?.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};bm.default=Om});var xI=c(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});var K5=PI(),DI=LI(),X5=MI(),Pd=()=>{},z5=new DI.TimeoutError,vm=class extends K5{constructor(t){var r,n,i,s;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=Pd,this._resolveIdle=Pd,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:X5.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=Pd,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=Pd,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&r.timeout===void 0?t():DI.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(z5)});n(await o)}catch(o){i(o)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Pm.default=vm});var UI=c((k9,Cm)=>{"use strict";var BI=(e,...t)=>new Promise(r=>{r(e(...t))});Cm.exports=BI;Cm.exports.default=BI});var FI=c((q9,Im)=>{"use strict";var Q5=UI(),GI=e=>{if(!((Number.isInteger(e)||e===1/0)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...l)=>{r++;let d=Q5(a,...l);u(d),d.then(n,n)},s=(a,u,...l)=>{r<e?i(a,u,...l):t.push(i.bind(null,a,u,...l))},o=(a,...u)=>new Promise(l=>s(a,l,...u));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};Im.exports=GI;Im.exports.default=GI});var jI=c(Lm=>{"use strict";var Cd=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Lm.Semaphore=Cd;var Nm=class extends Cd{constructor(){super(1)}};Lm.Mutex=Nm});var qI=c(($9,kI)=>{"use strict";kI.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var wm=c((V9,HI)=>{"use strict";var Z5=qI();HI.exports=e=>typeof e=="string"?e.replace(Z5(),""):e});var VI=c((Y9,Mm)=>{"use strict";var $I=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);Mm.exports=$I;Mm.exports.default=$I});var KI=c((W9,WI)=>{"use strict";var YI="[\uD800-\uDBFF][\uDC00-\uDFFF]",J5=e=>e&&e.exact?new RegExp(`^${YI}$`):new RegExp(YI,"g");WI.exports=J5});var zI=c((K9,XI)=>{"use strict";XI.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Dm=c((X9,ZI)=>{var Io=zI(),QI={};for(let e of Object.keys(Io))QI[Io[e]]=e;var w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};ZI.exports=w;for(let e of Object.keys(w)){if(!("channels"in w[e]))throw new Error("missing channels property: "+e);if(!("labels"in w[e]))throw new Error("missing channel labels property: "+e);if(w[e].labels.length!==w[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=w[e];delete w[e].channels,delete w[e].labels,Object.defineProperty(w[e],"channels",{value:t}),Object.defineProperty(w[e],"labels",{value:r})}w.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,a,u;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let l=(i+s)/2;return s===i?u=0:l<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,l*100]};w.rgb.hsv=function(e){let t,r,n,i,s,o=e[0]/255,a=e[1]/255,u=e[2]/255,l=Math.max(o,a,u),d=l-Math.min(o,a,u),_=function(f){return(l-f)/6/d+1/2};return d===0?(i=0,s=0):(s=d/l,t=_(o),r=_(a),n=_(u),o===l?i=n-r:a===l?i=1/3+t-n:u===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,l*100]};w.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=w.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};w.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function eY(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}w.rgb.keyword=function(e){let t=QI[e];if(t)return t;let r=1/0,n;for(let i of Object.keys(Io)){let s=Io[i],o=eY(e,s);o<r&&(r=o,n=i)}return n};w.keyword.rgb=function(e){return Io[e]};w.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};w.rgb.lab=function(e){let t=w.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};w.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let l=0;l<3;l++)s=t+1/3*-(l-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[l]=o*255;return u};w.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};w.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};w.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};w.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),l,d,_;switch(o){default:case 6:case 0:l=a,d=u,_=r;break;case 1:l=u,d=a,_=r;break;case 2:l=r,d=a,_=u;break;case 3:l=r,d=u,_=a;break;case 4:l=u,d=r,_=a;break;case 5:l=a,d=r,_=u;break}return[l*255,d*255,_*255]};w.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};w.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};w.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};w.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,l=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=l>.008856?l:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};w.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[t,o,i]};w.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};w.rgb.ansi16=function(e,t=null){let[r,n,i]=e,s=t===null?w.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};w.hsv.ansi16=function(e){return w.rgb.ansi16(w.hsv.rgb(e),e[2])};w.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};w.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};w.ansi256.rgb=function(e){if(e>=232){let s=(e-232)*10+8;return[s,s,s]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};w.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};w.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};w.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===t?u=(r-n)/o%6:i===r?u=2+(n-t)/o:u=4+(t-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};w.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};w.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};w.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=t%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};w.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};w.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};w.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};w.hwb.hcg=function(e){let t=e[1]/100,n=1-e[2]/100,i=n-t,s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};w.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};w.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};w.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};w.gray.hsl=function(e){return[0,0,e[0]]};w.gray.hsv=w.gray.hsl;w.gray.hwb=function(e){return[0,100,e[0]]};w.gray.cmyk=function(e){return[0,0,0,e[0]]};w.gray.lab=function(e){return[e[0],0,0]};w.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};w.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var eN=c((z9,JI)=>{var Id=Dm();function tY(){let e={},t=Object.keys(Id);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function rY(e){let t=tY(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(Id[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function nY(e,t){return function(r){return t(e(r))}}function iY(e,t){let r=[t[e].parent,e],n=Id[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=nY(Id[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}JI.exports=function(e){let t=rY(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){let o=n[s];t[o].parent!==null&&(r[o]=iY(o,t))}return r}});var rN=c((Q9,tN)=>{var xm=Dm(),sY=eN(),ss={},oY=Object.keys(xm);function aY(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function uY(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}oY.forEach(e=>{ss[e]={},Object.defineProperty(ss[e],"channels",{value:xm[e].channels}),Object.defineProperty(ss[e],"labels",{value:xm[e].labels});let t=sY(e);Object.keys(t).forEach(n=>{let i=t[n];ss[e][n]=uY(i),ss[e][n].raw=aY(i)})});tN.exports=ss});var uN=c((Z9,aN)=>{"use strict";var nN=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,iN=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};5;${n}m`},sN=(e,t)=>(...r)=>{let n=e(...r);return`\x1B[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Nd=e=>e,oN=(e,t,r)=>[e,t,r],os=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},Bm,as=(e,t,r,n)=>{Bm===void 0&&(Bm=rN());let i=n?10:0,s={};for(let[o,a]of Object.entries(Bm)){let u=o==="ansi16"?"ansi":o;o===t?s[u]=e(r,i):typeof a=="object"&&(s[u]=e(a[t],i))}return s};function cY(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,s]of Object.entries(n))t[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",os(t.color,"ansi",()=>as(nN,"ansi16",Nd,!1)),os(t.color,"ansi256",()=>as(iN,"ansi256",Nd,!1)),os(t.color,"ansi16m",()=>as(sN,"rgb",oN,!1)),os(t.bgColor,"ansi",()=>as(nN,"ansi16",Nd,!0)),os(t.bgColor,"ansi256",()=>as(iN,"ansi256",Nd,!0)),os(t.bgColor,"ansi16m",()=>as(sN,"rgb",oN,!0)),t}Object.defineProperty(aN,"exports",{enumerable:!0,get:cY})});var fN=c((J9,_N)=>{"use strict";var lY=VI(),dY=KI(),cN=uN(),dN=["\x1B","\x9B"],Ld=e=>`${dN[0]}[${e}m`,lN=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let s=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let o=cN.codes.get(Number.parseInt(i,10));if(o){let a=e.indexOf(o.toString());a===-1?n.push(Ld(t?o:s)):e.splice(a,1)}else if(t){n.push(Ld(0));break}else n.push(Ld(s))}if(t&&(n=n.filter((i,s)=>n.indexOf(i)===s),r!==void 0)){let i=Ld(cN.codes.get(Number.parseInt(r,10)));n=n.reduce((s,o)=>o===i?[o,...s]:[...s,o],[])}return n.join("")};_N.exports=(e,t,r)=>{let n=[...e],i=[],s=typeof r=="number"?r:n.length,o=!1,a,u=0,l="";for(let[d,_]of n.entries()){let f=!1;if(dN.includes(_)){let p=/\d[^m]*/.exec(e.slice(d,d+18));a=p&&p.length>0?p[0]:void 0,u<s&&(o=!0,a!==void 0&&i.push(a))}else o&&_==="m"&&(o=!1,f=!0);if(!o&&!f&&u++,!dY({exact:!0}).test(_)&&lY(_.codePointAt())&&(u++,typeof r!="number"&&s++),u>t&&u<=s)l+=_;else if(u===t&&!o&&a!==void 0)l=lN(i);else if(u>=s){l+=lN(i,!0,a);break}}return l}});var BN=c((jn,xN)=>{"use strict";var Ym=O("crypto");jn=xN.exports=Mo;function Mo(e,t){return t=MN(e,t),xY(e,t)}jn.sha1=function(e){return Mo(e)};jn.keys=function(e){return Mo(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};jn.MD5=function(e){return Mo(e,{algorithm:"md5",encoding:"hex"})};jn.keysMD5=function(e){return Mo(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var fs=Ym.getHashes?Ym.getHashes().slice():["sha1","md5"];fs.push("passthrough");var LN=["buffer","hex","binary","base64"];function MN(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=t.ignoreUnknown===!0,r.respectType=t.respectType!==!1,r.respectFunctionNames=t.respectFunctionNames!==!1,r.respectFunctionProperties=t.respectFunctionProperties!==!1,r.unorderedArrays=t.unorderedArrays===!0,r.unorderedSets=t.unorderedSets!==!1,r.unorderedObjects=t.unorderedObjects!==!1,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,typeof e>"u")throw new Error("Object argument required.");for(var n=0;n<fs.length;++n)fs[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=fs[n]);if(fs.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+fs.join(", "));if(LN.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+LN.join(", "));return r}function wN(e){if(typeof e!="function")return!1;var t=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return t.exec(Function.prototype.toString.call(e))!=null}function xY(e,t){var r;t.algorithm!=="passthrough"?r=Ym.createHash(t.algorithm):r=new DN,typeof r.write>"u"&&(r.write=r.update,r.end=r.update);var n=Wm(t,r);if(n.dispatch(e),r.update||r.end(""),r.digest)return r.digest(t.encoding==="buffer"?void 0:t.encoding);var i=r.read();return t.encoding==="buffer"?i:i.toString(t.encoding)}jn.writeToStream=function(e,t,r){return typeof r>"u"&&(r=t,t={}),t=MN(e,t),Wm(t,r).dispatch(e)};function Wm(e,t,r){r=r||[];var n=function(i){return t.update?t.update(i,"utf8"):t.write(i,"utf8")};return{dispatch:function(i){e.replacer&&(i=e.replacer(i));var s=typeof i;return i===null&&(s="null"),this["_"+s](i)},_object:function(i){var s=/\[object (.*)\]/i,o=Object.prototype.toString.call(i),a=s.exec(o);a?a=a[1]:a="unknown:["+o+"]",a=a.toLowerCase();var u=null;if((u=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+u+"]");if(r.push(i),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(a!=="object"&&a!=="function"&&a!=="asyncfunction")if(this["_"+a])this["_"+a](i);else{if(e.ignoreUnknown)return n("["+a+"]");throw new Error('Unknown object type "'+a+'"')}else{var l=Object.keys(i);e.unorderedObjects&&(l=l.sort()),e.respectType!==!1&&!wN(i)&&l.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(l=l.filter(function(_){return!e.excludeKeys(_)})),n("object:"+l.length+":");var d=this;return l.forEach(function(_){d.dispatch(_),n(":"),e.excludeValues||d.dispatch(i[_]),n(",")})}},_array:function(i,s){s=typeof s<"u"?s:e.unorderedArrays!==!1;var o=this;if(n("array:"+i.length+":"),!s||i.length<=1)return i.forEach(function(l){return o.dispatch(l)});var a=[],u=i.map(function(l){var d=new DN,_=r.slice(),f=Wm(e,d,_);return f.dispatch(l),a=a.concat(_.slice(r.length)),d.read().toString()});return r=r.concat(a),u.sort(),this._array(u,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),wN(i)?this.dispatch("[native]"):this.dispatch(i.toString()),e.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),e.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_set:function(i){n("set:");var s=Array.from(i);return this._array(s,e.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(e.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function DN(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}});var WY={};gL(WY,{default:()=>YY});var Bn=O("@yarnpkg/cli"),ke=O("@yarnpkg/core"),mI=O("@yarnpkg/libzip"),re=O("@yarnpkg/fslib"),Tt=O("clipanion"),Tm=Q(O("path"));var eS=O("fs"),tS=async e=>{try{return(0,eS.readFileSync)(e,"utf-8").split(`
`)}catch{return[]}};var rS=O("path"),nS=({ignoreFile:e,cwd:t})=>(0,rS.join)(t,e);var Ly=Q(_S());var Iy=Q(Yf()),Ny=async({cwd:e})=>{try{return await(0,Iy.default)("**/*",{dot:!0,cwd:e,absolute:!1})}catch{return[]}};var Wf=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=nS({ignoreFile:t,cwd:r}),i=(0,Ly.default)().add([...e,...await tS(n)]);return(await Ny({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var wy=["package.json","package.yaml","package.yml"];var Ra=O("path"),hx={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,Ra.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>wy.map(t=>(0,Ra.join)(e,t))},gx=({cwd:e,rootDir:t})=>[...new Set(Object.values(hx).map(r=>r({cwd:e,rootDir:t})).flat())],My=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>gx({cwd:r,rootDir:t})).flat();var Os=O("@yarnpkg/fslib"),Y=Q(O("typanion"));function Xy(e){return typeof e>"u"||e===null}function Ex(e){return typeof e=="object"&&e!==null}function mx(e){return Array.isArray(e)?e:Xy(e)?[]:[e]}function Sx(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function Ax(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function Tx(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var yx=Xy,Rx=Ex,Ox=mx,bx=Ax,vx=Tx,Px=Sx,Ae={isNothing:yx,isObject:Rx,toArray:Ox,repeat:bx,isNegativeZero:vx,extend:Px};function zy(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function As(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=zy(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}As.prototype=Object.create(Error.prototype);As.prototype.constructor=As;As.prototype.toString=function(t){return this.name+": "+zy(this,t)};var Ve=As;function Kf(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Xf(e,t){return Ae.repeat(" ",t-e.length)+e}function Cx(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",u,l,d=Math.min(e.line+t.linesAfter,i.length).toString().length,_=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(o-u<0);u++)l=Kf(e.buffer,n[o-u],i[o-u],e.position-(n[o]-n[o-u]),_),a=Ae.repeat(" ",t.indent)+Xf((e.line-u+1).toString(),d)+" | "+l.str+`
`+a;for(l=Kf(e.buffer,n[o],i[o],e.position,_),a+=Ae.repeat(" ",t.indent)+Xf((e.line+1).toString(),d)+" | "+l.str+`
`,a+=Ae.repeat("-",t.indent+d+3+l.pos)+`^
`,u=1;u<=t.linesAfter&&!(o+u>=i.length);u++)l=Kf(e.buffer,n[o+u],i[o+u],e.position-(n[o]-n[o+u]),_),a+=Ae.repeat(" ",t.indent)+Xf((e.line+u+1).toString(),d)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var Ix=Cx,Nx=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Lx=["scalar","sequence","mapping"];function wx(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function Mx(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(Nx.indexOf(r)===-1)throw new Ve('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=wx(t.styleAliases||null),Lx.indexOf(this.kind)===-1)throw new Ve('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Ce=Mx;function Dy(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function Dx(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Qf(e){return this.extend(e)}Qf.prototype.extend=function(t){var r=[],n=[];if(t instanceof Ce)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Ve("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Ce))throw new Ve("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Ve("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Ve("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Ce))throw new Ve("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Qf.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Dy(i,"implicit"),i.compiledExplicit=Dy(i,"explicit"),i.compiledTypeMap=Dx(i.compiledImplicit,i.compiledExplicit),i};var xx=Qf,Bx=new Ce("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Ux=new Ce("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Gx=new Ce("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Fx=new xx({explicit:[Bx,Ux,Gx]});function jx(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function kx(){return null}function qx(e){return e===null}var Hx=new Ce("tag:yaml.org,2002:null",{kind:"scalar",resolve:jx,construct:kx,predicate:qx,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function $x(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Vx(e){return e==="true"||e==="True"||e==="TRUE"}function Yx(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Wx=new Ce("tag:yaml.org,2002:bool",{kind:"scalar",resolve:$x,construct:Vx,predicate:Yx,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Kx(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Xx(e){return 48<=e&&e<=55}function zx(e){return 48<=e&&e<=57}function Qx(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Kx(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!Xx(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!zx(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Zx(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Jx(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ae.isNegativeZero(e)}var eB=new Ce("tag:yaml.org,2002:int",{kind:"scalar",resolve:Qx,construct:Zx,predicate:Jx,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),tB=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rB(e){return!(e===null||!tB.test(e)||e[e.length-1]==="_")}function nB(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var iB=/^[-+]?[0-9]+e/;function sB(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ae.isNegativeZero(e))return"-0.0";return r=e.toString(10),iB.test(r)?r.replace("e",".e"):r}function oB(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ae.isNegativeZero(e))}var aB=new Ce("tag:yaml.org,2002:float",{kind:"scalar",resolve:rB,construct:nB,predicate:oB,represent:sB,defaultStyle:"lowercase"}),Qy=Fx.extend({implicit:[Hx,Wx,eB,aB]}),uB=Qy,Zy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Jy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function cB(e){return e===null?!1:Zy.exec(e)!==null||Jy.exec(e)!==null}function lB(e){var t,r,n,i,s,o,a,u=0,l=null,d,_,f;if(t=Zy.exec(e),t===null&&(t=Jy.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],_=+(t[11]||0),l=(d*60+_)*6e4,t[9]==="-"&&(l=-l)),f=new Date(Date.UTC(r,n,i,s,o,a,u)),l&&f.setTime(f.getTime()-l),f}function dB(e){return e.toISOString()}var _B=new Ce("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:cB,construct:lB,instanceOf:Date,represent:dB});function fB(e){return e==="<<"||e===null}var pB=new Ce("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fB}),rp=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function hB(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=rp;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function gB(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=rp,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function EB(e){var t="",r=0,n,i,s=e.length,o=rp;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function mB(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var SB=new Ce("tag:yaml.org,2002:binary",{kind:"scalar",resolve:hB,construct:gB,predicate:mB,represent:EB}),AB=Object.prototype.hasOwnProperty,TB=Object.prototype.toString;function yB(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,TB.call(i)!=="[object Object]")return!1;for(s in i)if(AB.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function RB(e){return e!==null?e:[]}var OB=new Ce("tag:yaml.org,2002:omap",{kind:"sequence",resolve:yB,construct:RB}),bB=Object.prototype.toString;function vB(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],bB.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function PB(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}var CB=new Ce("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:vB,construct:PB}),IB=Object.prototype.hasOwnProperty;function NB(e){if(e===null)return!0;var t,r=e;for(t in r)if(IB.call(r,t)&&r[t]!==null)return!1;return!0}function LB(e){return e!==null?e:{}}var wB=new Ce("tag:yaml.org,2002:set",{kind:"mapping",resolve:NB,construct:LB}),eR=uB.extend({implicit:[_B,pB],explicit:[SB,OB,CB,wB]}),mr=Object.prototype.hasOwnProperty,Oa=1,tR=2,rR=3,ba=4,zf=1,MB=2,xy=3,DB=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,xB=/[\x85\u2028\u2029]/,BB=/[,\[\]\{\}]/,nR=/^(?:!|!!|![a-z\-]+!)$/i,iR=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function By(e){return Object.prototype.toString.call(e)}function wt(e){return e===10||e===13}function Vr(e){return e===9||e===32}function Ye(e){return e===9||e===32||e===10||e===13}function ri(e){return e===44||e===91||e===93||e===123||e===125}function UB(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function GB(e){return e===120?2:e===117?4:e===85?8:0}function FB(e){return 48<=e&&e<=57?e-48:-1}function Uy(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function jB(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var sR=new Array(256),oR=new Array(256);for($r=0;$r<256;$r++)sR[$r]=Uy($r)?1:0,oR[$r]=Uy($r);var $r;function kB(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||eR,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function aR(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Ix(r),new Ve(t,r)}function x(e,t){throw aR(e,t)}function va(e,t){e.onWarning&&e.onWarning.call(null,aR(e,t))}var Gy={YAML:function(t,r,n){var i,s,o;t.version!==null&&x(t,"duplication of %YAML directive"),n.length!==1&&x(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&x(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&x(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&va(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&x(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],nR.test(i)||x(t,"ill-formed tag handle (first argument) of the TAG directive"),mr.call(t.tagMap,i)&&x(t,'there is a previously declared suffix for "'+i+'" tag handle'),iR.test(s)||x(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{x(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Er(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||x(e,"expected valid JSON character");else DB.test(a)&&x(e,"the stream contains non-printable characters");e.result+=a}}function Fy(e,t,r,n){var i,s,o,a;for(Ae.isObject(r)||x(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],mr.call(t,s)||(t[s]=r[s],n[s]=!0)}function ni(e,t,r,n,i,s,o,a,u){var l,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,d=i.length;l<d;l+=1)Array.isArray(i[l])&&x(e,"nested arrays are not supported inside keys"),typeof i=="object"&&By(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&By(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(l=0,d=s.length;l<d;l+=1)Fy(e,t,s[l],r);else Fy(e,t,s,r);else!e.json&&!mr.call(r,i)&&mr.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,x(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):t[i]=s,delete r[i];return t}function np(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function pe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Vr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(wt(i))for(np(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&va(e,"deficient indentation"),n}function Ia(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ye(r)))}function ip(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ae.repeat(`
`,t-1))}function qB(e,t,r){var n,i,s,o,a,u,l,d,_=e.kind,f=e.result,p;if(p=e.input.charCodeAt(e.position),Ye(p)||ri(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),Ye(i)||r&&ri(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),Ye(i)||r&&ri(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),Ye(n))break}else{if(e.position===e.lineStart&&Ia(e)||r&&ri(p))break;if(wt(p))if(u=e.line,l=e.lineStart,d=e.lineIndent,pe(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=u,e.lineStart=l,e.lineIndent=d;break}}a&&(Er(e,s,o,!1),ip(e,e.line-u),s=o=e.position,a=!1),Vr(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Er(e,s,o,!1),e.result?!0:(e.kind=_,e.result=f,!1)}function HB(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Er(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else wt(r)?(Er(e,n,i,!0),ip(e,pe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Ia(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function $B(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Er(e,r,e.position,!0),e.position++,!0;if(a===92){if(Er(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),wt(a))pe(e,!1,t);else if(a<256&&sR[a])e.result+=oR[a],e.position++;else if((o=GB(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=UB(a))>=0?s=(s<<4)+o:x(e,"expected hexadecimal character");e.result+=jB(s),e.position++}else x(e,"unknown escape sequence");r=n=e.position}else wt(a)?(Er(e,r,n,!0),ip(e,pe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Ia(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function VB(e,t){var r=!0,n,i,s,o=e.tag,a,u=e.anchor,l,d,_,f,p,h=Object.create(null),g,A,y,T;if(T=e.input.charCodeAt(e.position),T===91)d=93,p=!1,a=[];else if(T===123)d=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),T=e.input.charCodeAt(++e.position);T!==0;){if(pe(e,!0,t),T=e.input.charCodeAt(e.position),T===d)return e.position++,e.tag=o,e.anchor=u,e.kind=p?"mapping":"sequence",e.result=a,!0;r?T===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),A=g=y=null,_=f=!1,T===63&&(l=e.input.charCodeAt(e.position+1),Ye(l)&&(_=f=!0,e.position++,pe(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,ii(e,t,Oa,!1,!0),A=e.tag,g=e.result,pe(e,!0,t),T=e.input.charCodeAt(e.position),(f||e.line===n)&&T===58&&(_=!0,T=e.input.charCodeAt(++e.position),pe(e,!0,t),ii(e,t,Oa,!1,!0),y=e.result),p?ni(e,a,h,A,g,y,n,i,s):_?a.push(ni(e,null,h,A,g,y,n,i,s)):a.push(g),pe(e,!0,t),T=e.input.charCodeAt(e.position),T===44?(r=!0,T=e.input.charCodeAt(++e.position)):r=!1}x(e,"unexpected end of the stream within a flow collection")}function YB(e,t){var r,n,i=zf,s=!1,o=!1,a=t,u=0,l=!1,d,_;if(_=e.input.charCodeAt(e.position),_===124)n=!1;else if(_===62)n=!0;else return!1;for(e.kind="scalar",e.result="";_!==0;)if(_=e.input.charCodeAt(++e.position),_===43||_===45)zf===i?i=_===43?xy:MB:x(e,"repeat of a chomping mode identifier");else if((d=FB(_))>=0)d===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?x(e,"repeat of an indentation width identifier"):(a=t+d-1,o=!0);else break;if(Vr(_)){do _=e.input.charCodeAt(++e.position);while(Vr(_));if(_===35)do _=e.input.charCodeAt(++e.position);while(!wt(_)&&_!==0)}for(;_!==0;){for(np(e),e.lineIndent=0,_=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&_===32;)e.lineIndent++,_=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),wt(_)){u++;continue}if(e.lineIndent<a){i===xy?e.result+=Ae.repeat(`
`,s?1+u:u):i===zf&&s&&(e.result+=`
`);break}for(n?Vr(_)?(l=!0,e.result+=Ae.repeat(`
`,s?1+u:u)):l?(l=!1,e.result+=Ae.repeat(`
`,u+1)):u===0?s&&(e.result+=" "):e.result+=Ae.repeat(`
`,u):e.result+=Ae.repeat(`
`,s?1+u:u),s=!0,o=!0,u=0,r=e.position;!wt(_)&&_!==0;)_=e.input.charCodeAt(++e.position);Er(e,r,e.position,!1)}return!0}function jy(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(u!==45||(o=e.input.charCodeAt(e.position+1),!Ye(o))));){if(a=!0,e.position++,pe(e,!0,-1)&&e.lineIndent<=t){s.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,ii(e,t,rR,!1,!0),s.push(e.result),pe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function WB(e,t,r){var n,i,s,o,a,u,l=e.tag,d=e.anchor,_={},f=Object.create(null),p=null,h=null,g=null,A=!1,y=!1,T;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=_),T=e.input.charCodeAt(e.position);T!==0;){if(!A&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(T===63||T===58)&&Ye(n))T===63?(A&&(ni(e,_,f,p,h,null,o,a,u),p=h=g=null),y=!0,A=!0,i=!0):A?(A=!1,i=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,T=n;else{if(o=e.line,a=e.lineStart,u=e.position,!ii(e,r,tR,!1,!0))break;if(e.line===s){for(T=e.input.charCodeAt(e.position);Vr(T);)T=e.input.charCodeAt(++e.position);if(T===58)T=e.input.charCodeAt(++e.position),Ye(T)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(ni(e,_,f,p,h,null,o,a,u),p=h=g=null),y=!0,A=!1,i=!1,p=e.tag,h=e.result;else if(y)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=l,e.anchor=d,!0}else if(y)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=l,e.anchor=d,!0}if((e.line===s||e.lineIndent>t)&&(A&&(o=e.line,a=e.lineStart,u=e.position),ii(e,t,ba,!0,i)&&(A?h=e.result:g=e.result),A||(ni(e,_,f,p,h,g,o,a,u),p=h=g=null),pe(e,!0,-1),T=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&T!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return A&&ni(e,_,f,p,h,null,o,a,u),y&&(e.tag=l,e.anchor=d,e.kind="mapping",e.result=_),y}function KB(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ye(o);)o===33&&(n?x(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),nR.test(i)||x(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),BB.test(s)&&x(e,"tag suffix cannot contain flow indicator characters")}s&&!iR.test(s)&&x(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{x(e,"tag name is malformed: "+s)}return r?e.tag=s:mr.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:x(e,'undeclared tag handle "'+i+'"'),!0}function XB(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ye(r)&&!ri(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function zB(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ye(n)&&!ri(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),mr.call(e.anchorMap,r)||x(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],pe(e,!0,-1),!0}function ii(e,t,r,n,i){var s,o,a,u=1,l=!1,d=!1,_,f,p,h,g,A;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=ba===r||rR===r,n&&pe(e,!0,-1)&&(l=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;KB(e)||XB(e);)pe(e,!0,-1)?(l=!0,a=s,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=l||i),(u===1||ba===r)&&(Oa===r||tR===r?g=t:g=t+1,A=e.position-e.lineStart,u===1?a&&(jy(e,A)||WB(e,A,g))||VB(e,g)?d=!0:(o&&YB(e,g)||HB(e,g)||$B(e,g)?d=!0:zB(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):qB(e,g,Oa===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=a&&jy(e,A))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),_=0,f=e.implicitTypes.length;_<f;_+=1)if(h=e.implicitTypes[_],h.resolve(e.result)){e.result=h.construct(e.result),e.tag=h.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(mr.call(e.typeMap[e.kind||"fallback"],e.tag))h=e.typeMap[e.kind||"fallback"][e.tag];else for(h=null,p=e.typeMap.multi[e.kind||"fallback"],_=0,f=p.length;_<f;_+=1)if(e.tag.slice(0,p[_].tag.length)===p[_].tag){h=p[_];break}h||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&h.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+h.kind+'", not "'+e.kind+'"'),h.resolve(e.result,e.tag)?(e.result=h.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function QB(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(pe(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!Ye(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&x(e,"directive name must not be less than one character in length");o!==0;){for(;Vr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!wt(o));break}if(wt(o))break;for(r=e.position;o!==0&&!Ye(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&np(e),mr.call(Gy,n)?Gy[n](e,n,i):va(e,'unknown document directive "'+n+'"')}if(pe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,pe(e,!0,-1)):s&&x(e,"directives end mark is expected"),ii(e,e.lineIndent-1,ba,!1,!0),pe(e,!0,-1),e.checkLineBreaks&&xB.test(e.input.slice(t,e.position))&&va(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ia(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,pe(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function uR(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new kB(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,x(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)QB(r);return r.documents}function ZB(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=uR(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function JB(e,t){var r=uR(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ve("expected a single document in the stream, but found more")}}var eU=ZB,tU=JB,cR={loadAll:eU,load:tU},lR=Object.prototype.toString,dR=Object.prototype.hasOwnProperty,sp=65279,rU=9,Ts=10,nU=13,iU=32,sU=33,oU=34,Zf=35,aU=37,uU=38,cU=39,lU=42,_R=44,dU=45,Pa=58,_U=61,fU=62,pU=63,hU=64,fR=91,pR=93,gU=96,hR=123,EU=124,gR=125,Ie={};Ie[0]="\\0";Ie[7]="\\a";Ie[8]="\\b";Ie[9]="\\t";Ie[10]="\\n";Ie[11]="\\v";Ie[12]="\\f";Ie[13]="\\r";Ie[27]="\\e";Ie[34]='\\"';Ie[92]="\\\\";Ie[133]="\\N";Ie[160]="\\_";Ie[8232]="\\L";Ie[8233]="\\P";var mU=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],SU=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function AU(e,t){var r,n,i,s,o,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),u=e.compiledTypeMap.fallback[o],u&&dR.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[o]=a;return r}function TU(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Ve("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Ae.repeat("0",n-t.length)+t}var yU=1,ys=2;function RU(e){this.schema=e.schema||eR,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ae.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=AU(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ys:yU,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ky(e,t){for(var r=Ae.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!==`
`&&(s+=r),s+=o;return s}function Jf(e,t){return`
`+Ae.repeat(" ",e.indent*t)}function OU(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ca(e){return e===iU||e===rU}function Rs(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==sp||65536<=e&&e<=1114111}function qy(e){return Rs(e)&&e!==sp&&e!==nU&&e!==Ts}function Hy(e,t,r){var n=qy(e),i=n&&!Ca(e);return(r?n:n&&e!==_R&&e!==fR&&e!==pR&&e!==hR&&e!==gR)&&e!==Zf&&!(t===Pa&&!i)||qy(t)&&!Ca(t)&&e===Zf||t===Pa&&i}function bU(e){return Rs(e)&&e!==sp&&!Ca(e)&&e!==dU&&e!==pU&&e!==Pa&&e!==_R&&e!==fR&&e!==pR&&e!==hR&&e!==gR&&e!==Zf&&e!==uU&&e!==lU&&e!==sU&&e!==EU&&e!==_U&&e!==fU&&e!==cU&&e!==oU&&e!==aU&&e!==hU&&e!==gU}function vU(e){return!Ca(e)&&e!==Pa}function Ss(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function ER(e){var t=/^\n* /;return t.test(e)}var mR=1,ep=2,SR=3,AR=4,ti=5;function PU(e,t,r,n,i,s,o,a){var u,l=0,d=null,_=!1,f=!1,p=n!==-1,h=-1,g=bU(Ss(e,0))&&vU(Ss(e,e.length-1));if(t||o)for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=Ss(e,u),!Rs(l))return ti;g=g&&Hy(l,d,a),d=l}else{for(u=0;u<e.length;l>=65536?u+=2:u++){if(l=Ss(e,u),l===Ts)_=!0,p&&(f=f||u-h-1>n&&e[h+1]!==" ",h=u);else if(!Rs(l))return ti;g=g&&Hy(l,d,a),d=l}f=f||p&&u-h-1>n&&e[h+1]!==" "}return!_&&!f?g&&!o&&!i(e)?mR:s===ys?ti:ep:r>9&&ER(e)?ti:o?s===ys?ti:ep:f?AR:SR}function CU(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ys?'""':"''";if(!e.noCompatMode&&(mU.indexOf(t)!==-1||SU.test(t)))return e.quotingType===ys?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(l){return OU(e,l)}switch(PU(t,a,e.indent,o,u,e.quotingType,e.forceQuotes&&!n,i)){case mR:return t;case ep:return"'"+t.replace(/'/g,"''")+"'";case SR:return"|"+$y(t,e.indent)+Vy(ky(t,s));case AR:return">"+$y(t,e.indent)+Vy(ky(IU(t,o),s));case ti:return'"'+NU(t)+'"';default:throw new Ve("impossible error: invalid scalar style")}}()}function $y(e,t){var r=ER(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),s=i?"+":n?"":"-";return r+s+`
`}function Vy(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function IU(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,Yy(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],u=o[2];s=u[0]===" ",n+=a+(!i&&!s&&u!==""?`
`:"")+Yy(u,t),i=s}return n}function Yy(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,u+=`
`+e.slice(i,s),i=s+1),o=a;return u+=`
`,e.length-i>t&&o>i?u+=e.slice(i,o)+`
`+e.slice(o+1):u+=e.slice(i),u.slice(1)}function NU(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Ss(e,i),n=Ie[r],!n&&Rs(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||TU(r);return t}function LU(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(er(e,t,a,!1,!1)||typeof a>"u"&&er(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Wy(e,t,r,n){var i="",s=e.tag,o,a,u;for(o=0,a=r.length;o<a;o+=1)u=r[o],e.replacer&&(u=e.replacer.call(r,String(o),u)),(er(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&er(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Jf(e,t)),e.dump&&Ts===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function wU(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,u,l,d;for(o=0,a=s.length;o<a;o+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=s[o],l=r[u],e.replacer&&(l=e.replacer.call(r,u,l)),er(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),er(e,t,l,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function MU(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,u,l,d,_,f;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new Ve("sortKeys must be a boolean or a function");for(a=0,u=o.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Jf(e,t)),l=o[a],d=r[l],e.replacer&&(d=e.replacer.call(r,l,d)),er(e,t+1,l,!0,!0,!0)&&(_=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,_&&(e.dump&&Ts===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,_&&(f+=Jf(e,t)),er(e,t+1,d,!0,_)&&(e.dump&&Ts===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=s,e.dump=i||"{}"}function Ky(e,t,r){var n,i,s,o,a,u;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,lR.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(dR.call(a.represent,u))n=a.represent[u](t,u);else throw new Ve("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function er(e,t,r,n,i,s,o){e.tag=null,e.dump=r,Ky(e,r,!1)||Ky(e,r,!0);var a=lR.call(e.dump),u=n,l;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=a==="[object Object]"||a==="[object Array]",_,f;if(d&&(_=e.duplicates.indexOf(r),f=_!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[_])e.dump="*ref_"+_;else{if(d&&f&&!e.usedDuplicates[_]&&(e.usedDuplicates[_]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(MU(e,t,e.dump,i),f&&(e.dump="&ref_"+_+e.dump)):(wU(e,t,e.dump),f&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Wy(e,t-1,e.dump,i):Wy(e,t,e.dump,i),f&&(e.dump="&ref_"+_+e.dump)):(LU(e,t,e.dump),f&&(e.dump="&ref_"+_+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&CU(e,e.dump,t,s,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Ve("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(l=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",e.dump=l+" "+e.dump)}return!0}function DU(e,t){var r=[],n=[],i,s;for(tp(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function tp(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)tp(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)tp(e[n[i]],t,r)}function xU(e,t){t=t||{};var r=new RU(t);r.noRefs||DU(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),er(r,0,n,!0,!0)?r.dump+`
`:""}var BU=xU,UU={dump:BU};function op(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var TR=Qy;var yR=cR.load,BK=cR.loadAll,UK=UU.dump;var GK=op("safeLoad","load"),FK=op("safeLoadAll","loadAll"),jK=op("safeDump","dump");var GU=".yarnbuildrc.yml",up=".bundleignore",FU=Y.isObject({folders:Y.isObject({input:Y.isOneOf([Y.isString(),Y.isArray(Y.isString())]),output:Y.isNullable(Y.isOneOf([Y.isString(),Y.isArray(Y.isString())]))}),exclude:Y.isArray(Y.isString()),bail:Y.isBoolean(),hideYarnBuildBadge:Y.isBoolean(),ignoreFile:Y.isString()}),jU=Y.isObject({input:Y.isOptional(Y.isOneOf([Y.isString(),Y.isArray(Y.isString())])),output:Y.isOptional(Y.isNullable(Y.isOneOf([Y.isString(),Y.isArray(Y.isString())]))),tsconfig:Y.isOptional(Y.isString())}),ap={folders:{input:".",output:null},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:up};async function RR(e){let t=GU,r=Os.ppath.join(e.projectCwd||e.startingCwd,t);if(Os.xfs.existsSync(r)){let n=await Os.xfs.readFilePromise(r,"utf8"),i=[];try{let s=yR(n,{schema:TR});if(FU(s,{errors:i}))return s;console.warn(i)}catch{let o="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(o=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${o}`)}}return ap}async function OR(e){return await RR(e)}async function bR(e){let t=await RR(e);return{...ap,...t,folders:{...ap.folders,...t.folders??{}}}}function vR(e){let t={...e["yarn.build"]};return jU(t)?t:{}}var U={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var hI=Q(C()),gI=Q(Kp());var lI=Q(Dc()),dI=Q(Qs()),_I=Q(Ut()),fI=Q(cI()),pI=Q(Dc()),is=Q(C());process.env.DEBUG&&is.diag.setLogger(new is.DiagConsoleLogger,is.DiagLogLevel.DEBUG);var Po=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new fI.OTLPTraceExporter,r=new lI.BasicTracerProvider({resource:new dI.Resource({[_I.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new pI.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var xn=Q(C()),At=class{constructor(t){this.name=t,this._tracer=Po.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:hI.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){let n;if(typeof t.ctx>"u"?n=xn.context.active():n=t.ctx,!!t.propegateFromEnv||t?.spanOptions?.kind==4){let o=process.env.TRACEPARENT;if(typeof o=="string"){let a=(0,gI.parseTraceParent)(o??"");a&&(n=xn.trace.setSpanContext(xn.context.active(),a))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),s=xn.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:s}):r({span:i,ctx:s})}catch(o){if((typeof o=="string"||o instanceof Error)&&this.recordException(i,o),!t.supressExceptions)throw o}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx>"u"?i=xn.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var SI=Q(C());var Un=class extends Bn.BaseCommand{constructor(){super(...arguments);this.tracer=new At("yarn.build");this.json=Tt.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=Tt.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=Tt.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=Tt.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=Tt.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=Tt.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=Tt.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=Tt.Option.String("--ignore-file",up,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:r,group:n,msg:i,span:s}){this.quiet!==!0&&console.info(`\u27A4 ${r}:${n}${i}`),typeof s<"u"&&s.addEvent(i,{[U.YARN_BUILD_MESSAGE_CODE]:r})}async removeUnusedPackages(r,n,i,s){return await this.tracer.startSpan({name:"remove unused packages",ctx:r},async({span:o})=>{let{project:a,workspace:u}=await ke.Project.find(s,i);if(!u)throw new Bn.WorkspaceRequiredError(a.cwd,i);let l=await ke.Project.find(s,n);if(!l.workspace)throw new Bn.WorkspaceRequiredError(l.project.cwd,n);let d=new Set([u,l.workspace]),_=await OR(s);this.exclude=_.exclude?[...this.exclude,..._.exclude]:this.exclude,this.ignoreFile=_?.ignoreFile??this.ignoreFile;for(let f of d)for(let p of ke.Manifest.allDependencies)for(let h of f.manifest.getForScope(p).values()){let g=a.tryWorkspaceByDescriptor(h);g!==null&&(d.add(g),this.progress({code:"YB1001",group:" \u2502 ",msg:`required:	${g.relativeCwd}`,span:o}))}for(let f of a.workspaces)d.has(f)||f.cwd!==n&&(await re.xfs.removePromise(f.cwd),this.progress({code:"YB1001",group:" \u2502 ",msg:`unused:	${f.relativeCwd}`,span:o}))})}async removeEmptyDirectories(r,{tmpDir:n,cwd:i}){let s=SI.trace.getSpan(r);if(!re.xfs.statSync(i).isDirectory())return!1;let a=await re.xfs.readdirPromise(i);for(let u of a)await this.removeEmptyDirectories(r,{tmpDir:n,cwd:re.ppath.join(i,u)});return a=await re.xfs.readdirPromise(i),a.length===0?(await re.xfs.removePromise(i),this.progress({code:"YB1002",group:" \u2502 ",msg:`empty:	${i.replace(n+"/","")}`,span:s}),!0):!1}async removeExcluded(r,{tmpDir:n,excluded:i,nonRemovableFiles:s,yarnDirectory:o,cacheDirectory:a,shouldRemoveEmptyDirectories:u=!1}){let l=`${n}/.git`;try{await re.xfs.lstatPromise(l)&&await re.xfs.removePromise(l)}catch{}await Promise.all(i.map(async d=>{if(!d.startsWith(o)&&!d.startsWith(a)&&!s.includes(d)&&!!d.startsWith(n))try{await re.xfs.lstatPromise(d)&&await re.xfs.removePromise(d)}catch{}})),u&&await this.removeEmptyDirectories(r,{tmpDir:n,cwd:n})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:r,ctx:n})=>{this.progress({code:"YB1000",group:" \u250C ",msg:`Prepare ${this.context.cwd} for bundling`,span:r}),this.progress({code:"YB1000",group:" \u2502 ",msg:"Preparing temporary directory",span:r});let i=async s=>await this.tracer.startSpan({name:"prepare for bundle",ctx:n},async({span:o,ctx:a})=>{let u=`${this.context.cwd}`,l=re.ppath.join(u,this.archiveName),d={[U.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[U.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[U.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:s,[U.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[U.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[U.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[U.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(o.setAttributes(d),typeof this.outputDirectory=="string"){let v=EI(this.outputDirectory);if(o.setAttribute(U.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,v),re.xfs.existsSync(v)||await re.xfs.mkdirPromise(v),re.xfs.readdirSync(v).length!=0)throw new Error(" --output-directory is not empty");l=re.ppath.join(v,this.archiveName)}let _=await ke.Configuration.find(this.context.cwd,this.context.plugins);if(_.projectCwd===null)throw new Error("Can't find project directory");let f=u.replace(_.projectCwd,""),p=!1,h;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(h=EI(this.outputDirectory),h.startsWith(_.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);p=!0}let g=new re.NodeFS;this.progress({code:"YB1000",group:" \u2502 ",msg:"Copying repo to temporary directory",span:o}),await this.tracer.wrap({name:"copy to tmp dir",ctx:a},async v=>re.xfs.copyPromise(s,v,{baseFs:g}),_.projectCwd);let A=`${s}${f}`,y=`${A}/${this.archiveName}`,T=this.exclude;try{await re.xfs.lstatPromise(y)&&T.push(y)}catch{}let R=await ke.Configuration.find(A,this.context.plugins);R.use("<custom>",{enableNetwork:!1},A);let G=await ke.Cache.find(R),b=`${s}/.yarn`,B=G.cwd;this.progress({code:"YB1000",group:" \u2502 ",msg:"Removing unused and excluded workspaces, folders and files",span:o}),await this.removeUnusedPackages(a,s,A,R);let{project:N,workspace:M}=await ke.Project.find(R,A);if(!M)throw new Bn.WorkspaceRequiredError(N.cwd,A);o.setAttributes({[U.PACKAGE_DIRECTORY]:f,[U.PACKAGE_NAME]:M.anchoredLocator.name}),typeof M.anchoredLocator.scope=="string"&&o.setAttribute(U.PACKAGE_SCOPE,`@${M.anchoredLocator.scope}`);let H=await ke.Project.find(R,s);if(!H.workspace)throw new Bn.WorkspaceRequiredError(H.project.cwd,s);let ee=new Set([M,H.workspace]),S=My({workspaces:ee,rootDir:s});T=await Wf({cwd:s,ignoreFile:this.ignoreFile,exclude:T});for(let v of ee)for(let le of ke.Manifest.allDependencies)for(let E of v.manifest.getForScope(le).values()){let m=N.tryWorkspaceByDescriptor(E);m!==null&&ee.add(m)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:a},async()=>{for(let v of ee){let le=await Wf({cwd:v.cwd,ignoreFile:this.ignoreFile,exclude:T});await this.removeExcluded(a,{tmpDir:s,excluded:le,nonRemovableFiles:S,yarnDirectory:b,cacheDirectory:B,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:a},async()=>{await this.removeExcluded(a,{tmpDir:s,excluded:T,nonRemovableFiles:S,yarnDirectory:b,cacheDirectory:B,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:a},async()=>{for(let v of N.workspaces)v.manifest.devDependencies.clear(),!ee.has(v)&&(v.manifest.dependencies.clear(),v.manifest.peerDependencies.clear());if(M?.manifest?.raw?.main){let v=M.relativeCwd+Tm.default.posix.sep+M?.manifest?.raw?.main,le=".pnp.cjs";re.xfs.writeFilePromise(`${s}${Tm.default.posix.sep}entrypoint.js`,k5(v,le))}this.progress({code:"YB1000",group:" \u2514 ",msg:"Completed",span:o})}),(await this.tracer.startSpan({name:"bundle",ctx:a},async({ctx:v})=>await ke.StreamReport.start({configuration:R,json:this.json,stdout:this.context.stdout,includeLogs:!0},async le=>{if(await this.tracer.wrap({name:"yarn install",ctx:v},async({cache:E,report:m})=>await N.install({cache:E,report:m}),{cache:G,report:le}),!(typeof this.temporaryDirectory<"u"))if(p&&typeof h<"u")le.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:v},async({outputPath:E,tmpDir:m})=>g.copyPromise(E,m),{outputPath:h,tmpDir:s});else{let E=await(0,mI.getLibzipPromise)();le.reportInfo(null,"Creating archive");let m=new re.ZipFS(l,{create:!0,libzip:E});le.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:v},async({tmpDir:ye,baseFs:X})=>await m.copyPromise("/",ye,{baseFs:X}),{tmpDir:s,baseFs:g}),await this.tracer.wrap({name:"save zip",ctx:v},async()=>m.saveAndClose()),le.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:l})}}))).exitCode()});return typeof this.temporaryDirectory<"u"?await i(this.temporaryDirectory):await re.xfs.mktempPromise(i)})}};Un.paths=[["bundle"]],Un.usage=Tt.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var k5=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function EI(e){let t=re.npath.toPortablePath(e);return re.ppath.resolve(t)}var Gd=O("@yarnpkg/cli"),He=O("@yarnpkg/core"),fe=O("clipanion"),Zm=Q(O("path")),Do=Q(__()),XN=O("os");var k=O("@yarnpkg/core"),Ze=Q(bI()),UN=O("os"),K=O("@yarnpkg/fslib");var zm=Q(Yf()),GN=O("events"),FN=Q(xI()),jN=Q(FI()),Km=Q(jI()),Bd=Q(wm()),Ud=Q(fN());var cs=class{constructor(){this.tracer=new At("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new Gn(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let s=t.dependencies[i];if(!r.has(s.id)){if(n.has(s.id))throw new No(t.id,s.id);this.resolveNode(s,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let s=new Set,o=new Set,a={};for(let u of r)this.resolveQueue(u,s,a);return n?(await this.dryRunLoop(s,a,o,0),a):(await new Promise(u=>{this.workLoop(i,s,a,o,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((s,o)=>{this.dryRunCallback(s,i-1),r[s.id]={success:!0,done:!0},n.delete(o)}),t.size!==0&&t.forEach(s=>{s.canStart(r)&&s?.node?.runCallback&&(n.add(s.node),t.delete(s))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,s){if(r.size!==0&&r.forEach(o=>{o.canStart(n)&&(o?.node?.runCallback?(o?.node?.runCallback(t,n),i.add(o.node)):n[o.node.id]={success:!0,done:!0},r.delete(o))}),i.forEach((o,a)=>{n[o.id].done&&i.delete(a)}),Object.keys(n).map(o=>n[o]?.done??!0).every(o=>o===!0)){s();return}setTimeout(()=>this.workLoop(t,r,n,i,s),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(s=>{let o=t.dependencies[s];if(i.push(o.id),!n[o.id]&&o.runCallback){n[o.id]={...cs.RunLogInit};let a=this.resolveQueue(o,r,n),u={node:o,canStart:cs.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]={...cs.RunLogInit};let s={node:t,canStart:cs.QueueItemCanStart(i)};r.add(s)}return i}},us=cs;us.RunLogInit={success:!1,done:!1},us.QueueItemCanStart=t=>r=>t.map(n=>r[n]?.done??!0).every(n=>n===!0);var Gn=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,Gn.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies>"u"||Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},No=class extends Error{constructor(r,n){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=r,this.dep=n}};var pN=Q(wm()),_Y="\x1B",at=_Y+"[",Um=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);Um.cursorUp(t)}static cursorUp(t=1){process.stdout.write(at+`${t}A`)}static cursorSave(){process.stdout.write(at+"s")}static cursorRestore(){process.stdout.write(at+"u")}static autoWrap(t){t?process.stdout.write(at+"?7h"):process.stdout.write(at+"?7l")}static clearScreenDown(){process.stdout.write(at+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(at+"6n")})}static setScrollableRegion(t,r){process.stdout.write(at+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(at+"r")}static moveTo(t){process.stdout.write(at+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(at+"H")}static alternateScreen(){process.stdout.write(at+"?1049h")}static mainScreen(){process.stdout.write(at+"?1049l")}static linesRequired(t,r){let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((0,pN.default)(t).match(n)??[""]).length-1}},pt=Um;pt.row=0,pt.column=0;var gN=O("child_process"),EN=O("util");var hN=()=>process.platform==="win32"?"windows":"unix";var fY=(0,EN.promisify)(gN.exec),mN=async e=>{let t=hN(),r=(({platform:i,pid:s})=>{switch(i){case"unix":return`pgrep "-P ${s}"`;case"windows":return`wmic process where (ParentProcessId=${s}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await fY(r);n=i.split(`
`).filter(Boolean).map(s=>parseInt(s,10)).filter(s=>!isNaN(s))}catch{}return n};var ls={hasBeenTerminated:!1,callId:0},wd=async(e=0)=>{if(e!==ls.callId||ls.hasBeenTerminated)return;let t=process.pid;(await mN(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch{}});let n=ls.callId+1;ls.callId=n,setTimeout(async()=>{wd(n)},50)};var kN=Q(C());var ne=Q(O("path"),1),Vm=Q(O("fs"),1),PN=Q(O("module"),1);var SN=e=>e!==null&&typeof e=="object",ds=(e,t)=>Object.assign(new Error(`[${e}]: ${t}`),{code:e}),AN="ERR_INVALID_PACKAGE_CONFIG",Gm="ERR_INVALID_PACKAGE_TARGET",pY="ERR_PACKAGE_PATH_NOT_EXPORTED";var hY=/^\d+$/,gY=/^(\.{1,2}|node_modules)$/i,EY=/\/|\\/,TN=(e=>(e.Export="exports",e.Import="imports",e))(TN||{}),Fm=(e,t,r,n,i)=>{if(t==null)return[];if(typeof t=="string"){let[s,...o]=t.split(EY);if(s===".."||o.some(a=>gY.test(a)))throw ds(Gm,`Invalid "${e}" target "${t}" defined in the package config`);return[i?t.replace(/\*/g,i):t]}if(Array.isArray(t))return t.flatMap(s=>Fm(e,s,r,n,i));if(SN(t)){for(let s of Object.keys(t)){if(hY.test(s))throw ds(AN,"Cannot contain numeric property keys");if(s==="default"||n.includes(s))return Fm(e,t[s],r,n,i)}return[]}throw ds(Gm,`Invalid "${e}" target "${t}"`)},Lo="*",mY=(e,t)=>{let r=e.indexOf(Lo),n=t.indexOf(Lo);return r===n?t.length>e.length:n>r};function SY(e,t){if(!t.includes(Lo)&&e.hasOwnProperty(t))return[t];let r,n;for(let i of Object.keys(e))if(i.includes(Lo)){let[s,o,a]=i.split(Lo);if(a===void 0&&t.startsWith(s)&&t.endsWith(o)){let u=t.slice(s.length,-o.length||void 0);u&&(!r||mY(r,i))&&(r=i,n=u)}}return[r,n]}var AY=e=>Object.keys(e).reduce((t,r)=>{let n=r===""||r[0]!==".";if(t===void 0||t===n)return n;throw ds(AN,'"exports" cannot contain some keys starting with "." and some not')},void 0),TY=/^\w+:/,yN=(e,t,r)=>{if(!e)throw new Error('"exports" is required');t=t===""?".":`./${t}`,(typeof e=="string"||Array.isArray(e)||SN(e)&&AY(e))&&(e={".":e});let[n,i]=SY(e,t),s=Fm(TN.Export,e[n],t,r,i);if(s.length===0)throw ds(pY,t==="."?'No "exports" main defined':`Package subpath '${t}' is not defined by "exports"`);for(let o of s)if(!o.startsWith("./")&&!TY.test(o))throw ds(Gm,`Invalid "exports" target "${o}" defined in the package config`);return s};function Fn(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}var xd=e=>{let t=Vm.default[e];return function(r,...n){let i=`${e}:${n.join(":")}`,s=r?.get(i);return s===void 0&&(s=Reflect.apply(t,Vm.default,n),r?.set(i,s)),s}},yt=xd("existsSync"),yY=xd("realpathSync"),RY=xd("readFileSync"),Md=xd("statSync"),OY=(e,t,r)=>{for(;;){let n=ne.default.posix.join(e,t);if(yt(r,n))return n;let i=ne.default.dirname(e);if(i===e)return;e=i}},bY=/^\.{1,2}(\/.*)?$/,jm=e=>{let t=Fn(e);return bY.test(t)?t:`./${t}`};function vY(e,t=!1){let r=e.length,n=0,i="",s=0,o=16,a=0,u=0,l=0,d=0,_=0;function f(R,G){let b=0,B=0;for(;b<R||!G;){let N=e.charCodeAt(n);if(N>=48&&N<=57)B=B*16+N-48;else if(N>=65&&N<=70)B=B*16+N-65+10;else if(N>=97&&N<=102)B=B*16+N-97+10;else break;n++,b++}return b<R&&(B=-1),B}function p(R){n=R,i="",s=0,o=16,_=0}function h(){let R=n;if(e.charCodeAt(n)===48)n++;else for(n++;n<e.length&&_s(e.charCodeAt(n));)n++;if(n<e.length&&e.charCodeAt(n)===46)if(n++,n<e.length&&_s(e.charCodeAt(n)))for(n++;n<e.length&&_s(e.charCodeAt(n));)n++;else return _=3,e.substring(R,n);let G=n;if(n<e.length&&(e.charCodeAt(n)===69||e.charCodeAt(n)===101))if(n++,(n<e.length&&e.charCodeAt(n)===43||e.charCodeAt(n)===45)&&n++,n<e.length&&_s(e.charCodeAt(n))){for(n++;n<e.length&&_s(e.charCodeAt(n));)n++;G=n}else _=3;return e.substring(R,G)}function g(){let R="",G=n;for(;;){if(n>=r){R+=e.substring(G,n),_=2;break}let b=e.charCodeAt(n);if(b===34){R+=e.substring(G,n),n++;break}if(b===92){if(R+=e.substring(G,n),n++,n>=r){_=2;break}switch(e.charCodeAt(n++)){case 34:R+='"';break;case 92:R+="\\";break;case 47:R+="/";break;case 98:R+="\b";break;case 102:R+="\f";break;case 110:R+=`
`;break;case 114:R+="\r";break;case 116:R+="	";break;case 117:let B=f(4,!0);B>=0?R+=String.fromCharCode(B):_=4;break;default:_=5}G=n;continue}if(b>=0&&b<=31)if(wo(b)){R+=e.substring(G,n),_=2;break}else _=6;n++}return R}function A(){if(i="",_=0,s=n,u=a,d=l,n>=r)return s=r,o=17;let R=e.charCodeAt(n);if(km(R)){do n++,i+=String.fromCharCode(R),R=e.charCodeAt(n);while(km(R));return o=15}if(wo(R))return n++,i+=String.fromCharCode(R),R===13&&e.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,o=14;switch(R){case 123:return n++,o=1;case 125:return n++,o=2;case 91:return n++,o=3;case 93:return n++,o=4;case 58:return n++,o=6;case 44:return n++,o=5;case 34:return n++,i=g(),o=10;case 47:let G=n-1;if(e.charCodeAt(n+1)===47){for(n+=2;n<r&&!wo(e.charCodeAt(n));)n++;return i=e.substring(G,n),o=12}if(e.charCodeAt(n+1)===42){n+=2;let b=r-1,B=!1;for(;n<b;){let N=e.charCodeAt(n);if(N===42&&e.charCodeAt(n+1)===47){n+=2,B=!0;break}n++,wo(N)&&(N===13&&e.charCodeAt(n)===10&&n++,a++,l=n)}return B||(n++,_=1),i=e.substring(G,n),o=13}return i+=String.fromCharCode(R),n++,o=16;case 45:if(i+=String.fromCharCode(R),n++,n===r||!_s(e.charCodeAt(n)))return o=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),o=11;default:for(;n<r&&y(R);)n++,R=e.charCodeAt(n);if(s!==n){switch(i=e.substring(s,n),i){case"true":return o=8;case"false":return o=9;case"null":return o=7}return o=16}return i+=String.fromCharCode(R),n++,o=16}}function y(R){if(km(R)||wo(R))return!1;switch(R){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function T(){let R;do R=A();while(R>=12&&R<=15);return R}return{setPosition:p,getPosition:()=>n,scan:t?T:A,getToken:()=>o,getTokenValue:()=>i,getTokenOffset:()=>s,getTokenLength:()=>n-s,getTokenStartLine:()=>u,getTokenStartCharacter:()=>s-d,getTokenError:()=>_}}function km(e){return e===32||e===9}function wo(e){return e===10||e===13}function _s(e){return e>=48&&e<=57}var RN;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(RN||(RN={}));var Dd;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Dd||(Dd={}));function PY(e,t=[],r=Dd.DEFAULT){let n=null,i=[],s=[];function o(a){Array.isArray(i)?i.push(a):n!==null&&(i[n]=a)}return CY(e,{onObjectBegin:()=>{let a={};o(a),s.push(i),i=a,n=null},onObjectProperty:a=>{n=a},onObjectEnd:()=>{i=s.pop()},onArrayBegin:()=>{let a=[];o(a),s.push(i),i=a,n=null},onArrayEnd:()=>{i=s.pop()},onLiteralValue:o,onError:(a,u,l)=>{t.push({error:a,offset:u,length:l})}},r),i[0]}function CY(e,t,r=Dd.DEFAULT){let n=vY(e,!1),i=[];function s(L){return L?()=>L(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function o(L){return L?()=>L(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(L){return L?v=>L(v,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function u(L){return L?v=>L(v,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}let l=o(t.onObjectBegin),d=u(t.onObjectProperty),_=s(t.onObjectEnd),f=o(t.onArrayBegin),p=s(t.onArrayEnd),h=u(t.onLiteralValue),g=a(t.onSeparator),A=s(t.onComment),y=a(t.onError),T=r&&r.disallowComments,R=r&&r.allowTrailingComma;function G(){for(;;){let L=n.scan();switch(n.getTokenError()){case 4:b(14);break;case 5:b(15);break;case 3:b(13);break;case 1:T||b(11);break;case 2:b(12);break;case 6:b(16);break}switch(L){case 12:case 13:T?b(10):A();break;case 16:b(1);break;case 15:case 14:break;default:return L}}}function b(L,v=[],le=[]){if(y(L),v.length+le.length>0){let E=n.getToken();for(;E!==17;){if(v.indexOf(E)!==-1){G();break}else if(le.indexOf(E)!==-1)break;E=G()}}}function B(L){let v=n.getTokenValue();return L?h(v):(d(v),i.push(v)),G(),!0}function N(){switch(n.getToken()){case 11:let L=n.getTokenValue(),v=Number(L);isNaN(v)&&(b(2),v=0),h(v);break;case 7:h(null);break;case 8:h(!0);break;case 9:h(!1);break;default:return!1}return G(),!0}function M(){return n.getToken()!==10?(b(3,[],[2,5]),!1):(B(!1),n.getToken()===6?(g(":"),G(),S()||b(4,[],[2,5])):b(5,[],[2,5]),i.pop(),!0)}function H(){l(),G();let L=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(L||b(4,[],[]),g(","),G(),n.getToken()===2&&R)break}else L&&b(6,[],[]);M()||b(4,[],[2,5]),L=!0}return _(),n.getToken()!==2?b(7,[2],[]):G(),!0}function ee(){f(),G();let L=!0,v=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(v||b(4,[],[]),g(","),G(),n.getToken()===4&&R)break}else v&&b(6,[],[]);L?(i.push(0),L=!1):i[i.length-1]++,S()||b(4,[],[4,5]),v=!0}return p(),L||i.pop(),n.getToken()!==4?b(8,[4],[]):G(),!0}function S(){switch(n.getToken()){case 3:return ee();case 1:return H();case 10:return B(!0);default:return N()}}return G(),n.getToken()===17?r.allowEmptyContent?!0:(b(4,[],[]),!1):S()?(n.getToken()!==17&&b(9,[],[]),!0):(b(4,[],[]),!1)}var ON;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(ON||(ON={}));var bN;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(bN||(bN={}));var IY=PY,vN;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(vN||(vN={}));var CN=(e,t)=>IY(RY(t,e,"utf8")),NY=Symbol("implicitBaseUrl"),LY=()=>{let{findPnpApi:e}=PN.default;return e&&e(process.cwd())},qm=(e,t,r,n)=>{let i=`resolveFromPackageJsonPath:${e}:${t}:${r}`;if(n!=null&&n.has(i))return n.get(i);let s=CN(e,n);if(!s)return;let o=t||"tsconfig.json";if(!r&&s.exports)try{let[a]=yN(s.exports,t,["require","types"]);o=a}catch{return!1}else!t&&s.tsconfig&&(o=s.tsconfig);return o=ne.default.join(e,"..",o),n?.set(i,o),o},Hm="package.json",$m="tsconfig.json",wY=(e,t,r)=>{let n=e;if(e===".."&&(n=ne.default.join(n,$m)),e[0]==="."&&(n=ne.default.resolve(t,n)),ne.default.isAbsolute(n)){if(yt(r,n)){if(Md(r,n).isFile())return n}else if(!n.endsWith(".json")){let p=`${n}.json`;if(yt(r,p))return p}return}let[i,...s]=e.split("/"),o=i[0]==="@"?`${i}/${s.shift()}`:i,a=s.join("/"),u=LY();if(u){let{resolveRequest:p}=u;try{if(o===e){let h=p(ne.default.join(o,Hm),t);if(h){let g=qm(h,a,!1,r);if(g&&yt(r,g))return g}}else{let h;try{h=p(e,t,{extensions:[".json"]})}catch{h=p(ne.default.join(e,$m),t)}if(h)return h}}catch{}}let l=OY(t,ne.default.join("node_modules",o),r);if(!l||!Md(r,l).isDirectory())return;let d=ne.default.join(l,Hm);if(yt(r,d)){let p=qm(d,a,!1,r);if(p===!1)return;if(p&&yt(r,p)&&Md(r,p).isFile())return p}let _=ne.default.join(l,a),f=_.endsWith(".json");if(!f){let p=`${_}.json`;if(yt(r,p))return p}if(yt(r,_)){if(Md(r,_).isDirectory()){let p=ne.default.join(_,Hm);if(yt(r,p)){let g=qm(p,"",!0,r);if(g&&yt(r,g))return g}let h=ne.default.join(_,$m);if(yt(r,h))return h}else if(f)return _}},MY=(e,t,r,n)=>{let i=wY(e,t,n);if(!i)throw new Error(`File '${e}' not found.`);if(r.has(i))throw new Error(`Circularity detected while resolving configuration: ${i}`);r.add(i);let s=ne.default.dirname(i),o=IN(i,n,r);delete o.references;let{compilerOptions:a}=o;if(a){let u=["baseUrl","outDir"];for(let l of u){let d=a[l];d&&(a[l]=Fn(ne.default.relative(t,ne.default.join(s,d)))||"./")}}return o.files&&(o.files=o.files.map(u=>Fn(ne.default.relative(t,ne.default.join(s,u))))),o.include&&(o.include=o.include.map(u=>Fn(ne.default.relative(t,ne.default.join(s,u))))),o.exclude&&(o.exclude=o.exclude.map(u=>Fn(ne.default.relative(t,ne.default.join(s,u))))),o},IN=(e,t,r=new Set)=>{let n;try{n=yY(t,e)}catch{throw new Error(`Cannot resolve tsconfig at path: ${e}`)}let i=CN(n,t)||{};if(typeof i!="object")throw new SyntaxError(`Failed to parse tsconfig at: ${e}`);let s=ne.default.dirname(n);if(i.compilerOptions){let{compilerOptions:o}=i;o.paths&&!o.baseUrl&&(o[NY]=s)}if(i.extends){let o=Array.isArray(i.extends)?i.extends:[i.extends];delete i.extends;for(let a of o.reverse()){let u=MY(a,s,r,t),l={...u,...i,compilerOptions:{...u.compilerOptions,...i.compilerOptions}};u.watchOptions&&(l.watchOptions={...u.watchOptions,...i.watchOptions}),i=l}}if(i.compilerOptions){let{compilerOptions:o}=i,a=["baseUrl","rootDir"];for(let l of a){let d=o[l];if(d){let _=ne.default.resolve(s,d),f=jm(ne.default.relative(s,_));o[l]=f}}let{outDir:u}=o;u&&(Array.isArray(i.exclude)||(i.exclude=[]),i.exclude.includes(u)||i.exclude.push(u),o.outDir=jm(u))}else i.compilerOptions={};if(i.files&&(i.files=i.files.map(jm)),i.include&&(i.include=i.include.map(Fn)),i.watchOptions){let{watchOptions:o}=i;o.excludeDirectories&&(o.excludeDirectories=o.excludeDirectories.map(a=>Fn(ne.default.resolve(s,a))))}return i},NN=(e,t=new Map)=>IN(e,t);var{join:fz}=ne.default.posix;var DY=["node_modules","bower_components","jspm_packages"],pz=`(?!(${DY.join("|")})(/|$))`;var hz=process.platform==="win32";var qN=Q(BN()),BY="yarn.build.json",HN=80,UY="-".repeat(HN);var Xm=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:s,pluginConfiguration:o,dryRun:a,ignoreRunCache:u,verbose:l,concurrency:d,continueOnError:_,excludeWorkspacePredicate:f,ignoreDependencies:p,failFast:h}){this.tracer=new At("yarn.build");this.runGraph=new us;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new GN.EventEmitter;this.ignoreDependencies=!1;this.failFast=!1;this.runReport={mutex:new Km.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.checkIfRunIsRequiredCache={};this.planCache={};this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on("pending",(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on("start",(t,r,n,i)=>{this.runReport.mutex.acquire().then(s=>{this.runReport.workspaces[t]={...this.runReport.workspaces[t],start:Date.now(),runScript:i,name:n,locator:r},s()})}),this.runReporter.on("info",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on("error",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on("success",t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t]={...this.runReport.workspaces[t],done:!0},this.runReport.successCount++;let n=this.runReport.workspaces[t];if(Ze.default){let i=`\u2705 ${t}`.padEnd(60),s=kn(0,n.runtimeSeconds??0).padStart(19);process.stdout.write(`${i}${s}
`)}r()})}),this.runReporter.on("skipped",t=>{this.runReport.mutex.acquire().then(r=>{if(this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r(),Ze.default){let n=`\u23E9 ${t} `.padEnd(60),i="--".padStart(19);process.stdout.write(`${n}${i}
`)}})}),this.runReporter.on("ignored",t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r();let n=this.runReport.workspaces[t],i=this.runLog?.get(`${t}#${this.runCommand}`);if(Ze.default){let s=`[IGNORE${i?.exitCode?`: ${i?.exitCode}`:""}] ${n.name} `.padEnd(60),o="--".padStart(19);process.stdout.write(`${s}${o}
`)}})}),this.runReporter.on("fail",(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r<"u"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],s=this.runLog?.get(`${t}#${this.runCommand}`);if(Ze.default){let o=`\u274C ${t}`.padEnd(50),a=`${s?.exitCode?`(exit code: ${s?.exitCode})`:"\u2192"} ${kn(0,i.runtimeSeconds??0)}`.padStart(29);process.stdout.write(`${o}${a}
`)}})})};this.getDependenciesCount=async t=>{let r=0;for(let n of k.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");if(typeof this.planCache[r.relativeCwd]<"u")return this.planCache[r.relativeCwd];this.runGraph.checkCyclical(t);let n=!1,i=!1;if(this.runMutexes[r.relativeCwd]=new Km.Mutex,this.ignoreDependencies===!1)for(let o of k.Manifest.hardDependencies)for(let a of r.manifest.getForScope(o).values()){let u=this.project.tryWorkspaceByDescriptor(a);if(u===null||this.excludeWorkspacePredicate(u)||typeof u.manifest.scripts.get(this.runCommand)>"u")continue;let l=this.runGraph.addNode(u.relativeCwd);t.addDependency(l),this.runGraph.checkCyclical(l),await this.plan(l,u)&&(this.runGraph.addRunCallback(l,this.createRunItem(u)),i=!0,this.removeFromExcluded(u))}let s=!1;if(r!==this.project.topLevelWorkspace&&(s=await this.checkIfRunIsRequired(r)),this.runReporter.emit("pending",r.relativeCwd,r.anchoredLocator),i||s)n=!0,this.runReporter.emit("pending",r.relativeCwd,r.anchoredLocator,`${r.manifest.name?.scope?`@${r.manifest.name?.scope}/`:""}${r.manifest.name?.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);else{let o=this.runLog?.get(`${r.relativeCwd}#${this.runCommand}`);o&&this.runLog?.set(`${r.relativeCwd}#${this.runCommand}`,{checksum:o.checksum,status:"succeeded",rerun:!1,command:this.runCommand})}if(n){let o=r.getRecursiveWorkspaceDependents();for(let u of o)this.markWorkspaceForRerun(u);let a=Array.from(r.getRecursiveWorkspaceDependencies()).filter(u=>this.isWorkspaceMarkedForRerun(u));for(let u of a){let l=u.getRecursiveWorkspaceDependents();for(let d of l)this.markWorkspaceForRerun(d)}}return this.planCache[r.relativeCwd]=n,n};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",s={1:[]};this.runGraph.dryRunCallback=(u,l)=>{s[l]?s[l].push(u.id):s[l]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let o=(u,l,d,_)=>{let f=d?"\u2514\u2500":_&&d?"\u2514\u2500\u252C\u2500":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f}[${u}] ${l}`},a=Object.keys(s);return a.forEach((u,l)=>{let d=parseInt(u),_=s[d],f=l==a.length-1;_.forEach((p,h)=>{let g=this.runGraph.getNode(p);i+=o(d,p,h==_.length-1,f),g instanceof Gn&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(Ze.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),Ze.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;Ze.default||pt.pad(this.concurrency+3),Ze.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":this.runTargets[0]?.relativeCwd??"Nothing to run",Ze.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let s=this.generateFinalReport();return typeof s=="string"&&process.stdout.write(`
${s}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";Ze.default?this.updateProgressCI(t):(n=this.generateProgressString(t),pt.cursorUp(pt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),pt.clearScreenDown()),typeof n<"u"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,FY(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>k.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=k.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=k.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),s=k.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${s} ${kn(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{Ze.default||(pt.cursorUp(pt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),pt.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),Ze.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(a.fail&&s.push(o),!(this.runReport.failCount!==0&&a.fail===!1)){if(a.stdout.length!==0||a.stderr.length!==0){let u=this.formatHeader(`Output: ${k.formatUtils.pretty(this.configuration,o,k.FormatType.PATH)}`,2);r+=`
${u+`
`}`}a.stdout.length!==0&&a.stdout.forEach(u=>{u.split(`
`).forEach(d=>{typeof d<"u"&&d.length!==0&&(r+=`${d+`
`}`)})}),a.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,a.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(f=>{typeof f<"u"&&f.length!==0&&(r+=`${f+`
`}`)})}))}}if(s.length>=2){r+=`${this.grey(UY)+`
`}`;let o=this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`);r+=`${o}`,s.forEach(a=>{let u=`- ${k.formatUtils.pretty(this.configuration,a,k.FormatType.PATH)}`;r+=`${u+`
`}`})}}let n=this.formatHeader(`${k.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?k.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:o,ignoredCount:a,skipCount:u}=this.runReport,l=this.runGraph.runSize-a,d=l-o-s-u,_=k.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),f=k.formatUtils.pretty(this.configuration,`Fail: ${o}`,"red"),p=k.formatUtils.pretty(this.configuration,`Skipped: ${u}`,"white"),h=k.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),g=k.formatUtils.pretty(this.configuration,`Up to date: ${d}`,"white"),A=k.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=_+`
`,r+=g+`
`,r+=f+`
`,this.verbose&&o>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let T=this.runReport.workspaces[y];T.fail&&(r+=` - ${k.formatUtils.pretty(this.configuration,y,"grey")}${k.formatUtils.pretty(this.configuration,T.locator,"IDENT")}
`)}),r+=p+`
`,this.verbose&&u>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let T=this.runReport.workspaces[y];T.skipped&&(r+=` - ${k.formatUtils.pretty(this.configuration,y,"grey")}${k.formatUtils.pretty(this.configuration,T.locator,"IDENT")}
`)}),r+=h+`
`,this.verbose&&this.excluded.size>0)for(let y of this.excluded)r+=` - ${k.formatUtils.pretty(this.configuration,y.relativeCwd,"grey")}${k.formatUtils.pretty(this.configuration,y.anchoredLocator,"IDENT")}
`;r+=A+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces){let o=this.runReport.workspaces[s];i+=o.runtimeSeconds??0}if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,a=Date.now()-this.runReport.runStart,u=kn(a,s);r+=`Cumulative: (cpu): ${kn(0,i)}
`,r+=`Saved: ${u}
`}return this.runReport.runStart&&(r+="Runtime (wall): "+kn(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:s})=>{let o=t.relativeCwd,a={[U.PACKAGE_NAME]:t.anchoredLocator.name,[U.PACKAGE_DIRECTORY]:t.relativeCwd,[U.PACKAGE_COMMAND]:this.runCommand};typeof t.anchoredLocator.scope=="string"&&(a[U.PACKAGE_SCOPE]=`@${t.anchoredLocator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[U.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let l=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit("start",t.relativeCwd,t.anchoredLocator,`${t.manifest.name?.scope?`@${t.manifest.name?.scope}/`:""}${t.manifest.name?.name}`,u),i.addEvent("start"),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit("info",t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit("ignored",t.relativeCwd),i.addEvent("ignored"),!0;try{if(this.runReport.failCount!==0&&!this.continueOnError&&(this.runReporter.emit("skipped",t.relativeCwd),i.addEvent("skipped"),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"skipped",rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let d=await this.cli(s,this.runCommand,t.cwd,this.runReporter,o);if(i.setAttribute(U.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,d),d!==0)return this.runReporter.emit("fail",t.relativeCwd),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"failed",rerun:!0,command:this.runCommand,exitCode:`${d}`}),this.failFast===!0&&(Ze.default&&process.stdout.write(`--fail-fast is set, terminating all processes
`),wd()),!1;this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"succeeded",rerun:!1,command:this.runCommand}),this.runReporter.emit("success",t.relativeCwd)}catch(d){return this.runReporter.emit("fail",t.relativeCwd,d),this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:l?.checksum,status:"failed",rerun:!0,command:this.runCommand}),(typeof d=="string"||d instanceof Error)&&i.recordException(d),i.setStatus({code:kN.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),wd()),!1}return!1}));let g=d??(0,UN.cpus)().length;this.configuration=s,this.pluginConfiguration=o,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=l,this.concurrency=g,this.continueOnError=_,this.limit=(0,jN.default)(g),this.queue=new FN.default({concurrency:g,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=K.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"})),this.ignoreDependencies=p,this.failFast=h}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return K.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return K.ppath.resolve(this.project.cwd,".yarn",BY)}async readRunLog(){let t=new Map;try{let r=await K.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{checksum:r.packages[n].checksum,status:r.packages[n].status,rerun:r.packages[n].rerun,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await K.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:{...t&&t.packages}};for(let[n]of this.runLog)r.packages[n]={...r.packages[n],...this.runLog.get(n)};await K.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}if(typeof t.manifest.scripts.get(this.runCommand)>"u")return;let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}markWorkspaceForRerun(t){if(typeof t.manifest.scripts.get(this.runCommand)>"u")return;let r=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:r?.checksum??"",status:"succeeded",rerun:!0,command:this.runCommand})}isWorkspaceMarkedForRerun(t){return typeof t.manifest.scripts.get(this.runCommand)>"u"?!1:this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`)?.rerun??!1}async checkIfRunIsRequired(t){if(typeof this.checkIfRunIsRequiredCache[t.relativeCwd]<"u")return this.checkIfRunIsRequiredCache[t.relativeCwd];if(typeof t.manifest.scripts.get(this.runCommand)!="string")return this.checkIfRunIsRequiredCache[t.relativeCwd]=!1,!1;let r=!1;this.ignoreRunCache&&(r=!0);let n=this.runLog?.get(`${t.relativeCwd}#${this.runCommand}`);n?.rerun&&(r=!0);for(let f of t.getRecursiveWorkspaceDependencies())if(this.checkIfRunIsRequiredCache[f.relativeCwd]===!0){r=!0;break}let i=vR(t.manifest.raw),s=i?.input!=null,o=typeof i?.output<"u",a=i.input??this.pluginConfiguration.folders.input,u=new Set,l=new Set(Array.isArray(a)?a:[a]),d=i.output??[],_=new Set(Array.isArray(d)?d:[d]);if(o||(typeof t?.manifest?.raw?.bin=="string"?_.add(t.manifest.raw.bin):typeof t?.manifest?.raw?.directories?.bin=="string"?_.add(t.manifest.raw.directories.bin):typeof t?.manifest?.raw?.files=="string"?_.add(t.manifest.raw.files):Array.isArray(t?.manifest?.raw?.files)?t.manifest.raw.files.forEach(f=>f&&_.add(f)):typeof t?.manifest?.raw?.main=="string"&&_.add(t.manifest.raw.main)),!s||!o)try{let f=i.tsconfig??"tsconfig.json",p=K.xfs.pathUtils.join(t.cwd,K.npath.toPortablePath(f));if(await K.xfs.existsPromise(p)){let g=NN(K.npath.fromPortablePath(p)),A=K.ppath.dirname(p);if(!s){if(g.compilerOptions?.incremental){let y=g.compilerOptions.tsBuildInfoFile??`${K.ppath.basename(p,K.ppath.extname(p))}.tsbuildinfo`,T=K.ppath.join(A,K.npath.toPortablePath(y)),R=K.ppath.relative(t.cwd,T);u.add(R)}g.include?.forEach(y=>{let T=K.ppath.join(A,K.npath.toPortablePath(y)),R=K.ppath.relative(t.cwd,T);l.add(R)}),g.exclude?.forEach(y=>{let T=K.ppath.join(A,K.npath.toPortablePath(y)),R=K.ppath.relative(t.cwd,T);u.add(R)})}if(!o&&g.compilerOptions?.outDir!=null){let y=K.ppath.join(A,K.npath.toPortablePath(K.npath.toPortablePath(g.compilerOptions.outDir))),T=K.ppath.relative(t.cwd,y);_.add(T)}}}catch(f){console.warn(t.relativeCwd,`
`,f)}_.size===0&&(Array.isArray(this.pluginConfiguration.folders.output)?this.pluginConfiguration.folders.output.forEach(f=>f&&_.add(f)):typeof this.pluginConfiguration.folders.output=="string"&&_.add(this.pluginConfiguration.folders.output));{let f=[...new Set(["node_modules",..._,...u])].map(g=>K.npath.toPortablePath(g)),p=[...l].map(g=>K.npath.toPortablePath(g)),h=await this.runReport.mutex.acquire();try{let g=await GY(t.cwd,p,f);if(n?.checksum!==g&&(r=!0),!r){let A=K.npath.fromPortablePath(t.cwd);(await Promise.all([..._].map(async T=>{try{return(await(0,zm.default)(T,{dot:!0,cwd:A})).length===0}catch{return!1}}))).some(T=>T===!0)&&(r=!0)}this.runLog?.set(`${t.relativeCwd}#${this.runCommand}`,{checksum:g,status:r?"succeeded":"pending",rerun:r,command:this.runCommand})}catch(g){this.runReport.workspaces[t.relativeCwd]?.stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${g})`))}finally{h()}}return this.checkIfRunIsRequiredCache[t.relativeCwd]=r,r}formatHeader(t,r=0,n=!1){let i="-",s=i.repeat(r),o=this.grey(s),a=this.grey("["),u=this.grey("]"),l=`${o}${a} ${t} ${u}`,d=(0,Bd.default)(l).length,_=n?"[ yarn.build ]":"",f=Math.max(HN-(d+_.length),0),p=i.repeat(f),h=this.grey(p),g=this.grey(_);return`${l}${h}${g}`}generateHeaderString(){return`${k.formatUtils.pretty(this.configuration,`${this.runCommand}`,k.FormatType.CODE)} for ${k.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",k.FormatType.SCOPE)}${this.dryRun?k.formatUtils.pretty(this.configuration," --dry-run",k.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-n.start)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=o=>this.grey(`[${o}]`),i=k.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let s=1;for(let o in this.runReport.workspaces){let a=this.runReport.workspaces[o];if(!a||!a.start||a.done)continue;let u=k.formatUtils.pretty(this.configuration,o,k.FormatType.PATH),l=k.formatUtils.pretty(this.configuration,`(${a.runScript})`,k.FormatType.REFERENCE),d=a.start?k.formatUtils.pretty(this.configuration,kn(a.start,t),k.FormatType.RANGE):"",_=n(s++),f=" ".repeat(_.length-1),p=k.formatUtils.pretty(this.configuration,a.name,k.FormatType.NAME),h=`${_} ${p}${k.formatUtils.pretty(this.configuration,"@","grey")}${u} ${l} ${d}
`,g="",A="",y="";(0,Bd.default)(h).length>=process.stdout.columns&&(g=`${_} ${u}${p}
`,A=`${f} ${l} ${d}
`,(0,Bd.default)(g).length>=process.stdout.columns&&(g=(0,Ud.default)(`${_} ${u}
`,0,process.stdout.columns),A=(0,Ud.default)(`${f} ${p}
`,0,process.stdout.columns),y=(0,Ud.default)(`${f} ${l} ${d}
`,0,process.stdout.columns)),h=g+A+y),r+=h}for(s;s<this.concurrency+1;)r+=`${n(s++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},GY=async(e,t,r)=>{let n=await(0,zm.default)(t,{cwd:K.npath.fromPortablePath(e),absolute:!0,expandDirectories:!0,dot:!0,ignore:r});n.sort();let i=await Promise.all(n.map(async s=>{let o=K.npath.toPortablePath(s),a=await K.xfs.statPromise(o);return{path:K.ppath.relative(e,o),size:a.isFile()?a.size:0,lastModified:a.isFile()?a.mtimeMs:0}}));return(0,qN.default)(i)},kn=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function FY(e){return new Promise(t=>setTimeout(t,e))}var $N=Xm;var VN=O("child_process"),YN=O("util"),jY=(0,YN.promisify)(VN.exec);function kY(e){let{commit:t,sinceBranch:r}=e;if(t)return`git diff --name-only ..${t}`;if(r)return`git diff --name-only ${r}...`;throw new Error("Unable to determine how to detect changes.")}async function Qm(e){try{let t=kY(e),{stdout:r}=await jY(t),n=r.split(`
`),s=e.root.project.workspaces.filter(o=>n.some(a=>a.startsWith(o.relativeCwd.replace(/^\.\//,"")))).reduce((o,a)=>{let u=a.getRecursiveWorkspaceDependents();return new Set([...o,...u,a])},new Set);return Array.from(s.values())}catch{return[]}}var qn=O("@yarnpkg/core");var WN=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...WN(i,t))}return r},KN=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=WN(e,t);for(let i of n)for(let s of qn.Manifest.hardDependencies){for(let o of i.manifest.getForScope(s).values()){let a=t.tryWorkspaceByDescriptor(o);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof No){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,s=n.node.length<n.dep.length+4?"\u21B0":"",o=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${qn.formatUtils.pretty(r.configuration,n.node,"white")} ${s}
 \u21B3 ${qn.formatUtils.pretty(r.configuration,n.dep,"red")} ${o}

`,i+=qn.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=qn.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var xo=Q(C());var lr=class extends Gd.BaseCommand{constructor(){super(...arguments);this.json=fe.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=fe.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=fe.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=fe.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=fe.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=fe.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a job, but not actually run it"});this.ignoreBuildCache=fe.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=fe.Option.String("-m,--max-concurrency",{description:"is the maximum number of jobs that can run at a time, defaults to the number of logical CPUs on the current machine."});this.continueOnError=fe.Option.Boolean("--continue-on-error",!1,{description:"if a job fails, continue with the rest"});this.failFast=fe.Option.Boolean("--fail-fast",!1,{description:"if a job fails, terminate other running jobs"});this.exclude=fe.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=fe.Option.Boolean("--exclude-current",!1,{description:"run for this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=fe.Option.Boolean("--changes",!1,{description:"only run for packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=fe.Option.String("--since",{description:"only run for packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=fe.Option.String("--since-branch",{description:"only run for packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=fe.Option.Boolean("--only-current",!1,{description:"only run for the current workspace"});this.ignoreDependencies=fe.Option.Boolean("--ignore-dependencies",!1,{description:"when true, don't run for packages this one depends on"});this.buildTargets=fe.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.commandType="build"}async execute(){return await new At("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:n,ctx:i})=>{n.setAttributes({[U.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[U.YARN_BUILD_FLAGS_ALL]:this.all,[U.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[U.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[U.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[U.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[U.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[U.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[U.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[U.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[U.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[U.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[U.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[U.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[U.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[U.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let s=await He.Configuration.find(this.context.cwd,this.context.plugins),{project:o,workspace:a}=await He.Project.find(s,this.context.cwd);if(!a)throw new Gd.WorkspaceRequiredError(o.cwd,this.context.cwd);let u=this.all?o.topLevelWorkspace:a,l=!1;u==o.topLevelWorkspace&&(l=!0);let d=[u,...this.buildTargets.length>0?u.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?d=await Qm({root:o.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(d=await Qm({root:o.topLevelWorkspace,commit:this.onlyGitChangesSinceCommit??"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(He.structUtils.stringifyIdent(a.anchoredLocator)),!l&&this.onlyCurrent&&(this.maxConcurrency="1");let _=y=>!l&&this.onlyCurrent?y!=a:this.exclude?.some(T=>Do.default.isMatch(He.structUtils.stringifyIdent(y.anchoredLocator),T)||Do.default.isMatch(y.cwd,`${s.projectCwd}${Zm.default.posix.sep}${T}`))??!1,f=y=>!l&&this.onlyCurrent?y==a:this.buildTargets.some(T=>Do.default.isMatch(He.structUtils.stringifyIdent(y.anchoredLocator),T)||Do.default.isMatch(y.cwd,`${s.projectCwd}${Zm.default.posix.sep}${T}`)),p=this.buildTargets.length>0?d.filter(f):d,h=await bR(s);this.continueOnError=this.continueOnError??!!h.bail;let g=this.maxConcurrency===void 0?(0,XN.cpus)().length:parseInt(this.maxConcurrency);n.setAttributes({[U.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[U.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[U.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[U.YARN_BUILD_CONFIG_BAIL]:h.bail,[U.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[U.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:g,[U.YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES]:this.ignoreDependencies});let A=await He.StreamReport.start({configuration:s,json:this.json,stdout:this.context.stdout,includeLogs:!0},async y=>{let T=async(b,B,N,M,H)=>{let ee=xo.trace.getSpan(b),S=new He.miscUtils.BufferStream;S.on("data",v=>M?.emit("info",H,v&&v.toString()));let L=new He.miscUtils.BufferStream;if(L.on("data",v=>M?.emit("error",H,v&&v.toString())),this.forceQuit)return S.destroy(),L.destroy(),S.end(),L.end(),2;try{let v=await this.cli.run(["run",B],{cwd:N,stdout:S,stderr:L})||0;return S.end(),L.end(),v}catch(v){ee?.setStatus({code:xo.SpanStatusCode.ERROR,message:v.message}),(typeof v=="string"||v instanceof Error)&&ee?.recordException(v),S.end(),L.end()}return 2},R=new $N({project:o,configuration:s,pluginConfiguration:h,report:y,runCommand:this.buildCommand,cli:T,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:g,continueOnError:this.continueOnError,excludeWorkspacePredicate:_,ignoreDependencies:this.ignoreDependencies,failFast:this.failFast});R.runReporter.on("force-quit",()=>{this.forceQuit=!0}),await R.setup();for(let b of p)await KN({targetWorkspace:b,project:o,supervisor:R});await R.run(i)===!1&&(y.reportError(He.MessageName.BUILD_FAILED,"Build failed"),n.setStatus({code:xo.SpanStatusCode.ERROR,message:"Build failed"}))});return ls.hasBeenTerminated=!0,A.exitCode()})}};lr.paths=[["build"]],lr.usage=fe.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var oL=O("@yarnpkg/cli"),aL=O("@yarnpkg/core"),jd=O("@yarnpkg/core"),uL=O("clipanion");var Rt=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var zN=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>Rt(i)),n=Array.from(t.workspaces.values()).map(i=>Rt(i.manifest.name));return r.filter(i=>n.includes(i))};var QN=({project:e,workspaceName:t})=>e.workspaces.find(n=>Rt(n.manifest.name)===t);var eL=O("@yarnpkg/core");var qY={firstCharacters:"\u27A4 ",tabString:"\u2502 "},ZN="gray",Bo=({format:e,padding:t,step:r=5,characters:n=qY})=>{let{firstCharacters:i,tabString:s}=n,o=s.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((l,d)=>d<o.length?o[d]:l).join("");process.stdout.write(e(u,ZN))}process.stdout.write(e(i,ZN))};var HY=eL.FormatType.NAME,JN="red",tL=({format:e,circular:t,dependency:r,parents:n,current:i,project:s,padding:o=0})=>{if(t){Bo({format:e,padding:o+1}),process.stdout.write(e(r,HY)),process.stdout.write(e(" -> circular dependency",JN)),process.stdout.write(`
`);return}let a=QN({project:s,workspaceName:r});if(!a){Bo({format:e,padding:o+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",JN)),process.stdout.write(`
`);return}Fd({format:e,project:s,parent:i,parents:[...n,i],padding:o+1,workspace:a})};var rL=({format:e,workspace:t,parent:r,parents:n,project:i,padding:s=0})=>{let o=zN({workspace:t,project:i});for(let a of o)tL({format:e,workspace:t,project:i,padding:s,parent:r,parents:n,current:Rt(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var nL=O("@yarnpkg/core");var $Y=nL.FormatType.NAME,iL=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=Rt(n);Bo({format:e,padding:r}),process.stdout.write(e(i,$Y)),process.stdout.write(`
`)};var Fd=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:s})=>{iL({workspace:t,padding:i,format:e}),rL({parents:n,workspace:t,project:r,padding:i,parent:s,format:e})};var Uo=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var sL=({workspace:e,format:t})=>{let r=Rt(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),Uo({padding:1})};var Hn=class extends oL.BaseCommand{async execute(){let t=await jd.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await jd.Project.find(t,this.context.cwd);if(!n)return 0;let i=(s,o)=>aL.formatUtils.pretty(t,s,o);return Uo({padding:1}),sL({workspace:n,format:i}),Fd({parents:[],workspace:n,project:r,format:i}),Uo({padding:2}),0}};Hn.paths=[["build","query"]],Hn.usage=uL.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var Go=O("clipanion");var $n=class extends lr{constructor(){super(...arguments);this.buildCommand=Go.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=Go.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.ignoreDependencies=!0;this.commandType="test"}};$n.paths=[["test"]],$n.usage=Go.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var VY={commands:[Un,Hn,lr,$n]},YY=VY;return EL(WY);})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
return plugin;
}
};
