/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-all",
factory: function (require) {
var plugin=(()=>{var $b=Object.create,Wn=Object.defineProperty,Vb=Object.defineProperties,Yb=Object.getOwnPropertyDescriptor,Wb=Object.getOwnPropertyDescriptors,Kb=Object.getOwnPropertyNames,od=Object.getOwnPropertySymbols,Xb=Object.getPrototypeOf,sd=Object.prototype.hasOwnProperty,zb=Object.prototype.propertyIsEnumerable;var ad=(e,t,r)=>t in e?Wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t)=>{for(var r in t||(t={}))sd.call(t,r)&&ad(e,r,t[r]);if(od)for(var r of od(t))zb.call(t,r)&&ad(e,r,t[r]);return e},ce=(e,t)=>Vb(e,Wb(t)),Qb=e=>Wn(e,"__esModule",{value:!0});var I=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Zb=(e,t)=>{for(var r in t)Wn(e,r,{get:t[r],enumerable:!0})},Jb=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Kb(t))!sd.call(e,n)&&n!=="default"&&Wn(e,n,{get:()=>t[n],enumerable:!(r=Yb(t,n))||r.enumerable});return e},L=e=>Jb(Qb(Wn(e!=null?$b(Xb(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Ad=p((D1,vd)=>{function dd(e){return Array.isArray(e)?e:[e]}var fd="",hd=" ",vu="\\",eS=/^\s+$/,tS=/^\\!/,rS=/^\\#/,nS=/\r?\n/g,iS=/^\.*\/|^\.+$/,Au="/",_d=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",oS=(e,t,r)=>Object.defineProperty(e,t,{value:r}),sS=/([0-z])-([0-z])/g,aS=e=>e.replace(sS,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:fd),uS=e=>{let{length:t}=e;return e.slice(0,t-t%2)},cS=[[/\\?\s+$/,e=>e.indexOf("\\")===0?hd:fd],[/\\\s/g,()=>hd],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>vu],[/\\\\/g,()=>vu],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===vu?`\\[${r}${uS(n)}${i}`:i==="]"&&n.length%2==0?`[${aS(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],gd=Object.create(null),lS=(e,t,r)=>{let n=gd[e];if(n)return n;let i=cS.reduce((o,s)=>o.replace(s[0],s[1].bind(e)),e);return gd[e]=r?new RegExp(i,"i"):new RegExp(i)},bu=e=>typeof e=="string",pS=e=>e&&bu(e)&&!eS.test(e)&&e.indexOf("#")!==0,dS=e=>e.split(nS),md=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},fS=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(tS,"!").replace(rS,"#");let i=lS(e,n,t);return new md(r,e,n,i)},hS=(e,t)=>{throw new t(e)},wt=(e,t,r)=>bu(e)?e?wt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Ed=e=>iS.test(e);wt.isNotRelative=Ed;wt.convert=e=>e;var yd=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,oS(this,_d,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[_d]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(pS(t)){let r=fS(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,dd(bu(t)?dS(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(o=>{let{negative:s}=o;if(i===s&&n!==i||s&&!n&&!i&&!r)return;o.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let o=t&&wt.convert(t);return wt(o,t,hS),this._t(o,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Au)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let o=this._t(i.join(Au)+Au,r,n,i);return r[t]=o.ignored?o:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return dd(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Eo=e=>new yd(e),_S=()=>!1,gS=e=>wt(e&&wt.convert(e),e,_S);Eo.isPathValid=gS;Eo.default=Eo;vd.exports=Eo;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");wt.convert=e;let t=/^[a-z]:\//i;wt.isNotRelative=r=>t.test(r)||Ed(r)}});var bd=p(Su=>{var ar=I("path"),qt=process.platform==="win32",Gt=I("fs"),mS=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function ES(){var e;if(mS){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function yS(e){return typeof e=="function"?e:ES()}var B1=ar.normalize;qt?Nt=/(.*?)(?:[\/\\]+|$)/g:Nt=/(.*?)(?:[\/]+|$)/g;var Nt;qt?Kn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Kn=/^[\/]*/;var Kn;Su.realpathSync=function(t,r){if(t=ar.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},o={},s,a,u,c;l();function l(){var v=Kn.exec(t);s=v[0].length,a=v[0],u=v[0],c="",qt&&!o[u]&&(Gt.lstatSync(u),o[u]=!0)}for(;s<t.length;){Nt.lastIndex=s;var d=Nt.exec(t);if(c=a,a+=d[0],u=c+d[1],s=Nt.lastIndex,!(o[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var h=Gt.lstatSync(u);if(!h.isSymbolicLink()){o[u]=!0,r&&(r[u]=u);continue}var _=null;if(!qt){var g=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(g)&&(_=i[g])}_===null&&(Gt.statSync(u),_=Gt.readlinkSync(u)),f=ar.resolve(c,_),r&&(r[u]=f),qt||(i[g]=_)}t=ar.resolve(f,t.slice(s)),l()}}return r&&(r[n]=t),t};Su.realpath=function(t,r,n){if(typeof n!="function"&&(n=yS(r),r=null),t=ar.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,o={},s={},a,u,c,l;d();function d(){var v=Kn.exec(t);a=v[0].length,u=v[0],c=v[0],l="",qt&&!s[c]?Gt.lstat(c,function(b){if(b)return n(b);s[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=t.length)return r&&(r[i]=t),n(null,t);Nt.lastIndex=a;var v=Nt.exec(t);return l=u,u+=v[0],c=l+v[1],a=Nt.lastIndex,s[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?g(r[c]):Gt.lstat(c,h)}function h(v,b){if(v)return n(v);if(!b.isSymbolicLink())return s[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!qt){var y=b.dev.toString(32)+":"+b.ino.toString(32);if(o.hasOwnProperty(y))return _(null,o[y],c)}Gt.stat(c,function(C){if(C)return n(C);Gt.readlink(c,function(D,k){qt||(o[y]=k),_(D,k)})})}function _(v,b,y){if(v)return n(v);var C=ar.resolve(l,b);r&&(r[y]=C),g(C)}function g(v){t=ar.resolve(v,t.slice(a)),d()}}});var Cu=p((j1,Od)=>{Od.exports=Ht;Ht.realpath=Ht;Ht.sync=Ou;Ht.realpathSync=Ou;Ht.monkeypatch=AS;Ht.unmonkeypatch=bS;var Vr=I("fs"),Tu=Vr.realpath,Ru=Vr.realpathSync,vS=process.version,Sd=/^v[0-5]\./.test(vS),Td=bd();function Rd(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Ht(e,t,r){if(Sd)return Tu(e,t,r);typeof t=="function"&&(r=t,t=null),Tu(e,t,function(n,i){Rd(n)?Td.realpath(e,t,r):r(n,i)})}function Ou(e,t){if(Sd)return Ru(e,t);try{return Ru(e,t)}catch(r){if(Rd(r))return Td.realpathSync(e,t);throw r}}function AS(){Vr.realpath=Ht,Vr.realpathSync=Ou}function bS(){Vr.realpath=Tu,Vr.realpathSync=Ru}});var Pd=p((k1,Cd)=>{Cd.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);SS(i)?r.push.apply(r,i):r.push(i)}return r};var SS=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Ld=p((F1,xd)=>{"use strict";xd.exports=Id;function Id(e,t,r){e instanceof RegExp&&(e=wd(e,r)),t instanceof RegExp&&(t=wd(t,r));var n=Nd(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function wd(e,t){var r=t.match(e);return r?r[0]:null}Id.range=Nd;function Nd(e,t,r){var n,i,o,s,a,u=r.indexOf(e),c=r.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(n=[],o=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(e,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,s=c),c=r.indexOf(t,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[o,s])}return a}});var qd=p((q1,Fd)=>{var TS=Pd(),Md=Ld();Fd.exports=CS;var Dd="\0SLASH"+Math.random()+"\0",Bd="\0OPEN"+Math.random()+"\0",Pu="\0CLOSE"+Math.random()+"\0",Ud="\0COMMA"+Math.random()+"\0",jd="\0PERIOD"+Math.random()+"\0";function Iu(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function RS(e){return e.split("\\\\").join(Dd).split("\\{").join(Bd).split("\\}").join(Pu).split("\\,").join(Ud).split("\\.").join(jd)}function OS(e){return e.split(Dd).join("\\").split(Bd).join("{").split(Pu).join("}").split(Ud).join(",").split(jd).join(".")}function kd(e){if(!e)return[""];var t=[],r=Md("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=kd(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),t.push.apply(t,s),t}function CS(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Yr(RS(e),!0).map(OS)):[]}function PS(e){return"{"+e+"}"}function IS(e){return/^-?0\d/.test(e)}function wS(e,t){return e<=t}function NS(e,t){return e>=t}function Yr(e,t){var r=[],n=Md("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Pu+n.post,Yr(e)):[e];var u;if(s)u=n.body.split(/\.\./);else if(u=kd(n.body),u.length===1&&(u=Yr(u[0],!1).map(PS),u.length===1)){var l=n.post.length?Yr(n.post,!1):[""];return l.map(function(A){return n.pre+u[0]+A})}var c=n.pre,l=n.post.length?Yr(n.post,!1):[""],d;if(s){var f=Iu(u[0]),h=Iu(u[1]),_=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(Iu(u[2])):1,v=wS,b=h<f;b&&(g*=-1,v=NS);var y=u.some(IS);d=[];for(var C=f;v(C,h);C+=g){var D;if(o)D=String.fromCharCode(C),D==="\\"&&(D="");else if(D=String(C),y){var k=_-D.length;if(k>0){var ie=new Array(k+1).join("0");C<0?D="-"+ie+D.slice(1):D=ie+D}}d.push(D)}}else d=TS(u,function(Y){return Yr(Y,!1)});for(var F=0;F<d.length;F++)for(var O=0;O<l.length;O++){var T=c+d[F]+l[O];(!t||s||T)&&r.push(T)}return r}});var vo=p((G1,Wd)=>{Wd.exports=Xe;Xe.Minimatch=ve;var Xn={sep:"/"};try{Xn=I("path")}catch(e){}var wu=Xe.GLOBSTAR=ve.GLOBSTAR={},xS=qd(),Gd={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Nu="[^/]",xu=Nu+"*?",LS="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",MS="(?:(?!(?:\\/|^)\\.).)*?",Hd=DS("().*{}+?[]^$\\!");function DS(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var $d=/\/+/;Xe.filter=BS;function BS(e,t){return t=t||{},function(r,n,i){return Xe(r,e,t)}}function Vd(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Xe.defaults=function(e){if(!e||!Object.keys(e).length)return Xe;var t=Xe,r=function(i,o,s){return t.minimatch(i,o,Vd(e,s))};return r.Minimatch=function(i,o){return new t.Minimatch(i,Vd(e,o))},r};ve.defaults=function(e){return!e||!Object.keys(e).length?ve:Xe.defaults(e).Minimatch};function Xe(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new ve(t,r).match(e)}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),Xn.sep!=="/"&&(e=e.split(Xn.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}ve.prototype.debug=function(){};ve.prototype.make=US;function US(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split($d)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}ve.prototype.parseNegate=jS;function jS(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Xe.braceExpand=function(e,t){return Yd(e,t)};ve.prototype.braceExpand=Yd;function Yd(e,t){if(t||(this instanceof ve?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:xS(e)}ve.prototype.parse=kS;var yo={};function kS(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return wu;if(e==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],u,c=!1,l=-1,d=-1,f=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function _(){if(u){switch(u){case"*":n+=xu,i=!0;break;case"?":n+=Nu,i=!0;break;default:n+="\\"+u;break}h.debug("clearStateChar %j %j",u,n),u=!1}}for(var g=0,v=e.length,b;g<v&&(b=e.charAt(g));g++){if(this.debug("%s	%s %s %j",e,g,n,b),o&&Hd[b]){n+="\\"+b,o=!1;continue}switch(b){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,g,n,b),c){this.debug("  in class"),b==="!"&&g===d+1&&(b="^"),n+=b;continue}h.debug("call clearStateChar %j",u),_(),u=b,r.noext&&_();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}s.push({type:u,start:g-1,reStart:n.length,open:Gd[u].open,close:Gd[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!s.length){n+="\\)";continue}_(),i=!0;var y=s.pop();n+=y.close,y.type==="!"&&a.push(y),y.reEnd=n.length;continue;case"|":if(c||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),c){n+="\\"+b;continue}c=!0,d=g,l=n.length,n+=b;continue;case"]":if(g===d+1||!c){n+="\\"+b,o=!1;continue}if(c){var C=e.substring(d+1,g);try{RegExp("["+C+"]")}catch(Ge){var D=this.parse(C,yo);n=n.substr(0,l)+"\\["+D[0]+"\\]",i=i||D[1],c=!1;continue}}i=!0,c=!1,n+=b;continue;default:_(),o?o=!1:Hd[b]&&!(b==="^"&&c)&&(n+="\\"),n+=b}}for(c&&(C=e.substr(d+1),D=this.parse(C,yo),n=n.substr(0,l)+"\\["+D[0],i=i||D[1]),y=s.pop();y;y=s.pop()){var k=n.slice(y.reStart+y.open.length);this.debug("setting tail",n,y),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Ge,be,Ft){return Ft||(Ft="\\"),be+be+Ft+"|"}),this.debug(`tail=%j
   %s`,k,k,y,n);var ie=y.type==="*"?xu:y.type==="?"?Nu:"\\"+y.type;i=!0,n=n.slice(0,y.reStart)+ie+"\\("+k}_(),o&&(n+="\\\\");var F=!1;switch(n.charAt(0)){case".":case"[":case"(":F=!0}for(var O=a.length-1;O>-1;O--){var T=a[O],Y=n.slice(0,T.reStart),A=n.slice(T.reStart,T.reEnd-8),M=n.slice(T.reEnd-8,T.reEnd),N=n.slice(T.reEnd);M+=N;var se=Y.split("(").length-1,m=N;for(g=0;g<se;g++)m=m.replace(/\)[+*?]?/,"");N=m;var E="";N===""&&t!==yo&&(E="$");var ae=Y+A+N+E+M;n=ae}if(n!==""&&i&&(n="(?=.)"+n),F&&(n=f+n),t===yo)return[n,i];if(!i)return GS(e);var $=r.nocase?"i":"";try{var Be=new RegExp("^"+n+"$",$)}catch(Ge){return new RegExp("$.")}return Be._glob=e,Be._src=n,Be}Xe.makeRe=function(e,t){return new ve(e,t||{}).makeRe()};ve.prototype.makeRe=FS;function FS(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?xu:t.dot?LS:MS,n=t.nocase?"i":"",i=e.map(function(o){return o.map(function(s){return s===wu?r:typeof s=="string"?HS(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(o){this.regexp=!1}return this.regexp}Xe.match=function(e,t,r){r=r||{};var n=new ve(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};ve.prototype.match=qS;function qS(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;Xn.sep!=="/"&&(e=e.split(Xn.sep).join("/")),e=e.split($d),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=e.length-1;o>=0&&(i=e[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=e;r.matchBase&&s.length===1&&(a=[i]);var u=this.matchOne(a,s,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}ve.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,s=e.length,a=t.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u=t[o],c=e[i];if(this.debug(t,u,c),u===!1)return!1;if(u===wu){this.debug("GLOBSTAR",[t,u,c]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=e[l];if(this.debug(`
globstar while`,e,l,t,d,f),this.matchOne(e.slice(l),t.slice(d),r))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,d),l===s))}var h;if(typeof u=="string"?(n.nocase?h=c.toLowerCase()===u.toLowerCase():h=c===u,this.debug("string match",u,c,h)):(h=c.match(u),this.debug("pattern match",u,c,h)),!h)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a){var _=i===s-1&&e[i]==="";return _}throw new Error("wtf?")};function GS(e){return e.replace(/\\(.)/g,"$1")}function HS(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Kd=p((H1,Lu)=>{typeof Object.create=="function"?Lu.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Lu.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Xd=p(($1,Du)=>{try{if(Mu=I("util"),typeof Mu.inherits!="function")throw"";Du.exports=Mu.inherits}catch(e){Du.exports=Kd()}var Mu});var bo=p((V1,Ao)=>{"use strict";function zd(e){return e.charAt(0)==="/"}function Qd(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Ao.exports=process.platform==="win32"?Qd:zd;Ao.exports.posix=zd;Ao.exports.win32=Qd});var Uu=p($t=>{$t.setopts=XS;$t.ownProp=Zd;$t.makeAbs=zn;$t.finish=zS;$t.mark=QS;$t.isIgnored=ef;$t.childrenIgnored=ZS;function Zd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var $S=I("fs"),Wr=I("path"),VS=vo(),Jd=bo(),Bu=VS.Minimatch;function YS(e,t){return e.localeCompare(t,"en")}function WS(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(KS))}function KS(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Bu(r,{dot:!0})}return{matcher:new Bu(e,{dot:!0}),gmatcher:t}}function XS(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||$S,e.maxLength=r.maxLength||Infinity,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),WS(e,r),e.changedCwd=!1;var n=process.cwd();Zd(r,"cwd")?(e.cwd=Wr.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||Wr.resolve(e.cwd,"/"),e.root=Wr.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=Jd(e.cwd)?e.cwd:zn(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new Bu(t,r),e.options=e.minimatch.options}function zS(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var a=Object.keys(o);t?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(YS)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=e.cache[u]||e.cache[zn(e,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}e.ignore.length&&(r=r.filter(function(u){return!ef(e,u)})),e.found=r}function QS(e,t){var r=zn(e,t),n=e.cache[r],i=t;if(n){var o=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=zn(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function zn(e,t){var r=t;return t.charAt(0)==="/"?r=Wr.join(e.root,t):Jd(t)||t===""?r=t:e.changedCwd?r=Wr.resolve(e.cwd,t):r=Wr.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function ef(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function ZS(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var sf=p((z1,of)=>{of.exports=nf;nf.GlobSync=me;var JS=Cu(),tf=vo(),W1=tf.Minimatch,K1=Fu().Glob,X1=I("util"),ju=I("path"),rf=I("assert"),So=bo(),ur=Uu(),eT=ur.setopts,ku=ur.ownProp,tT=ur.childrenIgnored,rT=ur.isIgnored;function nf(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new me(e,t).found}function me(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof me))return new me(e,t);if(eT(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}me.prototype._finish=function(){if(rf(this instanceof me),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var o=JS.realpathSync(i,e.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}ur.finish(this)};me.prototype._process=function(e,t,r){rf(this instanceof me);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var o=e.slice(n),s;i===null?s=".":((So(i)||So(e.join("/")))&&(!i||!So(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!tT(this,s)){var u=o[0]===tf.GLOBSTAR;u?this._processGlobStar(i,s,a,o,t,r):this._processReaddir(i,s,a,o,t,r)}};me.prototype._processReaddir=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",d=[],f=0;f<s.length;f++){var h=s[f];if(h.charAt(0)!=="."||l){var _;u&&!e?_=!h.match(a):_=h.match(a),_&&d.push(h)}}var g=d.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<g;f++){var h=d[f];e&&(e.slice(-1)!=="/"?h=e+"/"+h:h=e+h),h.charAt(0)==="/"&&!this.nomount&&(h=ju.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var f=0;f<g;f++){var h=d[f],v;e?v=[e,h]:v=[h],this._process(v.concat(n),i,o)}}}};me.prototype._emitMatch=function(e,t){if(!rT(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};me.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};me.prototype._readdir=function(e,t){var r;if(t&&!ku(this.symlinks,e))return this._readdirInGlobStar(e);if(ku(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};me.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};me.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};me.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){var a=n.slice(1),u=e?[e]:[],c=u.concat(a);this._process(c,i,!1);var l=s.length,d=this.symlinks[r];if(!(d&&o))for(var f=0;f<l;f++){var h=s[f];if(!(h.charAt(0)==="."&&!this.dot)){var _=u.concat(s[f],a);this._process(_,i,!0);var g=u.concat(s[f],n);this._process(g,i,!0)}}}};me.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&So(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=ju.join(this.root,e):(e=ju.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};me.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&ku(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(a){i=o}else i=o}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};me.prototype._mark=function(e){return ur.mark(this,e)};me.prototype._makeAbs=function(e){return ur.makeAbs(this,e)}});var qu=p((Q1,uf)=>{uf.exports=af;function af(e,t){if(e&&t)return af(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Hu=p((Z1,Gu)=>{var cf=qu();Gu.exports=cf(To);Gu.exports.strict=cf(lf);To.proto=To(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return To(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return lf(this)},configurable:!0})});function To(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function lf(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var df=p((J1,pf)=>{var nT=qu(),Qn=Object.create(null),iT=Hu();pf.exports=nT(oT);function oT(e,t){return Qn[e]?(Qn[e].push(t),null):(Qn[e]=[t],sT(e))}function sT(e){return iT(function t(){var r=Qn[e],n=r.length,i=aT(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Qn[e]}})}function aT(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Fu=p((rD,hf)=>{hf.exports=lr;var uT=Cu(),ff=vo(),eD=ff.Minimatch,cT=Xd(),lT=I("events").EventEmitter,$u=I("path"),Vu=I("assert"),Zn=bo(),Yu=sf(),cr=Uu(),pT=cr.setopts,Wu=cr.ownProp,Ku=df(),tD=I("util"),dT=cr.childrenIgnored,fT=cr.isIgnored,hT=Hu();function lr(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return Yu(e,t)}return new K(e,t,r)}lr.sync=Yu;var _T=lr.GlobSync=Yu.GlobSync;lr.glob=lr;function gT(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}lr.hasMagic=function(e,t){var r=gT({},t);r.noprocess=!0;var n=new K(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};lr.Glob=K;cT(K,lT);function K(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new _T(e,t)}if(!(this instanceof K))return new K(e,t,r);pT(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=hT(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}K.prototype._finish=function(){if(Vu(this instanceof K),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();cr.finish(this),this.emit("end",this.found)}};K.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e==0&&t._finish()}};K.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,o=n.length;if(o===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),uT.realpath(a,i.realpathCache,function(c,l){c?c.syscall==="stat"?s[a]=!0:i.emit("error",c):s[l]=!0,--o==0&&(i.matches[e]=s,t())})})};K.prototype._mark=function(e){return cr.mark(this,e)};K.prototype._makeAbs=function(e){return cr.makeAbs(this,e)};K.prototype.abort=function(){this.aborted=!0,this.emit("abort")};K.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};K.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};K.prototype._process=function(e,t,r,n){if(Vu(this instanceof K),Vu(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var o;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:o=null;break;default:o=e.slice(0,i).join("/");break}var s=e.slice(i),a;o===null?a=".":((Zn(o)||Zn(e.join("/")))&&(!o||!Zn(o))&&(o="/"+o),a=o);var u=this._makeAbs(a);if(dT(this,a))return n();var c=s[0]===ff.GLOBSTAR;c?this._processGlobStar(o,a,u,s,t,r,n):this._processReaddir(o,a,u,s,t,r,n)}};K.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){return a._processReaddir2(e,t,r,n,i,o,c,s)})};K.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();for(var u=n[0],c=!!this.minimatch.negate,l=u._glob,d=this.dot||l.charAt(0)===".",f=[],h=0;h<s.length;h++){var _=s[h];if(_.charAt(0)!=="."||d){var g;c&&!e?g=!_.match(u):g=_.match(u),g&&f.push(_)}}var v=f.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<v;h++){var _=f[h];e&&(e!=="/"?_=e+"/"+_:_=e+_),_.charAt(0)==="/"&&!this.nomount&&(_=$u.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var h=0;h<v;h++){var _=f[h],b;e&&(e!=="/"?_=e+"/"+_:_=e+_),this._process([_].concat(n),i,o,a)}a()};K.prototype._emitMatch=function(e,t){if(!this.aborted&&!fT(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Zn(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};K.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=Ku(r,o);i&&n.fs.lstat(e,i);function o(s,a){if(s&&s.code==="ENOENT")return t();var u=a&&a.isSymbolicLink();n.symlinks[e]=u,!u&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};K.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=Ku("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Wu(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Wu(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,mT(this,e,r))}};function mT(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}K.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};K.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};K.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){a._processGlobStar2(e,t,r,n,i,o,c,s)})};K.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var u=n.slice(1),c=e?[e]:[],l=c.concat(u);this._process(l,i,!1,a);var d=this.symlinks[r],f=s.length;if(d&&o)return a();for(var h=0;h<f;h++){var _=s[h];if(!(_.charAt(0)==="."&&!this.dot)){var g=c.concat(s[h],u);this._process(g,i,!0,a);var v=c.concat(s[h],n);this._process(v,i,!0,a)}}a()};K.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};K.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Zn(e)&&!this.nomount){var o=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=$u.join(this.root,e):(e=$u.resolve(this.root,e),o&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};K.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Wu(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,s)}var u=this,c=Ku("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(d,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(h,_){h?u._stat2(e,r,null,f,t):u._stat2(e,r,h,_,t)});u._stat2(e,r,d,f,t)}};K.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var o=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&s==="FILE"?i():i(null,s,n)}});var gf=p((nD,pr)=>{var Jn=Fu(),_f=function(e,t){return new Promise((r,n)=>{Jn(e,t,(i,o)=>i===null?r(o):n(i))})};pr.exports=_f;pr.exports.glob=Jn;pr.exports.Glob=Jn.Glob;pr.exports.hasMagic=Jn.hasMagic;pr.exports.promise=_f;pr.exports.sync=Jn.sync});var Kr=p((_D,dr)=>{"use strict";function bf(e){return typeof e=="undefined"||e===null}function vT(e){return typeof e=="object"&&e!==null}function AT(e){return Array.isArray(e)?e:bf(e)?[]:[e]}function bT(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function ST(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function TT(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}dr.exports.isNothing=bf;dr.exports.isObject=vT;dr.exports.toArray=AT;dr.exports.repeat=ST;dr.exports.isNegativeZero=TT;dr.exports.extend=bT});var Xr=p((gD,Tf)=>{"use strict";function Sf(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ei(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Sf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ei.prototype=Object.create(Error.prototype);ei.prototype.constructor=ei;ei.prototype.toString=function(t){return this.name+": "+Sf(this,t)};Tf.exports=ei});var Of=p((mD,Rf)=>{"use strict";var ti=Kr();function zu(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function Qu(e,t){return ti.repeat(" ",t-e.length)+e}function RT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",u,c,l=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)c=zu(e.buffer,n[s-u],i[s-u],e.position-(n[s]-n[s-u]),d),a=ti.repeat(" ",t.indent)+Qu((e.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=zu(e.buffer,n[s],i[s],e.position,d),a+=ti.repeat(" ",t.indent)+Qu((e.line+1).toString(),l)+" | "+c.str+`
`,a+=ti.repeat("-",t.indent+l+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)c=zu(e.buffer,n[s+u],i[s+u],e.position-(n[s]-n[s+u]),d),a+=ti.repeat(" ",t.indent)+Qu((e.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}Rf.exports=RT});var Se=p((ED,Pf)=>{"use strict";var Cf=Xr(),OT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],CT=["scalar","sequence","mapping"];function PT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function IT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(OT.indexOf(r)===-1)throw new Cf('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=PT(t.styleAliases||null),CT.indexOf(this.kind)===-1)throw new Cf('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Pf.exports=IT});var ec=p((yD,wf)=>{"use strict";var ri=Xr(),Zu=Se();function If(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function wT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Ju(e){return this.extend(e)}Ju.prototype.extend=function(t){var r=[],n=[];if(t instanceof Zu)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ri("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Zu))throw new ri("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new ri("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new ri("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Zu))throw new ri("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Ju.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=If(i,"implicit"),i.compiledExplicit=If(i,"explicit"),i.compiledTypeMap=wT(i.compiledImplicit,i.compiledExplicit),i};wf.exports=Ju});var tc=p((vD,Nf)=>{"use strict";var NT=Se();Nf.exports=new NT("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var rc=p((AD,xf)=>{"use strict";var xT=Se();xf.exports=new xT("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var nc=p((bD,Lf)=>{"use strict";var LT=Se();Lf.exports=new LT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var ic=p((SD,Mf)=>{"use strict";var MT=ec();Mf.exports=new MT({explicit:[tc(),rc(),nc()]})});var oc=p((TD,Df)=>{"use strict";var DT=Se();function BT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function UT(){return null}function jT(e){return e===null}Df.exports=new DT("tag:yaml.org,2002:null",{kind:"scalar",resolve:BT,construct:UT,predicate:jT,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var sc=p((RD,Bf)=>{"use strict";var kT=Se();function FT(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function qT(e){return e==="true"||e==="True"||e==="TRUE"}function GT(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Bf.exports=new kT("tag:yaml.org,2002:bool",{kind:"scalar",resolve:FT,construct:qT,predicate:GT,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var ac=p((OD,Uf)=>{"use strict";var HT=Kr(),$T=Se();function VT(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function YT(e){return 48<=e&&e<=55}function WT(e){return 48<=e&&e<=57}function KT(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!VT(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!YT(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!WT(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function XT(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function zT(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!HT.isNegativeZero(e)}Uf.exports=new $T("tag:yaml.org,2002:int",{kind:"scalar",resolve:KT,construct:XT,predicate:zT,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var uc=p((CD,kf)=>{"use strict";var jf=Kr(),QT=Se(),ZT=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function JT(e){return!(e===null||!ZT.test(e)||e[e.length-1]==="_")}function eR(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var tR=/^[-+]?[0-9]+e/;function rR(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(jf.isNegativeZero(e))return"-0.0";return r=e.toString(10),tR.test(r)?r.replace("e",".e"):r}function nR(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||jf.isNegativeZero(e))}kf.exports=new QT("tag:yaml.org,2002:float",{kind:"scalar",resolve:JT,construct:eR,predicate:nR,represent:rR,defaultStyle:"lowercase"})});var cc=p((PD,Ff)=>{"use strict";Ff.exports=ic().extend({implicit:[oc(),sc(),ac(),uc()]})});var lc=p((ID,qf)=>{"use strict";qf.exports=cc()});var pc=p((wD,$f)=>{"use strict";var iR=Se(),Gf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Hf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function oR(e){return e===null?!1:Gf.exec(e)!==null||Hf.exec(e)!==null}function sR(e){var t,r,n,i,o,s,a,u=0,c=null,l,d,f;if(t=Gf.exec(e),t===null&&(t=Hf.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],d=+(t[11]||0),c=(l*60+d)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,o,s,a,u)),c&&f.setTime(f.getTime()-c),f}function aR(e){return e.toISOString()}$f.exports=new iR("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:oR,construct:sR,instanceOf:Date,represent:aR})});var dc=p((ND,Vf)=>{"use strict";var uR=Se();function cR(e){return e==="<<"||e===null}Vf.exports=new uR("tag:yaml.org,2002:merge",{kind:"scalar",resolve:cR})});var hc=p((xD,Yf)=>{"use strict";var lR=Se(),fc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function pR(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=fc;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function dR(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=fc,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function fR(e){var t="",r=0,n,i,o=e.length,s=fc;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function hR(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Yf.exports=new lR("tag:yaml.org,2002:binary",{kind:"scalar",resolve:pR,construct:dR,predicate:hR,represent:fR})});var _c=p((LD,Wf)=>{"use strict";var _R=Se(),gR=Object.prototype.hasOwnProperty,mR=Object.prototype.toString;function ER(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,mR.call(i)!=="[object Object]")return!1;for(o in i)if(gR.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function yR(e){return e!==null?e:[]}Wf.exports=new _R("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ER,construct:yR})});var gc=p((MD,Kf)=>{"use strict";var vR=Se(),AR=Object.prototype.toString;function bR(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],AR.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function SR(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}Kf.exports=new vR("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:bR,construct:SR})});var mc=p((DD,Xf)=>{"use strict";var TR=Se(),RR=Object.prototype.hasOwnProperty;function OR(e){if(e===null)return!0;var t,r=e;for(t in r)if(RR.call(r,t)&&r[t]!==null)return!1;return!0}function CR(e){return e!==null?e:{}}Xf.exports=new TR("tag:yaml.org,2002:set",{kind:"mapping",resolve:OR,construct:CR})});var Oo=p((BD,zf)=>{"use strict";zf.exports=lc().extend({implicit:[pc(),dc()],explicit:[hc(),_c(),gc(),mc()]})});var dh=p((UD,Ac)=>{"use strict";var fr=Kr(),Qf=Xr(),PR=Of(),IR=Oo(),Vt=Object.prototype.hasOwnProperty,Co=1,Zf=2,Jf=3,Po=4,Ec=1,wR=2,eh=3,NR=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,xR=/[\x85\u2028\u2029]/,LR=/[,\[\]\{\}]/,th=/^(?:!|!!|![a-z\-]+!)$/i,rh=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function nh(e){return Object.prototype.toString.call(e)}function dt(e){return e===10||e===13}function hr(e){return e===9||e===32}function Ue(e){return e===9||e===32||e===10||e===13}function zr(e){return e===44||e===91||e===93||e===123||e===125}function MR(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function DR(e){return e===120?2:e===117?4:e===85?8:0}function BR(e){return 48<=e&&e<=57?e-48:-1}function ih(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function UR(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var oh=new Array(256),sh=new Array(256);for(var Qr=0;Qr<256;Qr++)oh[Qr]=ih(Qr)?1:0,sh[Qr]=ih(Qr);function jR(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||IR,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ah(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=PR(r),new Qf(t,r)}function x(e,t){throw ah(e,t)}function Io(e,t){e.onWarning&&e.onWarning.call(null,ah(e,t))}var uh={YAML:function(t,r,n){var i,o,s;t.version!==null&&x(t,"duplication of %YAML directive"),n.length!==1&&x(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&x(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&x(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Io(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&x(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],th.test(i)||x(t,"ill-formed tag handle (first argument) of the TAG directive"),Vt.call(t.tagMap,i)&&x(t,'there is a previously declared suffix for "'+i+'" tag handle'),rh.test(o)||x(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(s){x(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Yt(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||x(e,"expected valid JSON character");else NR.test(a)&&x(e,"the stream contains non-printable characters");e.result+=a}}function ch(e,t,r,n){var i,o,s,a;for(fr.isObject(r)||x(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],Vt.call(t,o)||(t[o]=r[o],n[o]=!0)}function Zr(e,t,r,n,i,o,s,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&x(e,"nested arrays are not supported inside keys"),typeof i=="object"&&nh(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&nh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)ch(e,t,o[c],r);else ch(e,t,o,r);else!e.json&&!Vt.call(r,i)&&Vt.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,x(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function yc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function pe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;hr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(dt(i))for(yc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Io(e,"deficient indentation"),n}function wo(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ue(r)))}function vc(e,t){t===1?e.result+=" ":t>1&&(e.result+=fr.repeat(`
`,t-1))}function kR(e,t,r){var n,i,o,s,a,u,c,l,d=e.kind,f=e.result,h;if(h=e.input.charCodeAt(e.position),Ue(h)||zr(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),Ue(i)||r&&zr(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),Ue(i)||r&&zr(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),Ue(n))break}else{if(e.position===e.lineStart&&wo(e)||r&&zr(h))break;if(dt(h))if(u=e.line,c=e.lineStart,l=e.lineIndent,pe(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=c,e.lineIndent=l;break}}a&&(Yt(e,o,s,!1),vc(e,e.line-u),o=s=e.position,a=!1),hr(h)||(s=e.position+1),h=e.input.charCodeAt(++e.position)}return Yt(e,o,s,!1),e.result?!0:(e.kind=d,e.result=f,!1)}function FR(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Yt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else dt(r)?(Yt(e,n,i,!0),vc(e,pe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&wo(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function qR(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Yt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Yt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),dt(a))pe(e,!1,t);else if(a<256&&oh[a])e.result+=sh[a],e.position++;else if((s=DR(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=MR(a))>=0?o=(o<<4)+s:x(e,"expected hexadecimal character");e.result+=UR(o),e.position++}else x(e,"unknown escape sequence");r=n=e.position}else dt(a)?(Yt(e,r,n,!0),vc(e,pe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&wo(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function GR(e,t){var r=!0,n,i,o,s=e.tag,a,u=e.anchor,c,l,d,f,h,_=Object.create(null),g,v,b,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,h=!1,a=[];else if(y===123)l=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(pe(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=s,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?y===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),v=g=b=null,d=f=!1,y===63&&(c=e.input.charCodeAt(e.position+1),Ue(c)&&(d=f=!0,e.position++,pe(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,Jr(e,t,Co,!1,!0),v=e.tag,g=e.result,pe(e,!0,t),y=e.input.charCodeAt(e.position),(f||e.line===n)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),pe(e,!0,t),Jr(e,t,Co,!1,!0),b=e.result),h?Zr(e,a,_,v,g,b,n,i,o):d?a.push(Zr(e,null,_,v,g,b,n,i,o)):a.push(g),pe(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}x(e,"unexpected end of the stream within a flow collection")}function HR(e,t){var r,n,i=Ec,o=!1,s=!1,a=t,u=0,c=!1,l,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Ec===i?i=d===43?eh:wR:x(e,"repeat of a chomping mode identifier");else if((l=BR(d))>=0)l===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?x(e,"repeat of an indentation width identifier"):(a=t+l-1,s=!0);else break;if(hr(d)){do d=e.input.charCodeAt(++e.position);while(hr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!dt(d)&&d!==0)}for(;d!==0;){for(yc(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),dt(d)){u++;continue}if(e.lineIndent<a){i===eh?e.result+=fr.repeat(`
`,o?1+u:u):i===Ec&&o&&(e.result+=`
`);break}for(n?hr(d)?(c=!0,e.result+=fr.repeat(`
`,o?1+u:u)):c?(c=!1,e.result+=fr.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=fr.repeat(`
`,u):e.result+=fr.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,r=e.position;!dt(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Yt(e,r,e.position,!1)}return!0}function lh(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Ue(s))));){if(a=!0,e.position++,pe(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,Jr(e,t,Jf,!1,!0),o.push(e.result),pe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function $R(e,t,r){var n,i,o,s,a,u,c=e.tag,l=e.anchor,d={},f=Object.create(null),h=null,_=null,g=null,v=!1,b=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&Ue(n))y===63?(v&&(Zr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,v=!0,i=!0):v?(v=!1,i=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(s=e.line,a=e.lineStart,u=e.position,!Jr(e,r,Zf,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);hr(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Ue(y)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Zr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,v=!1,i=!1,h=e.tag,_=e.result;else if(b)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=l,!0}else if(b)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=l,!0}if((e.line===o||e.lineIndent>t)&&(v&&(s=e.line,a=e.lineStart,u=e.position),Jr(e,t,Po,!0,i)&&(v?_=e.result:g=e.result),v||(Zr(e,d,f,h,_,g,s,a,u),h=_=g=null),pe(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Zr(e,d,f,h,_,null,s,a,u),b&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=d),b}function VR(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ue(s);)s===33&&(n?x(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),th.test(i)||x(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),LR.test(o)&&x(e,"tag suffix cannot contain flow indicator characters")}o&&!rh.test(o)&&x(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(a){x(e,"tag name is malformed: "+o)}return r?e.tag=o:Vt.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:x(e,'undeclared tag handle "'+i+'"'),!0}function YR(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ue(r)&&!zr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function WR(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ue(n)&&!zr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Vt.call(e.anchorMap,r)||x(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],pe(e,!0,-1),!0}function Jr(e,t,r,n,i){var o,s,a,u=1,c=!1,l=!1,d,f,h,_,g,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Po===r||Jf===r,n&&pe(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;VR(e)||YR(e);)pe(e,!0,-1)?(c=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||Po===r)&&(Co===r||Zf===r?g=t:g=t+1,v=e.position-e.lineStart,u===1?a&&(lh(e,v)||$R(e,v,g))||GR(e,g)?l=!0:(s&&HR(e,g)||FR(e,g)||qR(e,g)?l=!0:WR(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):kR(e,g,Co===r)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&lh(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,f=e.implicitTypes.length;d<f;d+=1)if(_=e.implicitTypes[d],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Vt.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,h=e.typeMap.multi[e.kind||"fallback"],d=0,f=h.length;d<f;d+=1)if(e.tag.slice(0,h[d].tag.length)===h[d].tag){_=h[d];break}_||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function KR(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(pe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!Ue(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&x(e,"directive name must not be less than one character in length");s!==0;){for(;hr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!dt(s));break}if(dt(s))break;for(r=e.position;s!==0&&!Ue(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&yc(e),Vt.call(uh,n)?uh[n](e,n,i):Io(e,'unknown document directive "'+n+'"')}if(pe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,pe(e,!0,-1)):o&&x(e,"directives end mark is expected"),Jr(e,e.lineIndent-1,Po,!1,!0),pe(e,!0,-1),e.checkLineBreaks&&xR.test(e.input.slice(t,e.position))&&Io(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&wo(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,pe(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function ph(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new jR(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,x(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)KR(r);return r.documents}function XR(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=ph(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function zR(e,t){var r=ph(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Qf("expected a single document in the stream, but found more")}}Ac.exports.loadAll=XR;Ac.exports.load=zR});var Lh=p((jD,xh)=>{"use strict";var No=Kr(),ni=Xr(),QR=Oo(),fh=Object.prototype.toString,hh=Object.prototype.hasOwnProperty,bc=65279,ZR=9,ii=10,JR=13,eO=32,tO=33,rO=34,Sc=35,nO=37,iO=38,oO=39,sO=42,_h=44,aO=45,xo=58,uO=61,cO=62,lO=63,pO=64,gh=91,mh=93,dO=96,Eh=123,fO=124,yh=125,Te={};Te[0]="\\0";Te[7]="\\a";Te[8]="\\b";Te[9]="\\t";Te[10]="\\n";Te[11]="\\v";Te[12]="\\f";Te[13]="\\r";Te[27]="\\e";Te[34]='\\"';Te[92]="\\\\";Te[133]="\\N";Te[160]="\\_";Te[8232]="\\L";Te[8233]="\\P";var hO=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],_O=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function gO(e,t){var r,n,i,o,s,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&hh.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}function mO(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ni("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+No.repeat("0",n-t.length)+t}var EO=1,oi=2;function yO(e){this.schema=e.schema||QR,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=No.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=gO(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?oi:EO,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vh(e,t){for(var r=No.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function Tc(e,t){return`
`+No.repeat(" ",e.indent*t)}function vO(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Lo(e){return e===eO||e===ZR}function si(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==bc||65536<=e&&e<=1114111}function Ah(e){return si(e)&&e!==bc&&e!==JR&&e!==ii}function bh(e,t,r){var n=Ah(e),i=n&&!Lo(e);return(r?n:n&&e!==_h&&e!==gh&&e!==mh&&e!==Eh&&e!==yh)&&e!==Sc&&!(t===xo&&!i)||Ah(t)&&!Lo(t)&&e===Sc||t===xo&&i}function AO(e){return si(e)&&e!==bc&&!Lo(e)&&e!==aO&&e!==lO&&e!==xo&&e!==_h&&e!==gh&&e!==mh&&e!==Eh&&e!==yh&&e!==Sc&&e!==iO&&e!==sO&&e!==tO&&e!==fO&&e!==uO&&e!==cO&&e!==oO&&e!==rO&&e!==nO&&e!==pO&&e!==dO}function bO(e){return!Lo(e)&&e!==xo}function ai(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Sh(e){var t=/^\n* /;return t.test(e)}var Th=1,Rc=2,Rh=3,Oh=4,en=5;function SO(e,t,r,n,i,o,s,a){var u,c=0,l=null,d=!1,f=!1,h=n!==-1,_=-1,g=AO(ai(e,0))&&bO(ai(e,e.length-1));if(t||s)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ai(e,u),!si(c))return en;g=g&&bh(c,l,a),l=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ai(e,u),c===ii)d=!0,h&&(f=f||u-_-1>n&&e[_+1]!==" ",_=u);else if(!si(c))return en;g=g&&bh(c,l,a),l=c}f=f||h&&u-_-1>n&&e[_+1]!==" "}return!d&&!f?g&&!s&&!i(e)?Th:o===oi?en:Rc:r>9&&Sh(e)?en:s?o===oi?en:Rc:f?Oh:Rh}function TO(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===oi?'""':"''";if(!e.noCompatMode&&(hO.indexOf(t)!==-1||_O.test(t)))return e.quotingType===oi?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return vO(e,c)}switch(SO(t,a,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case Th:return t;case Rc:return"'"+t.replace(/'/g,"''")+"'";case Rh:return"|"+Ch(t,e.indent)+Ph(vh(t,o));case Oh:return">"+Ch(t,e.indent)+Ph(vh(RO(t,s),o));case en:return'"'+OO(t,s)+'"';default:throw new ni("impossible error: invalid scalar style")}}()}function Ch(e,t){var r=Sh(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Ph(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function RO(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Ih(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",n+=a+(!i&&!o&&u!==""?`
`:"")+Ih(u,t),i=o}return n}function Ih(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function OO(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ai(e,i),n=Te[r],!n&&si(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||mO(r);return t}function CO(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(xt(e,t,a,!1,!1)||typeof a=="undefined"&&xt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function wh(e,t,r,n){var i="",o=e.tag,s,a,u;for(s=0,a=r.length;s<a;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(xt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&xt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Tc(e,t)),e.dump&&ii===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function PO(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,u,c,l;for(s=0,a=o.length;s<a;s+=1)l="",n!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=o[s],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),!!xt(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!xt(e,t,c,!1,!1)&&(l+=e.dump,n+=l));e.tag=i,e.dump="{"+n+"}"}function IO(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,u,c,l,d,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new ni("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Tc(e,t)),c=s[a],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!xt(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&ii===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,d&&(f+=Tc(e,t)),!!xt(e,t+1,l,!0,d)&&(e.dump&&ii===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=o,e.dump=i||"{}"}function Nh(e,t,r){var n,i,o,s,a,u;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,fh.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(hh.call(a.represent,u))n=a.represent[u](t,u);else throw new ni("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function xt(e,t,r,n,i,o,s){e.tag=null,e.dump=r,Nh(e,r,!1)||Nh(e,r,!0);var a=fh.call(e.dump),u=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",d,f;if(l&&(d=e.duplicates.indexOf(r),f=d!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(l&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(IO(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(PO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?wh(e,t-1,e.dump,i):wh(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(CO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&TO(e,e.dump,t,o,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ni("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function wO(e,t){var r=[],n=[],i,o;for(Oc(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function Oc(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Oc(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)Oc(e[n[i]],t,r)}function NO(e,t){t=t||{};var r=new yO(t);r.noRefs||wO(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),xt(r,0,n,!0,!0)?r.dump+`
`:""}xh.exports.dump=NO});var Dh=p((kD,Ne)=>{"use strict";var Mh=dh(),xO=Lh();function Cc(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Ne.exports.Type=Se();Ne.exports.Schema=ec();Ne.exports.FAILSAFE_SCHEMA=ic();Ne.exports.JSON_SCHEMA=cc();Ne.exports.CORE_SCHEMA=lc();Ne.exports.DEFAULT_SCHEMA=Oo();Ne.exports.load=Mh.load;Ne.exports.loadAll=Mh.loadAll;Ne.exports.dump=xO.dump;Ne.exports.YAMLException=Xr();Ne.exports.types={binary:hc(),float:uc(),map:nc(),null:oc(),pairs:gc(),set:mc(),timestamp:pc(),bool:sc(),int:ac(),merge:dc(),omap:_c(),seq:rc(),str:tc()};Ne.exports.safeLoad=Cc("safeLoad","load");Ne.exports.safeLoadAll=Cc("safeLoadAll","loadAll");Ne.exports.safeDump=Cc("safeDump","dump")});var Fh=p(kh=>{"use strict";Object.defineProperty(kh,"__esModule",{value:!0})});var qh=p(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do._globalThis=void 0;Do._globalThis=typeof globalThis=="object"?globalThis:global});var Gh=p(_r=>{"use strict";var MO=_r&&_r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DO=_r&&_r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&MO(t,e,r)};Object.defineProperty(_r,"__esModule",{value:!0});DO(qh(),_r)});var Hh=p(gr=>{"use strict";var BO=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UO=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BO(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});UO(Gh(),gr)});var Nc=p(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.VERSION=void 0;Bo.VERSION="1.1.0"});var Yh=p(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.isCompatible=tn._makeCompatibilityCheck=void 0;var jO=Nc(),$h=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Vh(e){var t=new Set([e]),r=new Set,n=e.match($h);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function o(a){return r.add(a),!1}function s(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var c=u.match($h);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}tn._makeCompatibilityCheck=Vh;tn.isCompatible=Vh(jO.VERSION)});var rn=p(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.unregisterGlobal=Wt.getGlobal=Wt.registerGlobal=void 0;var kO=Hh(),ci=Nc(),FO=Yh(),qO=ci.VERSION.split(".")[0],li=Symbol.for("opentelemetry.js.api."+qO),pi=kO._globalThis;function GO(e,t,r,n){var i;n===void 0&&(n=!1);var o=pi[li]=(i=pi[li])!==null&&i!==void 0?i:{version:ci.VERSION};if(!n&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(o.version!==ci.VERSION){var s=new Error("@opentelemetry/api: All API registration versions must match");return r.error(s.stack||s.message),!1}return o[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+ci.VERSION+"."),!0}Wt.registerGlobal=GO;function HO(e){var t,r,n=(t=pi[li])===null||t===void 0?void 0:t.version;if(!(!n||!FO.isCompatible(n)))return(r=pi[li])===null||r===void 0?void 0:r[e]}Wt.getGlobal=HO;function $O(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+ci.VERSION+".");var r=pi[li];r&&delete r[e]}Wt.unregisterGlobal=$O});var Wh=p(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.DiagComponentLogger=void 0;var VO=rn(),YO=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("verbose",this._namespace,t)},e}();Uo.DiagComponentLogger=YO;function di(e,t,r){var n=VO.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var jo=p(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.DiagLogLevel=void 0;var WO;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(WO=fi.DiagLogLevel||(fi.DiagLogLevel={}))});var Kh=p(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.createLogLevelDiagLogger=void 0;var Lt=jo();function KO(e,t){e<Lt.DiagLogLevel.NONE?e=Lt.DiagLogLevel.NONE:e>Lt.DiagLogLevel.ALL&&(e=Lt.DiagLogLevel.ALL),t=t||{};function r(n,i){var o=t[n];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:r("error",Lt.DiagLogLevel.ERROR),warn:r("warn",Lt.DiagLogLevel.WARN),info:r("info",Lt.DiagLogLevel.INFO),debug:r("debug",Lt.DiagLogLevel.DEBUG),verbose:r("verbose",Lt.DiagLogLevel.VERBOSE)}}ko.createLogLevelDiagLogger=KO});var nn=p(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.DiagAPI=void 0;var XO=Wh(),zO=Kh(),QO=jo(),Fo=rn(),ZO="diag",JO=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=Fo.getGlobal("diag");if(!!s)return s[n].apply(s,i)}}var r=this;r.setLogger=function(n,i){var o,s;if(i===void 0&&(i=QO.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=a.stack)!==null&&o!==void 0?o:a.message),!1}var u=Fo.getGlobal("diag"),c=zO.createLogLevelDiagLogger(i,n);if(u){var l=(s=new Error().stack)!==null&&s!==void 0?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return Fo.registerGlobal("diag",c,r,!0)},r.disable=function(){Fo.unregisterGlobal(ZO,r)},r.createComponentLogger=function(n){return new XO.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();qo.DiagAPI=JO});var Xh=p(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.BaggageImpl=void 0;var eC=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,o=t;i<o.length;i++){var s=o[i];n._entries.delete(s)}return n},e.prototype.clear=function(){return new e},e}();Go.BaggageImpl=eC});var zh=p(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.baggageEntryMetadataSymbol=void 0;Ho.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var xc=p(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.baggageEntryMetadataFromString=on.createBaggage=void 0;var tC=nn(),rC=Xh(),nC=zh(),iC=tC.DiagAPI.instance();function oC(e){return e===void 0&&(e={}),new rC.BaggageImpl(new Map(Object.entries(e)))}on.createBaggage=oC;function sC(e){return typeof e!="string"&&(iC.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:nC.baggageEntryMetadataSymbol,toString:function(){return e}}}on.baggageEntryMetadataFromString=sC});var Zh=p(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0})});var e_=p(Jh=>{"use strict";Object.defineProperty(Jh,"__esModule",{value:!0})});var r_=p(t_=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0})});var n_=p($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.DiagConsoleLogger=void 0;var Lc=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],aC=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[n];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var r=0;r<Lc.length;r++)this[Lc[r].n]=t(Lc[r].c)}return e}();$o.DiagConsoleLogger=aC});var o_=p(Kt=>{"use strict";var uC=Kt&&Kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),i_=Kt&&Kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uC(t,e,r)};Object.defineProperty(Kt,"__esModule",{value:!0});i_(n_(),Kt);i_(jo(),Kt)});var Mc=p(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.defaultTextMapSetter=sn.defaultTextMapGetter=void 0;sn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};sn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var a_=p(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0})});var c_=p(u_=>{"use strict";Object.defineProperty(u_,"__esModule",{value:!0})});var hi=p(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.ROOT_CONTEXT=an.createContextKey=void 0;function cC(e){return Symbol.for(e)}an.createContextKey=cC;var lC=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var o=new e(r._currentContext);return o._currentContext.set(n,i),o},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();an.ROOT_CONTEXT=new lC});var l_=p(un=>{"use strict";var pC=un&&un.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(un,"__esModule",{value:!0});un.NoopContextManager=void 0;var dC=hi(),fC=function(){function e(){}return e.prototype.active=function(){return dC.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return r.call.apply(r,pC([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();un.NoopContextManager=fC});var Uc=p(cn=>{"use strict";var hC=cn&&cn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(cn,"__esModule",{value:!0});cn.ContextAPI=void 0;var _C=l_(),Dc=rn(),p_=nn(),Bc="context",gC=new _C.NoopContextManager,mC=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Dc.registerGlobal(Bc,t,p_.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,hC([t,r,n],o))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Dc.getGlobal(Bc)||gC},e.prototype.disable=function(){this._getContextManager().disable(),Dc.unregisterGlobal(Bc,p_.DiagAPI.instance())},e}();cn.ContextAPI=mC});var jc=p(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.TraceFlags=void 0;var EC;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(EC=_i.TraceFlags||(_i.TraceFlags={}))});var Vo=p(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.INVALID_SPAN_CONTEXT=ft.INVALID_TRACEID=ft.INVALID_SPANID=void 0;var yC=jc();ft.INVALID_SPANID="0000000000000000";ft.INVALID_TRACEID="00000000000000000000000000000000";ft.INVALID_SPAN_CONTEXT={traceId:ft.INVALID_TRACEID,spanId:ft.INVALID_SPANID,traceFlags:yC.TraceFlags.NONE}});var Wo=p(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.NonRecordingSpan=void 0;var vC=Vo(),AC=function(){function e(t){t===void 0&&(t=vC.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();Yo.NonRecordingSpan=AC});var Fc=p(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.getSpanContext=ze.setSpanContext=ze.deleteSpan=ze.setSpan=ze.getSpan=void 0;var bC=hi(),SC=Wo(),kc=bC.createContextKey("OpenTelemetry Context Key SPAN");function d_(e){return e.getValue(kc)||void 0}ze.getSpan=d_;function f_(e,t){return e.setValue(kc,t)}ze.setSpan=f_;function TC(e){return e.deleteValue(kc)}ze.deleteSpan=TC;function RC(e,t){return f_(e,new SC.NonRecordingSpan(t))}ze.setSpanContext=RC;function OC(e){var t;return(t=d_(e))===null||t===void 0?void 0:t.spanContext()}ze.getSpanContext=OC});var Ko=p(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.wrapSpanContext=ht.isSpanContextValid=ht.isValidSpanId=ht.isValidTraceId=void 0;var h_=Vo(),CC=Wo(),PC=/^([0-9a-f]{32})$/i,IC=/^[0-9a-f]{16}$/i;function __(e){return PC.test(e)&&e!==h_.INVALID_TRACEID}ht.isValidTraceId=__;function g_(e){return IC.test(e)&&e!==h_.INVALID_SPANID}ht.isValidSpanId=g_;function wC(e){return __(e.traceId)&&g_(e.spanId)}ht.isSpanContextValid=wC;function NC(e){return new CC.NonRecordingSpan(e)}ht.wrapSpanContext=NC});var Gc=p(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.NoopTracer=void 0;var xC=Uc(),m_=Fc(),qc=Wo(),LC=Ko(),E_=xC.ContextAPI.getInstance(),MC=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new qc.NonRecordingSpan;var o=n&&m_.getSpanContext(n);return DC(o)&&LC.isSpanContextValid(o)?new qc.NonRecordingSpan(o):new qc.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);var u=s!=null?s:E_.active(),c=this.startSpan(t,o,u),l=m_.setSpan(u,c);return E_.with(l,a,void 0,c)}},e}();Xo.NoopTracer=MC;function DC(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Hc=p(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.ProxyTracer=void 0;var BC=Gc(),UC=new BC.NoopTracer,jC=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):UC},e}();zo.ProxyTracer=jC});var y_=p(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.NoopTracerProvider=void 0;var kC=Gc(),FC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new kC.NoopTracer},e}();Qo.NoopTracerProvider=FC});var $c=p(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.ProxyTracerProvider=void 0;var qC=Hc(),GC=y_(),HC=new GC.NoopTracerProvider,$C=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new qC.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:HC},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Zo.ProxyTracerProvider=$C});var A_=p(v_=>{"use strict";Object.defineProperty(v_,"__esModule",{value:!0})});var b_=p(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.SamplingDecision=void 0;var VC;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(VC=gi.SamplingDecision||(gi.SamplingDecision={}))});var T_=p(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0})});var R_=p(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.SpanKind=void 0;var YC;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(YC=mi.SpanKind||(mi.SpanKind={}))});var C_=p(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0})});var I_=p(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0})});var w_=p(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SpanStatusCode=void 0;var WC;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(WC=Ei.SpanStatusCode||(Ei.SpanStatusCode={}))});var x_=p(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0})});var L_=p(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.validateValue=ln.validateKey=void 0;var Vc="[_0-9a-z-*/]",KC="[a-z]"+Vc+"{0,255}",XC="[a-z0-9]"+Vc+"{0,240}@[a-z]"+Vc+"{0,13}",zC=new RegExp("^(?:"+KC+"|"+XC+")$"),QC=/^[ -~]{0,255}[!-~]$/,ZC=/,|=/;function JC(e){return zC.test(e)}ln.validateKey=JC;function eP(e){return QC.test(e)&&!ZC.test(e)}ln.validateValue=eP});var j_=p(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.TraceStateImpl=void 0;var M_=L_(),D_=32,tP=512,B_=",",U_="=",rP=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+U_+t.get(n)),r},[]).join(B_)},e.prototype._parse=function(t){t.length>tP||(this._internalState=t.split(B_).reverse().reduce(function(r,n){var i=n.trim(),o=i.indexOf(U_);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,n.length);M_.validateKey(s)&&M_.validateValue(a)&&r.set(s,a)}return r},new Map),this._internalState.size>D_&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,D_))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();Jo.TraceStateImpl=rP});var k_=p(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.createTraceState=void 0;var nP=j_();function iP(e){return new nP.TraceStateImpl(e)}es.createTraceState=iP});var q_=p(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0})});var H_=p(G_=>{"use strict";Object.defineProperty(G_,"__esModule",{value:!0})});var V_=p($_=>{"use strict";Object.defineProperty($_,"__esModule",{value:!0})});var W_=p(Y_=>{"use strict";Object.defineProperty(Y_,"__esModule",{value:!0})});var Q_=p(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.TraceAPI=void 0;var Yc=rn(),K_=$c(),X_=Ko(),yi=Fc(),z_=nn(),Wc="trace",oP=function(){function e(){this._proxyTracerProvider=new K_.ProxyTracerProvider,this.wrapSpanContext=X_.wrapSpanContext,this.isSpanContextValid=X_.isSpanContextValid,this.deleteSpan=yi.deleteSpan,this.getSpan=yi.getSpan,this.getSpanContext=yi.getSpanContext,this.setSpan=yi.setSpan,this.setSpanContext=yi.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Yc.registerGlobal(Wc,this._proxyTracerProvider,z_.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Yc.getGlobal(Wc)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Yc.unregisterGlobal(Wc,z_.DiagAPI.instance()),this._proxyTracerProvider=new K_.ProxyTracerProvider},e}();ts.TraceAPI=oP});var Z_=p(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.NoopTextMapPropagator=void 0;var sP=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();rs.NoopTextMapPropagator=sP});var J_=p(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.deleteBaggage=Xt.setBaggage=Xt.getBaggage=void 0;var aP=hi(),Kc=aP.createContextKey("OpenTelemetry Baggage Key");function uP(e){return e.getValue(Kc)||void 0}Xt.getBaggage=uP;function cP(e,t){return e.setValue(Kc,t)}Xt.setBaggage=cP;function lP(e){return e.deleteValue(Kc)}Xt.deleteBaggage=lP});var rg=p(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.PropagationAPI=void 0;var Xc=rn(),pP=Z_(),eg=Mc(),zc=J_(),dP=xc(),tg=nn(),Qc="propagation",fP=new pP.NoopTextMapPropagator,hP=function(){function e(){this.createBaggage=dP.createBaggage,this.getBaggage=zc.getBaggage,this.setBaggage=zc.setBaggage,this.deleteBaggage=zc.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Xc.registerGlobal(Qc,t,tg.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=eg.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=eg.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Xc.unregisterGlobal(Qc,tg.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return Xc.getGlobal(Qc)||fP},e}();ns.PropagationAPI=hP});var B=p(w=>{"use strict";var _P=w&&w.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),re=w&&w.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_P(t,e,r)};Object.defineProperty(w,"__esModule",{value:!0});w.diag=w.propagation=w.trace=w.context=w.INVALID_SPAN_CONTEXT=w.INVALID_TRACEID=w.INVALID_SPANID=w.isValidSpanId=w.isValidTraceId=w.isSpanContextValid=w.createTraceState=w.baggageEntryMetadataFromString=void 0;re(Fh(),w);var gP=xc();Object.defineProperty(w,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return gP.baggageEntryMetadataFromString}});re(Zh(),w);re(e_(),w);re(r_(),w);re(o_(),w);re(Mc(),w);re(a_(),w);re(c_(),w);re(Hc(),w);re($c(),w);re(A_(),w);re(b_(),w);re(T_(),w);re(R_(),w);re(C_(),w);re(I_(),w);re(w_(),w);re(jc(),w);re(x_(),w);var mP=k_();Object.defineProperty(w,"createTraceState",{enumerable:!0,get:function(){return mP.createTraceState}});re(q_(),w);re(H_(),w);re(V_(),w);var Zc=Ko();Object.defineProperty(w,"isSpanContextValid",{enumerable:!0,get:function(){return Zc.isSpanContextValid}});Object.defineProperty(w,"isValidTraceId",{enumerable:!0,get:function(){return Zc.isValidTraceId}});Object.defineProperty(w,"isValidSpanId",{enumerable:!0,get:function(){return Zc.isValidSpanId}});var Jc=Vo();Object.defineProperty(w,"INVALID_SPANID",{enumerable:!0,get:function(){return Jc.INVALID_SPANID}});Object.defineProperty(w,"INVALID_TRACEID",{enumerable:!0,get:function(){return Jc.INVALID_TRACEID}});Object.defineProperty(w,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Jc.INVALID_SPAN_CONTEXT}});re(hi(),w);re(W_(),w);var EP=Uc();w.context=EP.ContextAPI.getInstance();var yP=Q_();w.trace=yP.TraceAPI.getInstance();var vP=rg();w.propagation=vP.PropagationAPI.getInstance();var AP=nn();w.diag=AP.DiagAPI.instance();w.default={trace:w.trace,context:w.context,propagation:w.propagation,diag:w.diag}});var is=p(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.isTracingSuppressed=zt.unsuppressTracing=zt.suppressTracing=void 0;var bP=B(),el=(0,bP.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function SP(e){return e.setValue(el,!0)}zt.suppressTracing=SP;function TP(e){return e.deleteValue(el)}zt.unsuppressTracing=TP;function RP(e){return e.getValue(el)===!0}zt.isTracingSuppressed=RP});var tl=p(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.BAGGAGE_MAX_TOTAL_LENGTH=Re.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Re.BAGGAGE_MAX_NAME_VALUE_PAIRS=Re.BAGGAGE_HEADER=Re.BAGGAGE_ITEMS_SEPARATOR=Re.BAGGAGE_PROPERTIES_SEPARATOR=Re.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Re.BAGGAGE_KEY_PAIR_SEPARATOR="=";Re.BAGGAGE_PROPERTIES_SEPARATOR=";";Re.BAGGAGE_ITEMS_SEPARATOR=",";Re.BAGGAGE_HEADER="baggage";Re.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Re.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Re.BAGGAGE_MAX_TOTAL_LENGTH=8192});var rl=p(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.parseKeyPairsIntoRecord=_t.parsePairKeyValue=_t.getKeyPairs=_t.serializeKeyPairs=void 0;var OP=B(),mr=tl();function CP(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?mr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>mr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}_t.serializeKeyPairs=CP;function PP(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=mr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}_t.getKeyPairs=PP;function ng(e){let t=e.split(mr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(mr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),o=decodeURIComponent(n[1].trim()),s;return t.length>0&&(s=(0,OP.baggageEntryMetadataFromString)(t.join(mr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:o,metadata:s}}_t.parsePairKeyValue=ng;function IP(e){return typeof e!="string"||e.length===0?{}:e.split(mr.BAGGAGE_ITEMS_SEPARATOR).map(t=>ng(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}_t.parseKeyPairsIntoRecord=IP});var og=p(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.W3CBaggagePropagator=void 0;var nl=B(),wP=is(),Er=tl(),il=rl(),ig=class{inject(t,r,n){let i=nl.propagation.getBaggage(t);if(!i||(0,wP.isTracingSuppressed)(t))return;let o=(0,il.getKeyPairs)(i).filter(a=>a.length<=Er.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Er.BAGGAGE_MAX_NAME_VALUE_PAIRS),s=(0,il.serializeKeyPairs)(o);s.length>0&&n.set(r,Er.BAGGAGE_HEADER,s)}extract(t,r,n){let i=n.get(r,Er.BAGGAGE_HEADER),o=Array.isArray(i)?i.join(Er.BAGGAGE_ITEMS_SEPARATOR):i;if(!o)return t;let s={};return o.length===0||(o.split(Er.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,il.parsePairKeyValue)(u);if(c){let l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0)?t:nl.propagation.setBaggage(t,nl.propagation.createBaggage(s))}fields(){return[Er.BAGGAGE_HEADER]}};os.W3CBaggagePropagator=ig});var lg=p(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isAttributeValue=Qt.isAttributeKey=Qt.sanitizeAttributes=void 0;var sg=B();function NP(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!ag(r)){sg.diag.warn(`Invalid attribute key: ${r}`);continue}if(!ug(n)){sg.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Qt.sanitizeAttributes=NP;function ag(e){return typeof e=="string"&&e.length>0}Qt.isAttributeKey=ag;function ug(e){return e==null?!0:Array.isArray(e)?xP(e):cg(e)}Qt.isAttributeValue=ug;function xP(e){let t;for(let r of e)if(r!=null){if(!t){if(cg(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function cg(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var ol=p(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.loggingErrorHandler=void 0;var LP=B();function MP(){return e=>{LP.diag.error(DP(e))}}ss.loggingErrorHandler=MP;function DP(e){return typeof e=="string"?e:JSON.stringify(BP(e))}function BP(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var sl=p(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.globalErrorHandler=pn.setGlobalErrorHandler=void 0;var UP=ol(),pg=(0,UP.loggingErrorHandler)();function jP(e){pg=e}pn.setGlobalErrorHandler=jP;function kP(e){try{pg(e)}catch(t){}}pn.globalErrorHandler=kP});var al=p(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.TracesSamplerValues=void 0;var FP;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(FP=vi.TracesSamplerValues||(vi.TracesSamplerValues={}))});var ul=p(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.parseEnvironment=xe.DEFAULT_ENVIRONMENT=xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Zt=B(),qP=al(),GP=",",HP=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function $P(e){return HP.indexOf(e)>-1}var VP=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function YP(e){return VP.indexOf(e)>-1}xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;xe.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Zt.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:qP.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function WP(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let o=Number(r[e]);isNaN(o)||(o<n?t[e]=n:o>i?t[e]=i:t[e]=o)}}function KP(e,t,r,n=GP){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(o=>o.trim()))}var XP={ALL:Zt.DiagLogLevel.ALL,VERBOSE:Zt.DiagLogLevel.VERBOSE,DEBUG:Zt.DiagLogLevel.DEBUG,INFO:Zt.DiagLogLevel.INFO,WARN:Zt.DiagLogLevel.WARN,ERROR:Zt.DiagLogLevel.ERROR,NONE:Zt.DiagLogLevel.NONE};function zP(e,t,r){let n=r[e];if(typeof n=="string"){let i=XP[n.toUpperCase()];i!=null&&(t[e]=i)}}function QP(e){let t={};for(let r in xe.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":zP(n,t,e);break;default:if($P(n))WP(n,t,e);else if(YP(n))KP(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}xe.parseEnvironment=QP});var fg=p(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.getEnv=void 0;var ZP=I("os"),dg=ul();function JP(){let e=(0,dg.parseEnvironment)(process.env);return Object.assign({HOSTNAME:ZP.hostname()},dg.DEFAULT_ENVIRONMENT,e)}as.getEnv=JP});var hg=p(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us._globalThis=void 0;us._globalThis=typeof globalThis=="object"?globalThis:global});var _g=p(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.hexToBase64=void 0;function eI(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),o=parseInt(i,16);r+=String.fromCharCode(o)}return Buffer.from(r,"ascii").toString("base64")}cs.hexToBase64=eI});var yg=p(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.RandomIdGenerator=void 0;var tI=8,gg=16,mg=class{constructor(){this.generateTraceId=Eg(gg),this.generateSpanId=Eg(tI)}};ps.RandomIdGenerator=mg;var ls=Buffer.allocUnsafe(gg);function Eg(e){return function(){for(let r=0;r<e/4;r++)ls.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(ls[r]>0);r++)r===e-1&&(ls[e-1]=1);return ls.toString("hex",0,e)}}});var vg=p(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.otperformance=void 0;var rI=I("perf_hooks");ds.otperformance=rI.performance});var hs=p(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.VERSION=void 0;fs.VERSION="1.3.1"});var Ag=p(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.MessageTypeValues=z.RpcGrpcStatusCodeValues=z.MessagingOperationValues=z.MessagingDestinationKindValues=z.HttpFlavorValues=z.NetHostConnectionSubtypeValues=z.NetHostConnectionTypeValues=z.NetTransportValues=z.FaasInvokedProviderValues=z.FaasDocumentOperationValues=z.FaasTriggerValues=z.DbCassandraConsistencyLevelValues=z.DbSystemValues=z.SemanticAttributes=void 0;z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var bg=p(yr=>{"use strict";var nI=yr&&yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),iI=yr&&yr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&nI(t,e,r)};Object.defineProperty(yr,"__esModule",{value:!0});iI(Ag(),yr)});var Sg=p(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.TelemetrySdkLanguageValues=Oe.OsTypeValues=Oe.HostArchValues=Oe.AwsEcsLaunchtypeValues=Oe.CloudPlatformValues=Oe.CloudProviderValues=Oe.SemanticResourceAttributes=void 0;Oe.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Oe.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Oe.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Oe.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Oe.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Oe.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Oe.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Tg=p(vr=>{"use strict";var oI=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sI=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oI(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});sI(Sg(),vr)});var gt=p(Jt=>{"use strict";var aI=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rg=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&aI(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});Rg(bg(),Jt);Rg(Tg(),Jt)});var Og=p(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.SDK_INFO=void 0;var uI=hs(),Ai=gt();_s.SDK_INFO={[Ai.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Ai.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Ai.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Ai.TelemetrySdkLanguageValues.NODEJS,[Ai.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:uI.VERSION}});var Cg=p(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.unrefTimer=void 0;function cI(e){e.unref()}gs.unrefTimer=cI});var Pg=p(He=>{"use strict";var lI=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ar=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lI(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});Ar(fg(),He);Ar(hg(),He);Ar(_g(),He);Ar(yg(),He);Ar(vg(),He);Ar(Og(),He);Ar(Cg(),He)});var cl=p(br=>{"use strict";var pI=br&&br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),dI=br&&br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pI(t,e,r)};Object.defineProperty(br,"__esModule",{value:!0});dI(Pg(),br)});var Ng=p(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.isTimeInput=de.isTimeInputHrTime=de.hrTimeToMicroseconds=de.hrTimeToMilliseconds=de.hrTimeToNanoseconds=de.hrTimeToTimeStamp=de.hrTimeDuration=de.timeInputToHrTime=de.hrTime=void 0;var ll=cl(),pl=9,bi=Math.pow(10,pl);function ms(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(pl))*bi;return[r,n]}function Ig(){let e=ll.otperformance.timeOrigin;if(typeof e!="number"){let t=ll.otperformance;e=t.timing&&t.timing.fetchStart}return e}function wg(e){let t=ms(Ig()),r=ms(typeof e=="number"?e:ll.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>bi&&(i-=bi,n+=1),[n,i]}de.hrTime=wg;function fI(e){if(dl(e))return e;if(typeof e=="number")return e<Ig()?wg(e):ms(e);if(e instanceof Date)return ms(e.getTime());throw TypeError("Invalid input type")}de.timeInputToHrTime=fI;function hI(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=bi),[r,n]}de.hrTimeDuration=hI;function _I(e){let t=pl,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}de.hrTimeToTimeStamp=_I;function gI(e){return e[0]*bi+e[1]}de.hrTimeToNanoseconds=gI;function mI(e){return Math.round(e[0]*1e3+e[1]/1e6)}de.hrTimeToMilliseconds=mI;function EI(e){return Math.round(e[0]*1e6+e[1]/1e3)}de.hrTimeToMicroseconds=EI;function dl(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}de.isTimeInputHrTime=dl;function yI(e){return dl(e)||typeof e=="number"||e instanceof Date}de.isTimeInput=yI});var Lg=p(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0})});var Mg=p(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.ExportResultCode=void 0;var vI;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(vI=Si.ExportResultCode||(Si.ExportResultCode={}))});var Ug=p(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.CompositePropagator=void 0;var Dg=B(),Bg=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(o){Dg.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}}extract(t,r,n){return this._propagators.reduce((i,o)=>{try{return o.extract(i,r,n)}catch(s){Dg.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${s.message}`)}return i},t)}fields(){return this._fields.slice()}};Es.CompositePropagator=Bg});var jg=p(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.validateValue=dn.validateKey=void 0;var fl="[_0-9a-z-*/]",AI=`[a-z]${fl}{0,255}`,bI=`[a-z0-9]${fl}{0,240}@[a-z]${fl}{0,13}`,SI=new RegExp(`^(?:${AI}|${bI})$`),TI=/^[ -~]{0,255}[!-~]$/,RI=/,|=/;function OI(e){return SI.test(e)}dn.validateKey=OI;function CI(e){return TI.test(e)&&!RI.test(e)}dn.validateValue=CI});var hl=p(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.TraceState=void 0;var kg=jg(),Fg=32,PI=512,qg=",",Gg="=",ys=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+Gg+this.get(r)),t),[]).join(qg)}_parse(t){t.length>PI||(this._internalState=t.split(qg).reverse().reduce((r,n)=>{let i=n.trim(),o=i.indexOf(Gg);if(o!==-1){let s=i.slice(0,o),a=i.slice(o+1,n.length);(0,kg.validateKey)(s)&&(0,kg.validateValue)(a)&&r.set(s,a)}return r},new Map),this._internalState.size>Fg&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Fg))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new ys;return t._internalState=new Map(this._internalState),t}};vs.TraceState=ys});var Vg=p(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.W3CTraceContextPropagator=Ce.parseTraceParent=Ce.TRACE_STATE_HEADER=Ce.TRACE_PARENT_HEADER=void 0;var As=B(),II=is(),wI=hl();Ce.TRACE_PARENT_HEADER="traceparent";Ce.TRACE_STATE_HEADER="tracestate";var NI="00",xI="(?!ff)[\\da-f]{2}",LI="(?![0]{32})[\\da-f]{32}",MI="(?![0]{16})[\\da-f]{16}",DI="[\\da-f]{2}",BI=new RegExp(`^\\s?(${xI})-(${LI})-(${MI})-(${DI})(-.*)?\\s?$`);function Hg(e){let t=BI.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ce.parseTraceParent=Hg;var $g=class{inject(t,r,n){let i=As.trace.getSpanContext(t);if(!i||(0,II.isTracingSuppressed)(t)||!(0,As.isSpanContextValid)(i))return;let o=`${NI}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||As.TraceFlags.NONE).toString(16)}`;n.set(r,Ce.TRACE_PARENT_HEADER,o),i.traceState&&n.set(r,Ce.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ce.TRACE_PARENT_HEADER);if(!i)return t;let o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return t;let s=Hg(o);if(!s)return t;s.isRemote=!0;let a=n.get(r,Ce.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;s.traceState=new wI.TraceState(typeof u=="string"?u:void 0)}return As.trace.setSpanContext(t,s)}fields(){return[Ce.TRACE_PARENT_HEADER,Ce.TRACE_STATE_HEADER]}};Ce.W3CTraceContextPropagator=$g});var Wg=p(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0})});var Kg=p(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.getRPCMetadata=it.deleteRPCMetadata=it.setRPCMetadata=it.RPCType=void 0;var UI=B(),_l=(0,UI.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),jI;(function(e){e.HTTP="http"})(jI=it.RPCType||(it.RPCType={}));function kI(e,t){return e.setValue(_l,t)}it.setRPCMetadata=kI;function FI(e){return e.deleteValue(_l)}it.deleteRPCMetadata=FI;function qI(e){return e.getValue(_l)}it.getRPCMetadata=qI});var gl=p(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.AlwaysOffSampler=void 0;var GI=B(),Xg=class{shouldSample(){return{decision:GI.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};bs.AlwaysOffSampler=Xg});var ml=p(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.AlwaysOnSampler=void 0;var HI=B(),zg=class{shouldSample(){return{decision:HI.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Ss.AlwaysOnSampler=zg});var Jg=p(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ParentBasedSampler=void 0;var Ts=B(),$I=sl(),Qg=gl(),El=ml(),Zg=class{constructor(t){var r,n,i,o;this._root=t.root,this._root||((0,$I.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new El.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new El.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Qg.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new El.AlwaysOnSampler,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new Qg.AlwaysOffSampler}shouldSample(t,r,n,i,o,s){let a=Ts.trace.getSpanContext(t);return!a||!(0,Ts.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,o,s):a.isRemote?a.traceFlags&Ts.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(t,r,n,i,o,s):a.traceFlags&Ts.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,o,s):this._localParentNotSampled.shouldSample(t,r,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Rs.ParentBasedSampler=Zg});var tm=p(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.TraceIdRatioBasedSampler=void 0;var yl=B(),em=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,yl.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?yl.SamplingDecision.RECORD_AND_SAMPLED:yl.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,o=parseInt(t.slice(i,i+8),16);r=(r^o)>>>0}return r}};Os.TraceIdRatioBasedSampler=em});var sm=p(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.isPlainObject=void 0;var VI="[object Object]",YI="[object Null]",WI="[object Undefined]",KI=Function.prototype,rm=KI.toString,XI=rm.call(Object),zI=QI(Object.getPrototypeOf,Object),nm=Object.prototype,im=nm.hasOwnProperty,Sr=Symbol?Symbol.toStringTag:void 0,om=nm.toString;function QI(e,t){return function(r){return e(t(r))}}function ZI(e){if(!JI(e)||ew(e)!==VI)return!1;let t=zI(e);if(t===null)return!0;let r=im.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&rm.call(r)===XI}Cs.isPlainObject=ZI;function JI(e){return e!=null&&typeof e=="object"}function ew(e){return e==null?e===void 0?WI:YI:Sr&&Sr in Object(e)?tw(e):rw(e)}function tw(e){let t=im.call(e,Sr),r=e[Sr],n=!1;try{e[Sr]=void 0,n=!0}catch(o){}let i=om.call(e);return n&&(t?e[Sr]=r:delete e[Sr]),i}function rw(e){return om.call(e)}});var pm=p(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.merge=void 0;var am=sm(),nw=20;function iw(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=um(t,e.shift(),0,r);return t}ws.merge=iw;function vl(e){return Ps(e)?e.slice():e}function um(e,t,r=0,n){let i;if(!(r>nw)){if(r++,Is(e)||Is(t)||lm(t))i=vl(t);else if(Ps(e)){if(i=e.slice(),Ps(t))for(let o=0,s=t.length;o<s;o++)i.push(vl(t[o]));else if(Ti(t)){let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s];i[u]=vl(t[u])}}}else if(Ti(e))if(Ti(t)){if(!ow(e,t))return t;i=Object.assign({},e);let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s],c=t[u];if(Is(c))typeof c=="undefined"?delete i[u]:i[u]=c;else{let l=i[u],d=c;if(cm(e,u,n)||cm(t,u,n))delete i[u];else{if(Ti(l)&&Ti(d)){let f=n.get(l)||[],h=n.get(d)||[];f.push({obj:e,key:u}),h.push({obj:t,key:u}),n.set(l,f),n.set(d,h)}i[u]=um(i[u],c,r,n)}}}}else i=t;return i}}function cm(e,t,r){let n=r.get(e[t])||[];for(let i=0,o=n.length;i<o;i++){let s=n[i];if(s.key===t&&s.obj===e)return!0}return!1}function Ps(e){return Array.isArray(e)}function lm(e){return typeof e=="function"}function Ti(e){return!Is(e)&&!Ps(e)&&!lm(e)&&typeof e=="object"}function Is(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function ow(e,t){return!(!(0,am.isPlainObject)(e)||!(0,am.isPlainObject)(t))}});var fm=p(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.isUrlIgnored=fn.urlMatches=void 0;function dm(e,t){return typeof t=="string"?e===t:!!e.match(t)}fn.urlMatches=dm;function sw(e,t){if(!t)return!1;for(let r of t)if(dm(e,r))return!0;return!1}fn.isUrlIgnored=sw});var hm=p(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.isWrapped=void 0;function aw(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}Ns.isWrapped=aw});var gm=p(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.Deferred=void 0;var _m=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};xs.Deferred=_m});var Em=p(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.BindOnceFuture=void 0;var uw=gm(),mm=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new uw.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Ls.BindOnceFuture=mm});var J=p(W=>{"use strict";var cw=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z=W&&W.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cw(t,e,r)};Object.defineProperty(W,"__esModule",{value:!0});W.baggageUtils=void 0;Z(og(),W);Z(lg(),W);Z(sl(),W);Z(ol(),W);Z(Ng(),W);Z(Lg(),W);Z(Mg(),W);Z(hs(),W);W.baggageUtils=rl();Z(cl(),W);Z(Ug(),W);Z(Vg(),W);Z(Wg(),W);Z(Kg(),W);Z(gl(),W);Z(ml(),W);Z(Jg(),W);Z(tm(),W);Z(is(),W);Z(hl(),W);Z(ul(),W);Z(pm(),W);Z(al(),W);Z(fm(),W);Z(hm(),W);Z(Em(),W);Z(hs(),W)});var ym=p(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.ExceptionEventName=void 0;Ms.ExceptionEventName="exception"});var Al=p(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.Span=void 0;var mt=B(),ot=J(),Tr=gt(),lw=ym(),vm=class{constructor(t,r,n,i,o,s,a=[],u=(0,ot.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:mt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a,this.startTime=(0,ot.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(mt.diag.warn(`Invalid attribute key: ${t}`),this):(0,ot.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(mt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return mt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(mt.diag.warn("Dropping extra events."),this.events.shift()),(0,ot.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,ot.hrTime)());let i=(0,ot.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,ot.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,ot.hrTime)()){if(this._isSpanEnded()){mt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,ot.timeInputToHrTime)(t),this._duration=(0,ot.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&mt.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,ot.hrTime)()){let n={};typeof t=="string"?n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Tr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Tr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Tr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Tr.SemanticAttributes.EXCEPTION_TYPE]||n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(lw.ExceptionEventName,n,r):mt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&mt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(mt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Ds.Span=vm});var bl=p(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.buildSamplerFromEnv=_n.DEFAULT_CONFIG=void 0;var Bs=B(),te=J(),pw=(0,te.getEnv)(),dw=te.TracesSamplerValues.AlwaysOn,hn=1;_n.DEFAULT_CONFIG={sampler:Am(pw),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,te.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,te.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,te.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,te.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,te.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,te.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function Am(e=(0,te.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case te.TracesSamplerValues.AlwaysOn:return new te.AlwaysOnSampler;case te.TracesSamplerValues.AlwaysOff:return new te.AlwaysOffSampler;case te.TracesSamplerValues.ParentBasedAlwaysOn:return new te.ParentBasedSampler({root:new te.AlwaysOnSampler});case te.TracesSamplerValues.ParentBasedAlwaysOff:return new te.ParentBasedSampler({root:new te.AlwaysOffSampler});case te.TracesSamplerValues.TraceIdRatio:return new te.TraceIdRatioBasedSampler(bm(e));case te.TracesSamplerValues.ParentBasedTraceIdRatio:return new te.ParentBasedSampler({root:new te.TraceIdRatioBasedSampler(bm(e))});default:return Bs.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${dw}".`),new te.AlwaysOnSampler}}_n.buildSamplerFromEnv=Am;function bm(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Bs.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${hn}.`),hn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Bs.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${hn}.`),hn):t<0||t>1?(Bs.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${hn}.`),hn):t}});var Sl=p(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.reconfigureLimits=gn.mergeConfig=void 0;var Us=bl();function fw(e){let t={sampler:(0,Us.buildSamplerFromEnv)()},r=Object.assign({},Us.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},Us.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},Us.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}gn.mergeConfig=fw;function hw(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}gn.reconfigureLimits=hw});var Tm=p(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Tracer=void 0;var Ae=B(),Ri=J(),_w=Al(),gw=Sl(),Sm=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,gw.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Ri.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Ae.context.active()){var i,o;if((0,Ri.isTracingSuppressed)(n))return Ae.diag.debug("Instrumentation suppressed, returning Noop Span"),Ae.trace.wrapSpanContext(Ae.INVALID_SPAN_CONTEXT);r.root&&(n=Ae.trace.deleteSpan(n));let s=Ae.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,c,l;!s||!Ae.trace.isSpanContextValid(s)?u=this._idGenerator.generateTraceId():(u=s.traceId,c=s.traceState,l=s.spanId);let d=(i=r.kind)!==null&&i!==void 0?i:Ae.SpanKind.INTERNAL,f=((o=r.links)!==null&&o!==void 0?o:[]).map(C=>({context:C.context,attributes:(0,Ri.sanitizeAttributes)(C.attributes)})),h=(0,Ri.sanitizeAttributes)(r.attributes),_=this._sampler.shouldSample(n,u,t,d,h,f),g=_.decision===Ae.SamplingDecision.RECORD_AND_SAMPLED?Ae.TraceFlags.SAMPLED:Ae.TraceFlags.NONE,v={traceId:u,spanId:a,traceFlags:g,traceState:c};if(_.decision===Ae.SamplingDecision.NOT_RECORD)return Ae.diag.debug("Recording is off, propagating context in a non-recording span"),Ae.trace.wrapSpanContext(v);let b=new _w.Span(this,n,t,v,d,l,f,r.startTime),y=(0,Ri.sanitizeAttributes)(Object.assign(h,_.attributes));return b.setAttributes(y),b}startActiveSpan(t,r,n,i){let o,s,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);let u=s!=null?s:Ae.context.active(),c=this.startSpan(t,o,u),l=Ae.trace.setSpan(u,c);return Ae.context.with(l,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};js.Tracer=Sm});var Rm=p(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.defaultServiceName=void 0;function mw(){return`unknown_service:${process.argv0}`}ks.defaultServiceName=mw});var Cm=p(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.detectResources=void 0;var Om=Rr(),Tl=B(),Ew=I("util"),yw=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return Tl.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return Tl.diag.debug(`${n.constructor.name} failed: ${i.message}`),Om.Resource.empty()}}));return vw(r),r.reduce((n,i)=>n.merge(i),Om.Resource.empty())};Fs.detectResources=yw;var vw=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=Ew.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});Tl.diag.verbose(r)}})}});var Nm=p(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.hostDetector=void 0;var Pm=gt(),Aw=Rr(),Im=I("os"),wm=class{async detect(t){let r={[Pm.SemanticResourceAttributes.HOST_NAME]:(0,Im.hostname)(),[Pm.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,Im.arch)())};return new Aw.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};qs.hostDetector=new wm});var Dm=p(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.osDetector=void 0;var xm=gt(),bw=Rr(),Lm=I("os"),Mm=class{async detect(t){let r={[xm.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,Lm.platform)()),[xm.SemanticResourceAttributes.OS_VERSION]:(0,Lm.release)()};return new bw.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Gs.osDetector=new Mm});var Bm=p(Et=>{"use strict";var Sw=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hs=Et&&Et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Sw(t,e,r)};Object.defineProperty(Et,"__esModule",{value:!0});Hs(Rm(),Et);Hs(Cm(),Et);Hs(Nm(),Et);Hs(Dm(),Et)});var Rl=p(Or=>{"use strict";var Tw=Or&&Or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rw=Or&&Or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tw(t,e,r)};Object.defineProperty(Or,"__esModule",{value:!0});Rw(Bm(),Or)});var Rr=p($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.Resource=void 0;var Cr=gt(),Ol=J(),Ow=Rl(),er=class{constructor(t){this.attributes=t}static empty(){return er.EMPTY}static default(){return new er({[Cr.SemanticResourceAttributes.SERVICE_NAME]:(0,Ow.defaultServiceName)(),[Cr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Ol.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Cr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Ol.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Cr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Ol.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new er(r)}};$s.Resource=er;er.EMPTY=new er({})});var jm=p(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0})});var Fm=p(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0})});var Gm=p(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.browserDetector=void 0;var Cw=B(),Vs=gt(),Cl=Oi(),qm=class{async detect(t){if(!(typeof navigator!="undefined"))return Cl.Resource.empty();let n={[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Cw.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Cl.Resource.empty()):new Cl.Resource(Object.assign({},t))}};Ys.browserDetector=new qm});var $m=p(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.envDetector=void 0;var Pw=B(),Iw=J(),ww=gt(),Nw=Rr(),Hm=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,Iw.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,o=n.OTEL_SERVICE_NAME;if(i)try{let s=this._parseResourceAttributes(i);Object.assign(r,s)}catch(s){Pw.diag.debug(`EnvDetector failed: ${s.message}`)}return o&&(r[ww.SemanticResourceAttributes.SERVICE_NAME]=o),new Nw.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let o=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(o.length!==2)continue;let[s,a]=o;if(s=s.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(s))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[s]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Ws.envDetector=new Hm});var Ym=p(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.processDetector=void 0;var xw=B(),Qe=gt(),Pl=Rr(),Vm=class{async detect(t){if(typeof process!="object")return Pl.Resource.empty();let r={[Qe.SemanticResourceAttributes.PROCESS_PID]:process.pid,[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[Qe.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[Qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[Qe.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[Qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(xw.diag.debug("ProcessDetector failed: Unable to find required process resources. "),Pl.Resource.empty()):new Pl.Resource(Object.assign({},t))}};Ks.processDetector=new Vm});var Wm=p(Mt=>{"use strict";var Lw=Mt&&Mt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Il=Mt&&Mt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Lw(t,e,r)};Object.defineProperty(Mt,"__esModule",{value:!0});Il(Gm(),Mt);Il($m(),Mt);Il(Ym(),Mt)});var Oi=p(st=>{"use strict";var Mw=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ci=st&&st.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mw(t,e,r)};Object.defineProperty(st,"__esModule",{value:!0});Ci(Rr(),st);Ci(Rl(),st);Ci(jm(),st);Ci(Fm(),st);Ci(Wm(),st)});var Xm=p(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.MultiSpanProcessor=void 0;var Dw=J(),Km=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,Dw.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Xs.MultiSpanProcessor=Km});var wl=p(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.NoopSpanProcessor=void 0;var zm=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};zs.NoopSpanProcessor=zm});var Zm=p(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.BatchSpanProcessorBase=void 0;var Nl=B(),mn=J(),Qm=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,mn.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new mn.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Nl.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let o=0,s=i;o<s;o++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Nl.context.with((0,mn.suppressTracing)(Nl.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var o;clearTimeout(n),i.code===mn.ExportResultCode.SUCCESS?t():r((o=i.error)!==null&&o!==void 0?o:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,mn.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,mn.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Qs.BatchSpanProcessorBase=Qm});var eE=p(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.BatchSpanProcessor=void 0;var Bw=Zm(),Jm=class extends Bw.BatchSpanProcessorBase{onShutdown(){}};Zs.BatchSpanProcessor=Jm});var tE=p(Pr=>{"use strict";var Uw=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jw=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Uw(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});jw(eE(),Pr)});var xl=p(Ir=>{"use strict";var kw=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fw=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kw(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});Fw(tE(),Ir)});var nE=p(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.BasicTracerProvider=Nr.ForceFlushState=void 0;var En=B(),yn=J(),rE=Oi(),qw=Js(),Gw=bl(),Hw=Xm(),$w=wl(),Vw=xl(),Yw=Sl(),vn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(vn=Nr.ForceFlushState||(Nr.ForceFlushState={}));var wr=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,yn.merge)({},Gw.DEFAULT_CONFIG,(0,Yw.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:rE.Resource.empty(),this.resource=rE.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let o=new Vw.BatchSpanProcessor(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new $w.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new qw.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>En.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Hw.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){En.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&En.context.setGlobalContextManager(t.contextManager),t.propagator&&En.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let o,s=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),o=vn.timeout},t);n.forceFlush().then(()=>{clearTimeout(s),o!==vn.timeout&&(o=vn.resolved,i(o))}).catch(a=>{clearTimeout(s),o=vn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(o=>{let s=o.filter(a=>a!==vn.resolved);s.length>0?i(s):n()}).catch(o=>i([o]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=wr._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=wr._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,yn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let o=this._getPropagator(i);return o||En.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),o}).reduce((i,o)=>(o&&i.push(o),i),[]);if(n.length!==0)return t.length===1?n[0]:new yn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,yn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||En.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};Nr.BasicTracerProvider=wr;wr._registeredPropagators=new Map([["tracecontext",()=>new yn.W3CTraceContextPropagator],["baggage",()=>new yn.W3CBaggagePropagator]]);wr._registeredExporters=new Map});var oE=p(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.ConsoleSpanExporter=void 0;var Ll=J(),iE=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,Ll.hrTimeToMicroseconds)(t.startTime),duration:(0,Ll.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:Ll.ExportResultCode.SUCCESS})}};ea.ConsoleSpanExporter=iE});var uE=p(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.InMemorySpanExporter=void 0;var sE=J(),aE=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:sE.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:sE.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};ta.InMemorySpanExporter=aE});var lE=p(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0})});var dE=p(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.SimpleSpanProcessor=void 0;var Ml=B(),ra=J(),pE=class{constructor(t){this._exporter=t,this._shutdownOnce=new ra.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Ml.TraceFlags.SAMPLED)!=0&&Ml.context.with((0,ra.suppressTracing)(Ml.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==ra.ExportResultCode.SUCCESS&&(0,ra.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};na.SimpleSpanProcessor=pE});var hE=p(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0})});var gE=p(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0})});var EE=p(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0})});var vE=p(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0})});var Js=p(Ee=>{"use strict";var Ww=Ee&&Ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$e=Ee&&Ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ww(t,e,r)};Object.defineProperty(Ee,"__esModule",{value:!0});$e(Tm(),Ee);$e(nE(),Ee);$e(xl(),Ee);$e(oE(),Ee);$e(uE(),Ee);$e(lE(),Ee);$e(dE(),Ee);$e(hE(),Ee);$e(wl(),Ee);$e(Al(),Ee);$e(gE(),Ee);$e(EE(),Ee);$e(vE(),Ee)});var Pi=p(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.invalidTimeout=Ze.configureExporterTimeout=Ze.appendRootPathToUrlIfNeeded=Ze.appendResourcePathToUrl=Ze.parseHeaders=void 0;var AE=B(),bE=J(),SE=1e4;function Kw(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):AE.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}Ze.parseHeaders=Kw;function Xw(e,t){return e.endsWith("/")||(e=e+"/"),e+t}Ze.appendResourcePathToUrl=Xw;function zw(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}Ze.appendRootPathToUrlIfNeeded=zw;function Qw(e){return typeof e=="number"?e<=0?Dl(e,SE):e:Zw()}Ze.configureExporterTimeout=Qw;function Zw(){var e;let t=Number((e=(0,bE.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,bE.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?Dl(t,SE):t}function Dl(e,t){return AE.diag.warn("Timeout must be greater than 0",e),t}Ze.invalidTimeout=Dl});var oa=p(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.OTLPExporterBase=void 0;var TE=B(),Ii=J(),Jw=Pi(),RE=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Ii.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,Jw.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Ii.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Ii.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Ii.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Ii.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{TE.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return TE.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};ia.OTLPExporterBase=RE});var Bl=p(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.CompressionAlgorithm=void 0;var eN;(function(e){e.NONE="none",e.GZIP="gzip"})(eN=wi.CompressionAlgorithm||(wi.CompressionAlgorithm={}))});var aa=p(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.OTLPExporterError=void 0;var OE=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};sa.OTLPExporterError=OE});var Fl=p(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.configureCompression=tr.createHttpAgent=tr.sendWithHttp=void 0;var CE=I("url"),PE=I("http"),IE=I("https"),tN=I("zlib"),rN=I("stream"),Ul=B(),ua=Bl(),wE=J(),jl=aa(),kl;function nN(e,t,r,n,i){let o=e.timeoutMillis,s=new CE.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),c=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},o),l={hostname:s.hostname,port:s.port,path:s.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(s.protocol==="http:"?PE.request:IE.request)(l,h=>{let _="";h.on("data",g=>_+=g),h.on("aborted",()=>{if(a){let g=new jl.OTLPExporterError("Request Timeout");i(g)}}),h.on("end",()=>{if(!a){if(h.statusCode&&h.statusCode<299)Ul.diag.debug(`statusCode: ${h.statusCode}`,_),n();else{let g=new jl.OTLPExporterError(h.statusMessage,h.statusCode,_);i(g)}clearTimeout(c)}})});switch(f.on("error",h=>{if(a){let _=new jl.OTLPExporterError("Request Timeout",h.code);i(_)}else clearTimeout(c),i(h)}),e.compression){case ua.CompressionAlgorithm.GZIP:{kl||(kl=tN.createGzip()),f.setHeader("Content-Encoding","gzip"),iN(t).on("error",i).pipe(kl).on("error",i).pipe(f);break}default:f.end(t);break}}tr.sendWithHttp=nN;function iN(e){let t=new rN.Readable;return t.push(e),t.push(null),t}function oN(e){if(e.httpAgentOptions&&e.keepAlive===!1){Ul.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new CE.URL(e.url).protocol==="http:"?PE.Agent:IE.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){Ul.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}tr.createHttpAgent=oN;function sN(e){return e||(((0,wE.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,wE.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===ua.CompressionAlgorithm.GZIP?ua.CompressionAlgorithm.GZIP:ua.CompressionAlgorithm.NONE)}tr.configureCompression=sN});var ME=p(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.OTLPExporterNodeBase=void 0;var aN=oa(),uN=Pi(),ql=Fl(),NE=B(),xE=J(),LE=class extends aN.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&NE.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,uN.parseHeaders)(t.headers),xE.baggageUtils.parseKeyPairsIntoRecord((0,xE.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,ql.createHttpAgent)(t),this.compression=(0,ql.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){NE.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=new Promise((a,u)=>{(0,ql.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(o);let s=()=>{let a=this._sendingPromises.indexOf(o);this._sendingPromises.splice(a,1)};o.then(s,s)}onShutdown(){}};ca.OTLPExporterNodeBase=LE});var DE=p(Dt=>{"use strict";var cN=Dt&&Dt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gl=Dt&&Dt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cN(t,e,r)};Object.defineProperty(Dt,"__esModule",{value:!0});Gl(ME(),Dt);Gl(Fl(),Dt);Gl(Bl(),Dt)});var UE=p(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.sendWithXhr=An.sendWithBeacon=void 0;var BE=B(),Hl=aa();function lN(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))BE.diag.debug("sendBeacon - can send",e),n();else{let o=new Hl.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(o)}}An.sendWithBeacon=lN;function pN(e,t,r,n,i,o){let s,a=setTimeout(()=>{s=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([l,d])=>{u.setRequestHeader(l,d)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),BE.diag.debug("xhr success",e),i();else if(s){let l=new Hl.OTLPExporterError("Request Timeout",u.status);o(l)}else{let l=new Hl.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),o(l)}}}An.sendWithXhr=pN});var qE=p(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.OTLPExporterBrowserBase=void 0;var dN=oa(),fN=Pi(),jE=UE(),hN=B(),kE=J(),FE=class extends dN.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,fN.parseHeaders)(t.headers),kE.baggageUtils.parseKeyPairsIntoRecord((0,kE.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){hN.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=JSON.stringify(i),s=new Promise((u,c)=>{this._useXHR?(0,jE.sendWithXhr)(o,this.url,this._headers,this.timeoutMillis,u,c):(0,jE.sendWithBeacon)(o,this.url,{type:"application/json"},u,c)}).then(r,n);this._sendingPromises.push(s);let a=()=>{let u=this._sendingPromises.indexOf(s);this._sendingPromises.splice(u,1)};s.then(a,a)}};la.OTLPExporterBrowserBase=FE});var GE=p(xr=>{"use strict";var _N=xr&&xr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gN=xr&&xr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_N(t,e,r)};Object.defineProperty(xr,"__esModule",{value:!0});gN(qE(),xr)});var HE=p(Bt=>{"use strict";var mN=Bt&&Bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),EN=Bt&&Bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mN(t,e,r)};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.OTLPExporterBrowserBase=void 0;EN(DE(),Bt);var yN=GE();Object.defineProperty(Bt,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return yN.OTLPExporterBrowserBase}})});var $l=p(yt=>{"use strict";var vN=yt&&yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pa=yt&&yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vN(t,e,r)};Object.defineProperty(yt,"__esModule",{value:!0});pa(oa(),yt);pa(HE(),yt);pa(aa(),yt);pa(Pi(),yt)});var VE=p($E=>{"use strict";Object.defineProperty($E,"__esModule",{value:!0})});var WE=p(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0})});var XE=p(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0})});var zE=p(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.ESpanKind=void 0;var AN;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(AN=Ni.ESpanKind||(Ni.ESpanKind={}))});var da=p(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.bufToHex=Je.hexToBuf=Je.toAnyValue=Je.toKeyValue=Je.toAttributes=void 0;function bN(e){return Object.keys(e).map(t=>Vl(t,e[t]))}Je.toAttributes=bN;function Vl(e,t){return{key:e,value:Yl(t)}}Je.toKeyValue=Vl;function Yl(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Yl)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>Vl(r,n))}}:{}}Je.toAnyValue=Yl;function SN(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}Je.hexToBuf=SN;function TN(e){return("0"+e.toString(16)).slice(-2)}function RN(e){if(!(e==null||e.length===0))return Array.from(e).map(TN).join("")}Je.bufToHex=RN});var JE=p(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.toOtlpSpanEvent=rr.toOtlpLink=rr.sdkSpanToOtlpSpan=void 0;var Wl=J(),Kl=da(),xi=J();function ON(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?xi.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:xi.hexToBase64(r.traceId),spanId:t?r.spanId:xi.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,Wl.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,Wl.hrTimeToNanoseconds)(e.endTime),attributes:(0,Kl.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(ZE),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(o=>QE(o,t)),droppedLinksCount:0}}rr.sdkSpanToOtlpSpan=ON;function QE(e,t){return{attributes:e.attributes?(0,Kl.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:xi.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:xi.hexToBase64(e.context.traceId),droppedAttributesCount:0}}rr.toOtlpLink=QE;function ZE(e){return{attributes:e.attributes?(0,Kl.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,Wl.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}rr.toOtlpSpanEvent=ZE});var ey=p(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.createExportTraceServiceRequest=void 0;var CN=da(),PN=JE();function IN(e,t){return{resourceSpans:NN(e,t)}}fa.createExportTraceServiceRequest=IN;function wN(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,o=n.get(i);o||(o=[],n.set(i,o)),o.push(r)}return t}function NN(e,t){let r=wN(e),n=[],i=r.entries(),o=i.next();for(;!o.done;){let[s,a]=o.value,u=[],c=a.values(),l=c.next();for(;!l.done;){let f=l.value;if(f.length>0){let{name:h,version:_,schemaUrl:g}=f[0].instrumentationLibrary,v=f.map(b=>(0,PN.sdkSpanToOtlpSpan)(b,t));u.push({scope:{name:h,version:_},spans:v,schemaUrl:g})}l=c.next()}let d={resource:{attributes:(0,CN.toAttributes)(s.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(d),o=i.next()}return n}});var rp=p(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=G.NOOP_OBSERVABLE_GAUGE_METRIC=G.NOOP_OBSERVABLE_COUNTER_METRIC=G.NOOP_UP_DOWN_COUNTER_METRIC=G.NOOP_HISTOGRAM_METRIC=G.NOOP_COUNTER_METRIC=G.NOOP_METER=G.NoopObservableUpDownCounterMetric=G.NoopObservableGaugeMetric=G.NoopObservableCounterMetric=G.NoopObservableMetric=G.NoopHistogramMetric=G.NoopUpDownCounterMetric=G.NoopCounterMetric=G.NoopMetric=G.NoopMeter=void 0;var Xl=class{constructor(){}createHistogram(t,r){return G.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return G.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return G.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return G.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return G.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};G.NoopMeter=Xl;var Li=class{};G.NoopMetric=Li;var zl=class extends Li{add(t,r){}};G.NoopCounterMetric=zl;var Ql=class extends Li{add(t,r){}};G.NoopUpDownCounterMetric=Ql;var Zl=class extends Li{record(t,r){}};G.NoopHistogramMetric=Zl;var Mi=class{addCallback(t){}removeCallback(t){}};G.NoopObservableMetric=Mi;var Jl=class extends Mi{};G.NoopObservableCounterMetric=Jl;var ep=class extends Mi{};G.NoopObservableGaugeMetric=ep;var tp=class extends Mi{};G.NoopObservableUpDownCounterMetric=tp;G.NOOP_METER=new Xl;G.NOOP_COUNTER_METRIC=new zl;G.NOOP_HISTOGRAM_METRIC=new Zl;G.NOOP_UP_DOWN_COUNTER_METRIC=new Ql;G.NOOP_OBSERVABLE_COUNTER_METRIC=new Jl;G.NOOP_OBSERVABLE_GAUGE_METRIC=new ep;G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new tp});var ip=p(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.NOOP_METER_PROVIDER=bn.NoopMeterProvider=void 0;var xN=rp(),np=class{getMeter(t,r,n){return xN.NOOP_METER}};bn.NoopMeterProvider=np;bn.NOOP_METER_PROVIDER=new np});var ry=p(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0})});var iy=p(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0})});var oy=p(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.ValueType=void 0;var LN;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(LN=Di.ValueType||(Di.ValueType={}))});var ay=p(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0})});var uy=p(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha._globalThis=void 0;ha._globalThis=typeof globalThis=="object"?globalThis:global});var cy=p(Lr=>{"use strict";var MN=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DN=Lr&&Lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&MN(t,e,r)};Object.defineProperty(Lr,"__esModule",{value:!0});DN(uy(),Lr)});var ly=p(Mr=>{"use strict";var BN=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UN=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BN(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});UN(cy(),Mr)});var py=p(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.API_BACKWARDS_COMPATIBILITY_VERSION=vt.makeGetter=vt._global=vt.GLOBAL_METRICS_API_KEY=void 0;var jN=ly();vt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");vt._global=jN._globalThis;function kN(e,t,r){return n=>n===e?t:r}vt.makeGetter=kN;vt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var fy=p(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.MetricsAPI=void 0;var dy=ip(),et=py(),_a=class{constructor(){}static getInstance(){return this._instance||(this._instance=new _a),this._instance}setGlobalMeterProvider(t){return et._global[et.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(et._global[et.GLOBAL_METRICS_API_KEY]=(0,et.makeGetter)(et.API_BACKWARDS_COMPATIBILITY_VERSION,t,dy.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=et._global[et.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(et._global,et.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:dy.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete et._global[et.GLOBAL_METRICS_API_KEY]}};ga.MetricsAPI=_a});var Tn=p(je=>{"use strict";var FN=je&&je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sn=je&&je.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FN(t,e,r)};Object.defineProperty(je,"__esModule",{value:!0});je.metrics=void 0;Sn(rp(),je);Sn(ip(),je);Sn(ry(),je);Sn(iy(),je);Sn(oy(),je);Sn(ay(),je);var qN=fy();je.metrics=qN.MetricsAPI.getInstance()});var ma=p(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.AggregationTemporality=void 0;var GN;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(GN=Bi.AggregationTemporality||(Bi.AggregationTemporality={}))});var ji=p(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.DataPointType=void 0;var HN;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(HN=Ui.DataPointType||(Ui.DataPointType={}))});var _y=p(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.ConsoleMetricExporter=void 0;var $N=ma(),VN=J(),hy=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:$N.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:VN.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};Ea.ConsoleMetricExporter=hy});var my=p(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0})});var Ut=p(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.setEquals=fe.FlatMap=fe.isPromiseAllSettledRejectionResult=fe.PromiseAllSettled=fe.callWithTimeout=fe.TimeoutError=fe.instrumentationScopeId=fe.hashAttributes=fe.isNotNullish=void 0;function YN(e){return e!=null}fe.isNotNullish=YN;function WN(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}fe.hashAttributes=WN;function KN(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}fe.instrumentationScopeId=KN;var ki=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,ki.prototype)}};fe.TimeoutError=ki;function XN(e,t){let r,n=new Promise(function(o,s){r=setTimeout(function(){s(new ki("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}fe.callWithTimeout=XN;async function zN(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}fe.PromiseAllSettled=zN;function QN(e){return e.status==="rejected"}fe.isPromiseAllSettledRejectionResult=QN;function ZN(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}fe.FlatMap=ZN;function JN(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}fe.setEquals=JN});var op=p(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.MetricReader=void 0;var Ey=B(),yy=Ut(),vy=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){Ey.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,yy.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){Ey.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,yy.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};ya.MetricReader=vy});var Ry=p(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.PeriodicExportingMetricReader=void 0;var Ay=B(),by=J(),ex=op(),Sy=Ut(),Ty=class extends ex.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&Ay.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,o=>{var s;o.code!==by.ExportResultCode.SUCCESS?i((s=o.error)!==null&&s!==void 0?s:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${o.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,Sy.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof Sy.TimeoutError){Ay.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,by.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};va.PeriodicExportingMetricReader=Ty});var Dr=p(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.isDescriptorCompatibleWith=at.createInstrumentDescriptorWithView=at.createInstrumentDescriptor=at.InstrumentType=void 0;var tx=Tn(),rx;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(rx=at.InstrumentType||(at.InstrumentType={}));function nx(e,t,r){var n,i,o;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(o=r==null?void 0:r.valueType)!==null&&o!==void 0?o:tx.ValueType.DOUBLE}}at.createInstrumentDescriptor=nx;function ix(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}at.createInstrumentDescriptorWithView=ix;function ox(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}at.isDescriptorCompatibleWith=ox});var ba=p(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isObservableInstrument=he.ObservableUpDownCounterInstrument=he.ObservableGaugeInstrument=he.ObservableCounterInstrument=he.ObservableInstrument=he.HistogramInstrument=he.CounterInstrument=he.UpDownCounterInstrument=he.SyncInstrument=void 0;var Aa=B(),sx=Tn(),Fi=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=Aa.context.active()){this._descriptor.valueType===sx.ValueType.INT&&!Number.isInteger(t)&&(Aa.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};he.SyncInstrument=Fi;var Oy=class extends Fi{add(t,r,n){this._record(t,r,n)}};he.UpDownCounterInstrument=Oy;var Cy=class extends Fi{add(t,r,n){if(t<0){Aa.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.CounterInstrument=Cy;var Py=class extends Fi{record(t,r,n){if(t<0){Aa.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.HistogramInstrument=Py;var Rn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};he.ObservableInstrument=Rn;var Iy=class extends Rn{};he.ObservableCounterInstrument=Iy;var wy=class extends Rn{};he.ObservableGaugeInstrument=wy;var Ny=class extends Rn{};he.ObservableUpDownCounterInstrument=Ny;function ax(e){return e instanceof Rn}he.isObservableInstrument=ax});var sp=p(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Meter=void 0;var tt=Dr(),On=ba(),xy=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new On.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new On.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new On.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Sa.Meter=xy});var Ra=p(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.ExactPredicate=Cn.PatternPredicate=void 0;var ux=/[\^$\\.+?()[\]{}|]/g,Ta=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(Ta.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(ux,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Cn.PatternPredicate=Ta;var Ly=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Cn.ExactPredicate=Ly});var ap=p(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.InstrumentSelector=void 0;var cx=Ra(),My=class{constructor(t){var r;this._nameFilter=new cx.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Oa.InstrumentSelector=My});var cp=p(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.MeterSelector=void 0;var up=Ra(),Dy=class{constructor(t){this._nameFilter=new up.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new up.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new up.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Ca.MeterSelector=Dy});var Gi=p(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.AggregatorKind=void 0;var lx;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(lx=qi.AggregatorKind||(qi.AggregatorKind={}))});var Uy=p(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.DropAggregator=void 0;var px=Gi(),By=class{constructor(){this.kind=px.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,o){}};Pa.DropAggregator=By});var ky=p(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.HistogramAggregator=Pn.HistogramAccumulation=void 0;var dx=Gi(),fx=ji();function hx(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var Hi=class{constructor(t,r=hx(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Pn.HistogramAccumulation=Hi;var jy=class{constructor(t){this._boundaries=t,this.kind=dx.AggregatorKind.HISTOGRAM}createAccumulation(){return new Hi(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=o[u]+s[u];return new Hi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=s[u]-o[u];return new Hi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:fx.DataPointType.HISTOGRAM,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};Pn.HistogramAggregator=jy});var qy=p(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.LastValueAggregator=In.LastValueAccumulation=void 0;var _x=Gi(),$i=J(),gx=ji(),Vi=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,$i.hrTime)()}toPointValue(){return this._current}};In.LastValueAccumulation=Vi;var Fy=class{constructor(){this.kind=_x.AggregatorKind.LAST_VALUE}createAccumulation(){return new Vi}merge(t,r){let n=(0,$i.hrTimeToMicroseconds)(r.sampleTime)>=(0,$i.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Vi(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,$i.hrTimeToMicroseconds)(r.sampleTime)>=(0,$i.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Vi(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:gx.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};In.LastValueAggregator=Fy});var Hy=p(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.SumAggregator=wn.SumAccumulation=void 0;var mx=Gi(),Ex=ji(),Yi=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};wn.SumAccumulation=Yi;var Gy=class{constructor(){this.kind=mx.AggregatorKind.SUM}createAccumulation(){return new Yi}merge(t,r){return new Yi(t.toPointValue()+r.toPointValue())}diff(t,r){return new Yi(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:Ex.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};wn.SumAggregator=Gy});var $y=p(At=>{"use strict";var yx=At&&At.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ia=At&&At.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yx(t,e,r)};Object.defineProperty(At,"__esModule",{value:!0});Ia(Uy(),At);Ia(ky(),At);Ia(qy(),At);Ia(Hy(),At)});var pp=p(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.DefaultAggregation=Pe.ExplicitBucketHistogramAggregation=Pe.HistogramAggregation=Pe.LastValueAggregation=Pe.SumAggregation=Pe.DropAggregation=Pe.Aggregation=void 0;var vx=B(),Wi=$y(),Nn=Dr(),nr=class{static Drop(){return Yy}static Sum(){return Wy}static LastValue(){return Ky}static Histogram(){return Xy}static Default(){return Ax}};Pe.Aggregation=nr;var xn=class extends nr{createAggregator(t){return xn.DEFAULT_INSTANCE}};Pe.DropAggregation=xn;xn.DEFAULT_INSTANCE=new Wi.DropAggregator;var Ln=class extends nr{createAggregator(t){return Ln.DEFAULT_INSTANCE}};Pe.SumAggregation=Ln;Ln.DEFAULT_INSTANCE=new Wi.SumAggregator;var Mn=class extends nr{createAggregator(t){return Mn.DEFAULT_INSTANCE}};Pe.LastValueAggregation=Mn;Mn.DEFAULT_INSTANCE=new Wi.LastValueAggregator;var Dn=class extends nr{createAggregator(t){return Dn.DEFAULT_INSTANCE}};Pe.HistogramAggregation=Dn;Dn.DEFAULT_INSTANCE=new Wi.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var Vy=class extends nr{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,o)=>i-o);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new Wi.HistogramAggregator(this._boundaries)}};Pe.ExplicitBucketHistogramAggregation=Vy;var lp=class extends nr{_resolve(t){switch(t.type){case Nn.InstrumentType.COUNTER:case Nn.InstrumentType.UP_DOWN_COUNTER:case Nn.InstrumentType.OBSERVABLE_COUNTER:case Nn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return Wy;case Nn.InstrumentType.OBSERVABLE_GAUGE:return Ky;case Nn.InstrumentType.HISTOGRAM:return Xy}return vx.diag.warn(`Unable to recognize instrument type: ${t.type}`),Yy}createAggregator(t){return this._resolve(t).createAggregator(t)}};Pe.DefaultAggregation=lp;var Yy=new xn,Wy=new Ln,Ky=new Mn,Xy=new Dn,Ax=new lp});var fp=p(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.FilteringAttributesProcessor=ir.NoopAttributesProcessor=ir.AttributesProcessor=void 0;var wa=class{static Noop(){return bx}};ir.AttributesProcessor=wa;var dp=class extends wa{process(t,r){return t}};ir.NoopAttributesProcessor=dp;var zy=class extends wa{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};ir.FilteringAttributesProcessor=zy;var bx=new dp});var hp=p(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.View=void 0;var Sx=pp(),Tx=fp(),Qy=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:Sx.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:Tx.AttributesProcessor.Noop()}};Na.View=Qy});var Zy=p(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.ViewRegistry=void 0;var Rx=ap(),Ox=cp(),Cx=hp(),Ki=class{constructor(){this._registeredViews=[]}addView(t,r=new Rx.InstrumentSelector,n=new Ox.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[Ki.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};xa.ViewRegistry=Ki;Ki.DEFAULT_VIEW=new Cx.View});var _p=p(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.MetricStorage=void 0;var Px=Dr(),Jy=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,Px.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};La.MetricStorage=Jy});var Xi=p(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.AttributeHashMap=Bn.HashMap=void 0;var Ix=Ut(),gp=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Bn.HashMap=gp;var ev=class extends gp{constructor(){super(Ix.hashAttributes)}};Bn.AttributeHashMap=ev});var Ep=p(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.DeltaMetricProcessor=void 0;var mp=Xi(),tv=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new mp.AttributeHashMap,this._cumulativeMemoStorage=new mp.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let o=this._aggregator.createAccumulation();if(o==null||o.record(n),this._cumulativeMemoStorage.has(r,i)){let s=this._cumulativeMemoStorage.get(r,i);o=this._aggregator.diff(s,o)}this._cumulativeMemoStorage.set(r,o,i),this._activeCollectionStorage.set(r,o,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new mp.AttributeHashMap,t}};Ma.DeltaMetricProcessor=tv});var yp=p(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.TemporalMetricProcessor=void 0;var rv=ma(),wx=Xi(),zi=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,o,s){let a=o;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),c=u,l;if(this._reportHistory.has(t)){let d=this._reportHistory.get(t);a=d.collectionTime,l=d.aggregationTemporality,l===rv.AggregationTemporality.CUMULATIVE&&(c=zi.merge(d.accumulations,u,this._aggregator))}else l=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:c,collectionTime:s,aggregationTemporality:l}),this._aggregator.toMetricData(n,l,Nx(c),l===rv.AggregationTemporality.CUMULATIVE?o:a,s)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new wx.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=zi.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let o=t,s=r.entries(),a=s.next();for(;a.done!==!0;){let[u,c,l]=a.value,d=(i=t.get(u,l))!==null&&i!==void 0?i:n.createAccumulation();o.set(u,n.merge(d,c),l),a=s.next()}return o}};Da.TemporalMetricProcessor=zi;function Nx(e){return Array.from(e.entries())}});var iv=p(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.AsyncMetricStorage=void 0;var xx=_p(),Lx=Ep(),Mx=yp(),Dx=Xi(),nv=class extends xx.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Lx.DeltaMetricProcessor(r),this._temporalMetricStorage=new Mx.TemporalMetricProcessor(r)}record(t){let r=new Dx.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};Ba.AsyncMetricStorage=nv});var cv=p(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.getConflictResolutionRecipe=ke.getDescriptionResolutionRecipe=ke.getTypeConflictResolutionRecipe=ke.getUnitConflictResolutionRecipe=ke.getValueTypeConflictResolutionRecipe=ke.getIncompatibilityDetails=void 0;function Bx(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}ke.getIncompatibilityDetails=Bx;function ov(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getValueTypeConflictResolutionRecipe=ov;function sv(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getUnitConflictResolutionRecipe=sv;function av(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}ke.getTypeConflictResolutionRecipe=av;function uv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}ke.getDescriptionResolutionRecipe=uv;function Ux(e,t){return e.valueType!==t.valueType?ov(e,t):e.unit!==t.unit?sv(e,t):e.type!==t.type?av(e,t):e.description!==t.description?uv(e,t):""}ke.getConflictResolutionRecipe=Ux});var pv=p(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.MetricStorageRegistry=void 0;var jx=Dr(),lv=B(),Ua=cv(),ja=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new ja}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let o of n){let s=o.getInstrumentDescriptor();(0,jx.isDescriptorCompatibleWith)(s,r)?(s.description!==r.description&&(r.description.length>s.description.length&&o.updateDescription(r.description),lv.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,Ua.getIncompatibilityDetails)(s,r),`The longer description will be used.
To resolve the conflict:`,(0,Ua.getConflictResolutionRecipe)(s,r))),i=o):lv.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,Ua.getIncompatibilityDetails)(s,r),`To resolve the conflict:
`,(0,Ua.getConflictResolutionRecipe)(s,r))}return i!=null?i:(n.push(t),t)}};ka.MetricStorageRegistry=ja});var fv=p(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.MultiMetricStorage=void 0;var dv=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};Fa.MultiMetricStorage=dv});var vp=p(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.BatchObservableResultImpl=Un.ObservableResultImpl=void 0;var hv=B(),_v=Tn(),gv=Xi(),kx=ba(),mv=class{constructor(t){this._descriptor=t,this._buffer=new gv.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===_v.ValueType.INT&&!Number.isInteger(t)&&(hv.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};Un.ObservableResultImpl=mv;var Ev=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,kx.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new gv.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===_v.ValueType.INT&&!Number.isInteger(r)&&(hv.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};Un.BatchObservableResultImpl=Ev});var bv=p(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.ObservableRegistry=void 0;var Fx=B(),yv=ba(),vv=vp(),Qi=Ut(),Av=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(yv.isObservableInstrument));if(n.size===0){Fx.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(yv.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,Qi.PromiseAllSettled)([...r,...n])).filter(Qi.isPromiseAllSettledRejectionResult).map(s=>s.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new vv.ObservableResultImpl(n._descriptor),o=Promise.resolve(r(i));t!=null&&(o=(0,Qi.callWithTimeout)(o,t)),await o,n._metricStorages.forEach(s=>{s.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new vv.BatchObservableResultImpl,o=Promise.resolve(r(i));t!=null&&(o=(0,Qi.callWithTimeout)(o,t)),await o,n.forEach(s=>{let a=i._buffer.get(s);a!=null&&s._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Qi.setEquals)(n.instruments,r))}};qa.ObservableRegistry=Av});var Tv=p(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.SyncMetricStorage=void 0;var qx=_p(),Gx=Ep(),Hx=yp(),Sv=class extends qx.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Gx.DeltaMetricProcessor(r),this._temporalMetricStorage=new Hx.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};Ga.SyncMetricStorage=Sv});var Cv=p($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.MeterSharedState=void 0;var Rv=Dr(),$x=sp(),Ha=Ut(),Vx=iv(),Yx=pv(),Wx=fv(),Kx=bv(),Xx=Tv(),Ov=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new Yx.MetricStorageRegistry,this.observableRegistry=new Kx.ObservableRegistry,this.meter=new $x.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Rv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new Xx.SyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Ha.isNotNullish);return n.length===1?n[0]:new Wx.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Rv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new Vx.AsyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Ha.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),o=Array.from(this._metricStorageRegistry.getStorages()).map(s=>s.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(Ha.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:o.filter(Ha.isNotNullish)},errors:i}}};$a.MeterSharedState=Ov});var Iv=p(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.MeterProviderSharedState=void 0;var zx=J(),Qx=Ut(),Zx=Zy(),Jx=Cv(),Pv=class{constructor(t){this.resource=t,this.viewRegistry=new Zx.ViewRegistry,this.sdkStartTime=(0,zx.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,Qx.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new Jx.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};Va.MeterProviderSharedState=Pv});var Nv=p(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.MetricCollector=void 0;var eL=J(),tL=Ut(),wv=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,eL.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(o=>o.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(o=>o.scopeMetrics)},errors:(0,tL.FlatMap)(i,o=>o.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Ya.MetricCollector=wv});var Lv=p(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.MeterProvider=void 0;var Ap=B(),rL=Tn(),nL=Oi(),iL=Iv(),oL=ap(),sL=cp(),aL=hp(),uL=Nv(),cL=fp(),lL=Ra();function pL(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var xv=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new iL.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:nL.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(Ap.diag.warn("A shutdown MeterProvider cannot provide a Meter"),rL.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new uL.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(pL(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||lL.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new cL.FilteringAttributesProcessor(t.attributeKeys));let o=new aL.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),s=new oL.InstrumentSelector(r==null?void 0:r.instrument),a=new sL.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(o,s,a)}async shutdown(t){if(this._shutdown){Ap.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){Ap.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Wa.MeterProvider=xv});var Mv=p(_e=>{"use strict";var dL=_e&&_e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bt=_e&&_e.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dL(t,e,r)};Object.defineProperty(_e,"__esModule",{value:!0});_e.TimeoutError=_e.InstrumentType=void 0;bt(ma(),_e);bt(ji(),_e);bt(_y(),_e);bt(my(),_e);bt(op(),_e);bt(Ry(),_e);var fL=Dr();Object.defineProperty(_e,"InstrumentType",{enumerable:!0,get:function(){return fL.InstrumentType}});bt(sp(),_e);bt(Lv(),_e);bt(vp(),_e);var hL=Ut();Object.defineProperty(_e,"TimeoutError",{enumerable:!0,get:function(){return hL.TimeoutError}});bt(pp(),_e)});var jv=p(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.toMetric=or.toScopeMetrics=or.toResourceMetrics=void 0;var Dv=Tn(),Ka=J(),St=Mv(),bp=da();function _L(e){return{resource:{attributes:(0,bp.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:Bv(e.scopeMetrics)}}or.toResourceMetrics=_L;function Bv(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>Uv(n)),schemaUrl:t.scope.schemaUrl})))}or.toScopeMetrics=Bv;function Uv(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=AL(e.aggregationTemporality);if(e.dataPointType===St.DataPointType.SINGULAR){let n=mL(e),i=e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER;yL(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else vL(e)&&(t.histogram={aggregationTemporality:r,dataPoints:EL(e)});return t}or.toMetric=Uv;function gL(e,t){let r={attributes:(0,bp.toAttributes)(e.attributes),startTimeUnixNano:(0,Ka.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Ka.hrTimeToNanoseconds)(e.endTime)};return t===Dv.ValueType.INT?r.asInt=e.value:t===Dv.ValueType.DOUBLE&&(r.asDouble=e.value),r}function mL(e){return e.dataPoints.map(t=>gL(t,e.descriptor.valueType))}function EL(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,bp.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Ka.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Ka.hrTimeToNanoseconds)(t.endTime)}})}function yL(e){return e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function vL(e){return e.dataPointType===St.DataPointType.HISTOGRAM}function AL(e){return e===St.AggregationTemporality.DELTA?1:e===St.AggregationTemporality.CUMULATIVE?2:0}});var kv=p(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.createExportMetricsServiceRequest=void 0;var bL=jv();function SL(e){return{resourceMetrics:e.map(t=>(0,bL.toResourceMetrics)(t))}}Xa.createExportMetricsServiceRequest=SL});var Fv=p(Fe=>{"use strict";var TL=Fe&&Fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),za=Fe&&Fe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TL(t,e,r)};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createExportMetricsServiceRequest=Fe.createExportTraceServiceRequest=void 0;za(VE(),Fe);za(WE(),Fe);za(XE(),Fe);za(zE(),Fe);var RL=ey();Object.defineProperty(Fe,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return RL.createExportTraceServiceRequest}});var OL=kv();Object.defineProperty(Fe,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return OL.createExportMetricsServiceRequest}})});var Hv=p(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.OTLPTraceExporter=void 0;var jn=J(),CL=$l(),qv=$l(),PL=Fv(),Sp="v1/traces",IL=`http://localhost:4318/${Sp}`,Gv=class extends CL.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,jn.baggageUtils.parseKeyPairsIntoRecord((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,PL.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,qv.appendRootPathToUrlIfNeeded)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,Sp):(0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,qv.appendResourcePathToUrl)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,Sp):IL}};Qa.OTLPTraceExporter=Gv});var $v=p(Br=>{"use strict";var wL=Br&&Br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NL=Br&&Br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wL(t,e,r)};Object.defineProperty(Br,"__esModule",{value:!0});NL(Hv(),Br)});var Vv=p(Ur=>{"use strict";var xL=Ur&&Ur.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),LL=Ur&&Ur.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xL(t,e,r)};Object.defineProperty(Ur,"__esModule",{value:!0});LL($v(),Ur)});var Yv=p(jr=>{"use strict";var ML=jr&&jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),DL=jr&&jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ML(t,e,r)};Object.defineProperty(jr,"__esModule",{value:!0});DL(Vv(),jr)});var Za=p(rt=>{"use strict";rt.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;rt.find=(e,t)=>e.nodes.find(r=>r.type===t);rt.exceedsLimit=(e,t,r=1,n)=>n===!1||!rt.isInteger(e)||!rt.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;rt.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};rt.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;rt.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;rt.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;rt.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);rt.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var Ja=p((Q2,oA)=>{"use strict";var iA=Za();oA.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&iA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||s)&&iA.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var aA=p((Z2,sA)=>{"use strict";sA.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var gA=p((J2,_A)=>{"use strict";var uA=aA(),qr=(e,t,r)=>{if(uA(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(uA(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=q({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+o+s+a;if(qr.cache.hasOwnProperty(u))return qr.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(Math.abs(c-l)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let d=hA(e)||hA(t),f={min:e,max:t,a:c,b:l},h=[],_=[];if(d&&(f.isPadded=d,f.maxLen=String(f.max).length),c<0){let g=l<0?Math.abs(l):1;_=cA(g,Math.abs(c),f,n),c=f.a=0}return l>=0&&(h=cA(c,l,f,n)),f.negatives=_,f.positives=h,f.result=UL(_,h,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&h.length+_.length>1&&(f.result=`(?:${f.result})`),qr.cache[u]=f,f.result};function UL(e,t,r){let n=Rp(e,t,"-",!1,r)||[],i=Rp(t,e,"",!1,r)||[],o=Rp(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function jL(e,t){let r=1,n=1,i=pA(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=pA(e,r);for(i=dA(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=dA(t+1,n)-1;return o=[...o],o.sort(qL),o}function kL(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=FL(e,t),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?o+=u:u!=="0"||c!=="9"?o+=GL(u,c,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function cA(e,t,r,n){let i=jL(e,t),o=[],s=e,a;for(let u=0;u<i.length;u++){let c=i[u],l=kL(String(s),String(c),n),d="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+fA(a.count),s=c+1;continue}r.isPadded&&(d=HL(c,r,n)),l.string=d+l.pattern+fA(l.count),o.push(l),s=c+1,a=l}return o}function Rp(e,t,r,n,i){let o=[];for(let s of e){let{string:a}=s;!n&&!lA(t,"string",a)&&o.push(r+a),n&&lA(t,"string",a)&&o.push(r+a)}return o}function FL(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function qL(e,t){return e>t?1:t>e?-1:0}function lA(e,t,r){return e.some(n=>n[t]===r)}function pA(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function dA(e,t){return e-e%Math.pow(10,t)}function fA(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function GL(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function hA(e){return/^-?(0+)\d/.test(e)}function HL(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}qr.cache={};qr.clearCache=()=>qr.cache={};_A.exports=qr});var Pp=p((ek,TA)=>{"use strict";var $L=I("util"),mA=gA(),EA=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),VL=e=>t=>e===!0?Number(t):String(t),Op=e=>typeof e=="number"||typeof e=="string"&&e!=="",Ji=e=>Number.isInteger(+e),Cp=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},YL=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,WL=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},yA=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},KL=(e,t)=>{e.negatives.sort((s,a)=>s<a?-1:s>a?1:0),e.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},vA=(e,t,r,n)=>{if(r)return mA(e,t,q({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},AA=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return mA(e,t,r)},bA=(...e)=>new RangeError("Invalid range arguments: "+$L.inspect(...e)),SA=(e,t,r)=>{if(r.strictRanges===!0)throw bA([e,t]);return[]},XL=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},zL=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw bA([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let l=Cp(a)||Cp(u)||Cp(c),d=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&YL(e,t,n)===!1,h=n.transform||VL(f);if(n.toRegex&&r===1)return vA(yA(e,d),yA(t,d),!0,n);let _={negatives:[],positives:[]},g=y=>_[y<0?"negatives":"positives"].push(Math.abs(y)),v=[],b=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?g(i):v.push(WL(h(i,b),d,f)),i=s?i-r:i+r,b++;return n.toRegex===!0?r>1?KL(_,n):AA(v,null,q({wrap:!1},n)):v},QL=(e,t,r=1,n={})=>{if(!Ji(e)&&e.length>1||!Ji(t)&&t.length>1)return SA(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=o>s,u=Math.min(o,s),c=Math.max(o,s);if(n.toRegex&&r===1)return vA(u,c,!1,n);let l=[],d=0;for(;a?o>=s:o<=s;)l.push(i(o,d)),o=a?o-r:o+r,d++;return n.toRegex===!0?AA(l,null,{wrap:!1,options:n}):l},eu=(e,t,r,n={})=>{if(t==null&&Op(e))return[e];if(!Op(e)||!Op(t))return SA(e,t,n);if(typeof r=="function")return eu(e,t,1,{transform:r});if(EA(r))return eu(e,t,0,r);let i=q({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Ji(r)?Ji(e)&&Ji(t)?zL(e,t,r,i):QL(e,t,Math.max(Math.abs(r),1),i):r!=null&&!EA(r)?XL(r,i):eu(e,t,1,r)};TA.exports=eu});var CA=p((tk,OA)=>{"use strict";var ZL=Pp(),RA=Za(),JL=(e,t={})=>{let r=(n,i={})=>{let o=RA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||s===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=RA.reduce(n.nodes),d=ZL(...l,ce(q({},t),{wrap:!1,toRegex:!0}));if(d.length!==0)return l.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(e)};OA.exports=JL});var wA=p((rk,IA)=>{"use strict";var eM=Pp(),PA=Ja(),kn=Za(),Gr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?kn.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push(Gr(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Gr(i,o,r):i+o);return kn.flatten(n)},tM=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Gr(a.pop(),PA(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Gr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let d=kn.reduce(i.nodes);if(kn.exceedsLimit(...d,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=eM(...d,t);f.length===0&&(f=PA(i,t)),a.push(Gr(a.pop(),f)),i.nodes=[];return}let u=kn.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let d=0;d<i.nodes.length;d++){let f=i.nodes[d];if(f.type==="comma"&&i.type==="brace"){d===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Gr(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Gr(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return kn.flatten(n(e))};IA.exports=tM});var xA=p((nk,NA)=>{"use strict";NA.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var UA=p((ik,BA)=>{"use strict";var rM=Ja(),{MAX_LENGTH:LA,CHAR_BACKSLASH:Ip,CHAR_BACKTICK:nM,CHAR_COMMA:iM,CHAR_DOT:oM,CHAR_LEFT_PARENTHESES:sM,CHAR_RIGHT_PARENTHESES:aM,CHAR_LEFT_CURLY_BRACE:uM,CHAR_RIGHT_CURLY_BRACE:cM,CHAR_LEFT_SQUARE_BRACKET:MA,CHAR_RIGHT_SQUARE_BRACKET:DA,CHAR_DOUBLE_QUOTE:lM,CHAR_SINGLE_QUOTE:pM,CHAR_NO_BREAK_SPACE:dM,CHAR_ZERO_WIDTH_NOBREAK_SPACE:fM}=xA(),hM=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(LA,r.maxLength):LA;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,a=i,u=0,c=e.length,l=0,d=0,f,h={},_=()=>e[l++],g=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return s.nodes.push(v),v.parent=s,v.prev=a,a=v,v};for(g({type:"bos"});l<c;)if(s=o[o.length-1],f=_(),!(f===fM||f===dM)){if(f===Ip){g({type:"text",value:(t.keepEscaping?f:"")+_()});continue}if(f===DA){g({type:"text",value:"\\"+f});continue}if(f===MA){u++;let v=!0,b;for(;l<c&&(b=_());){if(f+=b,b===MA){u++;continue}if(b===Ip){f+=_();continue}if(b===DA&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===sM){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:f});continue}if(f===aM){if(s.type!=="paren"){g({type:"text",value:f});continue}s=o.pop(),g({type:"text",value:f}),s=o[o.length-1];continue}if(f===lM||f===pM||f===nM){let v=f,b;for(t.keepQuotes!==!0&&(f="");l<c&&(b=_());){if(b===Ip){f+=b+_();continue}if(b===v){t.keepQuotes===!0&&(f+=b);break}f+=b}g({type:"text",value:f});continue}if(f===uM){d++;let v=a.value&&a.value.slice(-1)==="$"||s.dollar===!0;s=g({type:"brace",open:!0,close:!1,dollar:v,depth:d,commas:0,ranges:0,nodes:[]}),o.push(s),g({type:"open",value:f});continue}if(f===cM){if(s.type!=="brace"){g({type:"text",value:f});continue}let v="close";s=o.pop(),s.close=!0,g({type:v,value:f}),d--,s=o[o.length-1];continue}if(f===iM&&d>0){if(s.ranges>0){s.ranges=0;let v=s.nodes.shift();s.nodes=[v,{type:"text",value:rM(s)}]}g({type:"comma",value:f}),s.commas++;continue}if(f===oM&&d>0&&s.commas===0){let v=s.nodes;if(d===0||v.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(s.range=[],a.value+=f,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){v.pop();let b=v[v.length-1];b.value+=a.value+f,a=b,s.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(y=>{y.nodes||(y.type==="open"&&(y.isOpen=!0),y.type==="close"&&(y.isClose=!0),y.nodes||(y.type="text"),y.invalid=!0)});let v=o[o.length-1],b=v.nodes.indexOf(s);v.nodes.splice(b,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};BA.exports=hM});var FA=p((ok,kA)=>{"use strict";var jA=Ja(),_M=CA(),gM=wA(),mM=UA(),Ve=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Ve.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ve.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Ve.parse=(e,t={})=>mM(e,t);Ve.stringify=(e,t={})=>typeof e=="string"?jA(Ve.parse(e,t),t):jA(e,t);Ve.compile=(e,t={})=>(typeof e=="string"&&(e=Ve.parse(e,t)),_M(e,t));Ve.expand=(e,t={})=>{typeof e=="string"&&(e=Ve.parse(e,t));let r=gM(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Ve.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Ve.compile(e,t):Ve.expand(e,t);kA.exports=Ve});var eo=p((sk,VA)=>{"use strict";var EM=I("path"),Ot="\\\\/",qA=`[^${Ot}]`,kt="\\.",yM="\\+",vM="\\?",tu="\\/",AM="(?=.)",GA="[^/]",wp=`(?:${tu}|$)`,HA=`(?:^|${tu})`,Np=`${kt}{1,2}${wp}`,bM=`(?!${kt})`,SM=`(?!${HA}${Np})`,TM=`(?!${kt}{0,1}${wp})`,RM=`(?!${Np})`,OM=`[^.${tu}]`,CM=`${GA}*?`,$A={DOT_LITERAL:kt,PLUS_LITERAL:yM,QMARK_LITERAL:vM,SLASH_LITERAL:tu,ONE_CHAR:AM,QMARK:GA,END_ANCHOR:wp,DOTS_SLASH:Np,NO_DOT:bM,NO_DOTS:SM,NO_DOT_SLASH:TM,NO_DOTS_SLASH:RM,QMARK_NO_DOT:OM,STAR:CM,START_ANCHOR:HA},PM=ce(q({},$A),{SLASH_LITERAL:`[${Ot}]`,QMARK:qA,STAR:`${qA}*?`,DOTS_SLASH:`${kt}{1,2}(?:[${Ot}]|$)`,NO_DOT:`(?!${kt})`,NO_DOTS:`(?!(?:^|[${Ot}])${kt}{1,2}(?:[${Ot}]|$))`,NO_DOT_SLASH:`(?!${kt}{0,1}(?:[${Ot}]|$))`,NO_DOTS_SLASH:`(?!${kt}{1,2}(?:[${Ot}]|$))`,QMARK_NO_DOT:`[^.${Ot}]`,START_ANCHOR:`(?:^|[${Ot}])`,END_ANCHOR:`(?:[${Ot}]|$)`}),IM={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};VA.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:IM,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:EM.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?PM:$A}}});var to=p(qe=>{"use strict";var wM=I("path"),NM=process.platform==="win32",{REGEX_BACKSLASH:xM,REGEX_REMOVE_BACKSLASH:LM,REGEX_SPECIAL_CHARS:MM,REGEX_SPECIAL_CHARS_GLOBAL:DM}=eo();qe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);qe.hasRegexChars=e=>MM.test(e);qe.isRegexChar=e=>e.length===1&&qe.hasRegexChars(e);qe.escapeRegex=e=>e.replace(DM,"\\$1");qe.toPosixSlashes=e=>e.replace(xM,"/");qe.removeBackslashes=e=>e.replace(LM,t=>t==="\\"?"":t);qe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};qe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:NM===!0||wM.sep==="\\";qe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?qe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};qe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};qe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var JA=p((uk,ZA)=>{"use strict";var YA=to(),{CHAR_ASTERISK:xp,CHAR_AT:BM,CHAR_BACKWARD_SLASH:ro,CHAR_COMMA:UM,CHAR_DOT:Lp,CHAR_EXCLAMATION_MARK:Mp,CHAR_FORWARD_SLASH:WA,CHAR_LEFT_CURLY_BRACE:Dp,CHAR_LEFT_PARENTHESES:Bp,CHAR_LEFT_SQUARE_BRACKET:jM,CHAR_PLUS:kM,CHAR_QUESTION_MARK:KA,CHAR_RIGHT_CURLY_BRACE:FM,CHAR_RIGHT_PARENTHESES:XA,CHAR_RIGHT_SQUARE_BRACKET:qM}=eo(),zA=e=>e===WA||e===ro,QA=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},GM=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],u=e,c=-1,l=0,d=0,f=!1,h=!1,_=!1,g=!1,v=!1,b=!1,y=!1,C=!1,D=!1,k=!1,ie=0,F,O,T={value:"",depth:0,isGlob:!1},Y=()=>c>=n,A=()=>u.charCodeAt(c+1),M=()=>(F=O,u.charCodeAt(++c));for(;c<n;){O=M();let ae;if(O===ro){y=T.backslashes=!0,O=M(),O===Dp&&(b=!0);continue}if(b===!0||O===Dp){for(ie++;Y()!==!0&&(O=M());){if(O===ro){y=T.backslashes=!0,M();continue}if(O===Dp){ie++;continue}if(b!==!0&&O===Lp&&(O=M())===Lp){if(f=T.isBrace=!0,_=T.isGlob=!0,k=!0,i===!0)continue;break}if(b!==!0&&O===UM){if(f=T.isBrace=!0,_=T.isGlob=!0,k=!0,i===!0)continue;break}if(O===FM&&(ie--,ie===0)){b=!1,f=T.isBrace=!0,k=!0;break}}if(i===!0)continue;break}if(O===WA){if(o.push(c),s.push(T),T={value:"",depth:0,isGlob:!1},k===!0)continue;if(F===Lp&&c===l+1){l+=2;continue}d=c+1;continue}if(r.noext!==!0&&(O===kM||O===BM||O===xp||O===KA||O===Mp)===!0&&A()===Bp){if(_=T.isGlob=!0,g=T.isExtglob=!0,k=!0,O===Mp&&c===l&&(D=!0),i===!0){for(;Y()!==!0&&(O=M());){if(O===ro){y=T.backslashes=!0,O=M();continue}if(O===XA){_=T.isGlob=!0,k=!0;break}}continue}break}if(O===xp){if(F===xp&&(v=T.isGlobstar=!0),_=T.isGlob=!0,k=!0,i===!0)continue;break}if(O===KA){if(_=T.isGlob=!0,k=!0,i===!0)continue;break}if(O===jM){for(;Y()!==!0&&(ae=M());){if(ae===ro){y=T.backslashes=!0,M();continue}if(ae===qM){h=T.isBracket=!0,_=T.isGlob=!0,k=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&O===Mp&&c===l){C=T.negated=!0,l++;continue}if(r.noparen!==!0&&O===Bp){if(_=T.isGlob=!0,i===!0){for(;Y()!==!0&&(O=M());){if(O===Bp){y=T.backslashes=!0,O=M();continue}if(O===XA){k=!0;break}}continue}break}if(_===!0){if(k=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,_=!1);let N=u,se="",m="";l>0&&(se=u.slice(0,l),u=u.slice(l),d-=l),N&&_===!0&&d>0?(N=u.slice(0,d),m=u.slice(d)):_===!0?(N="",m=u):N=u,N&&N!==""&&N!=="/"&&N!==u&&zA(N.charCodeAt(N.length-1))&&(N=N.slice(0,-1)),r.unescape===!0&&(m&&(m=YA.removeBackslashes(m)),N&&y===!0&&(N=YA.removeBackslashes(N)));let E={prefix:se,input:e,start:l,base:N,glob:m,isBrace:f,isBracket:h,isGlob:_,isExtglob:g,isGlobstar:v,negated:C,negatedExtglob:D};if(r.tokens===!0&&(E.maxDepth=0,zA(O)||s.push(T),E.tokens=s),r.parts===!0||r.tokens===!0){let ae;for(let $=0;$<o.length;$++){let Be=ae?ae+1:l,Ge=o[$],be=e.slice(Be,Ge);r.tokens&&($===0&&l!==0?(s[$].isPrefix=!0,s[$].value=se):s[$].value=be,QA(s[$]),E.maxDepth+=s[$].depth),($!==0||be!=="")&&a.push(be),ae=Ge}if(ae&&ae+1<e.length){let $=e.slice(ae+1);a.push($),r.tokens&&(s[s.length-1].value=$,QA(s[s.length-1]),E.maxDepth+=s[s.length-1].depth)}E.slashes=o,E.parts=a}return E};ZA.exports=GM});var n0=p((ck,r0)=>{"use strict";var ru=eo(),Ye=to(),{MAX_LENGTH:nu,POSIX_REGEX_SOURCE:HM,REGEX_NON_SPECIAL_CHARS:$M,REGEX_SPECIAL_CHARS_BACKREF:VM,REPLACEMENTS:e0}=ru,YM=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>Ye.escapeRegex(i)).join("..")}return r},Fn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,t0=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=e0[e]||e;let r=q({},t),n=typeof r.maxLength=="number"?Math.min(nu,r.maxLength):nu,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=Ye.isWindows(t),c=ru.globChars(u),l=ru.extglobChars(c),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:g,NO_DOT:v,NO_DOT_SLASH:b,NO_DOTS_SLASH:y,QMARK:C,QMARK_NO_DOT:D,STAR:k,START_ANCHOR:ie}=c,F=R=>`(${a}(?:(?!${ie}${R.dot?g:d}).)*?)`,O=r.dot?"":v,T=r.dot?C:D,Y=r.bash===!0?F(r):k;r.capture&&(Y=`(${Y})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let A={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=Ye.removePrefix(e,A),i=e.length;let M=[],N=[],se=[],m=o,E,ae=()=>A.index===i-1,$=A.peek=(R=1)=>e[A.index+R],Be=A.advance=()=>e[++A.index]||"",Ge=()=>e.slice(A.index+1),be=(R="",ee=0)=>{A.consumed+=R,A.index+=ee},Ft=R=>{A.output+=R.output!=null?R.output:R.value,be(R.value)},Gb=()=>{let R=1;for(;$()==="!"&&($(2)!=="("||$(3)==="?");)Be(),A.start++,R++;return R%2==0?!1:(A.negated=!0,A.start++,!0)},_o=R=>{A[R]++,se.push(R)},sr=R=>{A[R]--,se.pop()},V=R=>{if(m.type==="globstar"){let ee=A.braces>0&&(R.type==="comma"||R.type==="brace"),S=R.extglob===!0||M.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!ee&&!S&&(A.output=A.output.slice(0,-m.output.length),m.type="star",m.value="*",m.output=Y,A.output+=m.output)}if(M.length&&R.type!=="paren"&&(M[M.length-1].inner+=R.value),(R.value||R.output)&&Ft(R),m&&m.type==="text"&&R.type==="text"){m.value+=R.value,m.output=(m.output||"")+R.value;return}R.prev=m,s.push(R),m=R},go=(R,ee)=>{let S=ce(q({},l[ee]),{conditions:1,inner:""});S.prev=m,S.parens=A.parens,S.output=A.output;let H=(r.capture?"(":"")+S.open;_o("parens"),V({type:R,value:ee,output:A.output?"":_}),V({type:"paren",extglob:!0,value:Be(),output:H}),M.push(S)},Hb=R=>{let ee=R.close+(r.capture?")":""),S;if(R.type==="negate"){let H=Y;R.inner&&R.inner.length>1&&R.inner.includes("/")&&(H=F(r)),(H!==Y||ae()||/^\)+$/.test(Ge()))&&(ee=R.close=`)$))${H}`),R.inner.includes("*")&&(S=Ge())&&/^\.[^\\/.]+$/.test(S)&&(ee=R.close=`)${S})${H})`),R.prev.type==="bos"&&(A.negatedExtglob=!0)}V({type:"paren",extglob:!0,value:E,output:ee}),sr("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,ee=e.replace(VM,(S,H,ue,we,ge,yu)=>we==="\\"?(R=!0,S):we==="?"?H?H+we+(ge?C.repeat(ge.length):""):yu===0?T+(ge?C.repeat(ge.length):""):C.repeat(ue.length):we==="."?d.repeat(ue.length):we==="*"?H?H+we+(ge?Y:""):Y:H?S:`\\${S}`);return R===!0&&(r.unescape===!0?ee=ee.replace(/\\/g,""):ee=ee.replace(/\\+/g,S=>S.length%2==0?"\\\\":S?"\\":"")),ee===e&&r.contains===!0?(A.output=e,A):(A.output=Ye.wrapOutput(ee,A,t),A)}for(;!ae();){if(E=Be(),E==="\0")continue;if(E==="\\"){let S=$();if(S==="/"&&r.bash!==!0||S==="."||S===";")continue;if(!S){E+="\\",V({type:"text",value:E});continue}let H=/^\\+/.exec(Ge()),ue=0;if(H&&H[0].length>2&&(ue=H[0].length,A.index+=ue,ue%2!=0&&(E+="\\")),r.unescape===!0?E=Be():E+=Be(),A.brackets===0){V({type:"text",value:E});continue}}if(A.brackets>0&&(E!=="]"||m.value==="["||m.value==="[^")){if(r.posix!==!1&&E===":"){let S=m.value.slice(1);if(S.includes("[")&&(m.posix=!0,S.includes(":"))){let H=m.value.lastIndexOf("["),ue=m.value.slice(0,H),we=m.value.slice(H+2),ge=HM[we];if(ge){m.value=ue+ge,A.backtrack=!0,Be(),!o.output&&s.indexOf(m)===1&&(o.output=_);continue}}}(E==="["&&$()!==":"||E==="-"&&$()==="]")&&(E=`\\${E}`),E==="]"&&(m.value==="["||m.value==="[^")&&(E=`\\${E}`),r.posix===!0&&E==="!"&&m.value==="["&&(E="^"),m.value+=E,Ft({value:E});continue}if(A.quotes===1&&E!=='"'){E=Ye.escapeRegex(E),m.value+=E,Ft({value:E});continue}if(E==='"'){A.quotes=A.quotes===1?0:1,r.keepQuotes===!0&&V({type:"text",value:E});continue}if(E==="("){_o("parens"),V({type:"paren",value:E});continue}if(E===")"){if(A.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Fn("opening","("));let S=M[M.length-1];if(S&&A.parens===S.parens+1){Hb(M.pop());continue}V({type:"paren",value:E,output:A.parens?")":"\\)"}),sr("parens");continue}if(E==="["){if(r.nobracket===!0||!Ge().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Fn("closing","]"));E=`\\${E}`}else _o("brackets");V({type:"bracket",value:E});continue}if(E==="]"){if(r.nobracket===!0||m&&m.type==="bracket"&&m.value.length===1){V({type:"text",value:E,output:`\\${E}`});continue}if(A.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Fn("opening","["));V({type:"text",value:E,output:`\\${E}`});continue}sr("brackets");let S=m.value.slice(1);if(m.posix!==!0&&S[0]==="^"&&!S.includes("/")&&(E=`/${E}`),m.value+=E,Ft({value:E}),r.literalBrackets===!1||Ye.hasRegexChars(S))continue;let H=Ye.escapeRegex(m.value);if(A.output=A.output.slice(0,-m.value.length),r.literalBrackets===!0){A.output+=H,m.value=H;continue}m.value=`(${a}${H}|${m.value})`,A.output+=m.value;continue}if(E==="{"&&r.nobrace!==!0){_o("braces");let S={type:"brace",value:E,output:"(",outputIndex:A.output.length,tokensIndex:A.tokens.length};N.push(S),V(S);continue}if(E==="}"){let S=N[N.length-1];if(r.nobrace===!0||!S){V({type:"text",value:E,output:E});continue}let H=")";if(S.dots===!0){let ue=s.slice(),we=[];for(let ge=ue.length-1;ge>=0&&(s.pop(),ue[ge].type!=="brace");ge--)ue[ge].type!=="dots"&&we.unshift(ue[ge].value);H=YM(we,r),A.backtrack=!0}if(S.comma!==!0&&S.dots!==!0){let ue=A.output.slice(0,S.outputIndex),we=A.tokens.slice(S.tokensIndex);S.value=S.output="\\{",E=H="\\}",A.output=ue;for(let ge of we)A.output+=ge.output||ge.value}V({type:"brace",value:E,output:H}),sr("braces"),N.pop();continue}if(E==="|"){M.length>0&&M[M.length-1].conditions++,V({type:"text",value:E});continue}if(E===","){let S=E,H=N[N.length-1];H&&se[se.length-1]==="braces"&&(H.comma=!0,S="|"),V({type:"comma",value:E,output:S});continue}if(E==="/"){if(m.type==="dot"&&A.index===A.start+1){A.start=A.index+1,A.consumed="",A.output="",s.pop(),m=o;continue}V({type:"slash",value:E,output:h});continue}if(E==="."){if(A.braces>0&&m.type==="dot"){m.value==="."&&(m.output=d);let S=N[N.length-1];m.type="dots",m.output+=E,m.value+=E,S.dots=!0;continue}if(A.braces+A.parens===0&&m.type!=="bos"&&m.type!=="slash"){V({type:"text",value:E,output:d});continue}V({type:"dot",value:E,output:d});continue}if(E==="?"){if(!(m&&m.value==="(")&&r.noextglob!==!0&&$()==="("&&$(2)!=="?"){go("qmark",E);continue}if(m&&m.type==="paren"){let H=$(),ue=E;if(H==="<"&&!Ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(m.value==="("&&!/[!=<:]/.test(H)||H==="<"&&!/<([!=]|\w+>)/.test(Ge()))&&(ue=`\\${E}`),V({type:"text",value:E,output:ue});continue}if(r.dot!==!0&&(m.type==="slash"||m.type==="bos")){V({type:"qmark",value:E,output:D});continue}V({type:"qmark",value:E,output:C});continue}if(E==="!"){if(r.noextglob!==!0&&$()==="("&&($(2)!=="?"||!/[!=<:]/.test($(3)))){go("negate",E);continue}if(r.nonegate!==!0&&A.index===0){Gb();continue}}if(E==="+"){if(r.noextglob!==!0&&$()==="("&&$(2)!=="?"){go("plus",E);continue}if(m&&m.value==="("||r.regex===!1){V({type:"plus",value:E,output:f});continue}if(m&&(m.type==="bracket"||m.type==="paren"||m.type==="brace")||A.parens>0){V({type:"plus",value:E});continue}V({type:"plus",value:f});continue}if(E==="@"){if(r.noextglob!==!0&&$()==="("&&$(2)!=="?"){V({type:"at",extglob:!0,value:E,output:""});continue}V({type:"text",value:E});continue}if(E!=="*"){(E==="$"||E==="^")&&(E=`\\${E}`);let S=$M.exec(Ge());S&&(E+=S[0],A.index+=S[0].length),V({type:"text",value:E});continue}if(m&&(m.type==="globstar"||m.star===!0)){m.type="star",m.star=!0,m.value+=E,m.output=Y,A.backtrack=!0,A.globstar=!0,be(E);continue}let R=Ge();if(r.noextglob!==!0&&/^\([^?]/.test(R)){go("star",E);continue}if(m.type==="star"){if(r.noglobstar===!0){be(E);continue}let S=m.prev,H=S.prev,ue=S.type==="slash"||S.type==="bos",we=H&&(H.type==="star"||H.type==="globstar");if(r.bash===!0&&(!ue||R[0]&&R[0]!=="/")){V({type:"star",value:E,output:""});continue}let ge=A.braces>0&&(S.type==="comma"||S.type==="brace"),yu=M.length&&(S.type==="pipe"||S.type==="paren");if(!ue&&S.type!=="paren"&&!ge&&!yu){V({type:"star",value:E,output:""});continue}for(;R.slice(0,3)==="/**";){let mo=e[A.index+4];if(mo&&mo!=="/")break;R=R.slice(3),be("/**",3)}if(S.type==="bos"&&ae()){m.type="globstar",m.value+=E,m.output=F(r),A.output=m.output,A.globstar=!0,be(E);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&!we&&ae()){A.output=A.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=F(r)+(r.strictSlashes?")":"|$)"),m.value+=E,A.globstar=!0,A.output+=S.output+m.output,be(E);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&R[0]==="/"){let mo=R[1]!==void 0?"|$":"";A.output=A.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=`${F(r)}${h}|${h}${mo})`,m.value+=E,A.output+=S.output+m.output,A.globstar=!0,be(E+Be()),V({type:"slash",value:"/",output:""});continue}if(S.type==="bos"&&R[0]==="/"){m.type="globstar",m.value+=E,m.output=`(?:^|${h}|${F(r)}${h})`,A.output=m.output,A.globstar=!0,be(E+Be()),V({type:"slash",value:"/",output:""});continue}A.output=A.output.slice(0,-m.output.length),m.type="globstar",m.output=F(r),m.value+=E,A.output+=m.output,A.globstar=!0,be(E);continue}let ee={type:"star",value:E,output:Y};if(r.bash===!0){ee.output=".*?",(m.type==="bos"||m.type==="slash")&&(ee.output=O+ee.output),V(ee);continue}if(m&&(m.type==="bracket"||m.type==="paren")&&r.regex===!0){ee.output=E,V(ee);continue}(A.index===A.start||m.type==="slash"||m.type==="dot")&&(m.type==="dot"?(A.output+=b,m.output+=b):r.dot===!0?(A.output+=y,m.output+=y):(A.output+=O,m.output+=O),$()!=="*"&&(A.output+=_,m.output+=_)),V(ee)}for(;A.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Fn("closing","]"));A.output=Ye.escapeLast(A.output,"["),sr("brackets")}for(;A.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Fn("closing",")"));A.output=Ye.escapeLast(A.output,"("),sr("parens")}for(;A.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Fn("closing","}"));A.output=Ye.escapeLast(A.output,"{"),sr("braces")}if(r.strictSlashes!==!0&&(m.type==="star"||m.type==="bracket")&&V({type:"maybe_slash",value:"",output:`${h}?`}),A.backtrack===!0){A.output="";for(let R of A.tokens)A.output+=R.output!=null?R.output:R.value,R.suffix&&(A.output+=R.suffix)}return A};t0.fastpaths=(e,t)=>{let r=q({},t),n=typeof r.maxLength=="number"?Math.min(nu,r.maxLength):nu,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=e0[e]||e;let o=Ye.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:_}=ru.globChars(o),g=r.dot?d:l,v=r.dot?f:l,b=r.capture?"":"?:",y={negated:!1,prefix:""},C=r.bash===!0?".*?":h;r.capture&&(C=`(${C})`);let D=O=>O.noglobstar===!0?C:`(${b}(?:(?!${_}${O.dot?c:s}).)*?)`,k=O=>{switch(O){case"*":return`${g}${u}${C}`;case".*":return`${s}${u}${C}`;case"*.*":return`${g}${C}${s}${u}${C}`;case"*/*":return`${g}${C}${a}${u}${v}${C}`;case"**":return g+D(r);case"**/*":return`(?:${g}${D(r)}${a})?${v}${u}${C}`;case"**/*.*":return`(?:${g}${D(r)}${a})?${v}${C}${s}${u}${C}`;case"**/.*":return`(?:${g}${D(r)}${a})?${s}${u}${C}`;default:{let T=/^(.*?)\.(\w+)$/.exec(O);if(!T)return;let Y=k(T[1]);return Y?Y+s+T[2]:void 0}}},ie=Ye.removePrefix(e,y),F=k(ie);return F&&r.strictSlashes!==!0&&(F+=`${a}?`),F};r0.exports=t0});var o0=p((lk,i0)=>{"use strict";var WM=I("path"),KM=JA(),Up=n0(),jp=to(),XM=eo(),zM=e=>e&&typeof e=="object"&&!Array.isArray(e),le=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(f=>le(f,t,r));return f=>{for(let h of l){let _=h(f);if(_)return _}return!1}}let n=zM(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=jp.isWindows(t),s=n?le.compileRe(e,t):le.makeRe(e,t,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(i.ignore){let l=ce(q({},t),{ignore:null,onMatch:null,onResult:null});u=le(i.ignore,l,r)}let c=(l,d=!1)=>{let{isMatch:f,match:h,output:_}=le.test(l,s,t,{glob:e,posix:o}),g={glob:e,state:a,regex:s,posix:o,input:l,output:_,match:h,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,d?g:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,d?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),d?g:!0)};return r&&(c.state=a),c};le.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?jp.toPosixSlashes:null),a=e===n,u=a&&s?s(e):e;return a===!1&&(u=s?s(e):e,a=u===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=le.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};le.matchBase=(e,t,r,n=jp.isWindows(r))=>(t instanceof RegExp?t:le.makeRe(t,r)).test(WM.basename(e));le.isMatch=(e,t,r)=>le(t,r)(e);le.parse=(e,t)=>Array.isArray(e)?e.map(r=>le.parse(r,t)):Up(e,ce(q({},t),{fastpaths:!1}));le.scan=(e,t)=>KM(e,t);le.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=le.toRegex(a,t);return n===!0&&(u.state=e),u};le.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Up.fastpaths(e,t)),i.output||(i=Up(e,t)),le.compileRe(i,t,r,n)};le.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};le.constants=XM;i0.exports=le});var a0=p((pk,s0)=>{"use strict";s0.exports=o0()});var Fp=p((dk,p0)=>{"use strict";var u0=I("util"),c0=FA(),Ct=a0(),kp=to(),l0=e=>e===""||e==="./",ne=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let d=Ct(String(t[l]),ce(q({},r),{onResult:a}),!0),f=d.state.negated||d.state.negatedExtglob;f&&s++;for(let h of e){let _=d(h,!0);!(f?!_.isMatch:_.isMatch)||(f?n.add(_.output):(n.delete(_.output),i.add(_.output)))}}let c=(s===t.length?[...o]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return c};ne.match=ne;ne.matcher=(e,t)=>Ct(e,t);ne.isMatch=(e,t,r)=>Ct(t,r)(e);ne.any=ne.isMatch;ne.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=ne(e,t,ce(q({},r),{onResult:o}));for(let a of i)s.includes(a)||n.add(a);return[...n]};ne.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${u0.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ne.contains(e,n,r));if(typeof t=="string"){if(l0(e)||l0(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ne.isMatch(e,t,ce(q({},r),{contains:!0}))};ne.matchKeys=(e,t,r)=>{if(!kp.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ne(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};ne.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Ct(String(i),r);if(n.some(s=>o(s)))return!0}return!1};ne.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Ct(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};ne.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${u0.inspect(e)}"`);return[].concat(t).every(n=>Ct(n,r)(e))};ne.capture=(e,t,r)=>{let n=kp.isWindows(r),o=Ct.makeRe(String(e),ce(q({},r),{capture:!0})).exec(n?kp.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};ne.makeRe=(...e)=>Ct.makeRe(...e);ne.scan=(...e)=>Ct.scan(...e);ne.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of c0(String(n),t))r.push(Ct.parse(i,t));return r};ne.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:c0(e,t)};ne.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ne.braces(e,ce(q({},t),{expand:!0}))};p0.exports=ne});var d0=p((fk,QM)=>{QM.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var _0=p(We=>{"use strict";var f0=d0(),Pt=process.env;Object.defineProperty(We,"_vendors",{value:f0.map(function(e){return e.constant})});We.name=null;We.isPR=null;f0.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return h0(n)});if(We[e.constant]=r,r)switch(We.name=e.name,typeof e.pr){case"string":We.isPR=!!Pt[e.pr];break;case"object":"env"in e.pr?We.isPR=e.pr.env in Pt&&Pt[e.pr.env]!==e.pr.ne:"any"in e.pr?We.isPR=e.pr.any.some(function(n){return!!Pt[n]}):We.isPR=h0(e.pr);break;default:We.isPR=null}});We.isCI=!!(Pt.CI||Pt.CONTINUOUS_INTEGRATION||Pt.BUILD_NUMBER||Pt.RUN_ID||We.name);function h0(e){return typeof e=="string"?!!Pt[e]:Object.keys(e).every(function(t){return Pt[t]===e[t]})}});var m0=p((_k,g0)=>{"use strict";g0.exports=_0().isCI});var y0=p((gk,qp)=>{"use strict";var ZM=Object.prototype.hasOwnProperty,Me="~";function no(){}Object.create&&(no.prototype=Object.create(null),new no().__proto__||(Me=!1));function JM(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function E0(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new JM(r,n||e,i),s=Me?Me+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function iu(e,t){--e._eventsCount==0?e._events=new no:delete e._events[t]}function Ie(){this._events=new no,this._eventsCount=0}Ie.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)ZM.call(r,n)&&t.push(Me?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ie.prototype.listeners=function(t){var r=Me?Me+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};Ie.prototype.listenerCount=function(t){var r=Me?Me+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ie.prototype.emit=function(t,r,n,i,o,s){var a=Me?Me+t:t;if(!this._events[a])return!1;var u=this._events[a],c=arguments.length,l,d;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,o),!0;case 6:return u.fn.call(u.context,r,n,i,o,s),!0}for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];u.fn.apply(u.context,l)}else{var f=u.length,h;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),c){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,i);break;default:if(!l)for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u[d].fn.apply(u[d].context,l)}}return!0};Ie.prototype.on=function(t,r,n){return E0(this,t,r,n,!1)};Ie.prototype.once=function(t,r,n){return E0(this,t,r,n,!0)};Ie.prototype.removeListener=function(t,r,n,i){var o=Me?Me+t:t;if(!this._events[o])return this;if(!r)return iu(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&iu(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=u.length===1?u[0]:u:iu(this,o)}return this};Ie.prototype.removeAllListeners=function(t){var r;return t?(r=Me?Me+t:t,this._events[r]&&iu(this,r)):(this._events=new no,this._eventsCount=0),this};Ie.prototype.off=Ie.prototype.removeListener;Ie.prototype.addListener=Ie.prototype.on;Ie.prefixed=Me;Ie.EventEmitter=Ie;typeof qp!="undefined"&&(qp.exports=Ie)});var A0=p((mk,v0)=>{"use strict";v0.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var S0=p((Ek,ou)=>{"use strict";var e1=A0(),Gp=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},b0=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let o=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let s=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Gp(s);typeof e.cancel=="function"&&e.cancel(),i(a)},t);e1(e.then(n,i),()=>{clearTimeout(o)})});ou.exports=b0;ou.exports.default=b0;ou.exports.TimeoutError=Gp});var T0=p(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});function t1(e,t,r){let n=0,i=e.length;for(;i>0;){let o=i/2|0,s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}Hp.default=t1});var O0=p($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});var r1=T0(),R0=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=r1.default(this._queue,n,(o,s)=>s.priority-o.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};$p.default=R0});var I0=p(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});var n1=y0(),C0=S0(),i1=O0(),su=()=>{},o1=new C0.TimeoutError,P0=class extends n1{constructor(t){var r,n,i,o;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=su,this._resolveIdle=su,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:i1.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=su,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=su,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let s=this._timeout===void 0&&r.timeout===void 0?t():C0.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(o1)});n(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(o,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Vp.default=P0});var N0=p((bk,Yp)=>{"use strict";var w0=(e,...t)=>new Promise(r=>{r(e(...t))});Yp.exports=w0;Yp.exports.default=w0});var L0=p((Sk,Wp)=>{"use strict";var s1=N0(),x0=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...c)=>{r++;let l=s1(a,...c);u(l),l.then(n,n)},o=(a,u,...c)=>{r<e?i(a,u,...c):t.push(i.bind(null,a,u,...c))},s=(a,...u)=>new Promise(c=>o(a,c,...u));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};Wp.exports=x0;Wp.exports.default=x0});var D0=p(Xp=>{"use strict";var Kp=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};Xp.Semaphore=Kp;var M0=class extends Kp{constructor(){super(1)}};Xp.Mutex=M0});var U0=p((Rk,B0)=>{"use strict";B0.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var zp=p((Ok,j0)=>{"use strict";var a1=U0();j0.exports=e=>typeof e=="string"?e.replace(a1(),""):e});var F0=p((Ck,Qp)=>{"use strict";var k0=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);Qp.exports=k0;Qp.exports.default=k0});var H0=p((Pk,G0)=>{"use strict";var q0="[\uD800-\uDBFF][\uDC00-\uDFFF]",u1=e=>e&&e.exact?new RegExp(`^${q0}$`):new RegExp(q0,"g");G0.exports=u1});var V0=p((Ik,$0)=>{"use strict";$0.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Zp=p((wk,W0)=>{var io=V0(),Y0={};for(let e of Object.keys(io))Y0[io[e]]=e;var P={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};W0.exports=P;for(let e of Object.keys(P)){if(!("channels"in P[e]))throw new Error("missing channels property: "+e);if(!("labels"in P[e]))throw new Error("missing channel labels property: "+e);if(P[e].labels.length!==P[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=P[e];delete P[e].channels,delete P[e].labels,Object.defineProperty(P[e],"channels",{value:t}),Object.defineProperty(P[e],"labels",{value:r})}P.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,a,u;o===i?a=0:t===o?a=(r-n)/s:r===o?a=2+(n-t)/s:n===o&&(a=4+(t-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+o)/2;return o===i?u=0:c<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,c*100]};P.rgb.hsv=function(e){let t,r,n,i,o,s=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(s,a,u),l=c-Math.min(s,a,u),d=function(f){return(c-f)/6/l+1/2};return l===0?(i=0,o=0):(o=l/c,t=d(s),r=d(a),n=d(u),s===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,c*100]};P.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=P.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};P.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),o=(1-t-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function c1(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}P.rgb.keyword=function(e){let t=Y0[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(io)){let o=io[i],s=c1(e,o);s<r&&(r=s,n=i)}return n};P.keyword.rgb=function(e){return io[e]};P.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};P.rgb.lab=function(e){let t=P.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};P.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,u[c]=s*255;return u};P.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[t,a*100,s*100]};P.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};P.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,o*100,s*100]};P.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*t),a=1-n;o=6*t-s,(s&1)!=0&&(o=1-o);let u=r+o*(a-r),c,l,d;switch(s){default:case 6:case 0:c=a,l=u,d=r;break;case 1:c=u,l=a,d=r;break;case 2:c=r,l=a,d=u;break;case 3:c=r,l=u,d=a;break;case 4:c=u,l=r,d=a;break;case 5:c=a,l=r,d=u;break}return[c*255,l*255,d*255]};P.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};P.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};P.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(t-r),s=200*(r-n);return[i,o,s]};P.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;let a=o**3,u=i**3,c=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};P.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[t,s,i]};P.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[t,o,s]};P.rgb.ansi16=function(e,t=null){let[r,n,i]=e,o=t===null?P.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};P.hsv.ansi16=function(e){return P.rgb.ansi16(P.hsv.rgb(e),e[2])};P.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};P.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};P.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};P.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};P.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};P.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===t?u=(r-n)/s%6:i===r?u=2+(n-t)/s:u=4+(t-r)/s,u/=6,u%=1,[u*360,s*100,a*100]};P.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};P.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};P.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=t%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};P.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};P.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};P.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};P.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};P.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};P.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};P.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};P.gray.hsl=function(e){return[0,0,e[0]]};P.gray.hsv=P.gray.hsl;P.gray.hwb=function(e){return[0,100,e[0]]};P.gray.cmyk=function(e){return[0,0,0,e[0]]};P.gray.lab=function(e){return[e[0],0,0]};P.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};P.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var X0=p((Nk,K0)=>{var au=Zp();function l1(){let e={},t=Object.keys(au);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function p1(e){let t=l1(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(au[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function d1(e,t){return function(r){return t(e(r))}}function f1(e,t){let r=[t[e].parent,e],n=au[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=d1(au[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}K0.exports=function(e){let t=p1(e),r={},n=Object.keys(t);for(let i=n.length,o=0;o<i;o++){let s=n[o];t[s].parent!==null&&(r[s]=f1(s,t))}return r}});var Q0=p((xk,z0)=>{var Jp=Zp(),h1=X0(),qn={},_1=Object.keys(Jp);function g1(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function m1(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}_1.forEach(e=>{qn[e]={},Object.defineProperty(qn[e],"channels",{value:Jp[e].channels}),Object.defineProperty(qn[e],"labels",{value:Jp[e].labels});let t=h1(e);Object.keys(t).forEach(n=>{let i=t[n];qn[e][n]=m1(i),qn[e][n].raw=g1(i)})});z0.exports=qn});var nb=p((Lk,rb)=>{"use strict";var Z0=(e,t)=>(...r)=>`[${e(...r)+t}m`,J0=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},eb=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},uu=e=>e,tb=(e,t,r)=>[e,t,r],Gn=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},ed,Hn=(e,t,r,n)=>{ed===void 0&&(ed=Q0());let i=n?10:0,o={};for(let[s,a]of Object.entries(ed)){let u=s==="ansi16"?"ansi":s;s===t?o[u]=e(r,i):typeof a=="object"&&(o[u]=e(a[t],i))}return o};function E1(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,o]of Object.entries(n))t[i]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[i]=t[i],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",Gn(t.color,"ansi",()=>Hn(Z0,"ansi16",uu,!1)),Gn(t.color,"ansi256",()=>Hn(J0,"ansi256",uu,!1)),Gn(t.color,"ansi16m",()=>Hn(eb,"rgb",tb,!1)),Gn(t.bgColor,"ansi",()=>Hn(Z0,"ansi16",uu,!0)),Gn(t.bgColor,"ansi256",()=>Hn(J0,"ansi256",uu,!0)),Gn(t.bgColor,"ansi16m",()=>Hn(eb,"rgb",tb,!0)),t}Object.defineProperty(rb,"exports",{enumerable:!0,get:E1})});var ub=p((Mk,ab)=>{"use strict";var y1=F0(),v1=H0(),ib=nb(),ob=["","\x9B"],cu=e=>`${ob[0]}[${e}m`,sb=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let o=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let s=ib.codes.get(Number.parseInt(i,10));if(s){let a=e.indexOf(s.toString());a===-1?n.push(cu(t?s:o)):e.splice(a,1)}else if(t){n.push(cu(0));break}else n.push(cu(o))}if(t&&(n=n.filter((i,o)=>n.indexOf(i)===o),r!==void 0)){let i=cu(ib.codes.get(Number.parseInt(r,10)));n=n.reduce((o,s)=>s===i?[s,...o]:[...o,s],[])}return n.join("")};ab.exports=(e,t,r)=>{let n=[...e],i=[],o=typeof r=="number"?r:n.length,s=!1,a,u=0,c="";for(let[l,d]of n.entries()){let f=!1;if(ob.includes(d)){let h=/\d[^m]*/.exec(e.slice(l,l+18));a=h&&h.length>0?h[0]:void 0,u<o&&(s=!0,a!==void 0&&i.push(a))}else s&&d==="m"&&(s=!1,f=!0);if(!s&&!f&&u++,!v1({exact:!0}).test(d)&&y1(d.codePointAt())&&(u++,typeof r!="number"&&o++),u>t&&u<=o)c+=d;else if(u===t&&!s&&a!==void 0)c=sb(i);else if(u>=o){c+=sb(i,!0,a);break}}return c}});var N1={};Zb(N1,{default:()=>w1});var Fr=L(I("@yarnpkg/cli")),Le=L(I("@yarnpkg/core")),eA=L(I("@yarnpkg/libzip")),Q=L(I("@yarnpkg/fslib")),ut=L(I("clipanion")),Tp=L(I("path"));var ud=L(I("fs")),cd=async e=>{try{return(0,ud.readFileSync)(e,"utf-8").split(`
`)}catch(t){return[]}};var ld=L(I("path")),pd=({ignoreFile:e,cwd:t})=>(0,ld.join)(t,e);var yf=L(Ad());var mf=L(gf()),Ef=async({cwd:e})=>{try{return(await(0,mf.default)(`${e}/**/*`,{dot:!0})).map(r=>{var n;return(n=r.split(`${e}/`)[1])!=null?n:""}).filter(Boolean)}catch(t){return[]}};var Xu=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=pd({ignoreFile:t,cwd:r}),i=(0,yf.default)().add([...e,...await cd(n)]);return(await Ef({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var vf=["package.json","package.yaml","package.yml"];var Ro=L(I("path")),ET={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,Ro.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>vf.map(t=>(0,Ro.join)(e,t))},yT=({cwd:e,rootDir:t})=>[...new Set(...[Object.values(ET).map(r=>r({cwd:e,rootDir:t})).flat()])],Af=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>yT({cwd:r,rootDir:t})).flat();var ui=L(I("@yarnpkg/fslib")),X=L(I("typanion")),Mo=L(Dh()),LO=".yarnbuildrc.yml",Pc=".bundleignore",Ic=X.isObject({folders:X.isObject({input:X.isOneOf([X.isString(),X.isArray(X.isString())]),output:X.isOneOf([X.isString(),X.isArray(X.isString())])}),exclude:X.isArray(X.isString()),bail:X.isBoolean(),hideYarnBuildBadge:X.isBoolean(),ignoreFile:X.isString(),maxConcurrency:X.isOptional(X.applyCascade(X.isNumber(),[X.isInteger(),X.isInInclusiveRange(1,128)]))}),wc={folders:{input:".",output:["build","node_modules"]},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:Pc,maxConcurrency:8};async function Bh(e){let t=LO,r=ui.ppath.join(e.projectCwd||e.startingCwd,t);if(ui.xfs.existsSync(r)){let n=await ui.xfs.readFilePromise(r,"utf8"),i=[];try{let o=(0,Mo.load)(n,{schema:Mo.JSON_SCHEMA});if(Ic(o,{errors:i}))return o;console.warn(i)}catch(o){let s="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(s=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${s}`)}}return wc}async function Uh(e){return await Bh(e)}async function jh(e){var r;let t=await Bh(e);return ce(q(q({},wc),t),{folders:q(q({},wc.folders),(r=t.folders)!=null?r:{})})}var Wv=L(Js()),Kv=L(Oi()),Xv=L(gt()),zv=L(Yv()),Qv=L(B()),Zv=L(Js()),kr=L(B()),Jv=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new zv.OTLPTraceExporter,r=new Wv.BasicTracerProvider({resource:new Kv.Resource({[Xv.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new Zv.BatchSpanProcessor(t));async function n(i){try{await r.shutdown()}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}},jt=class{constructor(t){this.name=t,this._tracer=Jv.getInstance().getTracer(t)}recordException(t,r){t.recordException(r),t.setStatus({code:Qv.SpanStatusCode.ERROR,message:r.message})}async startSpan(t,r){let n;typeof t.ctx=="undefined"?n=kr.context.active():n=t.ctx;let i=this._tracer.startSpan(t.name,t.spanOptions,n),o=kr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:o}):r({span:i,ctx:o})}catch(s){if(this.recordException(i,s),!t.catchExceptions)throw s}finally{i.end()}throw new Error("Unkown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=kr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}async testSpans(){await this.startSpan({name:"test span 1"},async({span:t,ctx:r})=>{t.addEvent("test span event"),await this.startSpan({name:"test span 1.1",ctx:r},async({ctx:n})=>{await this.startSpan({name:"test span 1.2",ctx:n},async({ctx:i})=>await Promise.all([await this.startSpan({name:"test span 1.2.1",ctx:i},async({span:o})=>{o.addEvent(`math: ${1+2+1}`),console.warn("test spans 1.2.1")}),await this.startSpan({name:"test span 1.2.2",ctx:i},async({span:o})=>{throw o.addEvent(`math: ${1+2+2}`),console.warn("test spans 1.2.2"),new Error("test 1.2.2 error")}),await this.startSpan({name:"test span 1.2.3",ctx:i},async({span:o})=>{o.addEvent(`math: ${1+2+3}`),console.warn("test spans 1.2.3")})]))})})}};var U={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var tA=L(B()),Tt;(function(o){o.Info="YB1000",o.RemoveUnusedPackages="YB1001",o.RemoveEmptyDirectories="YB1002",o.RemoveExcluded="YB1003",o.AddedEntryPoint="YB1004"})(Tt||(Tt={}));var Rt;(function(n){n.Start=" \u250C ",n.Progress=" \u2502 ",n.End=" \u2514 "})(Rt||(Rt={}));var Zi=class extends Fr.BaseCommand{constructor(){super(...arguments);this.tracer=new jt("yarn.build");this.json=ut.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=ut.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=ut.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=ut.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=ut.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=ut.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=ut.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=ut.Option.String("--ignore-file",Pc,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:t,group:r,msg:n,span:i}){this.quiet!==!0&&console.info(`\u27A4 ${t}:${r}${n}`),typeof i!="undefined"&&i.addEvent(n,{[U.YARN_BUILD_MESSAGE_CODE]:t})}async removeUnusedPackages(t,r,n,i){return await this.tracer.startSpan({name:"remove unused packages",ctx:t},async({span:o})=>{var d;let{project:s,workspace:a}=await Le.Project.find(i,n);if(!a)throw new Fr.WorkspaceRequiredError(s.cwd,n);let u=await Le.Project.find(i,r);if(!u.workspace)throw new Fr.WorkspaceRequiredError(u.project.cwd,r);let c=new Set([a,u.workspace]),l=await Uh(i);this.exclude=l.exclude?[...this.exclude,...l.exclude]:this.exclude,this.ignoreFile=(d=l==null?void 0:l.ignoreFile)!=null?d:this.ignoreFile;for(let f of c)for(let h of Le.Manifest.allDependencies)for(let _ of f.manifest.getForScope(h).values()){let g=s.tryWorkspaceByDescriptor(_);g!==null&&(c.add(g),this.progress({code:Tt.RemoveUnusedPackages,group:Rt.Progress,msg:`required:	${g.relativeCwd}`,span:o}))}for(let f of s.workspaces)c.has(f)||f.cwd!==r&&(await Q.xfs.removePromise(f.cwd),this.progress({code:Tt.RemoveUnusedPackages,group:Rt.Progress,msg:`unused:	${f.relativeCwd}`,span:o}))})}async removeEmptyDirectories(t,{tmpDir:r,cwd:n}){let i=tA.trace.getSpan(t);if(!Q.xfs.statSync(n).isDirectory())return!1;let s=await Q.xfs.readdirPromise(n);for(let a of s)await this.removeEmptyDirectories(t,{tmpDir:r,cwd:Q.ppath.join(n,a)});return s=await Q.xfs.readdirPromise(n),s.length===0?(await Q.xfs.removePromise(n),this.progress({code:Tt.RemoveEmptyDirectories,group:Rt.Progress,msg:`empty:	${n.replace(r+"/","")}`,span:i}),!0):!1}async removeExcluded(t,{tmpDir:r,excluded:n,nonRemovableFiles:i,yarnDirectory:o,cacheDirectory:s,shouldRemoveEmptyDirectories:a=!1}){let u=`${r}/.git`;try{await Q.xfs.lstatPromise(u)&&await Q.xfs.removePromise(u)}catch(c){}await Promise.all(n.map(async c=>{if(!c.startsWith(o)&&!c.startsWith(s)&&!i.includes(c)&&!!c.startsWith(r))try{await Q.xfs.lstatPromise(c)&&await Q.xfs.removePromise(c)}catch(l){}})),a&&await this.removeEmptyDirectories(t,{tmpDir:r,cwd:r})}async execute(){return await this.tracer.startSpan({name:"yarn bundle"},async({span:t,ctx:r})=>{this.progress({code:Tt.Info,group:Rt.Start,msg:`Prepare ${this.context.cwd} for bundling`,span:t}),this.progress({code:Tt.Info,group:Rt.Progress,msg:"Preparing temporary directory",span:t});let n=async i=>await this.tracer.startSpan({name:"prepare for bundle",ctx:r},async({span:o,ctx:s})=>{let a=`${this.context.cwd}`,u=Q.ppath.join(a,this.archiveName),c={[U.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[U.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[U.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:i,[U.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[U.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[U.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[U.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(o.setAttributes(c),typeof this.outputDirectory=="string"){let M=rA(this.outputDirectory);if(o.setAttribute(U.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,M),Q.xfs.existsSync(M)||await Q.xfs.mkdirPromise(M),Q.xfs.readdirSync(M).length!=0)throw new Error(" --output-directory is not empty");u=Q.ppath.join(M,this.archiveName)}let l=await Le.Configuration.find(this.context.cwd,this.context.plugins);if(l.projectCwd===null)throw new Error("Can't find project directory");let d=a.replace(l.projectCwd,""),f=!1,h;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(h=rA(this.outputDirectory),h.startsWith(l.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);f=!0}o.addEvent("copy everything to the tmpDir");let _=new Q.NodeFS;this.progress({code:Tt.Info,group:Rt.Progress,msg:"Copying repo to temporary directory",span:o}),await this.tracer.wrap({name:"copy to tmp dir",ctx:s},async M=>Q.xfs.copyPromise(i,M,{baseFs:_}),l.projectCwd);let g=`${i}${d}`,v=`${g}/${this.archiveName}`,b=this.exclude;try{await Q.xfs.lstatPromise(v)&&b.push(v)}catch(M){}let y=await Le.Configuration.find(g,this.context.plugins);y.use("<custom>",{enableNetwork:!1},g);let C=await Le.Cache.find(y),D=`${i}/.yarn`,k=C.cwd;this.progress({code:Tt.Info,group:Rt.Progress,msg:"Removing unused and excluded workspaces, folders and files",span:o}),await this.removeUnusedPackages(s,i,g,y);let{project:ie,workspace:F}=await Le.Project.find(y,g);if(!F)throw new Fr.WorkspaceRequiredError(ie.cwd,g);o.setAttributes({[U.PACKAGE_DIRECTORY]:d,[U.PACKAGE_NAME]:F.locator.name}),typeof F.locator.scope=="string"&&o.setAttribute(U.PACKAGE_SCOPE,`@${F.locator.scope}`);let O=await Le.Project.find(y,i);if(!O.workspace)throw new Fr.WorkspaceRequiredError(O.project.cwd,i);let T=new Set([F,O.workspace]),Y=Af({workspaces:T,rootDir:i});b=await Xu({cwd:i,ignoreFile:this.ignoreFile,exclude:b});for(let M of T)for(let N of Le.Manifest.allDependencies)for(let se of M.manifest.getForScope(N).values()){let m=ie.tryWorkspaceByDescriptor(se);m!==null&&T.add(m)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:s},async()=>{for(let M of T){let N=await Xu({cwd:M.cwd,ignoreFile:this.ignoreFile,exclude:b});await this.removeExcluded(s,{tmpDir:i,excluded:N,nonRemovableFiles:Y,yarnDirectory:D,cacheDirectory:k,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:s},async()=>{await this.removeExcluded(s,{tmpDir:i,excluded:b,nonRemovableFiles:Y,yarnDirectory:D,cacheDirectory:k,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:s},async()=>{var M,N,se,m;for(let E of ie.workspaces)E.manifest.devDependencies.clear(),!T.has(E)&&(E.manifest.dependencies.clear(),E.manifest.peerDependencies.clear());if((N=(M=F==null?void 0:F.manifest)==null?void 0:M.raw)==null?void 0:N.main){let E=F.relativeCwd+Tp.default.posix.sep+((m=(se=F==null?void 0:F.manifest)==null?void 0:se.raw)==null?void 0:m.main),ae=".pnp.cjs";Q.xfs.writeFilePromise(`${i}${Tp.default.posix.sep}entrypoint.js`,BL(E,ae))}this.progress({code:Tt.Info,group:Rt.End,msg:"Completed",span:o})}),(await this.tracer.startSpan({name:"bundle",ctx:s},async({span:M,ctx:N})=>await Le.StreamReport.start({configuration:y,json:this.json,stdout:this.context.stdout,includeLogs:!0},async se=>{if(await this.tracer.wrap({name:"yarn install",ctx:N},async({cache:m,report:E})=>await ie.install({cache:m,report:E}),{cache:C,report:se}),typeof this.temporaryDirectory=="undefined")if(f&&typeof h!="undefined")se.reportInfo(null,"Moving build to output directory"),M.addEvent("Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:N},async({outputPath:m,tmpDir:E})=>_.copyPromise(m,E),{outputPath:h,tmpDir:i});else{let m=await(0,eA.getLibzipPromise)();se.reportInfo(null,"Creating archive");let E=new Q.ZipFS(u,{create:!0,libzip:m});se.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:N},async({tmpDir:ae,baseFs:$})=>await E.copyPromise("/",ae,{baseFs:$}),{tmpDir:i,baseFs:_}),await this.tracer.wrap({name:"save zip",ctx:N},async()=>E.saveAndClose()),se.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:u})}}))).exitCode()});return typeof this.temporaryDirectory!="undefined"?await n(this.temporaryDirectory):await Q.xfs.mktempPromise(n)})}};Zi.paths=[["bundle"]],Zi.usage=ut.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var nA=Zi,BL=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function rA(e){let t=Q.npath.toPortablePath(e);return Q.ppath.resolve(t)}var _u=L(I("@yarnpkg/cli")),De=L(I("@yarnpkg/core")),ye=L(I("clipanion")),id=L(I("path")),so=L(Fp());var j=L(I("@yarnpkg/core")),nt=L(m0()),hb=L(I("os")),lt=L(I("@yarnpkg/fslib"));var _b=L(Fp()),gb=L(I("events")),mb=L(I0()),du=L(I("path")),Eb=L(L0()),rd=L(D0()),fu=L(zp()),hu=L(ub());var Vn=class{constructor(){this.tracer=new jt("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new $n(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let o=t.dependencies[i];if(!r.has(o.id)){if(n.has(o.id))throw new lu(t.id,o.id);this.resolveNode(o,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let o=new Set,s=new Set,a={};for(let u of r)this.resolveQueue(u,o,a);return n?(await this.dryRunLoop(o,a,s,0),a):(await new Promise(u=>{this.workLoop(i,o,a,s,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((o,s)=>{this.dryRunCallback(o,i-1),r[o.id]={success:!0,done:!0},n.delete(s)}),t.size!==0&&t.forEach(o=>{var s;o.canStart(r)&&((s=o==null?void 0:o.node)==null?void 0:s.runCallback)&&(n.add(o.node),t.delete(o))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,o){if(r.size!==0&&r.forEach(s=>{var a,u;s.canStart(n)&&(((a=s==null?void 0:s.node)==null?void 0:a.runCallback)?((u=s==null?void 0:s.node)==null||u.runCallback(t,n),i.add(s.node)):n[s.node.id]={success:!0,done:!0},r.delete(s))}),i.forEach((s,a)=>{n[s.id].done&&i.delete(a)}),Object.keys(n).map(s=>{var a,u;return(u=(a=n[s])==null?void 0:a.done)!=null?u:!0}).every(s=>s===!0)){o();return}setTimeout(()=>this.workLoop(t,r,n,i,o),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(o=>{let s=t.dependencies[o];if(i.push(s.id),!n[s.id]&&s.runCallback){n[s.id]=q({},Vn.RunLogInit);let a=this.resolveQueue(s,r,n),u={node:s,canStart:Vn.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]=q({},Vn.RunLogInit);let o={node:t,canStart:Vn.QueueItemCanStart(i)};r.add(o)}return i}},oo=Vn;oo.RunLogInit={success:!1,done:!1},oo.QueueItemCanStart=t=>r=>t.map(n=>{var i,o;return(o=(i=r[n])==null?void 0:i.done)!=null?o:!0}).every(n=>n===!0);var $n=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,$n.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},lu=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var cb=L(zp()),A1="",Ke=A1+"[",td=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);td.cursorUp(t)}static cursorUp(t=1){process.stdout.write(Ke+`${t}A`)}static cursorSave(){process.stdout.write(Ke+"s")}static cursorRestore(){process.stdout.write(Ke+"u")}static autoWrap(t){t?process.stdout.write(Ke+"?7h"):process.stdout.write(Ke+"?7l")}static clearScreenDown(){process.stdout.write(Ke+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(Ke+"6n")})}static setScrollableRegion(t,r){process.stdout.write(Ke+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(Ke+"r")}static moveTo(t){process.stdout.write(Ke+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(Ke+"H")}static alternateScreen(){process.stdout.write(Ke+"?1049h")}static mainScreen(){process.stdout.write(Ke+"?1049l")}static linesRequired(t,r){var o;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((o=(0,cb.default)(t).match(n))!=null?o:[""]).length-1}},ct=td;ct.row=0,ct.column=0;var pb=L(I("child_process")),db=L(I("util"));var lb=()=>process.platform==="win32"?"windows":"unix";var b1=(0,db.promisify)(pb.exec),fb=async e=>{let t=lb(),r=(({platform:i,pid:o})=>{switch(i){case"unix":return`pgrep "-P ${o}"`;case"windows":return`wmic process where (ParentProcessId=${o}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await b1(r);n=i.split(`
`).filter(Boolean).map(o=>parseInt(o,10)).filter(o=>!isNaN(o))}catch(i){}return n};var Yn={hasBeenTerminated:!1,callId:0},pu=async(e=0)=>{if(e!==Yn.callId||Yn.hasBeenTerminated)return;let t=process.pid;(await fb(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(o){}});let n=Yn.callId+1;Yn.callId=n,setTimeout(async()=>{pu(n)},50)};var yb=L(B());var S1="yarn.build.json",vb=80,T1="-".repeat(vb),It;(function(o){o.pending="pending",o.skipped="skipped",o.inProgress="inProgress",o.failed="failed",o.succeeded="succeeded"})(It||(It={}));var oe;(function(l){l.pending="pending",l.start="start",l.info="info",l.error="error",l.skipped="skipped",l.ignored="ignored",l.success="success",l.fail="fail",l.finish="finish",l.forceQuit="force-quit"})(oe||(oe={}));var Ab=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:o,pluginConfiguration:s,dryRun:a,ignoreRunCache:u,verbose:c,concurrency:l,continueOnError:d,excludeWorkspacePredicate:f}){this.tracer=new jt("yarn.build");this.runGraph=new oo;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new gb.EventEmitter;this.runReport={mutex:new rd.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(oe.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(oe.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(o=>{this.runReport.workspaces[t]=ce(q({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),o()})}),this.runReporter.on(oe.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(oe.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(oe.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=ce(q({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];nt.default&&process.stdout.write(`[success] ${n.name.padEnd(60," ")}${Hr(0,(i=n.runtimeSeconds)!=null?i:0).padStart(10)}
`),r()})}),this.runReporter.on(oe.skipped,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r()})}),this.runReporter.on(oe.ignored,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r()})}),this.runReporter.on(oe.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var s,a;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],o=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);nt.default&&process.stdout.write(`=> [fail${(o==null?void 0:o.exitCode)?`: ${o==null?void 0:o.exitCode}`:""}] ${i.name.padEnd(60," ")}${Hr(0,(a=i.runtimeSeconds)!=null?a:0).padStart(10)}
`)})})};this.getDependenciesCount=async t=>{let r=0;for(let n of j.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,s,a,u,c;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");this.runGraph.checkCyclical(t);let n=!1;this.runMutexes[r.relativeCwd]=new rd.Mutex;for(let l of j.Manifest.hardDependencies)for(let d of r.manifest.getForScope(l).values()){let f=this.project.tryWorkspaceByDescriptor(d);if(f===null||this.excludeWorkspacePredicate(f))continue;let h=this.runGraph.addNode(f.relativeCwd);this.runGraph.addRunCallback(h,this.createRunItem(f)),t.addDependency(h),this.runGraph.checkCyclical(h);let _=await this.plan(h,f),g=!1;f!==this.project.topLevelWorkspace&&(g=await this.checkIfRunIsRequired(f)),(g||_)&&(n=!0,this.removeFromExcluded(f))}let i=!1;if(r!==this.project.topLevelWorkspace&&(i=await this.checkIfRunIsRequired(r)),this.runReporter.emit(oe.pending,r.relativeCwd,r.locator),n||i){this.runReporter.emit(oe.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(s=r.manifest.name)==null?void 0:s.scope}/`:""}${(a=r.manifest.name)==null?void 0:a.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);return}else{let l=(u=this.runLog)==null?void 0:u.get(`${r.relativeCwd}#${this.runCommand}`);l&&((c=this.runLog)==null||c.set(`${r.relativeCwd}#${this.runCommand}`,{lastModified:l.lastModified,status:It.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}))}};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",o={1:[]};this.runGraph.dryRunCallback=(u,c)=>{o[c]?o[c].push(u.id):o[c]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let s=(u,c,l,d)=>{let f=d&&l?"\u2514\u2500":l?"\u2514\u2500\u252C":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f} ${c}`},a=Object.keys(o);return a.forEach((u,c)=>{let l=parseInt(u),d=o[l],f=c==a.length-1;d.forEach((h,_)=>{let g=this.runGraph.getNode(h);i+=s(l,h,_==d.length-1,f),g instanceof $n&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{var s,a;let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(nt.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),nt.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;nt.default||ct.pad(this.concurrency+3),nt.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(a=(s=this.runTargets[0])==null?void 0:s.relativeCwd)!=null?a:"Nothing to run",nt.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let o=this.generateFinalReport();return typeof o=="string"&&process.stdout.write(`
${o}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";nt.default?this.updateProgressCI(t):(n=this.generateProgressString(t),ct.cursorUp(ct.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ct.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,R1(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>j.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=j.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=j.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),o=j.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${o} ${Hr(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var o;nt.default||(ct.cursorUp(ct.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ct.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),nt.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let a in this.runReport.workspaces){let u=this.runReport.workspaces[a];u.fail&&s.push(a),!(this.runReport.failCount!==0&&u.fail===!1)&&((u.stdout.length!==0||u.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${j.formatUtils.pretty(this.configuration,a,j.FormatType.PATH)}`,2)+`
`}`),u.stdout.length!==0&&u.stdout.forEach(c=>{c.split(`
`).forEach(d=>{typeof d!="undefined"&&d.length!==0&&(r+=`${d+`
`}`)})}),u.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,u.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(h=>{typeof h!="undefined"&&h.length!==0&&(r+=`${h+`
`}`)})})))}s.length>=2&&(r+=`${this.grey(T1)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,s.forEach(u=>{r+=`${`- ${j.formatUtils.pretty(this.configuration,u,j.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${j.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?j.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:a,ignoredCount:u,skipCount:c}=this.runReport,l=this.runGraph.runSize-u,d=l-a-s-c,f=j.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),h=j.formatUtils.pretty(this.configuration,`Fail: ${a}`,"red"),_=j.formatUtils.pretty(this.configuration,`Skipped: ${c}`,"white"),g=j.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),v=j.formatUtils.pretty(this.configuration,`Up to date: ${d}`,"white"),b=j.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=f+`
`,r+=v+`
`,r+=h+`
`,this.verbose&&a>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let C=this.runReport.workspaces[y];C.fail&&(r+=` - ${j.formatUtils.pretty(this.configuration,y,"grey")}${j.formatUtils.pretty(this.configuration,C.locator,"IDENT")}
`)}),r+=_+`
`,this.verbose&&c>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let C=this.runReport.workspaces[y];C.skipped&&(r+=` - ${j.formatUtils.pretty(this.configuration,y,"grey")}${j.formatUtils.pretty(this.configuration,C.locator,"IDENT")}
`)}),r+=g+`
`,this.verbose&&this.excluded.size>0)for(let y of this.excluded)r+=` - ${j.formatUtils.pretty(this.configuration,y.relativeCwd,"grey")}${j.formatUtils.pretty(this.configuration,y.locator,"IDENT")}
`;r+=b+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces)i+=(o=this.runReport.workspaces[s].runtimeSeconds)!=null?o:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,u=Date.now()-this.runReport.runStart,c=Hr(u,s);nt.default||(r+=`Cumulative: (cpu): ${Hr(0,i)}
`,r+=`Saved: ${c}
`)}return this.runReport.runStart&&(r+="Runtime (wall): "+Hr(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:o})=>{var l,d,f,h,_,g,v,b;let s=t.relativeCwd,a={[U.PACKAGE_NAME]:t.locator.name,[U.PACKAGE_DIRECTORY]:t.relativeCwd,[U.PACKAGE_COMMAND]:this.runCommand};typeof t.locator.scope=="string"&&(a[U.PACKAGE_SCOPE]=`@${t.locator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[U.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let c=(l=this.runLog)==null?void 0:l.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(oe.start,t.relativeCwd,t.locator,`${((d=t.manifest.name)==null?void 0:d.scope)?`@${(f=t.manifest.name)==null?void 0:f.scope}/`:""}${(h=t.manifest.name)==null?void 0:h.name}`,u),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit(oe.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(oe.ignored,t.relativeCwd),!0;try{if(this.runReport.failCount!==0&&(this.runReporter.emit(oe.skipped,t.relativeCwd),(_=this.runLog)==null||_.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.skipped,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let y=await this.cli(o,this.runCommand,t.cwd,this.runReporter,s);if(i.setAttribute(U.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,y),y!==0)return this.runReporter.emit(oe.fail,t.relativeCwd),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand,exitCode:`${y}`}),this.continueOnError===!1&&pu(),!1;(v=this.runLog)==null||v.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.runReporter.emit(oe.success,t.relativeCwd)}catch(y){return this.runReporter.emit(oe.fail,t.relativeCwd,y),(b=this.runLog)==null||b.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),(typeof y=="string"||y instanceof Error)&&i.recordException(y),i.setStatus({code:yb.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),pu()),!1}return!1}));let h=l!=null?l:Math.max(1,(0,hb.cpus)().length);this.configuration=o,this.pluginConfiguration=s,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=c,this.concurrency=h,this.continueOnError=d,this.limit=(0,Eb.default)(h),this.queue=new mb.default({concurrency:h,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=lt.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"}))}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return lt.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return lt.ppath.resolve(this.project.cwd,".yarn",S1)}async readRunLog(){let t=new Map;try{let r=await lt.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{lastModified:r.packages[n].lastModified,status:r.packages[n].status,haveCheckedForRerun:!1,rerun:!0,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await lt.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:q({},t&&t.packages)};for(let[n,i]of this.runLog)i.status===It.succeeded&&(r.packages[n]=q(q({},r.packages[n]),this.runLog.get(n)));await lt.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}getWorkspaceConfig(t){let r=[],n=ce(q({},this.pluginConfiguration),{folders:q(q({},this.pluginConfiguration.folders),t==null?void 0:t.manifest.raw["yarn.build"])});return Ic(n,{errors:r})?n:(console.warn(r),this.pluginConfiguration)}async checkIfRunIsRequired(t){var d,f,h,_,g,v,b,y,C,D,k,ie,F,O;if(this.ignoreRunCache===!0)return!0;if(typeof t.manifest.scripts.get(this.runCommand)!="string")return!1;let r=!1,n=lt.ppath.resolve(t.project.cwd,t.relativeCwd),i=this.getWorkspaceConfig(t),o=Array.isArray(i.folders.output)?[...i.folders.output]:[i.folders.output];typeof((f=(d=t==null?void 0:t.manifest)==null?void 0:d.raw)==null?void 0:f.bin)=="string"?o.push(t.manifest.raw.bin):typeof((g=(_=(h=t==null?void 0:t.manifest)==null?void 0:h.raw)==null?void 0:_.directories)==null?void 0:g.bin)=="string"?o.push(t.manifest.raw.directories.bin):typeof((b=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:b.files)=="string"?o.push(t.manifest.raw.files):Array.isArray((C=(y=t==null?void 0:t.manifest)==null?void 0:y.raw)==null?void 0:C.files)?o.push(...t.manifest.raw.files):typeof((k=(D=t==null?void 0:t.manifest)==null?void 0:D.raw)==null?void 0:k.main)=="string"&&o.push(t.manifest.raw.main);let s=o.map(T=>`${n}${du.default.posix.sep}${T}`),a=i.folders.input,u=typeof a=="string"?[a]:a,c=u==null?void 0:u.map(T=>`${n}${du.default.posix.sep}${T}`).map(T=>(T==null?void 0:T.endsWith("/."))?T.substring(0,T.length-2):T),l=await this.runReport.mutex.acquire();try{let T=(ie=this.runLog)==null?void 0:ie.get(`${t.relativeCwd}#${this.runCommand}`);if(T==null?void 0:T.haveCheckedForRerun)return(F=T==null?void 0:T.rerun)!=null?F:!0;let Y=await bb(c!=null?c:[n],s);(T==null?void 0:T.lastModified)!==Y&&(r=!0),(O=this.runLog)==null||O.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:Y,status:r?It.succeeded:It.pending,haveCheckedForRerun:!0,rerun:r,command:this.runCommand})}catch(T){this.runReport.workspaces[t.relativeCwd].stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${T})`))}finally{l()}return r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,o=(0,fu.default)(i).length,s=n?"[ yarn.build ]":"",a=vb-o;return n&&(a-=s.length),i+this.grey("-".repeat(a))+this.grey(s)}generateHeaderString(){return`${j.formatUtils.pretty(this.configuration,`${this.runCommand}`,j.FormatType.CODE)} for ${j.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",j.FormatType.SCOPE)}${this.dryRun?j.formatUtils.pretty(this.configuration," --dry-run",j.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-this.runReport.runStart)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=s=>this.grey(`[${s}]`),i=j.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let o=1;for(let s in this.runReport.workspaces){let a=this.runReport.workspaces[s];if(!a||!a.start||a.done)continue;let u=j.formatUtils.pretty(this.configuration,s,j.FormatType.PATH),c=j.formatUtils.pretty(this.configuration,`(${a.runScript})`,j.FormatType.REFERENCE),l=a.start?j.formatUtils.pretty(this.configuration,Hr(a.start,t),j.FormatType.RANGE):"",d=n(o++),f=" ".repeat(d.length-1),h=j.formatUtils.pretty(this.configuration,a.name,j.FormatType.NAME),_=`${d} ${h}${j.formatUtils.pretty(this.configuration,"@","grey")}${u} ${c} ${l}
`,g="",v="",b="";(0,fu.default)(_).length>=process.stdout.columns&&(g=`${d} ${u}${h}
`,v=`${f} ${c} ${l}
`,(0,fu.default)(g).length>=process.stdout.columns&&(g=(0,hu.default)(`${d} ${u}
`,0,process.stdout.columns),v=(0,hu.default)(`${f} ${h}
`,0,process.stdout.columns),b=(0,hu.default)(`${f} ${c} ${l}
`,0,process.stdout.columns)),_=g+v+b),r+=_}for(o;o<this.concurrency+1;)r+=`${n(o++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},bb=async(e,t)=>{let r=await Promise.all(e.map(async n=>{if((t==null?void 0:t.some(o=>n.startsWith(o)))||(t==null?void 0:t.some(o=>_b.default.isMatch(n,o))))return 0;let i=await lt.xfs.statPromise(n);if(i.isFile())return i.mtimeMs;if(i.isDirectory()){let o=await lt.xfs.readdirPromise(n);return await bb(o.map(s=>`${n}${du.default.posix.sep}${s}`),t)}return 0}));return Math.max(...r)},Hr=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function R1(e){return new Promise(t=>setTimeout(t,e))}var Sb=Ab;var Tb=L(I("child_process"));async function nd(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,Tb.exec)(n,(i,o,s)=>{if(i&&r(i),o){let a=o.split(`
`),c=[...e.root.workspacesCwds].map(l=>{if(a.some(d=>d.startsWith(l.replace(`${e.root.cwd}/`,""))))return l}).filter(l=>!!l).map(l=>!!l&&e.root.project.workspacesByCwd.get(l)).filter(l=>!!l);t(c)}s&&t([])})})}var $r=L(I("@yarnpkg/core"));var Rb=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...Rb(i,t))}return r},Ob=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=Rb(e,t);for(let i of n)for(let o of $r.Manifest.hardDependencies){for(let s of i.manifest.getForScope(o).values()){let a=t.tryWorkspaceByDescriptor(s);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof lu){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,o=n.node.length<n.dep.length+4?"\u21B0":"",s=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${$r.formatUtils.pretty(r.configuration,n.node,"white")} ${o}
 \u21B3 ${$r.formatUtils.pretty(r.configuration,n.dep,"red")} ${s}

`,i+=$r.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=$r.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var ao=L(B());var uo=class extends _u.BaseCommand{constructor(){super(...arguments);this.json=ye.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=ye.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=ye.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=ye.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=ye.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=ye.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a build, but not actually run it"});this.ignoreBuildCache=ye.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=ye.Option.String("-m,--max-concurrency",{description:"is the maximum number of builds that can run at a time, defaults to the number of logical CPUs on the current machine. Will override the global config option."});this.continueOnError=ye.Option.Boolean("--continue-on-error",!1,{description:"if a build fails, continue with the rest"});this.exclude=ye.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=ye.Option.Boolean("--exclude-current",!1,{description:"build this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=ye.Option.Boolean("--changes",!1,{description:"only build packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=ye.Option.String("--since",{description:"only build packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=ye.Option.String("--since-branch",{description:"only build packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=ye.Option.Boolean("--only-current",!1,{description:"only build the current workspace"});this.buildTargets=ye.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.buildLog={};this.commandType="build"}async execute(){return await new jt("yarn.build").startSpan({name:`yarn ${this.commandType}`},async({span:r,ctx:n})=>{var v,b;r.setAttributes({[U.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[U.YARN_BUILD_FLAGS_ALL]:this.all,[U.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[U.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[U.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[U.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[U.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[U.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[U.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[U.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[U.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[U.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[U.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[U.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[U.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[U.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let i=await De.Configuration.find(this.context.cwd,this.context.plugins),{project:o,workspace:s}=await De.Project.find(i,this.context.cwd);if(!s)throw new _u.WorkspaceRequiredError(o.cwd,this.context.cwd);let a=this.all?o.topLevelWorkspace:s,u=!1;a==o.topLevelWorkspace&&(u=!0);let c=[a,...this.buildTargets.length>0?a.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?c=await nd({root:o.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(c=await nd({root:o.topLevelWorkspace,commit:(v=this.onlyGitChangesSinceCommit)!=null?v:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(De.structUtils.stringifyIdent(s.locator)),!u&&this.onlyCurrent&&(this.maxConcurrency="1");let l=y=>{var C,D;return!u&&this.onlyCurrent?y!=s:(D=(C=this.exclude)==null?void 0:C.some(k=>so.default.isMatch(De.structUtils.stringifyIdent(y.locator),k)||so.default.isMatch(y.cwd,`${i.projectCwd}${id.default.posix.sep}${k}`)))!=null?D:!1},d=y=>!u&&this.onlyCurrent?y==s:this.buildTargets.some(C=>so.default.isMatch(De.structUtils.stringifyIdent(y.locator),C)||so.default.isMatch(y.cwd,`${i.projectCwd}${id.default.posix.sep}${C}`)),f=this.buildTargets.length>0?c.filter(d):c,h=await jh(i);this.continueOnError=(b=this.continueOnError)!=null?b:!!h.bail;let _=this.maxConcurrency===void 0?h.maxConcurrency:parseInt(this.maxConcurrency);r.setAttributes({[U.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[U.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[U.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[U.YARN_BUILD_CONFIG_BAIL]:h.bail,[U.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[U.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:h.maxConcurrency});let g=await De.StreamReport.start({configuration:i,json:this.json,stdout:this.context.stdout,includeLogs:!0},async y=>{let C=async(k,ie,F,O,T)=>{let Y=ao.trace.getSpan(k),A=new De.miscUtils.BufferStream;A.on("data",N=>O==null?void 0:O.emit(oe.info,T,N&&N.toString()));let M=new De.miscUtils.BufferStream;if(M.on("data",N=>O==null?void 0:O.emit(oe.error,T,N&&N.toString())),this.forceQuit)return A.destroy(),M.destroy(),A.end(),M.end(),2;try{let N=await this.cli.run(["run",ie],{cwd:F,stdout:A,stderr:M})||0;return A.end(),M.end(),N}catch(N){Y==null||Y.setStatus({code:ao.SpanStatusCode.ERROR,message:N.message}),(typeof N=="string"||N instanceof Error)&&(Y==null||Y.recordException(N)),A.end(),M.end()}return 2},D=new Sb({project:o,configuration:i,pluginConfiguration:h,report:y,runCommand:this.buildCommand,cli:C,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:_,continueOnError:this.continueOnError,excludeWorkspacePredicate:l});D.runReporter.on(oe.forceQuit,()=>{this.forceQuit=!0}),await D.setup();for(let k of f)await Ob({targetWorkspace:k,project:o,supervisor:D});try{await D.run(n)===!1&&(y.reportError(De.MessageName.BUILD_FAILED,"Build failed"),r.setStatus({code:ao.SpanStatusCode.ERROR,message:"Build failed"}))}finally{r.end()}});return Yn.hasBeenTerminated=!0,g.exitCode()})}};uo.paths=[["build"]],uo.usage=ye.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var gu=uo;var Ub=L(I("@yarnpkg/cli")),jb=L(I("@yarnpkg/core")),Eu=L(I("@yarnpkg/core")),kb=L(I("clipanion"));var pt=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var Cb=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>pt(i)),n=Array.from(t.workspaces.values()).map(i=>pt(i.manifest.name));return r.filter(i=>n.includes(i))};var Pb=({project:e,workspaceName:t})=>e.workspaces.find(n=>pt(n.manifest.name)===t);var wb=L(I("@yarnpkg/core"));var O1={firstCharacters:"\u27A4 ",tabString:"\u2502 "},Ib="gray",co=({format:e,padding:t,step:r=5,characters:n=O1})=>{let{firstCharacters:i,tabString:o}=n,s=o.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((c,l)=>l<s.length?s[l]:c).join("");process.stdout.write(e(u,Ib))}process.stdout.write(e(i,Ib))};var C1=wb.FormatType.NAME,Nb="red",xb=({format:e,circular:t,dependency:r,parents:n,current:i,project:o,padding:s=0})=>{if(t){co({format:e,padding:s+1}),process.stdout.write(e(r,C1)),process.stdout.write(e(" -> circular dependency",Nb)),process.stdout.write(`
`);return}let a=Pb({project:o,workspaceName:r});if(!a){co({format:e,padding:s+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",Nb)),process.stdout.write(`
`);return}mu({format:e,project:o,parent:i,parents:[...n,i],padding:s+1,workspace:a})};var Lb=({format:e,workspace:t,parent:r,parents:n,project:i,padding:o=0})=>{let s=Cb({workspace:t,project:i});for(let a of s)xb({format:e,workspace:t,project:i,padding:o,parent:r,parents:n,current:pt(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var Mb=L(I("@yarnpkg/core"));var P1=Mb.FormatType.NAME,Db=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=pt(n);co({format:e,padding:r}),process.stdout.write(e(i,P1)),process.stdout.write(`
`)};var mu=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:o})=>{Db({workspace:t,padding:i,format:e}),Lb({parents:n,workspace:t,project:r,padding:i,parent:o,format:e})};var lo=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var Bb=({workspace:e,format:t})=>{let r=pt(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),lo({padding:1})};var po=class extends Ub.BaseCommand{async execute(){let t=await Eu.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await Eu.Project.find(t,this.context.cwd);if(!n)return 0;let i=(o,s)=>jb.formatUtils.pretty(t,o,s);return lo({padding:1}),Bb({workspace:n,format:i}),mu({parents:[],workspace:n,project:r,format:i}),lo({padding:2}),0}};po.paths=[["build","query"]],po.usage=kb.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var Fb=po;var fo=L(I("clipanion"));var ho=class extends gu{constructor(){super(...arguments);this.buildCommand=fo.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=fo.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.commandType="test"}};ho.paths=[["test"]],ho.usage=fo.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var qb=ho;var I1={commands:[nA,Fb,gu,qb]},w1=I1;return N1;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
