/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-all",
factory: function (require) {
var plugin=(()=>{var Jb=Object.create,Xn=Object.defineProperty,eS=Object.defineProperties,tS=Object.getOwnPropertyDescriptor,rS=Object.getOwnPropertyDescriptors,nS=Object.getOwnPropertyNames,ld=Object.getOwnPropertySymbols,iS=Object.getPrototypeOf,pd=Object.prototype.hasOwnProperty,oS=Object.prototype.propertyIsEnumerable;var dd=(e,t,r)=>t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t)=>{for(var r in t||(t={}))pd.call(t,r)&&dd(e,r,t[r]);if(ld)for(var r of ld(t))oS.call(t,r)&&dd(e,r,t[r]);return e},ue=(e,t)=>eS(e,rS(t)),sS=e=>Xn(e,"__esModule",{value:!0});var I=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),aS=(e,t)=>{for(var r in t)Xn(e,r,{get:t[r],enumerable:!0})},uS=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of nS(t))!pd.call(e,n)&&n!=="default"&&Xn(e,n,{get:()=>t[n],enumerable:!(r=tS(t,n))||r.enumerable});return e},x=e=>uS(sS(Xn(e!=null?Jb(iS(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var Od=p(($1,Rd)=>{function md(e){return Array.isArray(e)?e:[e]}var Ed="",yd=" ",Ru="\\",cS=/^\s+$/,lS=/^\\!/,pS=/^\\#/,dS=/\r?\n/g,fS=/^\.*\/|^\.+$/,Ou="/",vd=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",hS=(e,t,r)=>Object.defineProperty(e,t,{value:r}),_S=/([0-z])-([0-z])/g,gS=e=>e.replace(_S,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Ed),mS=e=>{let{length:t}=e;return e.slice(0,t-t%2)},ES=[[/\\?\s+$/,e=>e.indexOf("\\")===0?yd:Ed],[/\\\s/g,()=>yd],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Ru],[/\\\\/g,()=>Ru],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===Ru?`\\[${r}${mS(n)}${i}`:i==="]"&&n.length%2==0?`[${gS(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Ad=Object.create(null),yS=(e,t,r)=>{let n=Ad[e];if(n)return n;let i=ES.reduce((o,s)=>o.replace(s[0],s[1].bind(e)),e);return Ad[e]=r?new RegExp(i,"i"):new RegExp(i)},Cu=e=>typeof e=="string",vS=e=>e&&Cu(e)&&!cS.test(e)&&e.indexOf("#")!==0,AS=e=>e.split(dS),bd=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},bS=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(lS,"!").replace(pS,"#");let i=yS(e,n,t);return new bd(r,e,n,i)},SS=(e,t)=>{throw new t(e)},Nt=(e,t,r)=>Cu(e)?e?Nt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),Sd=e=>fS.test(e);Nt.isNotRelative=Sd;Nt.convert=e=>e;var Td=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,hS(this,vd,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[vd]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(vS(t)){let r=bS(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,md(Cu(t)?AS(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(o=>{let{negative:s}=o;if(i===s&&n!==i||s&&!n&&!i&&!r)return;o.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let o=t&&Nt.convert(t);return Nt(o,t,SS),this._t(o,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Ou)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let o=this._t(i.join(Ou)+Ou,r,n,i);return r[t]=o.ignored?o:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return md(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Ao=e=>new Td(e),TS=()=>!1,RS=e=>Nt(e&&Nt.convert(e),e,TS);Ao.isPathValid=RS;Ao.default=Ao;Rd.exports=Ao;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");Nt.convert=e;let t=/^[a-z]:\//i;Nt.isNotRelative=r=>t.test(r)||Sd(r)}});var Cd=p(Pu=>{var ar=I("path"),qt=process.platform==="win32",Gt=I("fs"),OS=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function CS(){var e;if(OS){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function PS(e){return typeof e=="function"?e:CS()}var V1=ar.normalize;qt?xt=/(.*?)(?:[\/\\]+|$)/g:xt=/(.*?)(?:[\/]+|$)/g;var xt;qt?zn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:zn=/^[\/]*/;var zn;Pu.realpathSync=function(t,r){if(t=ar.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},o={},s,a,u,c;l();function l(){var A=zn.exec(t);s=A[0].length,a=A[0],u=A[0],c="",qt&&!o[u]&&(Gt.lstatSync(u),o[u]=!0)}for(;s<t.length;){xt.lastIndex=s;var d=xt.exec(t);if(c=a,a+=d[0],u=c+d[1],s=xt.lastIndex,!(o[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var h=Gt.lstatSync(u);if(!h.isSymbolicLink()){o[u]=!0,r&&(r[u]=u);continue}var _=null;if(!qt){var g=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(g)&&(_=i[g])}_===null&&(Gt.statSync(u),_=Gt.readlinkSync(u)),f=ar.resolve(c,_),r&&(r[u]=f),qt||(i[g]=_)}t=ar.resolve(f,t.slice(s)),l()}}return r&&(r[n]=t),t};Pu.realpath=function(t,r,n){if(typeof n!="function"&&(n=PS(r),r=null),t=ar.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,o={},s={},a,u,c,l;d();function d(){var A=zn.exec(t);a=A[0].length,u=A[0],c=A[0],l="",qt&&!s[c]?Gt.lstat(c,function(b){if(b)return n(b);s[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=t.length)return r&&(r[i]=t),n(null,t);xt.lastIndex=a;var A=xt.exec(t);return l=u,u+=A[0],c=l+A[1],a=xt.lastIndex,s[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?g(r[c]):Gt.lstat(c,h)}function h(A,b){if(A)return n(A);if(!b.isSymbolicLink())return s[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!qt){var v=b.dev.toString(32)+":"+b.ino.toString(32);if(o.hasOwnProperty(v))return _(null,o[v],c)}Gt.stat(c,function(C){if(C)return n(C);Gt.readlink(c,function(U,H){qt||(o[v]=H),_(U,H)})})}function _(A,b,v){if(A)return n(A);var C=ar.resolve(l,b);r&&(r[v]=C),g(C)}function g(A){t=ar.resolve(A,t.slice(a)),d()}}});var xu=p((W1,Nd)=>{Nd.exports=Ht;Ht.realpath=Ht;Ht.sync=Nu;Ht.realpathSync=Nu;Ht.monkeypatch=wS;Ht.unmonkeypatch=NS;var Yr=I("fs"),Iu=Yr.realpath,wu=Yr.realpathSync,IS=process.version,Pd=/^v[0-5]\./.test(IS),Id=Cd();function wd(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Ht(e,t,r){if(Pd)return Iu(e,t,r);typeof t=="function"&&(r=t,t=null),Iu(e,t,function(n,i){wd(n)?Id.realpath(e,t,r):r(n,i)})}function Nu(e,t){if(Pd)return wu(e,t);try{return wu(e,t)}catch(r){if(wd(r))return Id.realpathSync(e,t);throw r}}function wS(){Yr.realpath=Ht,Yr.realpathSync=Nu}function NS(){Yr.realpath=Iu,Yr.realpathSync=wu}});var Ld=p((K1,xd)=>{xd.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);xS(i)?r.push.apply(r,i):r.push(i)}return r};var xS=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Fd=p((X1,Ud)=>{"use strict";Ud.exports=Md;function Md(e,t,r){e instanceof RegExp&&(e=Dd(e,r)),t instanceof RegExp&&(t=Dd(t,r));var n=Bd(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function Dd(e,t){var r=t.match(e);return r?r[0]:null}Md.range=Bd;function Bd(e,t,r){var n,i,o,s,a,u=r.indexOf(e),c=r.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(n=[],o=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(e,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,s=c),c=r.indexOf(t,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[o,s])}return a}});var Yd=p((z1,Vd)=>{var LS=Ld(),jd=Fd();Vd.exports=BS;var kd="\0SLASH"+Math.random()+"\0",qd="\0OPEN"+Math.random()+"\0",Lu="\0CLOSE"+Math.random()+"\0",Gd="\0COMMA"+Math.random()+"\0",Hd="\0PERIOD"+Math.random()+"\0";function Mu(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function MS(e){return e.split("\\\\").join(kd).split("\\{").join(qd).split("\\}").join(Lu).split("\\,").join(Gd).split("\\.").join(Hd)}function DS(e){return e.split(kd).join("\\").split(qd).join("{").split(Lu).join("}").split(Gd).join(",").split(Hd).join(".")}function $d(e){if(!e)return[""];var t=[],r=jd("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=$d(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),t.push.apply(t,s),t}function BS(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Wr(MS(e),!0).map(DS)):[]}function US(e){return"{"+e+"}"}function FS(e){return/^-?0\d/.test(e)}function jS(e,t){return e<=t}function kS(e,t){return e>=t}function Wr(e,t){var r=[],n=jd("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Lu+n.post,Wr(e)):[e];var u;if(s)u=n.body.split(/\.\./);else if(u=$d(n.body),u.length===1&&(u=Wr(u[0],!1).map(US),u.length===1)){var l=n.post.length?Wr(n.post,!1):[""];return l.map(function(m){return n.pre+u[0]+m})}var c=n.pre,l=n.post.length?Wr(n.post,!1):[""],d;if(s){var f=Mu(u[0]),h=Mu(u[1]),_=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(Mu(u[2])):1,A=jS,b=h<f;b&&(g*=-1,A=kS);var v=u.some(FS);d=[];for(var C=f;A(C,h);C+=g){var U;if(o)U=String.fromCharCode(C),U==="\\"&&(U="");else if(U=String(C),v){var H=_-U.length;if(H>0){var ee=new Array(H+1).join("0");C<0?U="-"+ee+U.slice(1):U=ee+U}}d.push(U)}}else d=LS(u,function(j){return Wr(j,!1)});for(var k=0;k<d.length;k++)for(var P=0;P<l.length;P++){var S=c+d[k]+l[P];(!t||s||S)&&r.push(S)}return r}});var So=p((Q1,Zd)=>{Zd.exports=Qe;Qe.Minimatch=ve;var Qn={sep:"/"};try{Qn=I("path")}catch(e){}var Du=Qe.GLOBSTAR=ve.GLOBSTAR={},qS=Yd(),Wd={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Bu="[^/]",Uu=Bu+"*?",GS="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",HS="(?:(?!(?:\\/|^)\\.).)*?",Kd=$S("().*{}+?[]^$\\!");function $S(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var Xd=/\/+/;Qe.filter=VS;function VS(e,t){return t=t||{},function(r,n,i){return Qe(r,e,t)}}function zd(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Qe.defaults=function(e){if(!e||!Object.keys(e).length)return Qe;var t=Qe,r=function(i,o,s){return t.minimatch(i,o,zd(e,s))};return r.Minimatch=function(i,o){return new t.Minimatch(i,zd(e,o))},r};ve.defaults=function(e){return!e||!Object.keys(e).length?ve:Qe.defaults(e).Minimatch};function Qe(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new ve(t,r).match(e)}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),Qn.sep!=="/"&&(e=e.split(Qn.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}ve.prototype.debug=function(){};ve.prototype.make=YS;function YS(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Xd)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}ve.prototype.parseNegate=WS;function WS(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Qe.braceExpand=function(e,t){return Qd(e,t)};ve.prototype.braceExpand=Qd;function Qd(e,t){if(t||(this instanceof ve?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:qS(e)}ve.prototype.parse=KS;var bo={};function KS(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return Du;if(e==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],u,c=!1,l=-1,d=-1,f=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function _(){if(u){switch(u){case"*":n+=Uu,i=!0;break;case"?":n+=Bu,i=!0;break;default:n+="\\"+u;break}h.debug("clearStateChar %j %j",u,n),u=!1}}for(var g=0,A=e.length,b;g<A&&(b=e.charAt(g));g++){if(this.debug("%s	%s %s %j",e,g,n,b),o&&Kd[b]){n+="\\"+b,o=!1;continue}switch(b){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,g,n,b),c){this.debug("  in class"),b==="!"&&g===d+1&&(b="^"),n+=b;continue}h.debug("call clearStateChar %j",u),_(),u=b,r.noext&&_();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}s.push({type:u,start:g-1,reStart:n.length,open:Wd[u].open,close:Wd[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!s.length){n+="\\)";continue}_(),i=!0;var v=s.pop();n+=v.close,v.type==="!"&&a.push(v),v.reEnd=n.length;continue;case"|":if(c||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),c){n+="\\"+b;continue}c=!0,d=g,l=n.length,n+=b;continue;case"]":if(g===d+1||!c){n+="\\"+b,o=!1;continue}if(c){var C=e.substring(d+1,g);try{RegExp("["+C+"]")}catch($e){var U=this.parse(C,bo);n=n.substr(0,l)+"\\["+U[0]+"\\]",i=i||U[1],c=!1;continue}}i=!0,c=!1,n+=b;continue;default:_(),o?o=!1:Kd[b]&&!(b==="^"&&c)&&(n+="\\"),n+=b}}for(c&&(C=e.substr(d+1),U=this.parse(C,bo),n=n.substr(0,l)+"\\["+U[0],i=i||U[1]),v=s.pop();v;v=s.pop()){var H=n.slice(v.reStart+v.open.length);this.debug("setting tail",n,v),H=H.replace(/((?:\\{2}){0,64})(\\?)\|/g,function($e,be,kt){return kt||(kt="\\"),be+be+kt+"|"}),this.debug(`tail=%j
   %s`,H,H,v,n);var ee=v.type==="*"?Uu:v.type==="?"?Bu:"\\"+v.type;i=!0,n=n.slice(0,v.reStart)+ee+"\\("+H}_(),o&&(n+="\\\\");var k=!1;switch(n.charAt(0)){case".":case"[":case"(":k=!0}for(var P=a.length-1;P>-1;P--){var S=a[P],j=n.slice(0,S.reStart),m=n.slice(S.reStart,S.reEnd-8),O=n.slice(S.reEnd-8,S.reEnd),M=n.slice(S.reEnd);O+=M;var $=j.split("(").length-1,E=M;for(g=0;g<$;g++)E=E.replace(/\)[+*?]?/,"");M=E;var y="";M===""&&t!==bo&&(y="$");var se=j+m+M+y+O;n=se}if(n!==""&&i&&(n="(?=.)"+n),k&&(n=f+n),t===bo)return[n,i];if(!i)return QS(e);var W=r.nocase?"i":"";try{var Ue=new RegExp("^"+n+"$",W)}catch($e){return new RegExp("$.")}return Ue._glob=e,Ue._src=n,Ue}Qe.makeRe=function(e,t){return new ve(e,t||{}).makeRe()};ve.prototype.makeRe=XS;function XS(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Uu:t.dot?GS:HS,n=t.nocase?"i":"",i=e.map(function(o){return o.map(function(s){return s===Du?r:typeof s=="string"?ZS(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(o){this.regexp=!1}return this.regexp}Qe.match=function(e,t,r){r=r||{};var n=new ve(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};ve.prototype.match=zS;function zS(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;Qn.sep!=="/"&&(e=e.split(Qn.sep).join("/")),e=e.split(Xd),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=e.length-1;o>=0&&(i=e[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=e;r.matchBase&&s.length===1&&(a=[i]);var u=this.matchOne(a,s,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}ve.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,s=e.length,a=t.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u=t[o],c=e[i];if(this.debug(t,u,c),u===!1)return!1;if(u===Du){this.debug("GLOBSTAR",[t,u,c]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=e[l];if(this.debug(`
globstar while`,e,l,t,d,f),this.matchOne(e.slice(l),t.slice(d),r))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,d),l===s))}var h;if(typeof u=="string"?(n.nocase?h=c.toLowerCase()===u.toLowerCase():h=c===u,this.debug("string match",u,c,h)):(h=c.match(u),this.debug("pattern match",u,c,h)),!h)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a){var _=i===s-1&&e[i]==="";return _}throw new Error("wtf?")};function QS(e){return e.replace(/\\(.)/g,"$1")}function ZS(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Jd=p((Z1,Fu)=>{typeof Object.create=="function"?Fu.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Fu.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var ef=p((J1,ku)=>{try{if(ju=I("util"),typeof ju.inherits!="function")throw"";ku.exports=ju.inherits}catch(e){ku.exports=Jd()}var ju});var Ro=p((eD,To)=>{"use strict";function tf(e){return e.charAt(0)==="/"}function rf(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}To.exports=process.platform==="win32"?rf:tf;To.exports.posix=tf;To.exports.win32=rf});var Gu=p($t=>{$t.setopts=iT;$t.ownProp=nf;$t.makeAbs=Zn;$t.finish=oT;$t.mark=sT;$t.isIgnored=sf;$t.childrenIgnored=aT;function nf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var JS=I("fs"),Kr=I("path"),eT=So(),of=Ro(),qu=eT.Minimatch;function tT(e,t){return e.localeCompare(t,"en")}function rT(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(nT))}function nT(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new qu(r,{dot:!0})}return{matcher:new qu(e,{dot:!0}),gmatcher:t}}function iT(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||JS,e.maxLength=r.maxLength||Infinity,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),rT(e,r),e.changedCwd=!1;var n=process.cwd();nf(r,"cwd")?(e.cwd=Kr.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||Kr.resolve(e.cwd,"/"),e.root=Kr.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=of(e.cwd)?e.cwd:Zn(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new qu(t,r),e.options=e.minimatch.options}function oT(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var a=Object.keys(o);t?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(tT)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=e.cache[u]||e.cache[Zn(e,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}e.ignore.length&&(r=r.filter(function(u){return!sf(e,u)})),e.found=r}function sT(e,t){var r=Zn(e,t),n=e.cache[r],i=t;if(n){var o=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=Zn(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function Zn(e,t){var r=t;return t.charAt(0)==="/"?r=Kr.join(e.root,t):of(t)||t===""?r=t:e.changedCwd?r=Kr.resolve(e.cwd,t):r=Kr.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function sf(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function aT(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var pf=p((oD,lf)=>{lf.exports=cf;cf.GlobSync=Ee;var uT=xu(),af=So(),rD=af.Minimatch,nD=Co().Glob,iD=I("util"),Hu=I("path"),uf=I("assert"),Oo=Ro(),ur=Gu(),cT=ur.setopts,$u=ur.ownProp,lT=ur.childrenIgnored,pT=ur.isIgnored;function cf(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Ee(e,t).found}function Ee(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Ee))return new Ee(e,t);if(cT(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Ee.prototype._finish=function(){if(uf(this instanceof Ee),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var o=uT.realpathSync(i,e.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}ur.finish(this)};Ee.prototype._process=function(e,t,r){uf(this instanceof Ee);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var o=e.slice(n),s;i===null?s=".":((Oo(i)||Oo(e.join("/")))&&(!i||!Oo(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!lT(this,s)){var u=o[0]===af.GLOBSTAR;u?this._processGlobStar(i,s,a,o,t,r):this._processReaddir(i,s,a,o,t,r)}};Ee.prototype._processReaddir=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",d=[],f=0;f<s.length;f++){var h=s[f];if(h.charAt(0)!=="."||l){var _;u&&!e?_=!h.match(a):_=h.match(a),_&&d.push(h)}}var g=d.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<g;f++){var h=d[f];e&&(e.slice(-1)!=="/"?h=e+"/"+h:h=e+h),h.charAt(0)==="/"&&!this.nomount&&(h=Hu.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var f=0;f<g;f++){var h=d[f],A;e?A=[e,h]:A=[h],this._process(A.concat(n),i,o)}}}};Ee.prototype._emitMatch=function(e,t){if(!pT(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};Ee.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};Ee.prototype._readdir=function(e,t){var r;if(t&&!$u(this.symlinks,e))return this._readdirInGlobStar(e);if($u(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};Ee.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};Ee.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Ee.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){var a=n.slice(1),u=e?[e]:[],c=u.concat(a);this._process(c,i,!1);var l=s.length,d=this.symlinks[r];if(!(d&&o))for(var f=0;f<l;f++){var h=s[f];if(!(h.charAt(0)==="."&&!this.dot)){var _=u.concat(s[f],a);this._process(_,i,!0);var g=u.concat(s[f],n);this._process(g,i,!0)}}}};Ee.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&Oo(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Hu.join(this.root,e):(e=Hu.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};Ee.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&$u(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(a){i=o}else i=o}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};Ee.prototype._mark=function(e){return ur.mark(this,e)};Ee.prototype._makeAbs=function(e){return ur.makeAbs(this,e)}});var Vu=p((sD,ff)=>{ff.exports=df;function df(e,t){if(e&&t)return df(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Wu=p((aD,Yu)=>{var hf=Vu();Yu.exports=hf(Po);Yu.exports.strict=hf(_f);Po.proto=Po(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Po(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return _f(this)},configurable:!0})});function Po(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function _f(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var mf=p((uD,gf)=>{var dT=Vu(),Jn=Object.create(null),fT=Wu();gf.exports=dT(hT);function hT(e,t){return Jn[e]?(Jn[e].push(t),null):(Jn[e]=[t],_T(e))}function _T(e){return fT(function t(){var r=Jn[e],n=r.length,i=gT(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Jn[e]}})}function gT(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Co=p((pD,yf)=>{yf.exports=lr;var mT=xu(),Ef=So(),cD=Ef.Minimatch,ET=ef(),yT=I("events").EventEmitter,Ku=I("path"),Xu=I("assert"),ei=Ro(),zu=pf(),cr=Gu(),vT=cr.setopts,Qu=cr.ownProp,Zu=mf(),lD=I("util"),AT=cr.childrenIgnored,bT=cr.isIgnored,ST=Wu();function lr(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return zu(e,t)}return new X(e,t,r)}lr.sync=zu;var TT=lr.GlobSync=zu.GlobSync;lr.glob=lr;function RT(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}lr.hasMagic=function(e,t){var r=RT({},t);r.noprocess=!0;var n=new X(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};lr.Glob=X;ET(X,yT);function X(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new TT(e,t)}if(!(this instanceof X))return new X(e,t,r);vT(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=ST(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}X.prototype._finish=function(){if(Xu(this instanceof X),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();cr.finish(this),this.emit("end",this.found)}};X.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e==0&&t._finish()}};X.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,o=n.length;if(o===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),mT.realpath(a,i.realpathCache,function(c,l){c?c.syscall==="stat"?s[a]=!0:i.emit("error",c):s[l]=!0,--o==0&&(i.matches[e]=s,t())})})};X.prototype._mark=function(e){return cr.mark(this,e)};X.prototype._makeAbs=function(e){return cr.makeAbs(this,e)};X.prototype.abort=function(){this.aborted=!0,this.emit("abort")};X.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};X.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};X.prototype._process=function(e,t,r,n){if(Xu(this instanceof X),Xu(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var o;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:o=null;break;default:o=e.slice(0,i).join("/");break}var s=e.slice(i),a;o===null?a=".":((ei(o)||ei(e.join("/")))&&(!o||!ei(o))&&(o="/"+o),a=o);var u=this._makeAbs(a);if(AT(this,a))return n();var c=s[0]===Ef.GLOBSTAR;c?this._processGlobStar(o,a,u,s,t,r,n):this._processReaddir(o,a,u,s,t,r,n)}};X.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){return a._processReaddir2(e,t,r,n,i,o,c,s)})};X.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();for(var u=n[0],c=!!this.minimatch.negate,l=u._glob,d=this.dot||l.charAt(0)===".",f=[],h=0;h<s.length;h++){var _=s[h];if(_.charAt(0)!=="."||d){var g;c&&!e?g=!_.match(u):g=_.match(u),g&&f.push(_)}}var A=f.length;if(A===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<A;h++){var _=f[h];e&&(e!=="/"?_=e+"/"+_:_=e+_),_.charAt(0)==="/"&&!this.nomount&&(_=Ku.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var h=0;h<A;h++){var _=f[h],b;e&&(e!=="/"?_=e+"/"+_:_=e+_),this._process([_].concat(n),i,o,a)}a()};X.prototype._emitMatch=function(e,t){if(!this.aborted&&!bT(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=ei(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};X.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=Zu(r,o);i&&n.fs.lstat(e,i);function o(s,a){if(s&&s.code==="ENOENT")return t();var u=a&&a.isSymbolicLink();n.symlinks[e]=u,!u&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};X.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=Zu("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Qu(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Qu(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,OT(this,e,r))}};function OT(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}X.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};X.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};X.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){a._processGlobStar2(e,t,r,n,i,o,c,s)})};X.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var u=n.slice(1),c=e?[e]:[],l=c.concat(u);this._process(l,i,!1,a);var d=this.symlinks[r],f=s.length;if(d&&o)return a();for(var h=0;h<f;h++){var _=s[h];if(!(_.charAt(0)==="."&&!this.dot)){var g=c.concat(s[h],u);this._process(g,i,!0,a);var A=c.concat(s[h],n);this._process(A,i,!0,a)}}a()};X.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};X.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&ei(e)&&!this.nomount){var o=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Ku.join(this.root,e):(e=Ku.resolve(this.root,e),o&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};X.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Qu(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,s)}var u=this,c=Zu("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(d,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(h,_){h?u._stat2(e,r,null,f,t):u._stat2(e,r,h,_,t)});u._stat2(e,r,d,f,t)}};X.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var o=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&s==="FILE"?i():i(null,s,n)}});var Af=p((dD,pr)=>{var ti=Co(),vf=function(e,t){return new Promise((r,n)=>{ti(e,t,(i,o)=>i===null?r(o):n(i))})};pr.exports=vf;pr.exports.glob=ti;pr.exports.Glob=ti.Glob;pr.exports.hasMagic=ti.hasMagic;pr.exports.promise=vf;pr.exports.sync=ti.sync});var Xr=p((TD,dr)=>{"use strict";function Cf(e){return typeof e=="undefined"||e===null}function IT(e){return typeof e=="object"&&e!==null}function wT(e){return Array.isArray(e)?e:Cf(e)?[]:[e]}function NT(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function xT(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function LT(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}dr.exports.isNothing=Cf;dr.exports.isObject=IT;dr.exports.toArray=wT;dr.exports.repeat=xT;dr.exports.isNegativeZero=LT;dr.exports.extend=NT});var zr=p((RD,If)=>{"use strict";function Pf(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ri(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Pf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ri.prototype=Object.create(Error.prototype);ri.prototype.constructor=ri;ri.prototype.toString=function(t){return this.name+": "+Pf(this,t)};If.exports=ri});var Nf=p((OD,wf)=>{"use strict";var ni=Xr();function ec(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function tc(e,t){return ni.repeat(" ",t-e.length)+e}function MT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",u,c,l=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)c=ec(e.buffer,n[s-u],i[s-u],e.position-(n[s]-n[s-u]),d),a=ni.repeat(" ",t.indent)+tc((e.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=ec(e.buffer,n[s],i[s],e.position,d),a+=ni.repeat(" ",t.indent)+tc((e.line+1).toString(),l)+" | "+c.str+`
`,a+=ni.repeat("-",t.indent+l+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)c=ec(e.buffer,n[s+u],i[s+u],e.position-(n[s]-n[s+u]),d),a+=ni.repeat(" ",t.indent)+tc((e.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}wf.exports=MT});var Se=p((CD,Lf)=>{"use strict";var xf=zr(),DT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],BT=["scalar","sequence","mapping"];function UT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function FT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(DT.indexOf(r)===-1)throw new xf('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=UT(t.styleAliases||null),BT.indexOf(this.kind)===-1)throw new xf('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Lf.exports=FT});var ic=p((PD,Df)=>{"use strict";var ii=zr(),rc=Se();function Mf(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function jT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function nc(e){return this.extend(e)}nc.prototype.extend=function(t){var r=[],n=[];if(t instanceof rc)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ii("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof rc))throw new ii("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new ii("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new ii("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof rc))throw new ii("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(nc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Mf(i,"implicit"),i.compiledExplicit=Mf(i,"explicit"),i.compiledTypeMap=jT(i.compiledImplicit,i.compiledExplicit),i};Df.exports=nc});var oc=p((ID,Bf)=>{"use strict";var kT=Se();Bf.exports=new kT("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var sc=p((wD,Uf)=>{"use strict";var qT=Se();Uf.exports=new qT("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var ac=p((ND,Ff)=>{"use strict";var GT=Se();Ff.exports=new GT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var uc=p((xD,jf)=>{"use strict";var HT=ic();jf.exports=new HT({explicit:[oc(),sc(),ac()]})});var cc=p((LD,kf)=>{"use strict";var $T=Se();function VT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function YT(){return null}function WT(e){return e===null}kf.exports=new $T("tag:yaml.org,2002:null",{kind:"scalar",resolve:VT,construct:YT,predicate:WT,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var lc=p((MD,qf)=>{"use strict";var KT=Se();function XT(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function zT(e){return e==="true"||e==="True"||e==="TRUE"}function QT(e){return Object.prototype.toString.call(e)==="[object Boolean]"}qf.exports=new KT("tag:yaml.org,2002:bool",{kind:"scalar",resolve:XT,construct:zT,predicate:QT,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var pc=p((DD,Gf)=>{"use strict";var ZT=Xr(),JT=Se();function eR(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function tR(e){return 48<=e&&e<=55}function rR(e){return 48<=e&&e<=57}function nR(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!eR(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!tR(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!rR(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function iR(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function oR(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!ZT.isNegativeZero(e)}Gf.exports=new JT("tag:yaml.org,2002:int",{kind:"scalar",resolve:nR,construct:iR,predicate:oR,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var dc=p((BD,$f)=>{"use strict";var Hf=Xr(),sR=Se(),aR=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function uR(e){return!(e===null||!aR.test(e)||e[e.length-1]==="_")}function cR(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var lR=/^[-+]?[0-9]+e/;function pR(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Hf.isNegativeZero(e))return"-0.0";return r=e.toString(10),lR.test(r)?r.replace("e",".e"):r}function dR(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||Hf.isNegativeZero(e))}$f.exports=new sR("tag:yaml.org,2002:float",{kind:"scalar",resolve:uR,construct:cR,predicate:dR,represent:pR,defaultStyle:"lowercase"})});var fc=p((UD,Vf)=>{"use strict";Vf.exports=uc().extend({implicit:[cc(),lc(),pc(),dc()]})});var hc=p((FD,Yf)=>{"use strict";Yf.exports=fc()});var _c=p((jD,Xf)=>{"use strict";var fR=Se(),Wf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Kf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function hR(e){return e===null?!1:Wf.exec(e)!==null||Kf.exec(e)!==null}function _R(e){var t,r,n,i,o,s,a,u=0,c=null,l,d,f;if(t=Wf.exec(e),t===null&&(t=Kf.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],d=+(t[11]||0),c=(l*60+d)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,o,s,a,u)),c&&f.setTime(f.getTime()-c),f}function gR(e){return e.toISOString()}Xf.exports=new fR("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:hR,construct:_R,instanceOf:Date,represent:gR})});var gc=p((kD,zf)=>{"use strict";var mR=Se();function ER(e){return e==="<<"||e===null}zf.exports=new mR("tag:yaml.org,2002:merge",{kind:"scalar",resolve:ER})});var Ec=p((qD,Qf)=>{"use strict";var yR=Se(),mc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function vR(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=mc;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function AR(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=mc,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function bR(e){var t="",r=0,n,i,o=e.length,s=mc;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function SR(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Qf.exports=new yR("tag:yaml.org,2002:binary",{kind:"scalar",resolve:vR,construct:AR,predicate:SR,represent:bR})});var yc=p((GD,Zf)=>{"use strict";var TR=Se(),RR=Object.prototype.hasOwnProperty,OR=Object.prototype.toString;function CR(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,OR.call(i)!=="[object Object]")return!1;for(o in i)if(RR.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function PR(e){return e!==null?e:[]}Zf.exports=new TR("tag:yaml.org,2002:omap",{kind:"sequence",resolve:CR,construct:PR})});var vc=p((HD,Jf)=>{"use strict";var IR=Se(),wR=Object.prototype.toString;function NR(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],wR.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function xR(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}Jf.exports=new IR("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:NR,construct:xR})});var Ac=p(($D,eh)=>{"use strict";var LR=Se(),MR=Object.prototype.hasOwnProperty;function DR(e){if(e===null)return!0;var t,r=e;for(t in r)if(MR.call(r,t)&&r[t]!==null)return!1;return!0}function BR(e){return e!==null?e:{}}eh.exports=new LR("tag:yaml.org,2002:set",{kind:"mapping",resolve:DR,construct:BR})});var wo=p((VD,th)=>{"use strict";th.exports=hc().extend({implicit:[_c(),gc()],explicit:[Ec(),yc(),vc(),Ac()]})});var mh=p((YD,Rc)=>{"use strict";var fr=Xr(),rh=zr(),UR=Nf(),FR=wo(),Vt=Object.prototype.hasOwnProperty,No=1,nh=2,ih=3,xo=4,bc=1,jR=2,oh=3,kR=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,qR=/[\x85\u2028\u2029]/,GR=/[,\[\]\{\}]/,sh=/^(?:!|!!|![a-z\-]+!)$/i,ah=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function uh(e){return Object.prototype.toString.call(e)}function dt(e){return e===10||e===13}function hr(e){return e===9||e===32}function Fe(e){return e===9||e===32||e===10||e===13}function Qr(e){return e===44||e===91||e===93||e===123||e===125}function HR(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function $R(e){return e===120?2:e===117?4:e===85?8:0}function VR(e){return 48<=e&&e<=57?e-48:-1}function ch(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function YR(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var lh=new Array(256),ph=new Array(256);for(var Zr=0;Zr<256;Zr++)lh[Zr]=ch(Zr)?1:0,ph[Zr]=ch(Zr);function WR(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||FR,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function dh(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=UR(r),new rh(t,r)}function L(e,t){throw dh(e,t)}function Lo(e,t){e.onWarning&&e.onWarning.call(null,dh(e,t))}var fh={YAML:function(t,r,n){var i,o,s;t.version!==null&&L(t,"duplication of %YAML directive"),n.length!==1&&L(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&L(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&L(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Lo(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&L(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],sh.test(i)||L(t,"ill-formed tag handle (first argument) of the TAG directive"),Vt.call(t.tagMap,i)&&L(t,'there is a previously declared suffix for "'+i+'" tag handle'),ah.test(o)||L(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(s){L(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Yt(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||L(e,"expected valid JSON character");else kR.test(a)&&L(e,"the stream contains non-printable characters");e.result+=a}}function hh(e,t,r,n){var i,o,s,a;for(fr.isObject(r)||L(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],Vt.call(t,o)||(t[o]=r[o],n[o]=!0)}function Jr(e,t,r,n,i,o,s,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&L(e,"nested arrays are not supported inside keys"),typeof i=="object"&&uh(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&uh(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)hh(e,t,o[c],r);else hh(e,t,o,r);else!e.json&&!Vt.call(r,i)&&Vt.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,L(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function Sc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):L(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function pe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;hr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(dt(i))for(Sc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Lo(e,"deficient indentation"),n}function Mo(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Fe(r)))}function Tc(e,t){t===1?e.result+=" ":t>1&&(e.result+=fr.repeat(`
`,t-1))}function KR(e,t,r){var n,i,o,s,a,u,c,l,d=e.kind,f=e.result,h;if(h=e.input.charCodeAt(e.position),Fe(h)||Qr(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),Fe(i)||r&&Qr(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),Fe(i)||r&&Qr(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),Fe(n))break}else{if(e.position===e.lineStart&&Mo(e)||r&&Qr(h))break;if(dt(h))if(u=e.line,c=e.lineStart,l=e.lineIndent,pe(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=c,e.lineIndent=l;break}}a&&(Yt(e,o,s,!1),Tc(e,e.line-u),o=s=e.position,a=!1),hr(h)||(s=e.position+1),h=e.input.charCodeAt(++e.position)}return Yt(e,o,s,!1),e.result?!0:(e.kind=d,e.result=f,!1)}function XR(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Yt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else dt(r)?(Yt(e,n,i,!0),Tc(e,pe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Mo(e)?L(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);L(e,"unexpected end of the stream within a single quoted scalar")}function zR(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Yt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Yt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),dt(a))pe(e,!1,t);else if(a<256&&lh[a])e.result+=ph[a],e.position++;else if((s=$R(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=HR(a))>=0?o=(o<<4)+s:L(e,"expected hexadecimal character");e.result+=YR(o),e.position++}else L(e,"unknown escape sequence");r=n=e.position}else dt(a)?(Yt(e,r,n,!0),Tc(e,pe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Mo(e)?L(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}L(e,"unexpected end of the stream within a double quoted scalar")}function QR(e,t){var r=!0,n,i,o,s=e.tag,a,u=e.anchor,c,l,d,f,h,_=Object.create(null),g,A,b,v;if(v=e.input.charCodeAt(e.position),v===91)l=93,h=!1,a=[];else if(v===123)l=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),v=e.input.charCodeAt(++e.position);v!==0;){if(pe(e,!0,t),v=e.input.charCodeAt(e.position),v===l)return e.position++,e.tag=s,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?v===44&&L(e,"expected the node content, but found ','"):L(e,"missed comma between flow collection entries"),A=g=b=null,d=f=!1,v===63&&(c=e.input.charCodeAt(e.position+1),Fe(c)&&(d=f=!0,e.position++,pe(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,en(e,t,No,!1,!0),A=e.tag,g=e.result,pe(e,!0,t),v=e.input.charCodeAt(e.position),(f||e.line===n)&&v===58&&(d=!0,v=e.input.charCodeAt(++e.position),pe(e,!0,t),en(e,t,No,!1,!0),b=e.result),h?Jr(e,a,_,A,g,b,n,i,o):d?a.push(Jr(e,null,_,A,g,b,n,i,o)):a.push(g),pe(e,!0,t),v=e.input.charCodeAt(e.position),v===44?(r=!0,v=e.input.charCodeAt(++e.position)):r=!1}L(e,"unexpected end of the stream within a flow collection")}function ZR(e,t){var r,n,i=bc,o=!1,s=!1,a=t,u=0,c=!1,l,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)bc===i?i=d===43?oh:jR:L(e,"repeat of a chomping mode identifier");else if((l=VR(d))>=0)l===0?L(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?L(e,"repeat of an indentation width identifier"):(a=t+l-1,s=!0);else break;if(hr(d)){do d=e.input.charCodeAt(++e.position);while(hr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!dt(d)&&d!==0)}for(;d!==0;){for(Sc(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),dt(d)){u++;continue}if(e.lineIndent<a){i===oh?e.result+=fr.repeat(`
`,o?1+u:u):i===bc&&o&&(e.result+=`
`);break}for(n?hr(d)?(c=!0,e.result+=fr.repeat(`
`,o?1+u:u)):c?(c=!1,e.result+=fr.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=fr.repeat(`
`,u):e.result+=fr.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,r=e.position;!dt(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Yt(e,r,e.position,!1)}return!0}function _h(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,L(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Fe(s))));){if(a=!0,e.position++,pe(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,en(e,t,ih,!1,!0),o.push(e.result),pe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)L(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function JR(e,t,r){var n,i,o,s,a,u,c=e.tag,l=e.anchor,d={},f=Object.create(null),h=null,_=null,g=null,A=!1,b=!1,v;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),v=e.input.charCodeAt(e.position);v!==0;){if(!A&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,L(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(v===63||v===58)&&Fe(n))v===63?(A&&(Jr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,A=!0,i=!0):A?(A=!1,i=!0):L(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,v=n;else{if(s=e.line,a=e.lineStart,u=e.position,!en(e,r,nh,!1,!0))break;if(e.line===o){for(v=e.input.charCodeAt(e.position);hr(v);)v=e.input.charCodeAt(++e.position);if(v===58)v=e.input.charCodeAt(++e.position),Fe(v)||L(e,"a whitespace character is expected after the key-value separator within a block mapping"),A&&(Jr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,A=!1,i=!1,h=e.tag,_=e.result;else if(b)L(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=l,!0}else if(b)L(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=l,!0}if((e.line===o||e.lineIndent>t)&&(A&&(s=e.line,a=e.lineStart,u=e.position),en(e,t,xo,!0,i)&&(A?_=e.result:g=e.result),A||(Jr(e,d,f,h,_,g,s,a,u),h=_=g=null),pe(e,!0,-1),v=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&v!==0)L(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return A&&Jr(e,d,f,h,_,null,s,a,u),b&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=d),b}function eO(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&L(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):L(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Fe(s);)s===33&&(n?L(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),sh.test(i)||L(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),GR.test(o)&&L(e,"tag suffix cannot contain flow indicator characters")}o&&!ah.test(o)&&L(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(a){L(e,"tag name is malformed: "+o)}return r?e.tag=o:Vt.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:L(e,'undeclared tag handle "'+i+'"'),!0}function tO(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&L(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Fe(r)&&!Qr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&L(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function rO(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Fe(n)&&!Qr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&L(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Vt.call(e.anchorMap,r)||L(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],pe(e,!0,-1),!0}function en(e,t,r,n,i){var o,s,a,u=1,c=!1,l=!1,d,f,h,_,g,A;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=xo===r||ih===r,n&&pe(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;eO(e)||tO(e);)pe(e,!0,-1)?(c=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||xo===r)&&(No===r||nh===r?g=t:g=t+1,A=e.position-e.lineStart,u===1?a&&(_h(e,A)||JR(e,A,g))||QR(e,g)?l=!0:(s&&ZR(e,g)||XR(e,g)||zR(e,g)?l=!0:rO(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&L(e,"alias node should not have any properties")):KR(e,g,No===r)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&_h(e,A))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&L(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,f=e.implicitTypes.length;d<f;d+=1)if(_=e.implicitTypes[d],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Vt.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,h=e.typeMap.multi[e.kind||"fallback"],d=0,f=h.length;d<f;d+=1)if(e.tag.slice(0,h[d].tag.length)===h[d].tag){_=h[d];break}_||L(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&L(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):L(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function nO(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(pe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!Fe(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&L(e,"directive name must not be less than one character in length");s!==0;){for(;hr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!dt(s));break}if(dt(s))break;for(r=e.position;s!==0&&!Fe(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&Sc(e),Vt.call(fh,n)?fh[n](e,n,i):Lo(e,'unknown document directive "'+n+'"')}if(pe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,pe(e,!0,-1)):o&&L(e,"directives end mark is expected"),en(e,e.lineIndent-1,xo,!1,!0),pe(e,!0,-1),e.checkLineBreaks&&qR.test(e.input.slice(t,e.position))&&Lo(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Mo(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,pe(e,!0,-1));return}if(e.position<e.length-1)L(e,"end of the stream or a document separator is expected");else return}function gh(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new WR(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,L(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)nO(r);return r.documents}function iO(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=gh(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function oO(e,t){var r=gh(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new rh("expected a single document in the stream, but found more")}}Rc.exports.loadAll=iO;Rc.exports.load=oO});var Fh=p((WD,Uh)=>{"use strict";var Do=Xr(),oi=zr(),sO=wo(),Eh=Object.prototype.toString,yh=Object.prototype.hasOwnProperty,Oc=65279,aO=9,si=10,uO=13,cO=32,lO=33,pO=34,Cc=35,dO=37,fO=38,hO=39,_O=42,vh=44,gO=45,Bo=58,mO=61,EO=62,yO=63,vO=64,Ah=91,bh=93,AO=96,Sh=123,bO=124,Th=125,Te={};Te[0]="\\0";Te[7]="\\a";Te[8]="\\b";Te[9]="\\t";Te[10]="\\n";Te[11]="\\v";Te[12]="\\f";Te[13]="\\r";Te[27]="\\e";Te[34]='\\"';Te[92]="\\\\";Te[133]="\\N";Te[160]="\\_";Te[8232]="\\L";Te[8233]="\\P";var SO=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],TO=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function RO(e,t){var r,n,i,o,s,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&yh.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}function OO(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new oi("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Do.repeat("0",n-t.length)+t}var CO=1,ai=2;function PO(e){this.schema=e.schema||sO,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Do.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=RO(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ai:CO,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Rh(e,t){for(var r=Do.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function Pc(e,t){return`
`+Do.repeat(" ",e.indent*t)}function IO(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Uo(e){return e===cO||e===aO}function ui(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Oc||65536<=e&&e<=1114111}function Oh(e){return ui(e)&&e!==Oc&&e!==uO&&e!==si}function Ch(e,t,r){var n=Oh(e),i=n&&!Uo(e);return(r?n:n&&e!==vh&&e!==Ah&&e!==bh&&e!==Sh&&e!==Th)&&e!==Cc&&!(t===Bo&&!i)||Oh(t)&&!Uo(t)&&e===Cc||t===Bo&&i}function wO(e){return ui(e)&&e!==Oc&&!Uo(e)&&e!==gO&&e!==yO&&e!==Bo&&e!==vh&&e!==Ah&&e!==bh&&e!==Sh&&e!==Th&&e!==Cc&&e!==fO&&e!==_O&&e!==lO&&e!==bO&&e!==mO&&e!==EO&&e!==hO&&e!==pO&&e!==dO&&e!==vO&&e!==AO}function NO(e){return!Uo(e)&&e!==Bo}function ci(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Ph(e){var t=/^\n* /;return t.test(e)}var Ih=1,Ic=2,wh=3,Nh=4,tn=5;function xO(e,t,r,n,i,o,s,a){var u,c=0,l=null,d=!1,f=!1,h=n!==-1,_=-1,g=wO(ci(e,0))&&NO(ci(e,e.length-1));if(t||s)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ci(e,u),!ui(c))return tn;g=g&&Ch(c,l,a),l=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ci(e,u),c===si)d=!0,h&&(f=f||u-_-1>n&&e[_+1]!==" ",_=u);else if(!ui(c))return tn;g=g&&Ch(c,l,a),l=c}f=f||h&&u-_-1>n&&e[_+1]!==" "}return!d&&!f?g&&!s&&!i(e)?Ih:o===ai?tn:Ic:r>9&&Ph(e)?tn:s?o===ai?tn:Ic:f?Nh:wh}function LO(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===ai?'""':"''";if(!e.noCompatMode&&(SO.indexOf(t)!==-1||TO.test(t)))return e.quotingType===ai?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return IO(e,c)}switch(xO(t,a,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case Ih:return t;case Ic:return"'"+t.replace(/'/g,"''")+"'";case wh:return"|"+xh(t,e.indent)+Lh(Rh(t,o));case Nh:return">"+xh(t,e.indent)+Lh(Rh(MO(t,s),o));case tn:return'"'+DO(t,s)+'"';default:throw new oi("impossible error: invalid scalar style")}}()}function xh(e,t){var r=Ph(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Lh(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function MO(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Mh(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",n+=a+(!i&&!o&&u!==""?`
`:"")+Mh(u,t),i=o}return n}function Mh(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function DO(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ci(e,i),n=Te[r],!n&&ui(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||OO(r);return t}function BO(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(Lt(e,t,a,!1,!1)||typeof a=="undefined"&&Lt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Dh(e,t,r,n){var i="",o=e.tag,s,a,u;for(s=0,a=r.length;s<a;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(Lt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&Lt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Pc(e,t)),e.dump&&si===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function UO(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,u,c,l;for(s=0,a=o.length;s<a;s+=1)l="",n!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=o[s],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),!!Lt(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!Lt(e,t,c,!1,!1)&&(l+=e.dump,n+=l));e.tag=i,e.dump="{"+n+"}"}function FO(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,u,c,l,d,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new oi("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Pc(e,t)),c=s[a],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!Lt(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&si===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,d&&(f+=Pc(e,t)),!!Lt(e,t+1,l,!0,d)&&(e.dump&&si===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=o,e.dump=i||"{}"}function Bh(e,t,r){var n,i,o,s,a,u;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,Eh.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(yh.call(a.represent,u))n=a.represent[u](t,u);else throw new oi("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function Lt(e,t,r,n,i,o,s){e.tag=null,e.dump=r,Bh(e,r,!1)||Bh(e,r,!0);var a=Eh.call(e.dump),u=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",d,f;if(l&&(d=e.duplicates.indexOf(r),f=d!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(l&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(FO(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(UO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Dh(e,t-1,e.dump,i):Dh(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(BO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&LO(e,e.dump,t,o,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new oi("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function jO(e,t){var r=[],n=[],i,o;for(wc(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function wc(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)wc(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)wc(e[n[i]],t,r)}function kO(e,t){t=t||{};var r=new PO(t);r.noRefs||jO(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Lt(r,0,n,!0,!0)?r.dump+`
`:""}Uh.exports.dump=kO});var kh=p((KD,xe)=>{"use strict";var jh=mh(),qO=Fh();function Nc(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}xe.exports.Type=Se();xe.exports.Schema=ic();xe.exports.FAILSAFE_SCHEMA=uc();xe.exports.JSON_SCHEMA=fc();xe.exports.CORE_SCHEMA=hc();xe.exports.DEFAULT_SCHEMA=wo();xe.exports.load=jh.load;xe.exports.loadAll=jh.loadAll;xe.exports.dump=qO.dump;xe.exports.YAMLException=zr();xe.exports.types={binary:Ec(),float:dc(),map:ac(),null:cc(),pairs:vc(),set:Ac(),timestamp:_c(),bool:lc(),int:pc(),merge:gc(),omap:yc(),seq:sc(),str:oc()};xe.exports.safeLoad=Nc("safeLoad","load");xe.exports.safeLoadAll=Nc("safeLoadAll","loadAll");xe.exports.safeDump=Nc("safeDump","dump")});var Vh=p($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0})});var Yh=p(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo._globalThis=void 0;jo._globalThis=typeof globalThis=="object"?globalThis:global});var Wh=p(_r=>{"use strict";var HO=_r&&_r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$O=_r&&_r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HO(t,e,r)};Object.defineProperty(_r,"__esModule",{value:!0});$O(Yh(),_r)});var Kh=p(gr=>{"use strict";var VO=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YO=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&VO(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});YO(Wh(),gr)});var Dc=p(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.VERSION=void 0;ko.VERSION="1.1.0"});var Qh=p(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.isCompatible=rn._makeCompatibilityCheck=void 0;var WO=Dc(),Xh=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function zh(e){var t=new Set([e]),r=new Set,n=e.match(Xh);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function o(a){return r.add(a),!1}function s(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var c=u.match(Xh);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}rn._makeCompatibilityCheck=zh;rn.isCompatible=zh(WO.VERSION)});var nn=p(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.unregisterGlobal=Wt.getGlobal=Wt.registerGlobal=void 0;var KO=Kh(),pi=Dc(),XO=Qh(),zO=pi.VERSION.split(".")[0],di=Symbol.for("opentelemetry.js.api."+zO),fi=KO._globalThis;function QO(e,t,r,n){var i;n===void 0&&(n=!1);var o=fi[di]=(i=fi[di])!==null&&i!==void 0?i:{version:pi.VERSION};if(!n&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(o.version!==pi.VERSION){var s=new Error("@opentelemetry/api: All API registration versions must match");return r.error(s.stack||s.message),!1}return o[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+pi.VERSION+"."),!0}Wt.registerGlobal=QO;function ZO(e){var t,r,n=(t=fi[di])===null||t===void 0?void 0:t.version;if(!(!n||!XO.isCompatible(n)))return(r=fi[di])===null||r===void 0?void 0:r[e]}Wt.getGlobal=ZO;function JO(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+pi.VERSION+".");var r=fi[di];r&&delete r[e]}Wt.unregisterGlobal=JO});var Zh=p(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.DiagComponentLogger=void 0;var eC=nn(),tC=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return hi("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return hi("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return hi("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return hi("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return hi("verbose",this._namespace,t)},e}();qo.DiagComponentLogger=tC;function hi(e,t,r){var n=eC.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var Go=p(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.DiagLogLevel=void 0;var rC;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(rC=_i.DiagLogLevel||(_i.DiagLogLevel={}))});var Jh=p(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.createLogLevelDiagLogger=void 0;var Mt=Go();function nC(e,t){e<Mt.DiagLogLevel.NONE?e=Mt.DiagLogLevel.NONE:e>Mt.DiagLogLevel.ALL&&(e=Mt.DiagLogLevel.ALL),t=t||{};function r(n,i){var o=t[n];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:r("error",Mt.DiagLogLevel.ERROR),warn:r("warn",Mt.DiagLogLevel.WARN),info:r("info",Mt.DiagLogLevel.INFO),debug:r("debug",Mt.DiagLogLevel.DEBUG),verbose:r("verbose",Mt.DiagLogLevel.VERBOSE)}}Ho.createLogLevelDiagLogger=nC});var on=p(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DiagAPI=void 0;var iC=Zh(),oC=Jh(),sC=Go(),$o=nn(),aC="diag",uC=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=$o.getGlobal("diag");if(!!s)return s[n].apply(s,i)}}var r=this;r.setLogger=function(n,i){var o,s;if(i===void 0&&(i=sC.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=a.stack)!==null&&o!==void 0?o:a.message),!1}var u=$o.getGlobal("diag"),c=oC.createLogLevelDiagLogger(i,n);if(u){var l=(s=new Error().stack)!==null&&s!==void 0?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return $o.registerGlobal("diag",c,r,!0)},r.disable=function(){$o.unregisterGlobal(aC,r)},r.createComponentLogger=function(n){return new iC.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();Vo.DiagAPI=uC});var e_=p(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.BaggageImpl=void 0;var cC=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,o=t;i<o.length;i++){var s=o[i];n._entries.delete(s)}return n},e.prototype.clear=function(){return new e},e}();Yo.BaggageImpl=cC});var t_=p(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.baggageEntryMetadataSymbol=void 0;Wo.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var Bc=p(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.baggageEntryMetadataFromString=sn.createBaggage=void 0;var lC=on(),pC=e_(),dC=t_(),fC=lC.DiagAPI.instance();function hC(e){return e===void 0&&(e={}),new pC.BaggageImpl(new Map(Object.entries(e)))}sn.createBaggage=hC;function _C(e){return typeof e!="string"&&(fC.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:dC.baggageEntryMetadataSymbol,toString:function(){return e}}}sn.baggageEntryMetadataFromString=_C});var n_=p(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0})});var o_=p(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0})});var a_=p(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0})});var u_=p(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.DiagConsoleLogger=void 0;var Uc=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],gC=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[n];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var r=0;r<Uc.length;r++)this[Uc[r].n]=t(Uc[r].c)}return e}();Ko.DiagConsoleLogger=gC});var l_=p(Kt=>{"use strict";var mC=Kt&&Kt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),c_=Kt&&Kt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mC(t,e,r)};Object.defineProperty(Kt,"__esModule",{value:!0});c_(u_(),Kt);c_(Go(),Kt)});var Fc=p(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.defaultTextMapSetter=an.defaultTextMapGetter=void 0;an.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};an.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var d_=p(p_=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0})});var h_=p(f_=>{"use strict";Object.defineProperty(f_,"__esModule",{value:!0})});var gi=p(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.ROOT_CONTEXT=un.createContextKey=void 0;function EC(e){return Symbol.for(e)}un.createContextKey=EC;var yC=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var o=new e(r._currentContext);return o._currentContext.set(n,i),o},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();un.ROOT_CONTEXT=new yC});var __=p(cn=>{"use strict";var vC=cn&&cn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(cn,"__esModule",{value:!0});cn.NoopContextManager=void 0;var AC=gi(),bC=function(){function e(){}return e.prototype.active=function(){return AC.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return r.call.apply(r,vC([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();cn.NoopContextManager=bC});var qc=p(ln=>{"use strict";var SC=ln&&ln.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ln,"__esModule",{value:!0});ln.ContextAPI=void 0;var TC=__(),jc=nn(),g_=on(),kc="context",RC=new TC.NoopContextManager,OC=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return jc.registerGlobal(kc,t,g_.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,SC([t,r,n],o))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return jc.getGlobal(kc)||RC},e.prototype.disable=function(){this._getContextManager().disable(),jc.unregisterGlobal(kc,g_.DiagAPI.instance())},e}();ln.ContextAPI=OC});var Gc=p(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.TraceFlags=void 0;var CC;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(CC=mi.TraceFlags||(mi.TraceFlags={}))});var Xo=p(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.INVALID_SPAN_CONTEXT=ft.INVALID_TRACEID=ft.INVALID_SPANID=void 0;var PC=Gc();ft.INVALID_SPANID="0000000000000000";ft.INVALID_TRACEID="00000000000000000000000000000000";ft.INVALID_SPAN_CONTEXT={traceId:ft.INVALID_TRACEID,spanId:ft.INVALID_SPANID,traceFlags:PC.TraceFlags.NONE}});var Qo=p(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.NonRecordingSpan=void 0;var IC=Xo(),wC=function(){function e(t){t===void 0&&(t=IC.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();zo.NonRecordingSpan=wC});var $c=p(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getSpanContext=Ze.setSpanContext=Ze.deleteSpan=Ze.setSpan=Ze.getSpan=void 0;var NC=gi(),xC=Qo(),Hc=NC.createContextKey("OpenTelemetry Context Key SPAN");function m_(e){return e.getValue(Hc)||void 0}Ze.getSpan=m_;function E_(e,t){return e.setValue(Hc,t)}Ze.setSpan=E_;function LC(e){return e.deleteValue(Hc)}Ze.deleteSpan=LC;function MC(e,t){return E_(e,new xC.NonRecordingSpan(t))}Ze.setSpanContext=MC;function DC(e){var t;return(t=m_(e))===null||t===void 0?void 0:t.spanContext()}Ze.getSpanContext=DC});var Zo=p(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.wrapSpanContext=ht.isSpanContextValid=ht.isValidSpanId=ht.isValidTraceId=void 0;var y_=Xo(),BC=Qo(),UC=/^([0-9a-f]{32})$/i,FC=/^[0-9a-f]{16}$/i;function v_(e){return UC.test(e)&&e!==y_.INVALID_TRACEID}ht.isValidTraceId=v_;function A_(e){return FC.test(e)&&e!==y_.INVALID_SPANID}ht.isValidSpanId=A_;function jC(e){return v_(e.traceId)&&A_(e.spanId)}ht.isSpanContextValid=jC;function kC(e){return new BC.NonRecordingSpan(e)}ht.wrapSpanContext=kC});var Yc=p(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.NoopTracer=void 0;var qC=qc(),b_=$c(),Vc=Qo(),GC=Zo(),S_=qC.ContextAPI.getInstance(),HC=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new Vc.NonRecordingSpan;var o=n&&b_.getSpanContext(n);return $C(o)&&GC.isSpanContextValid(o)?new Vc.NonRecordingSpan(o):new Vc.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);var u=s!=null?s:S_.active(),c=this.startSpan(t,o,u),l=b_.setSpan(u,c);return S_.with(l,a,void 0,c)}},e}();Jo.NoopTracer=HC;function $C(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Wc=p(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.ProxyTracer=void 0;var VC=Yc(),YC=new VC.NoopTracer,WC=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):YC},e}();es.ProxyTracer=WC});var T_=p(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.NoopTracerProvider=void 0;var KC=Yc(),XC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new KC.NoopTracer},e}();ts.NoopTracerProvider=XC});var Kc=p(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.ProxyTracerProvider=void 0;var zC=Wc(),QC=T_(),ZC=new QC.NoopTracerProvider,JC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new zC.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:ZC},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();rs.ProxyTracerProvider=JC});var O_=p(R_=>{"use strict";Object.defineProperty(R_,"__esModule",{value:!0})});var C_=p(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SamplingDecision=void 0;var eP;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(eP=Ei.SamplingDecision||(Ei.SamplingDecision={}))});var I_=p(P_=>{"use strict";Object.defineProperty(P_,"__esModule",{value:!0})});var w_=p(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.SpanKind=void 0;var tP;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(tP=yi.SpanKind||(yi.SpanKind={}))});var x_=p(N_=>{"use strict";Object.defineProperty(N_,"__esModule",{value:!0})});var M_=p(L_=>{"use strict";Object.defineProperty(L_,"__esModule",{value:!0})});var D_=p(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.SpanStatusCode=void 0;var rP;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(rP=vi.SpanStatusCode||(vi.SpanStatusCode={}))});var U_=p(B_=>{"use strict";Object.defineProperty(B_,"__esModule",{value:!0})});var F_=p(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.validateValue=pn.validateKey=void 0;var Xc="[_0-9a-z-*/]",nP="[a-z]"+Xc+"{0,255}",iP="[a-z0-9]"+Xc+"{0,240}@[a-z]"+Xc+"{0,13}",oP=new RegExp("^(?:"+nP+"|"+iP+")$"),sP=/^[ -~]{0,255}[!-~]$/,aP=/,|=/;function uP(e){return oP.test(e)}pn.validateKey=uP;function cP(e){return sP.test(e)&&!aP.test(e)}pn.validateValue=cP});var H_=p(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.TraceStateImpl=void 0;var j_=F_(),k_=32,lP=512,q_=",",G_="=",pP=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+G_+t.get(n)),r},[]).join(q_)},e.prototype._parse=function(t){t.length>lP||(this._internalState=t.split(q_).reverse().reduce(function(r,n){var i=n.trim(),o=i.indexOf(G_);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,n.length);j_.validateKey(s)&&j_.validateValue(a)&&r.set(s,a)}return r},new Map),this._internalState.size>k_&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,k_))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();ns.TraceStateImpl=pP});var $_=p(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.createTraceState=void 0;var dP=H_();function fP(e){return new dP.TraceStateImpl(e)}is.createTraceState=fP});var Y_=p(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0})});var K_=p(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0})});var z_=p(X_=>{"use strict";Object.defineProperty(X_,"__esModule",{value:!0})});var Z_=p(Q_=>{"use strict";Object.defineProperty(Q_,"__esModule",{value:!0})});var rg=p(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.TraceAPI=void 0;var zc=nn(),J_=Kc(),eg=Zo(),Ai=$c(),tg=on(),Qc="trace",hP=function(){function e(){this._proxyTracerProvider=new J_.ProxyTracerProvider,this.wrapSpanContext=eg.wrapSpanContext,this.isSpanContextValid=eg.isSpanContextValid,this.deleteSpan=Ai.deleteSpan,this.getSpan=Ai.getSpan,this.getSpanContext=Ai.getSpanContext,this.setSpan=Ai.setSpan,this.setSpanContext=Ai.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=zc.registerGlobal(Qc,this._proxyTracerProvider,tg.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return zc.getGlobal(Qc)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){zc.unregisterGlobal(Qc,tg.DiagAPI.instance()),this._proxyTracerProvider=new J_.ProxyTracerProvider},e}();os.TraceAPI=hP});var ng=p(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.NoopTextMapPropagator=void 0;var _P=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();ss.NoopTextMapPropagator=_P});var ig=p(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.deleteBaggage=Xt.setBaggage=Xt.getBaggage=void 0;var gP=gi(),Zc=gP.createContextKey("OpenTelemetry Baggage Key");function mP(e){return e.getValue(Zc)||void 0}Xt.getBaggage=mP;function EP(e,t){return e.setValue(Zc,t)}Xt.setBaggage=EP;function yP(e){return e.deleteValue(Zc)}Xt.deleteBaggage=yP});var ag=p(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.PropagationAPI=void 0;var Jc=nn(),vP=ng(),og=Fc(),el=ig(),AP=Bc(),sg=on(),tl="propagation",bP=new vP.NoopTextMapPropagator,SP=function(){function e(){this.createBaggage=AP.createBaggage,this.getBaggage=el.getBaggage,this.setBaggage=el.setBaggage,this.deleteBaggage=el.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Jc.registerGlobal(tl,t,sg.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=og.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=og.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Jc.unregisterGlobal(tl,sg.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return Jc.getGlobal(tl)||bP},e}();as.PropagationAPI=SP});var B=p(N=>{"use strict";var TP=N&&N.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ne=N&&N.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TP(t,e,r)};Object.defineProperty(N,"__esModule",{value:!0});N.diag=N.propagation=N.trace=N.context=N.INVALID_SPAN_CONTEXT=N.INVALID_TRACEID=N.INVALID_SPANID=N.isValidSpanId=N.isValidTraceId=N.isSpanContextValid=N.createTraceState=N.baggageEntryMetadataFromString=void 0;ne(Vh(),N);var RP=Bc();Object.defineProperty(N,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return RP.baggageEntryMetadataFromString}});ne(n_(),N);ne(o_(),N);ne(a_(),N);ne(l_(),N);ne(Fc(),N);ne(d_(),N);ne(h_(),N);ne(Wc(),N);ne(Kc(),N);ne(O_(),N);ne(C_(),N);ne(I_(),N);ne(w_(),N);ne(x_(),N);ne(M_(),N);ne(D_(),N);ne(Gc(),N);ne(U_(),N);var OP=$_();Object.defineProperty(N,"createTraceState",{enumerable:!0,get:function(){return OP.createTraceState}});ne(Y_(),N);ne(K_(),N);ne(z_(),N);var rl=Zo();Object.defineProperty(N,"isSpanContextValid",{enumerable:!0,get:function(){return rl.isSpanContextValid}});Object.defineProperty(N,"isValidTraceId",{enumerable:!0,get:function(){return rl.isValidTraceId}});Object.defineProperty(N,"isValidSpanId",{enumerable:!0,get:function(){return rl.isValidSpanId}});var nl=Xo();Object.defineProperty(N,"INVALID_SPANID",{enumerable:!0,get:function(){return nl.INVALID_SPANID}});Object.defineProperty(N,"INVALID_TRACEID",{enumerable:!0,get:function(){return nl.INVALID_TRACEID}});Object.defineProperty(N,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return nl.INVALID_SPAN_CONTEXT}});ne(gi(),N);ne(Z_(),N);var CP=qc();N.context=CP.ContextAPI.getInstance();var PP=rg();N.trace=PP.TraceAPI.getInstance();var IP=ag();N.propagation=IP.PropagationAPI.getInstance();var wP=on();N.diag=wP.DiagAPI.instance();N.default={trace:N.trace,context:N.context,propagation:N.propagation,diag:N.diag}});var us=p(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.isTracingSuppressed=zt.unsuppressTracing=zt.suppressTracing=void 0;var NP=B(),il=(0,NP.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function xP(e){return e.setValue(il,!0)}zt.suppressTracing=xP;function LP(e){return e.deleteValue(il)}zt.unsuppressTracing=LP;function MP(e){return e.getValue(il)===!0}zt.isTracingSuppressed=MP});var ug=p(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.validateValue=dn.validateKey=void 0;var ol="[_0-9a-z-*/]",DP=`[a-z]${ol}{0,255}`,BP=`[a-z0-9]${ol}{0,240}@[a-z]${ol}{0,13}`,UP=new RegExp(`^(?:${DP}|${BP})$`),FP=/^[ -~]{0,255}[!-~]$/,jP=/,|=/;function kP(e){return UP.test(e)}dn.validateKey=kP;function qP(e){return FP.test(e)&&!jP.test(e)}dn.validateValue=qP});var sl=p(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.TraceState=void 0;var cg=ug(),lg=32,GP=512,pg=",",dg="=",cs=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+dg+this.get(r)),t),[]).join(pg)}_parse(t){t.length>GP||(this._internalState=t.split(pg).reverse().reduce((r,n)=>{let i=n.trim(),o=i.indexOf(dg);if(o!==-1){let s=i.slice(0,o),a=i.slice(o+1,n.length);(0,cg.validateKey)(s)&&(0,cg.validateValue)(a)&&r.set(s,a)}return r},new Map),this._internalState.size>lg&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,lg))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new cs;return t._internalState=new Map(this._internalState),t}};ls.TraceState=cs});var al=p(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.W3CTraceContextPropagator=Re.parseTraceParent=Re.TRACE_STATE_HEADER=Re.TRACE_PARENT_HEADER=void 0;var ps=B(),HP=us(),$P=sl();Re.TRACE_PARENT_HEADER="traceparent";Re.TRACE_STATE_HEADER="tracestate";var VP="00",YP="(?!ff)[\\da-f]{2}",WP="(?![0]{32})[\\da-f]{32}",KP="(?![0]{16})[\\da-f]{16}",XP="[\\da-f]{2}",zP=new RegExp(`^\\s?(${YP})-(${WP})-(${KP})-(${XP})(-.*)?\\s?$`);function fg(e){let t=zP.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Re.parseTraceParent=fg;var hg=class{inject(t,r,n){let i=ps.trace.getSpanContext(t);if(!i||(0,HP.isTracingSuppressed)(t)||!(0,ps.isSpanContextValid)(i))return;let o=`${VP}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||ps.TraceFlags.NONE).toString(16)}`;n.set(r,Re.TRACE_PARENT_HEADER,o),i.traceState&&n.set(r,Re.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Re.TRACE_PARENT_HEADER);if(!i)return t;let o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return t;let s=fg(o);if(!s)return t;s.isRemote=!0;let a=n.get(r,Re.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;s.traceState=new $P.TraceState(typeof u=="string"?u:void 0)}return ps.trace.setSpanContext(t,s)}fields(){return[Re.TRACE_PARENT_HEADER,Re.TRACE_STATE_HEADER]}};Re.W3CTraceContextPropagator=hg});var ul=p(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.BAGGAGE_MAX_TOTAL_LENGTH=Oe.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Oe.BAGGAGE_MAX_NAME_VALUE_PAIRS=Oe.BAGGAGE_HEADER=Oe.BAGGAGE_ITEMS_SEPARATOR=Oe.BAGGAGE_PROPERTIES_SEPARATOR=Oe.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Oe.BAGGAGE_KEY_PAIR_SEPARATOR="=";Oe.BAGGAGE_PROPERTIES_SEPARATOR=";";Oe.BAGGAGE_ITEMS_SEPARATOR=",";Oe.BAGGAGE_HEADER="baggage";Oe.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Oe.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Oe.BAGGAGE_MAX_TOTAL_LENGTH=8192});var cl=p(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.parseKeyPairsIntoRecord=_t.parsePairKeyValue=_t.getKeyPairs=_t.serializeKeyPairs=void 0;var QP=B(),mr=ul();function ZP(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?mr.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>mr.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}_t.serializeKeyPairs=ZP;function JP(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=mr.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}_t.getKeyPairs=JP;function _g(e){let t=e.split(mr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(mr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),o=decodeURIComponent(n[1].trim()),s;return t.length>0&&(s=(0,QP.baggageEntryMetadataFromString)(t.join(mr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:o,metadata:s}}_t.parsePairKeyValue=_g;function eI(e){return typeof e!="string"||e.length===0?{}:e.split(mr.BAGGAGE_ITEMS_SEPARATOR).map(t=>_g(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}_t.parseKeyPairsIntoRecord=eI});var mg=p(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.W3CBaggagePropagator=void 0;var ll=B(),tI=us(),Er=ul(),pl=cl(),gg=class{inject(t,r,n){let i=ll.propagation.getBaggage(t);if(!i||(0,tI.isTracingSuppressed)(t))return;let o=(0,pl.getKeyPairs)(i).filter(a=>a.length<=Er.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Er.BAGGAGE_MAX_NAME_VALUE_PAIRS),s=(0,pl.serializeKeyPairs)(o);s.length>0&&n.set(r,Er.BAGGAGE_HEADER,s)}extract(t,r,n){let i=n.get(r,Er.BAGGAGE_HEADER),o=Array.isArray(i)?i.join(Er.BAGGAGE_ITEMS_SEPARATOR):i;if(!o)return t;let s={};return o.length===0||(o.split(Er.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,pl.parsePairKeyValue)(u);if(c){let l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0)?t:ll.propagation.setBaggage(t,ll.propagation.createBaggage(s))}fields(){return[Er.BAGGAGE_HEADER]}};ds.W3CBaggagePropagator=gg});var bg=p(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isAttributeValue=Qt.isAttributeKey=Qt.sanitizeAttributes=void 0;var Eg=B();function rI(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!yg(r)){Eg.diag.warn(`Invalid attribute key: ${r}`);continue}if(!vg(n)){Eg.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Qt.sanitizeAttributes=rI;function yg(e){return typeof e=="string"&&e.length>0}Qt.isAttributeKey=yg;function vg(e){return e==null?!0:Array.isArray(e)?nI(e):Ag(e)}Qt.isAttributeValue=vg;function nI(e){let t;for(let r of e)if(r!=null){if(!t){if(Ag(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function Ag(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var dl=p(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.loggingErrorHandler=void 0;var iI=B();function oI(){return e=>{iI.diag.error(sI(e))}}fs.loggingErrorHandler=oI;function sI(e){return typeof e=="string"?e:JSON.stringify(aI(e))}function aI(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var fl=p(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.globalErrorHandler=fn.setGlobalErrorHandler=void 0;var uI=dl(),Sg=(0,uI.loggingErrorHandler)();function cI(e){Sg=e}fn.setGlobalErrorHandler=cI;function lI(e){try{Sg(e)}catch(t){}}fn.globalErrorHandler=lI});var hl=p(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.TracesSamplerValues=void 0;var pI;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(pI=bi.TracesSamplerValues||(bi.TracesSamplerValues={}))});var _l=p(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.parseEnvironment=Le.DEFAULT_ENVIRONMENT=Le.DEFAULT_ATTRIBUTE_COUNT_LIMIT=Le.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Zt=B(),dI=hl(),fI=",",hI=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function _I(e){return hI.indexOf(e)>-1}var gI=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function mI(e){return gI.indexOf(e)>-1}Le.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;Le.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;Le.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Zt.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Le.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:Le.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Le.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Le.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:dI.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function EI(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let o=Number(r[e]);isNaN(o)||(o<n?t[e]=n:o>i?t[e]=i:t[e]=o)}}function yI(e,t,r,n=fI){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(o=>o.trim()))}var vI={ALL:Zt.DiagLogLevel.ALL,VERBOSE:Zt.DiagLogLevel.VERBOSE,DEBUG:Zt.DiagLogLevel.DEBUG,INFO:Zt.DiagLogLevel.INFO,WARN:Zt.DiagLogLevel.WARN,ERROR:Zt.DiagLogLevel.ERROR,NONE:Zt.DiagLogLevel.NONE};function AI(e,t,r){let n=r[e];if(typeof n=="string"){let i=vI[n.toUpperCase()];i!=null&&(t[e]=i)}}function bI(e){let t={};for(let r in Le.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":AI(n,t,e);break;default:if(_I(n))EI(n,t,e);else if(mI(n))yI(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}Le.parseEnvironment=bI});var Rg=p(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.getEnv=void 0;var SI=I("os"),Tg=_l();function TI(){let e=(0,Tg.parseEnvironment)(process.env);return Object.assign({HOSTNAME:SI.hostname()},Tg.DEFAULT_ENVIRONMENT,e)}hs.getEnv=TI});var Og=p(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s._globalThis=void 0;_s._globalThis=typeof globalThis=="object"?globalThis:global});var Cg=p(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.hexToBase64=void 0;function RI(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),o=parseInt(i,16);r+=String.fromCharCode(o)}return Buffer.from(r,"ascii").toString("base64")}gs.hexToBase64=RI});var Ng=p(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.RandomIdGenerator=void 0;var OI=8,Pg=16,Ig=class{constructor(){this.generateTraceId=wg(Pg),this.generateSpanId=wg(OI)}};Es.RandomIdGenerator=Ig;var ms=Buffer.allocUnsafe(Pg);function wg(e){return function(){for(let r=0;r<e/4;r++)ms.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(ms[r]>0);r++)r===e-1&&(ms[e-1]=1);return ms.toString("hex",0,e)}}});var xg=p(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.otperformance=void 0;var CI=I("perf_hooks");ys.otperformance=CI.performance});var As=p(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.VERSION=void 0;vs.VERSION="1.3.1"});var Lg=p(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.MessageTypeValues=z.RpcGrpcStatusCodeValues=z.MessagingOperationValues=z.MessagingDestinationKindValues=z.HttpFlavorValues=z.NetHostConnectionSubtypeValues=z.NetHostConnectionTypeValues=z.NetTransportValues=z.FaasInvokedProviderValues=z.FaasDocumentOperationValues=z.FaasTriggerValues=z.DbCassandraConsistencyLevelValues=z.DbSystemValues=z.SemanticAttributes=void 0;z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var Mg=p(yr=>{"use strict";var PI=yr&&yr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),II=yr&&yr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&PI(t,e,r)};Object.defineProperty(yr,"__esModule",{value:!0});II(Lg(),yr)});var Dg=p(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.TelemetrySdkLanguageValues=Ce.OsTypeValues=Ce.HostArchValues=Ce.AwsEcsLaunchtypeValues=Ce.CloudPlatformValues=Ce.CloudProviderValues=Ce.SemanticResourceAttributes=void 0;Ce.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Ce.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Ce.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Ce.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Ce.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Ce.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Ce.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Bg=p(vr=>{"use strict";var wI=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),NI=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wI(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});NI(Dg(),vr)});var gt=p(Jt=>{"use strict";var xI=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ug=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xI(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});Ug(Mg(),Jt);Ug(Bg(),Jt)});var Fg=p(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.SDK_INFO=void 0;var LI=As(),Si=gt();bs.SDK_INFO={[Si.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Si.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Si.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Si.TelemetrySdkLanguageValues.NODEJS,[Si.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:LI.VERSION}});var jg=p(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.unrefTimer=void 0;function MI(e){e.unref()}Ss.unrefTimer=MI});var kg=p(Ve=>{"use strict";var DI=Ve&&Ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ar=Ve&&Ve.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DI(t,e,r)};Object.defineProperty(Ve,"__esModule",{value:!0});Ar(Rg(),Ve);Ar(Og(),Ve);Ar(Cg(),Ve);Ar(Ng(),Ve);Ar(xg(),Ve);Ar(Fg(),Ve);Ar(jg(),Ve)});var gl=p(br=>{"use strict";var BI=br&&br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UI=br&&br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&BI(t,e,r)};Object.defineProperty(br,"__esModule",{value:!0});UI(kg(),br)});var Hg=p(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.isTimeInput=fe.isTimeInputHrTime=fe.hrTimeToMicroseconds=fe.hrTimeToMilliseconds=fe.hrTimeToNanoseconds=fe.hrTimeToTimeStamp=fe.hrTimeDuration=fe.timeInputToHrTime=fe.hrTime=void 0;var ml=gl(),El=9,Ti=Math.pow(10,El);function Ts(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(El))*Ti;return[r,n]}function qg(){let e=ml.otperformance.timeOrigin;if(typeof e!="number"){let t=ml.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Gg(e){let t=Ts(qg()),r=Ts(typeof e=="number"?e:ml.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>Ti&&(i-=Ti,n+=1),[n,i]}fe.hrTime=Gg;function FI(e){if(yl(e))return e;if(typeof e=="number")return e<qg()?Gg(e):Ts(e);if(e instanceof Date)return Ts(e.getTime());throw TypeError("Invalid input type")}fe.timeInputToHrTime=FI;function jI(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Ti),[r,n]}fe.hrTimeDuration=jI;function kI(e){let t=El,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}fe.hrTimeToTimeStamp=kI;function qI(e){return e[0]*Ti+e[1]}fe.hrTimeToNanoseconds=qI;function GI(e){return Math.round(e[0]*1e3+e[1]/1e6)}fe.hrTimeToMilliseconds=GI;function HI(e){return Math.round(e[0]*1e6+e[1]/1e3)}fe.hrTimeToMicroseconds=HI;function yl(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}fe.isTimeInputHrTime=yl;function $I(e){return yl(e)||typeof e=="number"||e instanceof Date}fe.isTimeInput=$I});var Vg=p($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0})});var Yg=p(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.ExportResultCode=void 0;var VI;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(VI=Ri.ExportResultCode||(Ri.ExportResultCode={}))});var Xg=p(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.CompositePropagator=void 0;var Wg=B(),Kg=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(o){Wg.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}}extract(t,r,n){return this._propagators.reduce((i,o)=>{try{return o.extract(i,r,n)}catch(s){Wg.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${s.message}`)}return i},t)}fields(){return this._fields.slice()}};Rs.CompositePropagator=Kg});var Qg=p(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0})});var Zg=p(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.getRPCMetadata=ot.deleteRPCMetadata=ot.setRPCMetadata=ot.RPCType=void 0;var YI=B(),vl=(0,YI.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),WI;(function(e){e.HTTP="http"})(WI=ot.RPCType||(ot.RPCType={}));function KI(e,t){return e.setValue(vl,t)}ot.setRPCMetadata=KI;function XI(e){return e.deleteValue(vl)}ot.deleteRPCMetadata=XI;function zI(e){return e.getValue(vl)}ot.getRPCMetadata=zI});var Al=p(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.AlwaysOffSampler=void 0;var QI=B(),Jg=class{shouldSample(){return{decision:QI.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};Os.AlwaysOffSampler=Jg});var bl=p(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.AlwaysOnSampler=void 0;var ZI=B(),em=class{shouldSample(){return{decision:ZI.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Cs.AlwaysOnSampler=em});var nm=p(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.ParentBasedSampler=void 0;var Ps=B(),JI=fl(),tm=Al(),Sl=bl(),rm=class{constructor(t){var r,n,i,o;this._root=t.root,this._root||((0,JI.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Sl.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new Sl.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new tm.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new Sl.AlwaysOnSampler,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new tm.AlwaysOffSampler}shouldSample(t,r,n,i,o,s){let a=Ps.trace.getSpanContext(t);return!a||!(0,Ps.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,o,s):a.isRemote?a.traceFlags&Ps.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(t,r,n,i,o,s):a.traceFlags&Ps.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,o,s):this._localParentNotSampled.shouldSample(t,r,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Is.ParentBasedSampler=rm});var om=p(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.TraceIdRatioBasedSampler=void 0;var Tl=B(),im=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,Tl.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?Tl.SamplingDecision.RECORD_AND_SAMPLED:Tl.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,o=parseInt(t.slice(i,i+8),16);r=(r^o)>>>0}return r}};ws.TraceIdRatioBasedSampler=im});var lm=p(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.isPlainObject=void 0;var ew="[object Object]",tw="[object Null]",rw="[object Undefined]",nw=Function.prototype,sm=nw.toString,iw=sm.call(Object),ow=sw(Object.getPrototypeOf,Object),am=Object.prototype,um=am.hasOwnProperty,Sr=Symbol?Symbol.toStringTag:void 0,cm=am.toString;function sw(e,t){return function(r){return e(t(r))}}function aw(e){if(!uw(e)||cw(e)!==ew)return!1;let t=ow(e);if(t===null)return!0;let r=um.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&sm.call(r)===iw}Ns.isPlainObject=aw;function uw(e){return e!=null&&typeof e=="object"}function cw(e){return e==null?e===void 0?rw:tw:Sr&&Sr in Object(e)?lw(e):pw(e)}function lw(e){let t=um.call(e,Sr),r=e[Sr],n=!1;try{e[Sr]=void 0,n=!0}catch(o){}let i=cm.call(e);return n&&(t?e[Sr]=r:delete e[Sr]),i}function pw(e){return cm.call(e)}});var _m=p(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.merge=void 0;var pm=lm(),dw=20;function fw(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=dm(t,e.shift(),0,r);return t}Ms.merge=fw;function Rl(e){return xs(e)?e.slice():e}function dm(e,t,r=0,n){let i;if(!(r>dw)){if(r++,Ls(e)||Ls(t)||hm(t))i=Rl(t);else if(xs(e)){if(i=e.slice(),xs(t))for(let o=0,s=t.length;o<s;o++)i.push(Rl(t[o]));else if(Oi(t)){let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s];i[u]=Rl(t[u])}}}else if(Oi(e))if(Oi(t)){if(!hw(e,t))return t;i=Object.assign({},e);let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s],c=t[u];if(Ls(c))typeof c=="undefined"?delete i[u]:i[u]=c;else{let l=i[u],d=c;if(fm(e,u,n)||fm(t,u,n))delete i[u];else{if(Oi(l)&&Oi(d)){let f=n.get(l)||[],h=n.get(d)||[];f.push({obj:e,key:u}),h.push({obj:t,key:u}),n.set(l,f),n.set(d,h)}i[u]=dm(i[u],c,r,n)}}}}else i=t;return i}}function fm(e,t,r){let n=r.get(e[t])||[];for(let i=0,o=n.length;i<o;i++){let s=n[i];if(s.key===t&&s.obj===e)return!0}return!1}function xs(e){return Array.isArray(e)}function hm(e){return typeof e=="function"}function Oi(e){return!Ls(e)&&!xs(e)&&!hm(e)&&typeof e=="object"}function Ls(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function hw(e,t){return!(!(0,pm.isPlainObject)(e)||!(0,pm.isPlainObject)(t))}});var mm=p(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.isUrlIgnored=hn.urlMatches=void 0;function gm(e,t){return typeof t=="string"?e===t:!!e.match(t)}hn.urlMatches=gm;function _w(e,t){if(!t)return!1;for(let r of t)if(gm(e,r))return!0;return!1}hn.isUrlIgnored=_w});var Em=p(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.isWrapped=void 0;function gw(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}Ds.isWrapped=gw});var vm=p(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Deferred=void 0;var ym=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};Bs.Deferred=ym});var bm=p(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.BindOnceFuture=void 0;var mw=vm(),Am=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new mw.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Us.BindOnceFuture=Am});var J=p(K=>{"use strict";var Ew=K&&K.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z=K&&K.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ew(t,e,r)};Object.defineProperty(K,"__esModule",{value:!0});K.baggageUtils=void 0;Z(mg(),K);Z(bg(),K);Z(fl(),K);Z(dl(),K);Z(Hg(),K);Z(Vg(),K);Z(Yg(),K);Z(As(),K);K.baggageUtils=cl();Z(gl(),K);Z(Xg(),K);Z(al(),K);Z(Qg(),K);Z(Zg(),K);Z(Al(),K);Z(bl(),K);Z(nm(),K);Z(om(),K);Z(us(),K);Z(sl(),K);Z(_l(),K);Z(_m(),K);Z(hl(),K);Z(mm(),K);Z(Em(),K);Z(bm(),K);Z(As(),K)});var Sm=p(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.ExceptionEventName=void 0;Fs.ExceptionEventName="exception"});var Ol=p(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Span=void 0;var mt=B(),st=J(),Tr=gt(),yw=Sm(),Tm=class{constructor(t,r,n,i,o,s,a=[],u=(0,st.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:mt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a,this.startTime=(0,st.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(mt.diag.warn(`Invalid attribute key: ${t}`),this):(0,st.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(mt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return mt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(mt.diag.warn("Dropping extra events."),this.events.shift()),(0,st.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,st.hrTime)());let i=(0,st.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,st.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,st.hrTime)()){if(this._isSpanEnded()){mt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,st.timeInputToHrTime)(t),this._duration=(0,st.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&mt.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,st.hrTime)()){let n={};typeof t=="string"?n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Tr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Tr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Tr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Tr.SemanticAttributes.EXCEPTION_TYPE]||n[Tr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(yw.ExceptionEventName,n,r):mt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&mt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(mt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};js.Span=Tm});var Cl=p(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.buildSamplerFromEnv=gn.DEFAULT_CONFIG=void 0;var ks=B(),re=J(),vw=(0,re.getEnv)(),Aw=re.TracesSamplerValues.AlwaysOn,_n=1;gn.DEFAULT_CONFIG={sampler:Rm(vw),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,re.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,re.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,re.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,re.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,re.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,re.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function Rm(e=(0,re.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case re.TracesSamplerValues.AlwaysOn:return new re.AlwaysOnSampler;case re.TracesSamplerValues.AlwaysOff:return new re.AlwaysOffSampler;case re.TracesSamplerValues.ParentBasedAlwaysOn:return new re.ParentBasedSampler({root:new re.AlwaysOnSampler});case re.TracesSamplerValues.ParentBasedAlwaysOff:return new re.ParentBasedSampler({root:new re.AlwaysOffSampler});case re.TracesSamplerValues.TraceIdRatio:return new re.TraceIdRatioBasedSampler(Om(e));case re.TracesSamplerValues.ParentBasedTraceIdRatio:return new re.ParentBasedSampler({root:new re.TraceIdRatioBasedSampler(Om(e))});default:return ks.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${Aw}".`),new re.AlwaysOnSampler}}gn.buildSamplerFromEnv=Rm;function Om(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return ks.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${_n}.`),_n;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(ks.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${_n}.`),_n):t<0||t>1?(ks.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${_n}.`),_n):t}});var Pl=p(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.reconfigureLimits=mn.mergeConfig=void 0;var qs=Cl();function bw(e){let t={sampler:(0,qs.buildSamplerFromEnv)()},r=Object.assign({},qs.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},qs.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},qs.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}mn.mergeConfig=bw;function Sw(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}mn.reconfigureLimits=Sw});var Pm=p(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Tracer=void 0;var Ae=B(),Ci=J(),Tw=Ol(),Rw=Pl(),Cm=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,Rw.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Ci.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Ae.context.active()){var i,o;if((0,Ci.isTracingSuppressed)(n))return Ae.diag.debug("Instrumentation suppressed, returning Noop Span"),Ae.trace.wrapSpanContext(Ae.INVALID_SPAN_CONTEXT);r.root&&(n=Ae.trace.deleteSpan(n));let s=Ae.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,c,l;!s||!Ae.trace.isSpanContextValid(s)?u=this._idGenerator.generateTraceId():(u=s.traceId,c=s.traceState,l=s.spanId);let d=(i=r.kind)!==null&&i!==void 0?i:Ae.SpanKind.INTERNAL,f=((o=r.links)!==null&&o!==void 0?o:[]).map(C=>({context:C.context,attributes:(0,Ci.sanitizeAttributes)(C.attributes)})),h=(0,Ci.sanitizeAttributes)(r.attributes),_=this._sampler.shouldSample(n,u,t,d,h,f),g=_.decision===Ae.SamplingDecision.RECORD_AND_SAMPLED?Ae.TraceFlags.SAMPLED:Ae.TraceFlags.NONE,A={traceId:u,spanId:a,traceFlags:g,traceState:c};if(_.decision===Ae.SamplingDecision.NOT_RECORD)return Ae.diag.debug("Recording is off, propagating context in a non-recording span"),Ae.trace.wrapSpanContext(A);let b=new Tw.Span(this,n,t,A,d,l,f,r.startTime),v=(0,Ci.sanitizeAttributes)(Object.assign(h,_.attributes));return b.setAttributes(v),b}startActiveSpan(t,r,n,i){let o,s,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);let u=s!=null?s:Ae.context.active(),c=this.startSpan(t,o,u),l=Ae.trace.setSpan(u,c);return Ae.context.with(l,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};Gs.Tracer=Cm});var Im=p(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.defaultServiceName=void 0;function Ow(){return`unknown_service:${process.argv0}`}Hs.defaultServiceName=Ow});var Nm=p($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.detectResources=void 0;var wm=Rr(),Il=B(),Cw=I("util"),Pw=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return Il.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return Il.diag.debug(`${n.constructor.name} failed: ${i.message}`),wm.Resource.empty()}}));return Iw(r),r.reduce((n,i)=>n.merge(i),wm.Resource.empty())};$s.detectResources=Pw;var Iw=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=Cw.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});Il.diag.verbose(r)}})}});var Dm=p(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.hostDetector=void 0;var xm=gt(),ww=Rr(),Lm=I("os"),Mm=class{async detect(t){let r={[xm.SemanticResourceAttributes.HOST_NAME]:(0,Lm.hostname)(),[xm.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,Lm.arch)())};return new ww.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};Vs.hostDetector=new Mm});var jm=p(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.osDetector=void 0;var Bm=gt(),Nw=Rr(),Um=I("os"),Fm=class{async detect(t){let r={[Bm.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,Um.platform)()),[Bm.SemanticResourceAttributes.OS_VERSION]:(0,Um.release)()};return new Nw.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Ys.osDetector=new Fm});var km=p(Et=>{"use strict";var xw=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ws=Et&&Et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&xw(t,e,r)};Object.defineProperty(Et,"__esModule",{value:!0});Ws(Im(),Et);Ws(Nm(),Et);Ws(Dm(),Et);Ws(jm(),Et)});var wl=p(Or=>{"use strict";var Lw=Or&&Or.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Mw=Or&&Or.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Lw(t,e,r)};Object.defineProperty(Or,"__esModule",{value:!0});Mw(km(),Or)});var Rr=p(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.Resource=void 0;var Cr=gt(),Nl=J(),Dw=wl(),er=class{constructor(t){this.attributes=t}static empty(){return er.EMPTY}static default(){return new er({[Cr.SemanticResourceAttributes.SERVICE_NAME]:(0,Dw.defaultServiceName)(),[Cr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Nl.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Cr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Nl.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Cr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Nl.SDK_INFO[Cr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new er(r)}};Ks.Resource=er;er.EMPTY=new er({})});var Gm=p(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0})});var $m=p(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0})});var Ym=p(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.browserDetector=void 0;var Bw=B(),Xs=gt(),xl=Pi(),Vm=class{async detect(t){if(!(typeof navigator!="undefined"))return xl.Resource.empty();let n={[Xs.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Xs.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Xs.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Xs.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Bw.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),xl.Resource.empty()):new xl.Resource(Object.assign({},t))}};zs.browserDetector=new Vm});var Km=p(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.envDetector=void 0;var Uw=B(),Fw=J(),jw=gt(),kw=Rr(),Wm=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,Fw.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,o=n.OTEL_SERVICE_NAME;if(i)try{let s=this._parseResourceAttributes(i);Object.assign(r,s)}catch(s){Uw.diag.debug(`EnvDetector failed: ${s.message}`)}return o&&(r[jw.SemanticResourceAttributes.SERVICE_NAME]=o),new kw.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let o=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(o.length!==2)continue;let[s,a]=o;if(s=s.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(s))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[s]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Qs.envDetector=new Wm});var zm=p(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.processDetector=void 0;var qw=B(),Je=gt(),Ll=Rr(),Xm=class{async detect(t){if(typeof process!="object")return Ll.Resource.empty();let r={[Je.SemanticResourceAttributes.PROCESS_PID]:process.pid,[Je.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[Je.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[Je.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[Je.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[Je.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[Je.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[Je.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[Je.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[Je.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[Je.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[Je.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(qw.diag.debug("ProcessDetector failed: Unable to find required process resources. "),Ll.Resource.empty()):new Ll.Resource(Object.assign({},t))}};Zs.processDetector=new Xm});var Qm=p(Dt=>{"use strict";var Gw=Dt&&Dt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ml=Dt&&Dt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Gw(t,e,r)};Object.defineProperty(Dt,"__esModule",{value:!0});Ml(Ym(),Dt);Ml(Km(),Dt);Ml(zm(),Dt)});var Pi=p(at=>{"use strict";var Hw=at&&at.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ii=at&&at.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Hw(t,e,r)};Object.defineProperty(at,"__esModule",{value:!0});Ii(Rr(),at);Ii(wl(),at);Ii(Gm(),at);Ii($m(),at);Ii(Qm(),at)});var Jm=p(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.MultiSpanProcessor=void 0;var $w=J(),Zm=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,$w.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Js.MultiSpanProcessor=Zm});var Dl=p(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.NoopSpanProcessor=void 0;var eE=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};ea.NoopSpanProcessor=eE});var rE=p(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.BatchSpanProcessorBase=void 0;var Bl=B(),En=J(),tE=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,En.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new En.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Bl.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let o=0,s=i;o<s;o++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Bl.context.with((0,En.suppressTracing)(Bl.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var o;clearTimeout(n),i.code===En.ExportResultCode.SUCCESS?t():r((o=i.error)!==null&&o!==void 0?o:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,En.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,En.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};ta.BatchSpanProcessorBase=tE});var iE=p(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.BatchSpanProcessor=void 0;var Vw=rE(),nE=class extends Vw.BatchSpanProcessorBase{onShutdown(){}};ra.BatchSpanProcessor=nE});var oE=p(Pr=>{"use strict";var Yw=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ww=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Yw(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});Ww(iE(),Pr)});var Ul=p(Ir=>{"use strict";var Kw=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xw=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Kw(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});Xw(oE(),Ir)});var aE=p(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.BasicTracerProvider=Nr.ForceFlushState=void 0;var yn=B(),vn=J(),sE=Pi(),zw=na(),Qw=Cl(),Zw=Jm(),Jw=Dl(),eN=Ul(),tN=Pl(),An;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(An=Nr.ForceFlushState||(Nr.ForceFlushState={}));var wr=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,vn.merge)({},Qw.DEFAULT_CONFIG,(0,tN.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:sE.Resource.empty(),this.resource=sE.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let o=new eN.BatchSpanProcessor(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new Jw.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new zw.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>yn.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new Zw.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){yn.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&yn.context.setGlobalContextManager(t.contextManager),t.propagator&&yn.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let o,s=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),o=An.timeout},t);n.forceFlush().then(()=>{clearTimeout(s),o!==An.timeout&&(o=An.resolved,i(o))}).catch(a=>{clearTimeout(s),o=An.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(o=>{let s=o.filter(a=>a!==An.resolved);s.length>0?i(s):n()}).catch(o=>i([o]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=wr._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=wr._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,vn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let o=this._getPropagator(i);return o||yn.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),o}).reduce((i,o)=>(o&&i.push(o),i),[]);if(n.length!==0)return t.length===1?n[0]:new vn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,vn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||yn.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};Nr.BasicTracerProvider=wr;wr._registeredPropagators=new Map([["tracecontext",()=>new vn.W3CTraceContextPropagator],["baggage",()=>new vn.W3CBaggagePropagator]]);wr._registeredExporters=new Map});var cE=p(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.ConsoleSpanExporter=void 0;var Fl=J(),uE=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,Fl.hrTimeToMicroseconds)(t.startTime),duration:(0,Fl.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:Fl.ExportResultCode.SUCCESS})}};ia.ConsoleSpanExporter=uE});var dE=p(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});oa.InMemorySpanExporter=void 0;var lE=J(),pE=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:lE.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:lE.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};oa.InMemorySpanExporter=pE});var hE=p(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0})});var gE=p(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.SimpleSpanProcessor=void 0;var jl=B(),sa=J(),_E=class{constructor(t){this._exporter=t,this._shutdownOnce=new sa.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&jl.TraceFlags.SAMPLED)!=0&&jl.context.with((0,sa.suppressTracing)(jl.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==sa.ExportResultCode.SUCCESS&&(0,sa.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};aa.SimpleSpanProcessor=_E});var EE=p(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0})});var vE=p(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0})});var bE=p(AE=>{"use strict";Object.defineProperty(AE,"__esModule",{value:!0})});var TE=p(SE=>{"use strict";Object.defineProperty(SE,"__esModule",{value:!0})});var na=p(ye=>{"use strict";var rN=ye&&ye.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ye=ye&&ye.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rN(t,e,r)};Object.defineProperty(ye,"__esModule",{value:!0});Ye(Pm(),ye);Ye(aE(),ye);Ye(Ul(),ye);Ye(cE(),ye);Ye(dE(),ye);Ye(hE(),ye);Ye(gE(),ye);Ye(EE(),ye);Ye(Dl(),ye);Ye(Ol(),ye);Ye(vE(),ye);Ye(bE(),ye);Ye(TE(),ye)});var wi=p(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.invalidTimeout=et.configureExporterTimeout=et.appendRootPathToUrlIfNeeded=et.appendResourcePathToUrl=et.parseHeaders=void 0;var RE=B(),OE=J(),CE=1e4;function nN(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):RE.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}et.parseHeaders=nN;function iN(e,t){return e.endsWith("/")||(e=e+"/"),e+t}et.appendResourcePathToUrl=iN;function oN(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}et.appendRootPathToUrlIfNeeded=oN;function sN(e){return typeof e=="number"?e<=0?kl(e,CE):e:aN()}et.configureExporterTimeout=sN;function aN(){var e;let t=Number((e=(0,OE.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,OE.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?kl(t,CE):t}function kl(e,t){return RE.diag.warn("Timeout must be greater than 0",e),t}et.invalidTimeout=kl});var ca=p(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.OTLPExporterBase=void 0;var PE=B(),Ni=J(),uN=wi(),IE=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Ni.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,uN.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Ni.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Ni.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Ni.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Ni.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{PE.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return PE.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};ua.OTLPExporterBase=IE});var ql=p(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.CompressionAlgorithm=void 0;var cN;(function(e){e.NONE="none",e.GZIP="gzip"})(cN=xi.CompressionAlgorithm||(xi.CompressionAlgorithm={}))});var pa=p(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.OTLPExporterError=void 0;var wE=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};la.OTLPExporterError=wE});var Vl=p(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.configureCompression=tr.createHttpAgent=tr.sendWithHttp=void 0;var NE=I("url"),xE=I("http"),LE=I("https"),lN=I("zlib"),pN=I("stream"),Gl=B(),da=ql(),ME=J(),Hl=pa(),$l;function dN(e,t,r,n,i){let o=e.timeoutMillis,s=new NE.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),c=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},o),l={hostname:s.hostname,port:s.port,path:s.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(s.protocol==="http:"?xE.request:LE.request)(l,h=>{let _="";h.on("data",g=>_+=g),h.on("aborted",()=>{if(a){let g=new Hl.OTLPExporterError("Request Timeout");i(g)}}),h.on("end",()=>{if(!a){if(h.statusCode&&h.statusCode<299)Gl.diag.debug(`statusCode: ${h.statusCode}`,_),n();else{let g=new Hl.OTLPExporterError(h.statusMessage,h.statusCode,_);i(g)}clearTimeout(c)}})});switch(f.on("error",h=>{if(a){let _=new Hl.OTLPExporterError("Request Timeout",h.code);i(_)}else clearTimeout(c),i(h)}),e.compression){case da.CompressionAlgorithm.GZIP:{$l||($l=lN.createGzip()),f.setHeader("Content-Encoding","gzip"),fN(t).on("error",i).pipe($l).on("error",i).pipe(f);break}default:f.end(t);break}}tr.sendWithHttp=dN;function fN(e){let t=new pN.Readable;return t.push(e),t.push(null),t}function hN(e){if(e.httpAgentOptions&&e.keepAlive===!1){Gl.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new NE.URL(e.url).protocol==="http:"?xE.Agent:LE.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){Gl.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}tr.createHttpAgent=hN;function _N(e){return e||(((0,ME.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,ME.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===da.CompressionAlgorithm.GZIP?da.CompressionAlgorithm.GZIP:da.CompressionAlgorithm.NONE)}tr.configureCompression=_N});var FE=p(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.OTLPExporterNodeBase=void 0;var gN=ca(),mN=wi(),Yl=Vl(),DE=B(),BE=J(),UE=class extends gN.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&DE.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,mN.parseHeaders)(t.headers),BE.baggageUtils.parseKeyPairsIntoRecord((0,BE.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,Yl.createHttpAgent)(t),this.compression=(0,Yl.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){DE.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=new Promise((a,u)=>{(0,Yl.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(o);let s=()=>{let a=this._sendingPromises.indexOf(o);this._sendingPromises.splice(a,1)};o.then(s,s)}onShutdown(){}};fa.OTLPExporterNodeBase=UE});var jE=p(Bt=>{"use strict";var EN=Bt&&Bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wl=Bt&&Bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EN(t,e,r)};Object.defineProperty(Bt,"__esModule",{value:!0});Wl(FE(),Bt);Wl(Vl(),Bt);Wl(ql(),Bt)});var qE=p(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.sendWithXhr=bn.sendWithBeacon=void 0;var kE=B(),Kl=pa();function yN(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))kE.diag.debug("sendBeacon - can send",e),n();else{let o=new Kl.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(o)}}bn.sendWithBeacon=yN;function vN(e,t,r,n,i,o){let s,a=setTimeout(()=>{s=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([l,d])=>{u.setRequestHeader(l,d)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),kE.diag.debug("xhr success",e),i();else if(s){let l=new Kl.OTLPExporterError("Request Timeout",u.status);o(l)}else{let l=new Kl.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),o(l)}}}bn.sendWithXhr=vN});var VE=p(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha.OTLPExporterBrowserBase=void 0;var AN=ca(),bN=wi(),GE=qE(),SN=B(),HE=J(),$E=class extends AN.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,bN.parseHeaders)(t.headers),HE.baggageUtils.parseKeyPairsIntoRecord((0,HE.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){SN.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=JSON.stringify(i),s=new Promise((u,c)=>{this._useXHR?(0,GE.sendWithXhr)(o,this.url,this._headers,this.timeoutMillis,u,c):(0,GE.sendWithBeacon)(o,this.url,{type:"application/json"},u,c)}).then(r,n);this._sendingPromises.push(s);let a=()=>{let u=this._sendingPromises.indexOf(s);this._sendingPromises.splice(u,1)};s.then(a,a)}};ha.OTLPExporterBrowserBase=$E});var YE=p(xr=>{"use strict";var TN=xr&&xr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RN=xr&&xr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&TN(t,e,r)};Object.defineProperty(xr,"__esModule",{value:!0});RN(VE(),xr)});var WE=p(Ut=>{"use strict";var ON=Ut&&Ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CN=Ut&&Ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ON(t,e,r)};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.OTLPExporterBrowserBase=void 0;CN(jE(),Ut);var PN=YE();Object.defineProperty(Ut,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return PN.OTLPExporterBrowserBase}})});var Xl=p(yt=>{"use strict";var IN=yt&&yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_a=yt&&yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&IN(t,e,r)};Object.defineProperty(yt,"__esModule",{value:!0});_a(ca(),yt);_a(WE(),yt);_a(pa(),yt);_a(wi(),yt)});var XE=p(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0})});var QE=p(zE=>{"use strict";Object.defineProperty(zE,"__esModule",{value:!0})});var JE=p(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0})});var ey=p(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.ESpanKind=void 0;var wN;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(wN=Li.ESpanKind||(Li.ESpanKind={}))});var ga=p(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.bufToHex=tt.hexToBuf=tt.toAnyValue=tt.toKeyValue=tt.toAttributes=void 0;function NN(e){return Object.keys(e).map(t=>zl(t,e[t]))}tt.toAttributes=NN;function zl(e,t){return{key:e,value:Ql(t)}}tt.toKeyValue=zl;function Ql(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Ql)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>zl(r,n))}}:{}}tt.toAnyValue=Ql;function xN(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}tt.hexToBuf=xN;function LN(e){return("0"+e.toString(16)).slice(-2)}function MN(e){if(!(e==null||e.length===0))return Array.from(e).map(LN).join("")}tt.bufToHex=MN});var ny=p(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.toOtlpSpanEvent=rr.toOtlpLink=rr.sdkSpanToOtlpSpan=void 0;var Zl=J(),Jl=ga(),Mi=J();function DN(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?Mi.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:Mi.hexToBase64(r.traceId),spanId:t?r.spanId:Mi.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,Zl.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,Zl.hrTimeToNanoseconds)(e.endTime),attributes:(0,Jl.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(ry),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(o=>ty(o,t)),droppedLinksCount:0}}rr.sdkSpanToOtlpSpan=DN;function ty(e,t){return{attributes:e.attributes?(0,Jl.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:Mi.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:Mi.hexToBase64(e.context.traceId),droppedAttributesCount:0}}rr.toOtlpLink=ty;function ry(e){return{attributes:e.attributes?(0,Jl.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,Zl.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}rr.toOtlpSpanEvent=ry});var iy=p(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});ma.createExportTraceServiceRequest=void 0;var BN=ga(),UN=ny();function FN(e,t){return{resourceSpans:kN(e,t)}}ma.createExportTraceServiceRequest=FN;function jN(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,o=n.get(i);o||(o=[],n.set(i,o)),o.push(r)}return t}function kN(e,t){let r=jN(e),n=[],i=r.entries(),o=i.next();for(;!o.done;){let[s,a]=o.value,u=[],c=a.values(),l=c.next();for(;!l.done;){let f=l.value;if(f.length>0){let{name:h,version:_,schemaUrl:g}=f[0].instrumentationLibrary,A=f.map(b=>(0,UN.sdkSpanToOtlpSpan)(b,t));u.push({scope:{name:h,version:_},spans:A,schemaUrl:g})}l=c.next()}let d={resource:{attributes:(0,BN.toAttributes)(s.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(d),o=i.next()}return n}});var ap=p(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=G.NOOP_OBSERVABLE_GAUGE_METRIC=G.NOOP_OBSERVABLE_COUNTER_METRIC=G.NOOP_UP_DOWN_COUNTER_METRIC=G.NOOP_HISTOGRAM_METRIC=G.NOOP_COUNTER_METRIC=G.NOOP_METER=G.NoopObservableUpDownCounterMetric=G.NoopObservableGaugeMetric=G.NoopObservableCounterMetric=G.NoopObservableMetric=G.NoopHistogramMetric=G.NoopUpDownCounterMetric=G.NoopCounterMetric=G.NoopMetric=G.NoopMeter=void 0;var ep=class{constructor(){}createHistogram(t,r){return G.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return G.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return G.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return G.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return G.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};G.NoopMeter=ep;var Di=class{};G.NoopMetric=Di;var tp=class extends Di{add(t,r){}};G.NoopCounterMetric=tp;var rp=class extends Di{add(t,r){}};G.NoopUpDownCounterMetric=rp;var np=class extends Di{record(t,r){}};G.NoopHistogramMetric=np;var Bi=class{addCallback(t){}removeCallback(t){}};G.NoopObservableMetric=Bi;var ip=class extends Bi{};G.NoopObservableCounterMetric=ip;var op=class extends Bi{};G.NoopObservableGaugeMetric=op;var sp=class extends Bi{};G.NoopObservableUpDownCounterMetric=sp;G.NOOP_METER=new ep;G.NOOP_COUNTER_METRIC=new tp;G.NOOP_HISTOGRAM_METRIC=new np;G.NOOP_UP_DOWN_COUNTER_METRIC=new rp;G.NOOP_OBSERVABLE_COUNTER_METRIC=new ip;G.NOOP_OBSERVABLE_GAUGE_METRIC=new op;G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new sp});var cp=p(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.NOOP_METER_PROVIDER=Sn.NoopMeterProvider=void 0;var qN=ap(),up=class{getMeter(t,r,n){return qN.NOOP_METER}};Sn.NoopMeterProvider=up;Sn.NOOP_METER_PROVIDER=new up});var sy=p(oy=>{"use strict";Object.defineProperty(oy,"__esModule",{value:!0})});var uy=p(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0})});var cy=p(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.ValueType=void 0;var GN;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(GN=Ui.ValueType||(Ui.ValueType={}))});var py=p(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0})});var dy=p(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea._globalThis=void 0;Ea._globalThis=typeof globalThis=="object"?globalThis:global});var fy=p(Lr=>{"use strict";var HN=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$N=Lr&&Lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HN(t,e,r)};Object.defineProperty(Lr,"__esModule",{value:!0});$N(dy(),Lr)});var hy=p(Mr=>{"use strict";var VN=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),YN=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&VN(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});YN(fy(),Mr)});var _y=p(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.API_BACKWARDS_COMPATIBILITY_VERSION=vt.makeGetter=vt._global=vt.GLOBAL_METRICS_API_KEY=void 0;var WN=hy();vt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");vt._global=WN._globalThis;function KN(e,t,r){return n=>n===e?t:r}vt.makeGetter=KN;vt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var my=p(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.MetricsAPI=void 0;var gy=cp(),rt=_y(),ya=class{constructor(){}static getInstance(){return this._instance||(this._instance=new ya),this._instance}setGlobalMeterProvider(t){return rt._global[rt.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(rt._global[rt.GLOBAL_METRICS_API_KEY]=(0,rt.makeGetter)(rt.API_BACKWARDS_COMPATIBILITY_VERSION,t,gy.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=rt._global[rt.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(rt._global,rt.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:gy.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete rt._global[rt.GLOBAL_METRICS_API_KEY]}};va.MetricsAPI=ya});var Rn=p(je=>{"use strict";var XN=je&&je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tn=je&&je.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&XN(t,e,r)};Object.defineProperty(je,"__esModule",{value:!0});je.metrics=void 0;Tn(ap(),je);Tn(cp(),je);Tn(sy(),je);Tn(uy(),je);Tn(cy(),je);Tn(py(),je);var zN=my();je.metrics=zN.MetricsAPI.getInstance()});var Aa=p(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.AggregationTemporality=void 0;var QN;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(QN=Fi.AggregationTemporality||(Fi.AggregationTemporality={}))});var ki=p(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.DataPointType=void 0;var ZN;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})(ZN=ji.DataPointType||(ji.DataPointType={}))});var yy=p(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.ConsoleMetricExporter=void 0;var JN=Aa(),ex=J(),Ey=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:JN.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:ex.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};ba.ConsoleMetricExporter=Ey});var Ay=p(vy=>{"use strict";Object.defineProperty(vy,"__esModule",{value:!0})});var Ft=p(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.setEquals=he.FlatMap=he.isPromiseAllSettledRejectionResult=he.PromiseAllSettled=he.callWithTimeout=he.TimeoutError=he.instrumentationScopeId=he.hashAttributes=he.isNotNullish=void 0;function tx(e){return e!=null}he.isNotNullish=tx;function rx(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}he.hashAttributes=rx;function nx(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}he.instrumentationScopeId=nx;var qi=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,qi.prototype)}};he.TimeoutError=qi;function ix(e,t){let r,n=new Promise(function(o,s){r=setTimeout(function(){s(new qi("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}he.callWithTimeout=ix;async function ox(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}he.PromiseAllSettled=ox;function sx(e){return e.status==="rejected"}he.isPromiseAllSettledRejectionResult=sx;function ax(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}he.FlatMap=ax;function ux(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}he.setEquals=ux});var lp=p(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.MetricReader=void 0;var by=B(),Sy=Ft(),Ty=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){by.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,Sy.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){by.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,Sy.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};Sa.MetricReader=Ty});var Iy=p(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.PeriodicExportingMetricReader=void 0;var Ry=B(),Oy=J(),cx=lp(),Cy=Ft(),Py=class extends cx.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&Ry.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,o=>{var s;o.code!==Oy.ExportResultCode.SUCCESS?i((s=o.error)!==null&&s!==void 0?s:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${o.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,Cy.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof Cy.TimeoutError){Ry.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,Oy.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};Ta.PeriodicExportingMetricReader=Py});var Dr=p(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.isDescriptorCompatibleWith=ut.createInstrumentDescriptorWithView=ut.createInstrumentDescriptor=ut.InstrumentType=void 0;var lx=Rn(),px;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(px=ut.InstrumentType||(ut.InstrumentType={}));function dx(e,t,r){var n,i,o;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(o=r==null?void 0:r.valueType)!==null&&o!==void 0?o:lx.ValueType.DOUBLE}}ut.createInstrumentDescriptor=dx;function fx(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}ut.createInstrumentDescriptorWithView=fx;function hx(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}ut.isDescriptorCompatibleWith=hx});var Oa=p(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.isObservableInstrument=_e.ObservableUpDownCounterInstrument=_e.ObservableGaugeInstrument=_e.ObservableCounterInstrument=_e.ObservableInstrument=_e.HistogramInstrument=_e.CounterInstrument=_e.UpDownCounterInstrument=_e.SyncInstrument=void 0;var Ra=B(),_x=Rn(),Gi=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=Ra.context.active()){this._descriptor.valueType===_x.ValueType.INT&&!Number.isInteger(t)&&(Ra.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};_e.SyncInstrument=Gi;var wy=class extends Gi{add(t,r,n){this._record(t,r,n)}};_e.UpDownCounterInstrument=wy;var Ny=class extends Gi{add(t,r,n){if(t<0){Ra.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};_e.CounterInstrument=Ny;var xy=class extends Gi{record(t,r,n){if(t<0){Ra.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};_e.HistogramInstrument=xy;var On=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};_e.ObservableInstrument=On;var Ly=class extends On{};_e.ObservableCounterInstrument=Ly;var My=class extends On{};_e.ObservableGaugeInstrument=My;var Dy=class extends On{};_e.ObservableUpDownCounterInstrument=Dy;function gx(e){return e instanceof On}_e.isObservableInstrument=gx});var pp=p(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.Meter=void 0;var nt=Dr(),Cn=Oa(),By=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,nt.createInstrumentDescriptor)(t,nt.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new Cn.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,nt.createInstrumentDescriptor)(t,nt.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Cn.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,nt.createInstrumentDescriptor)(t,nt.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new Cn.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,nt.createInstrumentDescriptor)(t,nt.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Cn.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,nt.createInstrumentDescriptor)(t,nt.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Cn.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,nt.createInstrumentDescriptor)(t,nt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new Cn.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Ca.Meter=By});var Ia=p(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ExactPredicate=Pn.PatternPredicate=void 0;var mx=/[\^$\\.+?()[\]{}|]/g,Pa=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(Pa.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(mx,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Pn.PatternPredicate=Pa;var Uy=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Pn.ExactPredicate=Uy});var dp=p(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});wa.InstrumentSelector=void 0;var Ex=Ia(),Fy=class{constructor(t){var r;this._nameFilter=new Ex.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};wa.InstrumentSelector=Fy});var hp=p(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.MeterSelector=void 0;var fp=Ia(),jy=class{constructor(t){this._nameFilter=new fp.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new fp.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new fp.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Na.MeterSelector=jy});var $i=p(Hi=>{"use strict";Object.defineProperty(Hi,"__esModule",{value:!0});Hi.AggregatorKind=void 0;var yx;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(yx=Hi.AggregatorKind||(Hi.AggregatorKind={}))});var qy=p(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.DropAggregator=void 0;var vx=$i(),ky=class{constructor(){this.kind=vx.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,o){}};xa.DropAggregator=ky});var Hy=p(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.HistogramAggregator=In.HistogramAccumulation=void 0;var Ax=$i(),bx=ki();function Sx(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var Vi=class{constructor(t,r=Sx(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};In.HistogramAccumulation=Vi;var Gy=class{constructor(t){this._boundaries=t,this.kind=Ax.AggregatorKind.HISTOGRAM}createAccumulation(){return new Vi(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=o[u]+s[u];return new Vi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=s[u]-o[u];return new Vi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:bx.DataPointType.HISTOGRAM,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};In.HistogramAggregator=Gy});var Vy=p(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.LastValueAggregator=wn.LastValueAccumulation=void 0;var Tx=$i(),Yi=J(),Rx=ki(),Wi=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,Yi.hrTime)()}toPointValue(){return this._current}};wn.LastValueAccumulation=Wi;var $y=class{constructor(){this.kind=Tx.AggregatorKind.LAST_VALUE}createAccumulation(){return new Wi}merge(t,r){let n=(0,Yi.hrTimeToMicroseconds)(r.sampleTime)>=(0,Yi.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Wi(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,Yi.hrTimeToMicroseconds)(r.sampleTime)>=(0,Yi.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Wi(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:Rx.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};wn.LastValueAggregator=$y});var Wy=p(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.SumAggregator=Nn.SumAccumulation=void 0;var Ox=$i(),Cx=ki(),Ki=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};Nn.SumAccumulation=Ki;var Yy=class{constructor(){this.kind=Ox.AggregatorKind.SUM}createAccumulation(){return new Ki}merge(t,r){return new Ki(t.toPointValue()+r.toPointValue())}diff(t,r){return new Ki(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:Cx.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};Nn.SumAggregator=Yy});var Ky=p(At=>{"use strict";var Px=At&&At.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),La=At&&At.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Px(t,e,r)};Object.defineProperty(At,"__esModule",{value:!0});La(qy(),At);La(Hy(),At);La(Vy(),At);La(Wy(),At)});var gp=p(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.DefaultAggregation=Pe.ExplicitBucketHistogramAggregation=Pe.HistogramAggregation=Pe.LastValueAggregation=Pe.SumAggregation=Pe.DropAggregation=Pe.Aggregation=void 0;var Ix=B(),Xi=Ky(),xn=Dr(),nr=class{static Drop(){return zy}static Sum(){return Qy}static LastValue(){return Zy}static Histogram(){return Jy}static Default(){return wx}};Pe.Aggregation=nr;var Ln=class extends nr{createAggregator(t){return Ln.DEFAULT_INSTANCE}};Pe.DropAggregation=Ln;Ln.DEFAULT_INSTANCE=new Xi.DropAggregator;var Mn=class extends nr{createAggregator(t){return Mn.DEFAULT_INSTANCE}};Pe.SumAggregation=Mn;Mn.DEFAULT_INSTANCE=new Xi.SumAggregator;var Dn=class extends nr{createAggregator(t){return Dn.DEFAULT_INSTANCE}};Pe.LastValueAggregation=Dn;Dn.DEFAULT_INSTANCE=new Xi.LastValueAggregator;var Bn=class extends nr{createAggregator(t){return Bn.DEFAULT_INSTANCE}};Pe.HistogramAggregation=Bn;Bn.DEFAULT_INSTANCE=new Xi.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var Xy=class extends nr{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,o)=>i-o);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new Xi.HistogramAggregator(this._boundaries)}};Pe.ExplicitBucketHistogramAggregation=Xy;var _p=class extends nr{_resolve(t){switch(t.type){case xn.InstrumentType.COUNTER:case xn.InstrumentType.UP_DOWN_COUNTER:case xn.InstrumentType.OBSERVABLE_COUNTER:case xn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return Qy;case xn.InstrumentType.OBSERVABLE_GAUGE:return Zy;case xn.InstrumentType.HISTOGRAM:return Jy}return Ix.diag.warn(`Unable to recognize instrument type: ${t.type}`),zy}createAggregator(t){return this._resolve(t).createAggregator(t)}};Pe.DefaultAggregation=_p;var zy=new Ln,Qy=new Mn,Zy=new Dn,Jy=new Bn,wx=new _p});var Ep=p(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.FilteringAttributesProcessor=ir.NoopAttributesProcessor=ir.AttributesProcessor=void 0;var Ma=class{static Noop(){return Nx}};ir.AttributesProcessor=Ma;var mp=class extends Ma{process(t,r){return t}};ir.NoopAttributesProcessor=mp;var ev=class extends Ma{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};ir.FilteringAttributesProcessor=ev;var Nx=new mp});var yp=p(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.View=void 0;var xx=gp(),Lx=Ep(),tv=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:xx.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:Lx.AttributesProcessor.Noop()}};Da.View=tv});var rv=p(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.ViewRegistry=void 0;var Mx=dp(),Dx=hp(),Bx=yp(),zi=class{constructor(){this._registeredViews=[]}addView(t,r=new Mx.InstrumentSelector,n=new Dx.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[zi.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};Ba.ViewRegistry=zi;zi.DEFAULT_VIEW=new Bx.View});var vp=p(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.MetricStorage=void 0;var Ux=Dr(),nv=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,Ux.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};Ua.MetricStorage=nv});var Qi=p(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.AttributeHashMap=Un.HashMap=void 0;var Fx=Ft(),Ap=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Un.HashMap=Ap;var iv=class extends Ap{constructor(){super(Fx.hashAttributes)}};Un.AttributeHashMap=iv});var Sp=p(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.DeltaMetricProcessor=void 0;var bp=Qi(),ov=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new bp.AttributeHashMap,this._cumulativeMemoStorage=new bp.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let o=this._aggregator.createAccumulation();if(o==null||o.record(n),this._cumulativeMemoStorage.has(r,i)){let s=this._cumulativeMemoStorage.get(r,i);o=this._aggregator.diff(s,o)}this._cumulativeMemoStorage.set(r,o,i),this._activeCollectionStorage.set(r,o,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new bp.AttributeHashMap,t}};Fa.DeltaMetricProcessor=ov});var Tp=p(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.TemporalMetricProcessor=void 0;var sv=Aa(),jx=Qi(),Zi=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,o,s){let a=o;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),c=u,l;if(this._reportHistory.has(t)){let d=this._reportHistory.get(t);a=d.collectionTime,l=d.aggregationTemporality,l===sv.AggregationTemporality.CUMULATIVE&&(c=Zi.merge(d.accumulations,u,this._aggregator))}else l=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:c,collectionTime:s,aggregationTemporality:l}),this._aggregator.toMetricData(n,l,kx(c),l===sv.AggregationTemporality.CUMULATIVE?o:a,s)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new jx.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=Zi.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let o=t,s=r.entries(),a=s.next();for(;a.done!==!0;){let[u,c,l]=a.value,d=(i=t.get(u,l))!==null&&i!==void 0?i:n.createAccumulation();o.set(u,n.merge(d,c),l),a=s.next()}return o}};ja.TemporalMetricProcessor=Zi;function kx(e){return Array.from(e.entries())}});var uv=p(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.AsyncMetricStorage=void 0;var qx=vp(),Gx=Sp(),Hx=Tp(),$x=Qi(),av=class extends qx.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Gx.DeltaMetricProcessor(r),this._temporalMetricStorage=new Hx.TemporalMetricProcessor(r)}record(t){let r=new $x.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};ka.AsyncMetricStorage=av});var fv=p(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.getConflictResolutionRecipe=ke.getDescriptionResolutionRecipe=ke.getTypeConflictResolutionRecipe=ke.getUnitConflictResolutionRecipe=ke.getValueTypeConflictResolutionRecipe=ke.getIncompatibilityDetails=void 0;function Vx(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}ke.getIncompatibilityDetails=Vx;function cv(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getValueTypeConflictResolutionRecipe=cv;function lv(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getUnitConflictResolutionRecipe=lv;function pv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}ke.getTypeConflictResolutionRecipe=pv;function dv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}ke.getDescriptionResolutionRecipe=dv;function Yx(e,t){return e.valueType!==t.valueType?cv(e,t):e.unit!==t.unit?lv(e,t):e.type!==t.type?pv(e,t):e.description!==t.description?dv(e,t):""}ke.getConflictResolutionRecipe=Yx});var _v=p(Ha=>{"use strict";Object.defineProperty(Ha,"__esModule",{value:!0});Ha.MetricStorageRegistry=void 0;var Wx=Dr(),hv=B(),qa=fv(),Ga=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new Ga}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let o of n){let s=o.getInstrumentDescriptor();(0,Wx.isDescriptorCompatibleWith)(s,r)?(s.description!==r.description&&(r.description.length>s.description.length&&o.updateDescription(r.description),hv.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,qa.getIncompatibilityDetails)(s,r),`The longer description will be used.
To resolve the conflict:`,(0,qa.getConflictResolutionRecipe)(s,r))),i=o):hv.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,qa.getIncompatibilityDetails)(s,r),`To resolve the conflict:
`,(0,qa.getConflictResolutionRecipe)(s,r))}return i!=null?i:(n.push(t),t)}};Ha.MetricStorageRegistry=Ga});var mv=p($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.MultiMetricStorage=void 0;var gv=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};$a.MultiMetricStorage=gv});var Rp=p(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.BatchObservableResultImpl=Fn.ObservableResultImpl=void 0;var Ev=B(),yv=Rn(),vv=Qi(),Kx=Oa(),Av=class{constructor(t){this._descriptor=t,this._buffer=new vv.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===yv.ValueType.INT&&!Number.isInteger(t)&&(Ev.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};Fn.ObservableResultImpl=Av;var bv=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,Kx.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new vv.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===yv.ValueType.INT&&!Number.isInteger(r)&&(Ev.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};Fn.BatchObservableResultImpl=bv});var Ov=p(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.ObservableRegistry=void 0;var Xx=B(),Sv=Oa(),Tv=Rp(),Ji=Ft(),Rv=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(Sv.isObservableInstrument));if(n.size===0){Xx.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(Sv.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,Ji.PromiseAllSettled)([...r,...n])).filter(Ji.isPromiseAllSettledRejectionResult).map(s=>s.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new Tv.ObservableResultImpl(n._descriptor),o=Promise.resolve(r(i));t!=null&&(o=(0,Ji.callWithTimeout)(o,t)),await o,n._metricStorages.forEach(s=>{s.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new Tv.BatchObservableResultImpl,o=Promise.resolve(r(i));t!=null&&(o=(0,Ji.callWithTimeout)(o,t)),await o,n.forEach(s=>{let a=i._buffer.get(s);a!=null&&s._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Ji.setEquals)(n.instruments,r))}};Va.ObservableRegistry=Rv});var Pv=p(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.SyncMetricStorage=void 0;var zx=vp(),Qx=Sp(),Zx=Tp(),Cv=class extends zx.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Qx.DeltaMetricProcessor(r),this._temporalMetricStorage=new Zx.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};Ya.SyncMetricStorage=Cv});var Nv=p(Ka=>{"use strict";Object.defineProperty(Ka,"__esModule",{value:!0});Ka.MeterSharedState=void 0;var Iv=Dr(),Jx=pp(),Wa=Ft(),eL=uv(),tL=_v(),rL=mv(),nL=Ov(),iL=Pv(),wv=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new tL.MetricStorageRegistry,this.observableRegistry=new nL.ObservableRegistry,this.meter=new Jx.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Iv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new iL.SyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Wa.isNotNullish);return n.length===1?n[0]:new rL.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Iv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new eL.AsyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Wa.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),o=Array.from(this._metricStorageRegistry.getStorages()).map(s=>s.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(Wa.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:o.filter(Wa.isNotNullish)},errors:i}}};Ka.MeterSharedState=wv});var Lv=p(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.MeterProviderSharedState=void 0;var oL=J(),sL=Ft(),aL=rv(),uL=Nv(),xv=class{constructor(t){this.resource=t,this.viewRegistry=new aL.ViewRegistry,this.sdkStartTime=(0,oL.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,sL.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new uL.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};Xa.MeterProviderSharedState=xv});var Dv=p(za=>{"use strict";Object.defineProperty(za,"__esModule",{value:!0});za.MetricCollector=void 0;var cL=J(),lL=Ft(),Mv=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,cL.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(o=>o.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(o=>o.scopeMetrics)},errors:(0,lL.FlatMap)(i,o=>o.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};za.MetricCollector=Mv});var Uv=p(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.MeterProvider=void 0;var Op=B(),pL=Rn(),dL=Pi(),fL=Lv(),hL=dp(),_L=hp(),gL=yp(),mL=Dv(),EL=Ep(),yL=Ia();function vL(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var Bv=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new fL.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:dL.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(Op.diag.warn("A shutdown MeterProvider cannot provide a Meter"),pL.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new mL.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(vL(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||yL.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new EL.FilteringAttributesProcessor(t.attributeKeys));let o=new gL.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),s=new hL.InstrumentSelector(r==null?void 0:r.instrument),a=new _L.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(o,s,a)}async shutdown(t){if(this._shutdown){Op.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){Op.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Qa.MeterProvider=Bv});var Fv=p(ge=>{"use strict";var AL=ge&&ge.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bt=ge&&ge.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AL(t,e,r)};Object.defineProperty(ge,"__esModule",{value:!0});ge.TimeoutError=ge.InstrumentType=void 0;bt(Aa(),ge);bt(ki(),ge);bt(yy(),ge);bt(Ay(),ge);bt(lp(),ge);bt(Iy(),ge);var bL=Dr();Object.defineProperty(ge,"InstrumentType",{enumerable:!0,get:function(){return bL.InstrumentType}});bt(pp(),ge);bt(Uv(),ge);bt(Rp(),ge);var SL=Ft();Object.defineProperty(ge,"TimeoutError",{enumerable:!0,get:function(){return SL.TimeoutError}});bt(gp(),ge)});var Gv=p(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.toMetric=or.toScopeMetrics=or.toResourceMetrics=void 0;var jv=Rn(),Za=J(),St=Fv(),Cp=ga();function TL(e){return{resource:{attributes:(0,Cp.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:kv(e.scopeMetrics)}}or.toResourceMetrics=TL;function kv(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>qv(n)),schemaUrl:t.scope.schemaUrl})))}or.toScopeMetrics=kv;function qv(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=wL(e.aggregationTemporality);if(e.dataPointType===St.DataPointType.SINGULAR){let n=OL(e),i=e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER;PL(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else IL(e)&&(t.histogram={aggregationTemporality:r,dataPoints:CL(e)});return t}or.toMetric=qv;function RL(e,t){let r={attributes:(0,Cp.toAttributes)(e.attributes),startTimeUnixNano:(0,Za.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Za.hrTimeToNanoseconds)(e.endTime)};return t===jv.ValueType.INT?r.asInt=e.value:t===jv.ValueType.DOUBLE&&(r.asDouble=e.value),r}function OL(e){return e.dataPoints.map(t=>RL(t,e.descriptor.valueType))}function CL(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,Cp.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Za.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Za.hrTimeToNanoseconds)(t.endTime)}})}function PL(e){return e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function IL(e){return e.dataPointType===St.DataPointType.HISTOGRAM}function wL(e){return e===St.AggregationTemporality.DELTA?1:e===St.AggregationTemporality.CUMULATIVE?2:0}});var Hv=p(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.createExportMetricsServiceRequest=void 0;var NL=Gv();function xL(e){return{resourceMetrics:e.map(t=>(0,NL.toResourceMetrics)(t))}}Ja.createExportMetricsServiceRequest=xL});var $v=p(qe=>{"use strict";var LL=qe&&qe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eu=qe&&qe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LL(t,e,r)};Object.defineProperty(qe,"__esModule",{value:!0});qe.createExportMetricsServiceRequest=qe.createExportTraceServiceRequest=void 0;eu(XE(),qe);eu(QE(),qe);eu(JE(),qe);eu(ey(),qe);var ML=iy();Object.defineProperty(qe,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return ML.createExportTraceServiceRequest}});var DL=Hv();Object.defineProperty(qe,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return DL.createExportMetricsServiceRequest}})});var Wv=p(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.OTLPTraceExporter=void 0;var jn=J(),BL=Xl(),Vv=Xl(),UL=$v(),Pp="v1/traces",FL=`http://localhost:4318/${Pp}`,Yv=class extends BL.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,jn.baggageUtils.parseKeyPairsIntoRecord((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,UL.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,Vv.appendRootPathToUrlIfNeeded)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,Pp):(0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,Vv.appendResourcePathToUrl)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,Pp):FL}};tu.OTLPTraceExporter=Yv});var Kv=p(Br=>{"use strict";var jL=Br&&Br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kL=Br&&Br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jL(t,e,r)};Object.defineProperty(Br,"__esModule",{value:!0});kL(Wv(),Br)});var Xv=p(Ur=>{"use strict";var qL=Ur&&Ur.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GL=Ur&&Ur.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qL(t,e,r)};Object.defineProperty(Ur,"__esModule",{value:!0});GL(Kv(),Ur)});var zv=p(Fr=>{"use strict";var HL=Fr&&Fr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$L=Fr&&Fr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HL(t,e,r)};Object.defineProperty(Fr,"__esModule",{value:!0});$L(Xv(),Fr)});var nu=p(it=>{"use strict";it.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;it.find=(e,t)=>e.nodes.find(r=>r.type===t);it.exceedsLimit=(e,t,r=1,n)=>n===!1||!it.isInteger(e)||!it.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;it.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};it.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;it.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;it.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;it.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);it.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var iu=p((_k,lA)=>{"use strict";var cA=nu();lA.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&cA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||s)&&cA.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var dA=p((gk,pA)=>{"use strict";pA.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var AA=p((mk,vA)=>{"use strict";var fA=dA(),qr=(e,t,r)=>{if(fA(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(fA(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=q({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+o+s+a;if(qr.cache.hasOwnProperty(u))return qr.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(Math.abs(c-l)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let d=yA(e)||yA(t),f={min:e,max:t,a:c,b:l},h=[],_=[];if(d&&(f.isPadded=d,f.maxLen=String(f.max).length),c<0){let g=l<0?Math.abs(l):1;_=hA(g,Math.abs(c),f,n),c=f.a=0}return l>=0&&(h=hA(c,l,f,n)),f.negatives=_,f.positives=h,f.result=YL(_,h,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&h.length+_.length>1&&(f.result=`(?:${f.result})`),qr.cache[u]=f,f.result};function YL(e,t,r){let n=wp(e,t,"-",!1,r)||[],i=wp(t,e,"",!1,r)||[],o=wp(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function WL(e,t){let r=1,n=1,i=gA(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=gA(e,r);for(i=mA(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=mA(t+1,n)-1;return o=[...o],o.sort(zL),o}function KL(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=XL(e,t),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?o+=u:u!=="0"||c!=="9"?o+=QL(u,c,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function hA(e,t,r,n){let i=WL(e,t),o=[],s=e,a;for(let u=0;u<i.length;u++){let c=i[u],l=KL(String(s),String(c),n),d="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+EA(a.count),s=c+1;continue}r.isPadded&&(d=ZL(c,r,n)),l.string=d+l.pattern+EA(l.count),o.push(l),s=c+1,a=l}return o}function wp(e,t,r,n,i){let o=[];for(let s of e){let{string:a}=s;!n&&!_A(t,"string",a)&&o.push(r+a),n&&_A(t,"string",a)&&o.push(r+a)}return o}function XL(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function zL(e,t){return e>t?1:t>e?-1:0}function _A(e,t,r){return e.some(n=>n[t]===r)}function gA(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function mA(e,t){return e-e%Math.pow(10,t)}function EA(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function QL(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function yA(e){return/^-?(0+)\d/.test(e)}function ZL(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}qr.cache={};qr.clearCache=()=>qr.cache={};vA.exports=qr});var Lp=p((Ek,IA)=>{"use strict";var JL=I("util"),bA=AA(),SA=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),eM=e=>t=>e===!0?Number(t):String(t),Np=e=>typeof e=="number"||typeof e=="string"&&e!=="",to=e=>Number.isInteger(+e),xp=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},tM=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,rM=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},TA=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},nM=(e,t)=>{e.negatives.sort((s,a)=>s<a?-1:s>a?1:0),e.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},RA=(e,t,r,n)=>{if(r)return bA(e,t,q({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},OA=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return bA(e,t,r)},CA=(...e)=>new RangeError("Invalid range arguments: "+JL.inspect(...e)),PA=(e,t,r)=>{if(r.strictRanges===!0)throw CA([e,t]);return[]},iM=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},oM=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw CA([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let l=xp(a)||xp(u)||xp(c),d=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&tM(e,t,n)===!1,h=n.transform||eM(f);if(n.toRegex&&r===1)return RA(TA(e,d),TA(t,d),!0,n);let _={negatives:[],positives:[]},g=v=>_[v<0?"negatives":"positives"].push(Math.abs(v)),A=[],b=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?g(i):A.push(rM(h(i,b),d,f)),i=s?i-r:i+r,b++;return n.toRegex===!0?r>1?nM(_,n):OA(A,null,q({wrap:!1},n)):A},sM=(e,t,r=1,n={})=>{if(!to(e)&&e.length>1||!to(t)&&t.length>1)return PA(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=o>s,u=Math.min(o,s),c=Math.max(o,s);if(n.toRegex&&r===1)return RA(u,c,!1,n);let l=[],d=0;for(;a?o>=s:o<=s;)l.push(i(o,d)),o=a?o-r:o+r,d++;return n.toRegex===!0?OA(l,null,{wrap:!1,options:n}):l},ou=(e,t,r,n={})=>{if(t==null&&Np(e))return[e];if(!Np(e)||!Np(t))return PA(e,t,n);if(typeof r=="function")return ou(e,t,1,{transform:r});if(SA(r))return ou(e,t,0,r);let i=q({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,to(r)?to(e)&&to(t)?oM(e,t,r,i):sM(e,t,Math.max(Math.abs(r),1),i):r!=null&&!SA(r)?iM(r,i):ou(e,t,1,r)};IA.exports=ou});var xA=p((yk,NA)=>{"use strict";var aM=Lp(),wA=nu(),uM=(e,t={})=>{let r=(n,i={})=>{let o=wA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||s===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=wA.reduce(n.nodes),d=aM(...l,ue(q({},t),{wrap:!1,toRegex:!0}));if(d.length!==0)return l.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(e)};NA.exports=uM});var DA=p((vk,MA)=>{"use strict";var cM=Lp(),LA=iu(),qn=nu(),Gr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?qn.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push(Gr(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Gr(i,o,r):i+o);return qn.flatten(n)},lM=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Gr(a.pop(),LA(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Gr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let d=qn.reduce(i.nodes);if(qn.exceedsLimit(...d,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=cM(...d,t);f.length===0&&(f=LA(i,t)),a.push(Gr(a.pop(),f)),i.nodes=[];return}let u=qn.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let d=0;d<i.nodes.length;d++){let f=i.nodes[d];if(f.type==="comma"&&i.type==="brace"){d===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Gr(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Gr(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return qn.flatten(n(e))};MA.exports=lM});var UA=p((Ak,BA)=>{"use strict";BA.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var GA=p((bk,qA)=>{"use strict";var pM=iu(),{MAX_LENGTH:FA,CHAR_BACKSLASH:Mp,CHAR_BACKTICK:dM,CHAR_COMMA:fM,CHAR_DOT:hM,CHAR_LEFT_PARENTHESES:_M,CHAR_RIGHT_PARENTHESES:gM,CHAR_LEFT_CURLY_BRACE:mM,CHAR_RIGHT_CURLY_BRACE:EM,CHAR_LEFT_SQUARE_BRACKET:jA,CHAR_RIGHT_SQUARE_BRACKET:kA,CHAR_DOUBLE_QUOTE:yM,CHAR_SINGLE_QUOTE:vM,CHAR_NO_BREAK_SPACE:AM,CHAR_ZERO_WIDTH_NOBREAK_SPACE:bM}=UA(),SM=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(FA,r.maxLength):FA;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,a=i,u=0,c=e.length,l=0,d=0,f,h={},_=()=>e[l++],g=A=>{if(A.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&A.type==="text"){a.value+=A.value;return}return s.nodes.push(A),A.parent=s,A.prev=a,a=A,A};for(g({type:"bos"});l<c;)if(s=o[o.length-1],f=_(),!(f===bM||f===AM)){if(f===Mp){g({type:"text",value:(t.keepEscaping?f:"")+_()});continue}if(f===kA){g({type:"text",value:"\\"+f});continue}if(f===jA){u++;let A=!0,b;for(;l<c&&(b=_());){if(f+=b,b===jA){u++;continue}if(b===Mp){f+=_();continue}if(b===kA&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===_M){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:f});continue}if(f===gM){if(s.type!=="paren"){g({type:"text",value:f});continue}s=o.pop(),g({type:"text",value:f}),s=o[o.length-1];continue}if(f===yM||f===vM||f===dM){let A=f,b;for(t.keepQuotes!==!0&&(f="");l<c&&(b=_());){if(b===Mp){f+=b+_();continue}if(b===A){t.keepQuotes===!0&&(f+=b);break}f+=b}g({type:"text",value:f});continue}if(f===mM){d++;let A=a.value&&a.value.slice(-1)==="$"||s.dollar===!0;s=g({type:"brace",open:!0,close:!1,dollar:A,depth:d,commas:0,ranges:0,nodes:[]}),o.push(s),g({type:"open",value:f});continue}if(f===EM){if(s.type!=="brace"){g({type:"text",value:f});continue}let A="close";s=o.pop(),s.close=!0,g({type:A,value:f}),d--,s=o[o.length-1];continue}if(f===fM&&d>0){if(s.ranges>0){s.ranges=0;let A=s.nodes.shift();s.nodes=[A,{type:"text",value:pM(s)}]}g({type:"comma",value:f}),s.commas++;continue}if(f===hM&&d>0&&s.commas===0){let A=s.nodes;if(d===0||A.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(s.range=[],a.value+=f,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){A.pop();let b=A[A.length-1];b.value+=a.value+f,a=b,s.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(v=>{v.nodes||(v.type==="open"&&(v.isOpen=!0),v.type==="close"&&(v.isClose=!0),v.nodes||(v.type="text"),v.invalid=!0)});let A=o[o.length-1],b=A.nodes.indexOf(s);A.nodes.splice(b,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};qA.exports=SM});var VA=p((Sk,$A)=>{"use strict";var HA=iu(),TM=xA(),RM=DA(),OM=GA(),We=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=We.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(We.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};We.parse=(e,t={})=>OM(e,t);We.stringify=(e,t={})=>typeof e=="string"?HA(We.parse(e,t),t):HA(e,t);We.compile=(e,t={})=>(typeof e=="string"&&(e=We.parse(e,t)),TM(e,t));We.expand=(e,t={})=>{typeof e=="string"&&(e=We.parse(e,t));let r=RM(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};We.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?We.compile(e,t):We.expand(e,t);$A.exports=We});var ro=p((Tk,zA)=>{"use strict";var CM=I("path"),Ct="\\\\/",YA=`[^${Ct}]`,jt="\\.",PM="\\+",IM="\\?",su="\\/",wM="(?=.)",WA="[^/]",Dp=`(?:${su}|$)`,KA=`(?:^|${su})`,Bp=`${jt}{1,2}${Dp}`,NM=`(?!${jt})`,xM=`(?!${KA}${Bp})`,LM=`(?!${jt}{0,1}${Dp})`,MM=`(?!${Bp})`,DM=`[^.${su}]`,BM=`${WA}*?`,XA={DOT_LITERAL:jt,PLUS_LITERAL:PM,QMARK_LITERAL:IM,SLASH_LITERAL:su,ONE_CHAR:wM,QMARK:WA,END_ANCHOR:Dp,DOTS_SLASH:Bp,NO_DOT:NM,NO_DOTS:xM,NO_DOT_SLASH:LM,NO_DOTS_SLASH:MM,QMARK_NO_DOT:DM,STAR:BM,START_ANCHOR:KA},UM=ue(q({},XA),{SLASH_LITERAL:`[${Ct}]`,QMARK:YA,STAR:`${YA}*?`,DOTS_SLASH:`${jt}{1,2}(?:[${Ct}]|$)`,NO_DOT:`(?!${jt})`,NO_DOTS:`(?!(?:^|[${Ct}])${jt}{1,2}(?:[${Ct}]|$))`,NO_DOT_SLASH:`(?!${jt}{0,1}(?:[${Ct}]|$))`,NO_DOTS_SLASH:`(?!${jt}{1,2}(?:[${Ct}]|$))`,QMARK_NO_DOT:`[^.${Ct}]`,START_ANCHOR:`(?:^|[${Ct}])`,END_ANCHOR:`(?:[${Ct}]|$)`}),FM={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};zA.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:FM,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:CM.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?UM:XA}}});var no=p(Ge=>{"use strict";var jM=I("path"),kM=process.platform==="win32",{REGEX_BACKSLASH:qM,REGEX_REMOVE_BACKSLASH:GM,REGEX_SPECIAL_CHARS:HM,REGEX_SPECIAL_CHARS_GLOBAL:$M}=ro();Ge.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Ge.hasRegexChars=e=>HM.test(e);Ge.isRegexChar=e=>e.length===1&&Ge.hasRegexChars(e);Ge.escapeRegex=e=>e.replace($M,"\\$1");Ge.toPosixSlashes=e=>e.replace(qM,"/");Ge.removeBackslashes=e=>e.replace(GM,t=>t==="\\"?"":t);Ge.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Ge.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:kM===!0||jM.sep==="\\";Ge.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Ge.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Ge.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Ge.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var i0=p((Ok,n0)=>{"use strict";var QA=no(),{CHAR_ASTERISK:Up,CHAR_AT:VM,CHAR_BACKWARD_SLASH:io,CHAR_COMMA:YM,CHAR_DOT:Fp,CHAR_EXCLAMATION_MARK:jp,CHAR_FORWARD_SLASH:ZA,CHAR_LEFT_CURLY_BRACE:kp,CHAR_LEFT_PARENTHESES:qp,CHAR_LEFT_SQUARE_BRACKET:WM,CHAR_PLUS:KM,CHAR_QUESTION_MARK:JA,CHAR_RIGHT_CURLY_BRACE:XM,CHAR_RIGHT_PARENTHESES:e0,CHAR_RIGHT_SQUARE_BRACKET:zM}=ro(),t0=e=>e===ZA||e===io,r0=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},QM=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],u=e,c=-1,l=0,d=0,f=!1,h=!1,_=!1,g=!1,A=!1,b=!1,v=!1,C=!1,U=!1,H=!1,ee=0,k,P,S={value:"",depth:0,isGlob:!1},j=()=>c>=n,m=()=>u.charCodeAt(c+1),O=()=>(k=P,u.charCodeAt(++c));for(;c<n;){P=O();let se;if(P===io){v=S.backslashes=!0,P=O(),P===kp&&(b=!0);continue}if(b===!0||P===kp){for(ee++;j()!==!0&&(P=O());){if(P===io){v=S.backslashes=!0,O();continue}if(P===kp){ee++;continue}if(b!==!0&&P===Fp&&(P=O())===Fp){if(f=S.isBrace=!0,_=S.isGlob=!0,H=!0,i===!0)continue;break}if(b!==!0&&P===YM){if(f=S.isBrace=!0,_=S.isGlob=!0,H=!0,i===!0)continue;break}if(P===XM&&(ee--,ee===0)){b=!1,f=S.isBrace=!0,H=!0;break}}if(i===!0)continue;break}if(P===ZA){if(o.push(c),s.push(S),S={value:"",depth:0,isGlob:!1},H===!0)continue;if(k===Fp&&c===l+1){l+=2;continue}d=c+1;continue}if(r.noext!==!0&&(P===KM||P===VM||P===Up||P===JA||P===jp)===!0&&m()===qp){if(_=S.isGlob=!0,g=S.isExtglob=!0,H=!0,P===jp&&c===l&&(U=!0),i===!0){for(;j()!==!0&&(P=O());){if(P===io){v=S.backslashes=!0,P=O();continue}if(P===e0){_=S.isGlob=!0,H=!0;break}}continue}break}if(P===Up){if(k===Up&&(A=S.isGlobstar=!0),_=S.isGlob=!0,H=!0,i===!0)continue;break}if(P===JA){if(_=S.isGlob=!0,H=!0,i===!0)continue;break}if(P===WM){for(;j()!==!0&&(se=O());){if(se===io){v=S.backslashes=!0,O();continue}if(se===zM){h=S.isBracket=!0,_=S.isGlob=!0,H=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&P===jp&&c===l){C=S.negated=!0,l++;continue}if(r.noparen!==!0&&P===qp){if(_=S.isGlob=!0,i===!0){for(;j()!==!0&&(P=O());){if(P===qp){v=S.backslashes=!0,P=O();continue}if(P===e0){H=!0;break}}continue}break}if(_===!0){if(H=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,_=!1);let M=u,$="",E="";l>0&&($=u.slice(0,l),u=u.slice(l),d-=l),M&&_===!0&&d>0?(M=u.slice(0,d),E=u.slice(d)):_===!0?(M="",E=u):M=u,M&&M!==""&&M!=="/"&&M!==u&&t0(M.charCodeAt(M.length-1))&&(M=M.slice(0,-1)),r.unescape===!0&&(E&&(E=QA.removeBackslashes(E)),M&&v===!0&&(M=QA.removeBackslashes(M)));let y={prefix:$,input:e,start:l,base:M,glob:E,isBrace:f,isBracket:h,isGlob:_,isExtglob:g,isGlobstar:A,negated:C,negatedExtglob:U};if(r.tokens===!0&&(y.maxDepth=0,t0(P)||s.push(S),y.tokens=s),r.parts===!0||r.tokens===!0){let se;for(let W=0;W<o.length;W++){let Ue=se?se+1:l,$e=o[W],be=e.slice(Ue,$e);r.tokens&&(W===0&&l!==0?(s[W].isPrefix=!0,s[W].value=$):s[W].value=be,r0(s[W]),y.maxDepth+=s[W].depth),(W!==0||be!=="")&&a.push(be),se=$e}if(se&&se+1<e.length){let W=e.slice(se+1);a.push(W),r.tokens&&(s[s.length-1].value=W,r0(s[s.length-1]),y.maxDepth+=s[s.length-1].depth)}y.slashes=o,y.parts=a}return y};n0.exports=QM});var u0=p((Ck,a0)=>{"use strict";var au=ro(),Ke=no(),{MAX_LENGTH:uu,POSIX_REGEX_SOURCE:ZM,REGEX_NON_SPECIAL_CHARS:JM,REGEX_SPECIAL_CHARS_BACKREF:e1,REPLACEMENTS:o0}=au,t1=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>Ke.escapeRegex(i)).join("..")}return r},Gn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,s0=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=o0[e]||e;let r=q({},t),n=typeof r.maxLength=="number"?Math.min(uu,r.maxLength):uu,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=Ke.isWindows(t),c=au.globChars(u),l=au.extglobChars(c),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:g,NO_DOT:A,NO_DOT_SLASH:b,NO_DOTS_SLASH:v,QMARK:C,QMARK_NO_DOT:U,STAR:H,START_ANCHOR:ee}=c,k=R=>`(${a}(?:(?!${ee}${R.dot?g:d}).)*?)`,P=r.dot?"":A,S=r.dot?C:U,j=r.bash===!0?k(r):H;r.capture&&(j=`(${j})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let m={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=Ke.removePrefix(e,m),i=e.length;let O=[],M=[],$=[],E=o,y,se=()=>m.index===i-1,W=m.peek=(R=1)=>e[m.index+R],Ue=m.advance=()=>e[++m.index]||"",$e=()=>e.slice(m.index+1),be=(R="",te=0)=>{m.consumed+=R,m.index+=te},kt=R=>{m.output+=R.output!=null?R.output:R.value,be(R.value)},Qb=()=>{let R=1;for(;W()==="!"&&(W(2)!=="("||W(3)==="?");)Ue(),m.start++,R++;return R%2==0?!1:(m.negated=!0,m.start++,!0)},Eo=R=>{m[R]++,$.push(R)},sr=R=>{m[R]--,$.pop()},Y=R=>{if(E.type==="globstar"){let te=m.braces>0&&(R.type==="comma"||R.type==="brace"),T=R.extglob===!0||O.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!te&&!T&&(m.output=m.output.slice(0,-E.output.length),E.type="star",E.value="*",E.output=j,m.output+=E.output)}if(O.length&&R.type!=="paren"&&(O[O.length-1].inner+=R.value),(R.value||R.output)&&kt(R),E&&E.type==="text"&&R.type==="text"){E.value+=R.value,E.output=(E.output||"")+R.value;return}R.prev=E,s.push(R),E=R},yo=(R,te)=>{let T=ue(q({},l[te]),{conditions:1,inner:""});T.prev=E,T.parens=m.parens,T.output=m.output;let V=(r.capture?"(":"")+T.open;Eo("parens"),Y({type:R,value:te,output:m.output?"":_}),Y({type:"paren",extglob:!0,value:Ue(),output:V}),O.push(T)},Zb=R=>{let te=R.close+(r.capture?")":""),T;if(R.type==="negate"){let V=j;R.inner&&R.inner.length>1&&R.inner.includes("/")&&(V=k(r)),(V!==j||se()||/^\)+$/.test($e()))&&(te=R.close=`)$))${V}`),R.inner.includes("*")&&(T=$e())&&/^\.[^\\/.]+$/.test(T)&&(te=R.close=`)${T})${V})`),R.prev.type==="bos"&&(m.negatedExtglob=!0)}Y({type:"paren",extglob:!0,value:y,output:te}),sr("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,te=e.replace(e1,(T,V,ae,Ne,me,Tu)=>Ne==="\\"?(R=!0,T):Ne==="?"?V?V+Ne+(me?C.repeat(me.length):""):Tu===0?S+(me?C.repeat(me.length):""):C.repeat(ae.length):Ne==="."?d.repeat(ae.length):Ne==="*"?V?V+Ne+(me?j:""):j:V?T:`\\${T}`);return R===!0&&(r.unescape===!0?te=te.replace(/\\/g,""):te=te.replace(/\\+/g,T=>T.length%2==0?"\\\\":T?"\\":"")),te===e&&r.contains===!0?(m.output=e,m):(m.output=Ke.wrapOutput(te,m,t),m)}for(;!se();){if(y=Ue(),y==="\0")continue;if(y==="\\"){let T=W();if(T==="/"&&r.bash!==!0||T==="."||T===";")continue;if(!T){y+="\\",Y({type:"text",value:y});continue}let V=/^\\+/.exec($e()),ae=0;if(V&&V[0].length>2&&(ae=V[0].length,m.index+=ae,ae%2!=0&&(y+="\\")),r.unescape===!0?y=Ue():y+=Ue(),m.brackets===0){Y({type:"text",value:y});continue}}if(m.brackets>0&&(y!=="]"||E.value==="["||E.value==="[^")){if(r.posix!==!1&&y===":"){let T=E.value.slice(1);if(T.includes("[")&&(E.posix=!0,T.includes(":"))){let V=E.value.lastIndexOf("["),ae=E.value.slice(0,V),Ne=E.value.slice(V+2),me=ZM[Ne];if(me){E.value=ae+me,m.backtrack=!0,Ue(),!o.output&&s.indexOf(E)===1&&(o.output=_);continue}}}(y==="["&&W()!==":"||y==="-"&&W()==="]")&&(y=`\\${y}`),y==="]"&&(E.value==="["||E.value==="[^")&&(y=`\\${y}`),r.posix===!0&&y==="!"&&E.value==="["&&(y="^"),E.value+=y,kt({value:y});continue}if(m.quotes===1&&y!=='"'){y=Ke.escapeRegex(y),E.value+=y,kt({value:y});continue}if(y==='"'){m.quotes=m.quotes===1?0:1,r.keepQuotes===!0&&Y({type:"text",value:y});continue}if(y==="("){Eo("parens"),Y({type:"paren",value:y});continue}if(y===")"){if(m.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Gn("opening","("));let T=O[O.length-1];if(T&&m.parens===T.parens+1){Zb(O.pop());continue}Y({type:"paren",value:y,output:m.parens?")":"\\)"}),sr("parens");continue}if(y==="["){if(r.nobracket===!0||!$e().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Gn("closing","]"));y=`\\${y}`}else Eo("brackets");Y({type:"bracket",value:y});continue}if(y==="]"){if(r.nobracket===!0||E&&E.type==="bracket"&&E.value.length===1){Y({type:"text",value:y,output:`\\${y}`});continue}if(m.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Gn("opening","["));Y({type:"text",value:y,output:`\\${y}`});continue}sr("brackets");let T=E.value.slice(1);if(E.posix!==!0&&T[0]==="^"&&!T.includes("/")&&(y=`/${y}`),E.value+=y,kt({value:y}),r.literalBrackets===!1||Ke.hasRegexChars(T))continue;let V=Ke.escapeRegex(E.value);if(m.output=m.output.slice(0,-E.value.length),r.literalBrackets===!0){m.output+=V,E.value=V;continue}E.value=`(${a}${V}|${E.value})`,m.output+=E.value;continue}if(y==="{"&&r.nobrace!==!0){Eo("braces");let T={type:"brace",value:y,output:"(",outputIndex:m.output.length,tokensIndex:m.tokens.length};M.push(T),Y(T);continue}if(y==="}"){let T=M[M.length-1];if(r.nobrace===!0||!T){Y({type:"text",value:y,output:y});continue}let V=")";if(T.dots===!0){let ae=s.slice(),Ne=[];for(let me=ae.length-1;me>=0&&(s.pop(),ae[me].type!=="brace");me--)ae[me].type!=="dots"&&Ne.unshift(ae[me].value);V=t1(Ne,r),m.backtrack=!0}if(T.comma!==!0&&T.dots!==!0){let ae=m.output.slice(0,T.outputIndex),Ne=m.tokens.slice(T.tokensIndex);T.value=T.output="\\{",y=V="\\}",m.output=ae;for(let me of Ne)m.output+=me.output||me.value}Y({type:"brace",value:y,output:V}),sr("braces"),M.pop();continue}if(y==="|"){O.length>0&&O[O.length-1].conditions++,Y({type:"text",value:y});continue}if(y===","){let T=y,V=M[M.length-1];V&&$[$.length-1]==="braces"&&(V.comma=!0,T="|"),Y({type:"comma",value:y,output:T});continue}if(y==="/"){if(E.type==="dot"&&m.index===m.start+1){m.start=m.index+1,m.consumed="",m.output="",s.pop(),E=o;continue}Y({type:"slash",value:y,output:h});continue}if(y==="."){if(m.braces>0&&E.type==="dot"){E.value==="."&&(E.output=d);let T=M[M.length-1];E.type="dots",E.output+=y,E.value+=y,T.dots=!0;continue}if(m.braces+m.parens===0&&E.type!=="bos"&&E.type!=="slash"){Y({type:"text",value:y,output:d});continue}Y({type:"dot",value:y,output:d});continue}if(y==="?"){if(!(E&&E.value==="(")&&r.noextglob!==!0&&W()==="("&&W(2)!=="?"){yo("qmark",y);continue}if(E&&E.type==="paren"){let V=W(),ae=y;if(V==="<"&&!Ke.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(E.value==="("&&!/[!=<:]/.test(V)||V==="<"&&!/<([!=]|\w+>)/.test($e()))&&(ae=`\\${y}`),Y({type:"text",value:y,output:ae});continue}if(r.dot!==!0&&(E.type==="slash"||E.type==="bos")){Y({type:"qmark",value:y,output:U});continue}Y({type:"qmark",value:y,output:C});continue}if(y==="!"){if(r.noextglob!==!0&&W()==="("&&(W(2)!=="?"||!/[!=<:]/.test(W(3)))){yo("negate",y);continue}if(r.nonegate!==!0&&m.index===0){Qb();continue}}if(y==="+"){if(r.noextglob!==!0&&W()==="("&&W(2)!=="?"){yo("plus",y);continue}if(E&&E.value==="("||r.regex===!1){Y({type:"plus",value:y,output:f});continue}if(E&&(E.type==="bracket"||E.type==="paren"||E.type==="brace")||m.parens>0){Y({type:"plus",value:y});continue}Y({type:"plus",value:f});continue}if(y==="@"){if(r.noextglob!==!0&&W()==="("&&W(2)!=="?"){Y({type:"at",extglob:!0,value:y,output:""});continue}Y({type:"text",value:y});continue}if(y!=="*"){(y==="$"||y==="^")&&(y=`\\${y}`);let T=JM.exec($e());T&&(y+=T[0],m.index+=T[0].length),Y({type:"text",value:y});continue}if(E&&(E.type==="globstar"||E.star===!0)){E.type="star",E.star=!0,E.value+=y,E.output=j,m.backtrack=!0,m.globstar=!0,be(y);continue}let R=$e();if(r.noextglob!==!0&&/^\([^?]/.test(R)){yo("star",y);continue}if(E.type==="star"){if(r.noglobstar===!0){be(y);continue}let T=E.prev,V=T.prev,ae=T.type==="slash"||T.type==="bos",Ne=V&&(V.type==="star"||V.type==="globstar");if(r.bash===!0&&(!ae||R[0]&&R[0]!=="/")){Y({type:"star",value:y,output:""});continue}let me=m.braces>0&&(T.type==="comma"||T.type==="brace"),Tu=O.length&&(T.type==="pipe"||T.type==="paren");if(!ae&&T.type!=="paren"&&!me&&!Tu){Y({type:"star",value:y,output:""});continue}for(;R.slice(0,3)==="/**";){let vo=e[m.index+4];if(vo&&vo!=="/")break;R=R.slice(3),be("/**",3)}if(T.type==="bos"&&se()){E.type="globstar",E.value+=y,E.output=k(r),m.output=E.output,m.globstar=!0,be(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&!Ne&&se()){m.output=m.output.slice(0,-(T.output+E.output).length),T.output=`(?:${T.output}`,E.type="globstar",E.output=k(r)+(r.strictSlashes?")":"|$)"),E.value+=y,m.globstar=!0,m.output+=T.output+E.output,be(y);continue}if(T.type==="slash"&&T.prev.type!=="bos"&&R[0]==="/"){let vo=R[1]!==void 0?"|$":"";m.output=m.output.slice(0,-(T.output+E.output).length),T.output=`(?:${T.output}`,E.type="globstar",E.output=`${k(r)}${h}|${h}${vo})`,E.value+=y,m.output+=T.output+E.output,m.globstar=!0,be(y+Ue()),Y({type:"slash",value:"/",output:""});continue}if(T.type==="bos"&&R[0]==="/"){E.type="globstar",E.value+=y,E.output=`(?:^|${h}|${k(r)}${h})`,m.output=E.output,m.globstar=!0,be(y+Ue()),Y({type:"slash",value:"/",output:""});continue}m.output=m.output.slice(0,-E.output.length),E.type="globstar",E.output=k(r),E.value+=y,m.output+=E.output,m.globstar=!0,be(y);continue}let te={type:"star",value:y,output:j};if(r.bash===!0){te.output=".*?",(E.type==="bos"||E.type==="slash")&&(te.output=P+te.output),Y(te);continue}if(E&&(E.type==="bracket"||E.type==="paren")&&r.regex===!0){te.output=y,Y(te);continue}(m.index===m.start||E.type==="slash"||E.type==="dot")&&(E.type==="dot"?(m.output+=b,E.output+=b):r.dot===!0?(m.output+=v,E.output+=v):(m.output+=P,E.output+=P),W()!=="*"&&(m.output+=_,E.output+=_)),Y(te)}for(;m.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gn("closing","]"));m.output=Ke.escapeLast(m.output,"["),sr("brackets")}for(;m.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gn("closing",")"));m.output=Ke.escapeLast(m.output,"("),sr("parens")}for(;m.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Gn("closing","}"));m.output=Ke.escapeLast(m.output,"{"),sr("braces")}if(r.strictSlashes!==!0&&(E.type==="star"||E.type==="bracket")&&Y({type:"maybe_slash",value:"",output:`${h}?`}),m.backtrack===!0){m.output="";for(let R of m.tokens)m.output+=R.output!=null?R.output:R.value,R.suffix&&(m.output+=R.suffix)}return m};s0.fastpaths=(e,t)=>{let r=q({},t),n=typeof r.maxLength=="number"?Math.min(uu,r.maxLength):uu,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=o0[e]||e;let o=Ke.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:_}=au.globChars(o),g=r.dot?d:l,A=r.dot?f:l,b=r.capture?"":"?:",v={negated:!1,prefix:""},C=r.bash===!0?".*?":h;r.capture&&(C=`(${C})`);let U=P=>P.noglobstar===!0?C:`(${b}(?:(?!${_}${P.dot?c:s}).)*?)`,H=P=>{switch(P){case"*":return`${g}${u}${C}`;case".*":return`${s}${u}${C}`;case"*.*":return`${g}${C}${s}${u}${C}`;case"*/*":return`${g}${C}${a}${u}${A}${C}`;case"**":return g+U(r);case"**/*":return`(?:${g}${U(r)}${a})?${A}${u}${C}`;case"**/*.*":return`(?:${g}${U(r)}${a})?${A}${C}${s}${u}${C}`;case"**/.*":return`(?:${g}${U(r)}${a})?${s}${u}${C}`;default:{let S=/^(.*?)\.(\w+)$/.exec(P);if(!S)return;let j=H(S[1]);return j?j+s+S[2]:void 0}}},ee=Ke.removePrefix(e,v),k=H(ee);return k&&r.strictSlashes!==!0&&(k+=`${a}?`),k};a0.exports=s0});var l0=p((Pk,c0)=>{"use strict";var r1=I("path"),n1=i0(),Gp=u0(),Hp=no(),i1=ro(),o1=e=>e&&typeof e=="object"&&!Array.isArray(e),ce=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(f=>ce(f,t,r));return f=>{for(let h of l){let _=h(f);if(_)return _}return!1}}let n=o1(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=Hp.isWindows(t),s=n?ce.compileRe(e,t):ce.makeRe(e,t,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(i.ignore){let l=ue(q({},t),{ignore:null,onMatch:null,onResult:null});u=ce(i.ignore,l,r)}let c=(l,d=!1)=>{let{isMatch:f,match:h,output:_}=ce.test(l,s,t,{glob:e,posix:o}),g={glob:e,state:a,regex:s,posix:o,input:l,output:_,match:h,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,d?g:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,d?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),d?g:!0)};return r&&(c.state=a),c};ce.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?Hp.toPosixSlashes:null),a=e===n,u=a&&s?s(e):e;return a===!1&&(u=s?s(e):e,a=u===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=ce.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};ce.matchBase=(e,t,r,n=Hp.isWindows(r))=>(t instanceof RegExp?t:ce.makeRe(t,r)).test(r1.basename(e));ce.isMatch=(e,t,r)=>ce(t,r)(e);ce.parse=(e,t)=>Array.isArray(e)?e.map(r=>ce.parse(r,t)):Gp(e,ue(q({},t),{fastpaths:!1}));ce.scan=(e,t)=>n1(e,t);ce.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=ce.toRegex(a,t);return n===!0&&(u.state=e),u};ce.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Gp.fastpaths(e,t)),i.output||(i=Gp(e,t)),ce.compileRe(i,t,r,n)};ce.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};ce.constants=i1;c0.exports=ce});var d0=p((Ik,p0)=>{"use strict";p0.exports=l0()});var Vp=p((wk,g0)=>{"use strict";var f0=I("util"),h0=VA(),Pt=d0(),$p=no(),_0=e=>e===""||e==="./",ie=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let d=Pt(String(t[l]),ue(q({},r),{onResult:a}),!0),f=d.state.negated||d.state.negatedExtglob;f&&s++;for(let h of e){let _=d(h,!0);!(f?!_.isMatch:_.isMatch)||(f?n.add(_.output):(n.delete(_.output),i.add(_.output)))}}let c=(s===t.length?[...o]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return c};ie.match=ie;ie.matcher=(e,t)=>Pt(e,t);ie.isMatch=(e,t,r)=>Pt(t,r)(e);ie.any=ie.isMatch;ie.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=ie(e,t,ue(q({},r),{onResult:o}));for(let a of i)s.includes(a)||n.add(a);return[...n]};ie.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${f0.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ie.contains(e,n,r));if(typeof t=="string"){if(_0(e)||_0(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ie.isMatch(e,t,ue(q({},r),{contains:!0}))};ie.matchKeys=(e,t,r)=>{if(!$p.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ie(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};ie.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Pt(String(i),r);if(n.some(s=>o(s)))return!0}return!1};ie.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Pt(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};ie.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${f0.inspect(e)}"`);return[].concat(t).every(n=>Pt(n,r)(e))};ie.capture=(e,t,r)=>{let n=$p.isWindows(r),o=Pt.makeRe(String(e),ue(q({},r),{capture:!0})).exec(n?$p.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};ie.makeRe=(...e)=>Pt.makeRe(...e);ie.scan=(...e)=>Pt.scan(...e);ie.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of h0(String(n),t))r.push(Pt.parse(i,t));return r};ie.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:h0(e,t)};ie.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ie.braces(e,ue(q({},t),{expand:!0}))};g0.exports=ie});var m0=p((Nk,s1)=>{s1.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var v0=p(Xe=>{"use strict";var E0=m0(),It=process.env;Object.defineProperty(Xe,"_vendors",{value:E0.map(function(e){return e.constant})});Xe.name=null;Xe.isPR=null;E0.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return y0(n)});if(Xe[e.constant]=r,r)switch(Xe.name=e.name,typeof e.pr){case"string":Xe.isPR=!!It[e.pr];break;case"object":"env"in e.pr?Xe.isPR=e.pr.env in It&&It[e.pr.env]!==e.pr.ne:"any"in e.pr?Xe.isPR=e.pr.any.some(function(n){return!!It[n]}):Xe.isPR=y0(e.pr);break;default:Xe.isPR=null}});Xe.isCI=!!(It.CI||It.CONTINUOUS_INTEGRATION||It.BUILD_NUMBER||It.RUN_ID||Xe.name);function y0(e){return typeof e=="string"?!!It[e]:Object.keys(e).every(function(t){return It[t]===e[t]})}});var b0=p((Lk,A0)=>{"use strict";A0.exports=v0().isCI});var T0=p((Mk,Hr)=>{var oo=Co(),S0=function(e,t){return new Promise((r,n)=>{oo(e,t,(i,o)=>i===null?r(o):n(i))})};Hr.exports=S0;Hr.exports.glob=oo;Hr.exports.Glob=oo.Glob;Hr.exports.hasMagic=oo.hasMagic;Hr.exports.promise=S0;Hr.exports.sync=oo.sync});var O0=p((Dk,Yp)=>{"use strict";var a1=Object.prototype.hasOwnProperty,De="~";function so(){}Object.create&&(so.prototype=Object.create(null),new so().__proto__||(De=!1));function u1(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function R0(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new u1(r,n||e,i),s=De?De+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function cu(e,t){--e._eventsCount==0?e._events=new so:delete e._events[t]}function Ie(){this._events=new so,this._eventsCount=0}Ie.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)a1.call(r,n)&&t.push(De?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ie.prototype.listeners=function(t){var r=De?De+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};Ie.prototype.listenerCount=function(t){var r=De?De+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ie.prototype.emit=function(t,r,n,i,o,s){var a=De?De+t:t;if(!this._events[a])return!1;var u=this._events[a],c=arguments.length,l,d;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,o),!0;case 6:return u.fn.call(u.context,r,n,i,o,s),!0}for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];u.fn.apply(u.context,l)}else{var f=u.length,h;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),c){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,i);break;default:if(!l)for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u[d].fn.apply(u[d].context,l)}}return!0};Ie.prototype.on=function(t,r,n){return R0(this,t,r,n,!1)};Ie.prototype.once=function(t,r,n){return R0(this,t,r,n,!0)};Ie.prototype.removeListener=function(t,r,n,i){var o=De?De+t:t;if(!this._events[o])return this;if(!r)return cu(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&cu(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=u.length===1?u[0]:u:cu(this,o)}return this};Ie.prototype.removeAllListeners=function(t){var r;return t?(r=De?De+t:t,this._events[r]&&cu(this,r)):(this._events=new so,this._eventsCount=0),this};Ie.prototype.off=Ie.prototype.removeListener;Ie.prototype.addListener=Ie.prototype.on;Ie.prefixed=De;Ie.EventEmitter=Ie;typeof Yp!="undefined"&&(Yp.exports=Ie)});var P0=p((Bk,C0)=>{"use strict";C0.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var w0=p((Uk,lu)=>{"use strict";var c1=P0(),Wp=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},I0=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let o=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let s=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Wp(s);typeof e.cancel=="function"&&e.cancel(),i(a)},t);c1(e.then(n,i),()=>{clearTimeout(o)})});lu.exports=I0;lu.exports.default=I0;lu.exports.TimeoutError=Wp});var N0=p(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});function l1(e,t,r){let n=0,i=e.length;for(;i>0;){let o=i/2|0,s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}Kp.default=l1});var L0=p(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});var p1=N0(),x0=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=p1.default(this._queue,n,(o,s)=>s.priority-o.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};Xp.default=x0});var B0=p(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});var d1=O0(),M0=w0(),f1=L0(),pu=()=>{},h1=new M0.TimeoutError,D0=class extends d1{constructor(t){var r,n,i,o;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=pu,this._resolveIdle=pu,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:f1.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=pu,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=pu,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let s=this._timeout===void 0&&r.timeout===void 0?t():M0.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(h1)});n(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(o,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};zp.default=D0});var F0=p((qk,Qp)=>{"use strict";var U0=(e,...t)=>new Promise(r=>{r(e(...t))});Qp.exports=U0;Qp.exports.default=U0});var k0=p((Gk,Zp)=>{"use strict";var _1=F0(),j0=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...c)=>{r++;let l=_1(a,...c);u(l),l.then(n,n)},o=(a,u,...c)=>{r<e?i(a,u,...c):t.push(i.bind(null,a,u,...c))},s=(a,...u)=>new Promise(c=>o(a,c,...u));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};Zp.exports=j0;Zp.exports.default=j0});var G0=p(ed=>{"use strict";var Jp=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};ed.Semaphore=Jp;var q0=class extends Jp{constructor(){super(1)}};ed.Mutex=q0});var $0=p(($k,H0)=>{"use strict";H0.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var td=p((Vk,V0)=>{"use strict";var g1=$0();V0.exports=e=>typeof e=="string"?e.replace(g1(),""):e});var W0=p((Yk,rd)=>{"use strict";var Y0=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);rd.exports=Y0;rd.exports.default=Y0});var z0=p((Wk,X0)=>{"use strict";var K0="[\uD800-\uDBFF][\uDC00-\uDFFF]",m1=e=>e&&e.exact?new RegExp(`^${K0}$`):new RegExp(K0,"g");X0.exports=m1});var Z0=p((Kk,Q0)=>{"use strict";Q0.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var nd=p((Xk,eb)=>{var ao=Z0(),J0={};for(let e of Object.keys(ao))J0[ao[e]]=e;var w={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};eb.exports=w;for(let e of Object.keys(w)){if(!("channels"in w[e]))throw new Error("missing channels property: "+e);if(!("labels"in w[e]))throw new Error("missing channel labels property: "+e);if(w[e].labels.length!==w[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=w[e];delete w[e].channels,delete w[e].labels,Object.defineProperty(w[e],"channels",{value:t}),Object.defineProperty(w[e],"labels",{value:r})}w.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,a,u;o===i?a=0:t===o?a=(r-n)/s:r===o?a=2+(n-t)/s:n===o&&(a=4+(t-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+o)/2;return o===i?u=0:c<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,c*100]};w.rgb.hsv=function(e){let t,r,n,i,o,s=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(s,a,u),l=c-Math.min(s,a,u),d=function(f){return(c-f)/6/l+1/2};return l===0?(i=0,o=0):(o=l/c,t=d(s),r=d(a),n=d(u),s===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,c*100]};w.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=w.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};w.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),o=(1-t-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function E1(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}w.rgb.keyword=function(e){let t=J0[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(ao)){let o=ao[i],s=E1(e,o);s<r&&(r=s,n=i)}return n};w.keyword.rgb=function(e){return ao[e]};w.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};w.rgb.lab=function(e){let t=w.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};w.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,u[c]=s*255;return u};w.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[t,a*100,s*100]};w.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};w.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,o*100,s*100]};w.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*t),a=1-n;o=6*t-s,(s&1)!=0&&(o=1-o);let u=r+o*(a-r),c,l,d;switch(s){default:case 6:case 0:c=a,l=u,d=r;break;case 1:c=u,l=a,d=r;break;case 2:c=r,l=a,d=u;break;case 3:c=r,l=u,d=a;break;case 4:c=u,l=r,d=a;break;case 5:c=a,l=r,d=u;break}return[c*255,l*255,d*255]};w.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};w.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};w.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(t-r),s=200*(r-n);return[i,o,s]};w.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;let a=o**3,u=i**3,c=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};w.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[t,s,i]};w.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[t,o,s]};w.rgb.ansi16=function(e,t=null){let[r,n,i]=e,o=t===null?w.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};w.hsv.ansi16=function(e){return w.rgb.ansi16(w.hsv.rgb(e),e[2])};w.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};w.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};w.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};w.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};w.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};w.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===t?u=(r-n)/s%6:i===r?u=2+(n-t)/s:u=4+(t-r)/s,u/=6,u%=1,[u*360,s*100,a*100]};w.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};w.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};w.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=t%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};w.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};w.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};w.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};w.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};w.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};w.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};w.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};w.gray.hsl=function(e){return[0,0,e[0]]};w.gray.hsv=w.gray.hsl;w.gray.hwb=function(e){return[0,100,e[0]]};w.gray.cmyk=function(e){return[0,0,0,e[0]]};w.gray.lab=function(e){return[e[0],0,0]};w.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};w.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var rb=p((zk,tb)=>{var du=nd();function y1(){let e={},t=Object.keys(du);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function v1(e){let t=y1(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(du[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function A1(e,t){return function(r){return t(e(r))}}function b1(e,t){let r=[t[e].parent,e],n=du[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=A1(du[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}tb.exports=function(e){let t=v1(e),r={},n=Object.keys(t);for(let i=n.length,o=0;o<i;o++){let s=n[o];t[s].parent!==null&&(r[s]=b1(s,t))}return r}});var ib=p((Qk,nb)=>{var id=nd(),S1=rb(),Hn={},T1=Object.keys(id);function R1(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function O1(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}T1.forEach(e=>{Hn[e]={},Object.defineProperty(Hn[e],"channels",{value:id[e].channels}),Object.defineProperty(Hn[e],"labels",{value:id[e].labels});let t=S1(e);Object.keys(t).forEach(n=>{let i=t[n];Hn[e][n]=O1(i),Hn[e][n].raw=R1(i)})});nb.exports=Hn});var lb=p((Zk,cb)=>{"use strict";var ob=(e,t)=>(...r)=>`[${e(...r)+t}m`,sb=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},ab=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},fu=e=>e,ub=(e,t,r)=>[e,t,r],$n=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},od,Vn=(e,t,r,n)=>{od===void 0&&(od=ib());let i=n?10:0,o={};for(let[s,a]of Object.entries(od)){let u=s==="ansi16"?"ansi":s;s===t?o[u]=e(r,i):typeof a=="object"&&(o[u]=e(a[t],i))}return o};function C1(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,o]of Object.entries(n))t[i]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[i]=t[i],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",$n(t.color,"ansi",()=>Vn(ob,"ansi16",fu,!1)),$n(t.color,"ansi256",()=>Vn(sb,"ansi256",fu,!1)),$n(t.color,"ansi16m",()=>Vn(ab,"rgb",ub,!1)),$n(t.bgColor,"ansi",()=>Vn(ob,"ansi16",fu,!0)),$n(t.bgColor,"ansi256",()=>Vn(sb,"ansi256",fu,!0)),$n(t.bgColor,"ansi16m",()=>Vn(ab,"rgb",ub,!0)),t}Object.defineProperty(cb,"exports",{enumerable:!0,get:C1})});var _b=p((Jk,hb)=>{"use strict";var P1=W0(),I1=z0(),pb=lb(),db=["","\x9B"],hu=e=>`${db[0]}[${e}m`,fb=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let o=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let s=pb.codes.get(Number.parseInt(i,10));if(s){let a=e.indexOf(s.toString());a===-1?n.push(hu(t?s:o)):e.splice(a,1)}else if(t){n.push(hu(0));break}else n.push(hu(o))}if(t&&(n=n.filter((i,o)=>n.indexOf(i)===o),r!==void 0)){let i=hu(pb.codes.get(Number.parseInt(r,10)));n=n.reduce((o,s)=>s===i?[s,...o]:[...o,s],[])}return n.join("")};hb.exports=(e,t,r)=>{let n=[...e],i=[],o=typeof r=="number"?r:n.length,s=!1,a,u=0,c="";for(let[l,d]of n.entries()){let f=!1;if(db.includes(d)){let h=/\d[^m]*/.exec(e.slice(l,l+18));a=h&&h.length>0?h[0]:void 0,u<o&&(s=!0,a!==void 0&&i.push(a))}else s&&d==="m"&&(s=!1,f=!0);if(!s&&!f&&u++,!I1({exact:!0}).test(d)&&P1(d.codePointAt())&&(u++,typeof r!="number"&&o++),u>t&&u<=o)c+=d;else if(u===t&&!s&&a!==void 0)c=fb(i);else if(u>=o){c+=fb(i,!0,a);break}}return c}});var k1={};aS(k1,{default:()=>j1});var kr=x(I("@yarnpkg/cli")),Me=x(I("@yarnpkg/core")),oA=x(I("@yarnpkg/libzip")),Q=x(I("@yarnpkg/fslib")),ct=x(I("clipanion")),Ip=x(I("path"));var fd=x(I("fs")),hd=async e=>{try{return(0,fd.readFileSync)(e,"utf-8").split(`
`)}catch(t){return[]}};var _d=x(I("path")),gd=({ignoreFile:e,cwd:t})=>(0,_d.join)(t,e);var Tf=x(Od());var bf=x(Af()),Sf=async({cwd:e})=>{try{return(await(0,bf.default)(`${e}/**/*`,{dot:!0})).map(r=>{var n;return(n=r.split(`${e}/`)[1])!=null?n:""}).filter(Boolean)}catch(t){return[]}};var Ju=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=gd({ignoreFile:t,cwd:r}),i=(0,Tf.default)().add([...e,...await hd(n)]);return(await Sf({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var Rf=["package.json","package.yaml","package.yml"];var Io=x(I("path")),CT={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,Io.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>Rf.map(t=>(0,Io.join)(e,t))},PT=({cwd:e,rootDir:t})=>[...new Set(...[Object.values(CT).map(r=>r({cwd:e,rootDir:t})).flat()])],Of=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>PT({cwd:r,rootDir:t})).flat();var li=x(I("@yarnpkg/fslib")),de=x(I("typanion")),Fo=x(kh()),GO=".yarnbuildrc.yml",xc=".bundleignore",Lc=de.isObject({folders:de.isObject({input:de.isOneOf([de.isString(),de.isArray(de.isString())]),output:de.isOneOf([de.isString(),de.isArray(de.isString())])}),exclude:de.isArray(de.isString()),bail:de.isBoolean(),hideYarnBuildBadge:de.isBoolean(),ignoreFile:de.isString()}),Mc={folders:{input:".",output:["build","node_modules"]},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:xc};async function qh(e){let t=GO,r=li.ppath.join(e.projectCwd||e.startingCwd,t);if(li.xfs.existsSync(r)){let n=await li.xfs.readFilePromise(r,"utf8"),i=[];try{let o=(0,Fo.load)(n,{schema:Fo.JSON_SCHEMA});if(Lc(o,{errors:i}))return o;console.warn(i)}catch(o){let s="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(s=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${s}`)}}return Mc}async function Gh(e){return await qh(e)}async function Hh(e){var r;let t=await qh(e);return ue(q(q({},Mc),t),{folders:q(q({},Mc.folders),(r=t.folders)!=null?r:{})})}var D={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES:"yarn.build.flags.ignore-dependencies",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var iA=x(B());var rA=x(B()),nA=x(al());var Qv=x(na()),Zv=x(Pi()),Jv=x(gt()),eA=x(zv()),tA=x(na()),kn=x(B());process.env.DEBUG&&kn.diag.setLogger(new kn.DiagConsoleLogger,kn.DiagLogLevel.DEBUG);var ru=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new eA.OTLPTraceExporter,r=new Qv.BasicTracerProvider({resource:new Zv.Resource({[Jv.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new tA.BatchSpanProcessor(t));async function n(i){try{await r.shutdown(),process.env.DEBUG&&console.info("gracefullty exited trace provider")}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}};var jr=x(B()),Tt=class{constructor(t){this.name=t,this._tracer=ru.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:rA.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){var s;let n;if(typeof t.ctx=="undefined"?n=jr.context.active():n=t.ctx,!!t.propegateFromEnv||((s=t==null?void 0:t.spanOptions)==null?void 0:s.kind)==4){let a=process.env.TRACEPARENT;if(typeof a=="string"){let u=(0,nA.parseTraceParent)(a!=null?a:"");u&&(n=jr.trace.setSpanContext(jr.context.active(),u))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),o=jr.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:o}):r({span:i,ctx:o})}catch(a){if((typeof a=="string"||a instanceof Error)&&this.recordException(i,a),!t.supressExceptions)throw a}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=jr.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}};var sA=x(B()),Rt;(function(o){o.Info="YB1000",o.RemoveUnusedPackages="YB1001",o.RemoveEmptyDirectories="YB1002",o.RemoveExcluded="YB1003",o.AddedEntryPoint="YB1004"})(Rt||(Rt={}));var Ot;(function(n){n.Start=" \u250C ",n.Progress=" \u2502 ",n.End=" \u2514 "})(Ot||(Ot={}));var eo=class extends kr.BaseCommand{constructor(){super(...arguments);this.tracer=new Tt("yarn.build");this.json=ct.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=ct.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=ct.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=ct.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=ct.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=ct.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=ct.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=ct.Option.String("--ignore-file",xc,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:t,group:r,msg:n,span:i}){this.quiet!==!0&&console.info(`\u27A4 ${t}:${r}${n}`),typeof i!="undefined"&&i.addEvent(n,{[D.YARN_BUILD_MESSAGE_CODE]:t})}async removeUnusedPackages(t,r,n,i){return await this.tracer.startSpan({name:"remove unused packages",ctx:t},async({span:o})=>{var d;let{project:s,workspace:a}=await Me.Project.find(i,n);if(!a)throw new kr.WorkspaceRequiredError(s.cwd,n);let u=await Me.Project.find(i,r);if(!u.workspace)throw new kr.WorkspaceRequiredError(u.project.cwd,r);let c=new Set([a,u.workspace]),l=await Gh(i);this.exclude=l.exclude?[...this.exclude,...l.exclude]:this.exclude,this.ignoreFile=(d=l==null?void 0:l.ignoreFile)!=null?d:this.ignoreFile;for(let f of c)for(let h of Me.Manifest.allDependencies)for(let _ of f.manifest.getForScope(h).values()){let g=s.tryWorkspaceByDescriptor(_);g!==null&&(c.add(g),this.progress({code:Rt.RemoveUnusedPackages,group:Ot.Progress,msg:`required:	${g.relativeCwd}`,span:o}))}for(let f of s.workspaces)c.has(f)||f.cwd!==r&&(await Q.xfs.removePromise(f.cwd),this.progress({code:Rt.RemoveUnusedPackages,group:Ot.Progress,msg:`unused:	${f.relativeCwd}`,span:o}))})}async removeEmptyDirectories(t,{tmpDir:r,cwd:n}){let i=sA.trace.getSpan(t);if(!Q.xfs.statSync(n).isDirectory())return!1;let s=await Q.xfs.readdirPromise(n);for(let a of s)await this.removeEmptyDirectories(t,{tmpDir:r,cwd:Q.ppath.join(n,a)});return s=await Q.xfs.readdirPromise(n),s.length===0?(await Q.xfs.removePromise(n),this.progress({code:Rt.RemoveEmptyDirectories,group:Ot.Progress,msg:`empty:	${n.replace(r+"/","")}`,span:i}),!0):!1}async removeExcluded(t,{tmpDir:r,excluded:n,nonRemovableFiles:i,yarnDirectory:o,cacheDirectory:s,shouldRemoveEmptyDirectories:a=!1}){let u=`${r}/.git`;try{await Q.xfs.lstatPromise(u)&&await Q.xfs.removePromise(u)}catch(c){}await Promise.all(n.map(async c=>{if(!c.startsWith(o)&&!c.startsWith(s)&&!i.includes(c)&&!!c.startsWith(r))try{await Q.xfs.lstatPromise(c)&&await Q.xfs.removePromise(c)}catch(l){}})),a&&await this.removeEmptyDirectories(t,{tmpDir:r,cwd:r})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:t,ctx:r})=>{this.progress({code:Rt.Info,group:Ot.Start,msg:`Prepare ${this.context.cwd} for bundling`,span:t}),this.progress({code:Rt.Info,group:Ot.Progress,msg:"Preparing temporary directory",span:t});let n=async i=>await this.tracer.startSpan({name:"prepare for bundle",ctx:r},async({span:o,ctx:s})=>{let a=`${this.context.cwd}`,u=Q.ppath.join(a,this.archiveName),c={[D.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[D.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[D.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:i,[D.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[D.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[D.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[D.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(o.setAttributes(c),typeof this.outputDirectory=="string"){let O=aA(this.outputDirectory);if(o.setAttribute(D.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,O),Q.xfs.existsSync(O)||await Q.xfs.mkdirPromise(O),Q.xfs.readdirSync(O).length!=0)throw new Error(" --output-directory is not empty");u=Q.ppath.join(O,this.archiveName)}let l=await Me.Configuration.find(this.context.cwd,this.context.plugins);if(l.projectCwd===null)throw new Error("Can't find project directory");let d=a.replace(l.projectCwd,""),f=!1,h;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(h=aA(this.outputDirectory),h.startsWith(l.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);f=!0}let _=new Q.NodeFS;this.progress({code:Rt.Info,group:Ot.Progress,msg:"Copying repo to temporary directory",span:o}),await this.tracer.wrap({name:"copy to tmp dir",ctx:s},async O=>Q.xfs.copyPromise(i,O,{baseFs:_}),l.projectCwd);let g=`${i}${d}`,A=`${g}/${this.archiveName}`,b=this.exclude;try{await Q.xfs.lstatPromise(A)&&b.push(A)}catch(O){}let v=await Me.Configuration.find(g,this.context.plugins);v.use("<custom>",{enableNetwork:!1},g);let C=await Me.Cache.find(v),U=`${i}/.yarn`,H=C.cwd;this.progress({code:Rt.Info,group:Ot.Progress,msg:"Removing unused and excluded workspaces, folders and files",span:o}),await this.removeUnusedPackages(s,i,g,v);let{project:ee,workspace:k}=await Me.Project.find(v,g);if(!k)throw new kr.WorkspaceRequiredError(ee.cwd,g);o.setAttributes({[D.PACKAGE_DIRECTORY]:d,[D.PACKAGE_NAME]:k.locator.name}),typeof k.locator.scope=="string"&&o.setAttribute(D.PACKAGE_SCOPE,`@${k.locator.scope}`);let P=await Me.Project.find(v,i);if(!P.workspace)throw new kr.WorkspaceRequiredError(P.project.cwd,i);let S=new Set([k,P.workspace]),j=Of({workspaces:S,rootDir:i});b=await Ju({cwd:i,ignoreFile:this.ignoreFile,exclude:b});for(let O of S)for(let M of Me.Manifest.allDependencies)for(let $ of O.manifest.getForScope(M).values()){let E=ee.tryWorkspaceByDescriptor($);E!==null&&S.add(E)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:s},async()=>{for(let O of S){let M=await Ju({cwd:O.cwd,ignoreFile:this.ignoreFile,exclude:b});await this.removeExcluded(s,{tmpDir:i,excluded:M,nonRemovableFiles:j,yarnDirectory:U,cacheDirectory:H,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:s},async()=>{await this.removeExcluded(s,{tmpDir:i,excluded:b,nonRemovableFiles:j,yarnDirectory:U,cacheDirectory:H,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:s},async()=>{var O,M,$,E;for(let y of ee.workspaces)y.manifest.devDependencies.clear(),!S.has(y)&&(y.manifest.dependencies.clear(),y.manifest.peerDependencies.clear());if((M=(O=k==null?void 0:k.manifest)==null?void 0:O.raw)==null?void 0:M.main){let y=k.relativeCwd+Ip.default.posix.sep+((E=($=k==null?void 0:k.manifest)==null?void 0:$.raw)==null?void 0:E.main),se=".pnp.cjs";Q.xfs.writeFilePromise(`${i}${Ip.default.posix.sep}entrypoint.js`,VL(y,se))}this.progress({code:Rt.Info,group:Ot.End,msg:"Completed",span:o})}),(await this.tracer.startSpan({name:"bundle",ctx:s},async({ctx:O})=>await Me.StreamReport.start({configuration:v,json:this.json,stdout:this.context.stdout,includeLogs:!0},async M=>{if(await this.tracer.wrap({name:"yarn install",ctx:O},async({cache:$,report:E})=>await ee.install({cache:$,report:E}),{cache:C,report:M}),typeof this.temporaryDirectory=="undefined")if(f&&typeof h!="undefined")M.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:O},async({outputPath:$,tmpDir:E})=>_.copyPromise($,E),{outputPath:h,tmpDir:i});else{let $=await(0,oA.getLibzipPromise)();M.reportInfo(null,"Creating archive");let E=new Q.ZipFS(u,{create:!0,libzip:$});M.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:O},async({tmpDir:y,baseFs:se})=>await E.copyPromise("/",y,{baseFs:se}),{tmpDir:i,baseFs:_}),await this.tracer.wrap({name:"save zip",ctx:O},async()=>E.saveAndClose()),M.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:u})}}))).exitCode()});return typeof this.temporaryDirectory!="undefined"?await n(this.temporaryDirectory):await Q.xfs.mktempPromise(n)})}};eo.paths=[["bundle"]],eo.usage=ct.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var uA=eo,VL=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function aA(e){let t=Q.npath.toPortablePath(e);return Q.ppath.resolve(t)}var vu=x(I("@yarnpkg/cli")),Be=x(I("@yarnpkg/core")),le=x(I("clipanion")),cd=x(I("path")),co=x(Vp()),Db=x(I("os"));var F=x(I("@yarnpkg/core")),He=x(b0()),Ab=x(I("os")),we=x(I("@yarnpkg/fslib"));var bb=x(Vp()),Sb=x(T0()),Tb=x(I("events")),Rb=x(B0()),mu=x(I("path")),Ob=x(k0()),ad=x(G0()),Eu=x(td()),yu=x(_b());var Wn=class{constructor(){this.tracer=new Tt("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new Yn(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let o=t.dependencies[i];if(!r.has(o.id)){if(n.has(o.id))throw new _u(t.id,o.id);this.resolveNode(o,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let o=new Set,s=new Set,a={};for(let u of r)this.resolveQueue(u,o,a);return n?(await this.dryRunLoop(o,a,s,0),a):(await new Promise(u=>{this.workLoop(i,o,a,s,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((o,s)=>{this.dryRunCallback(o,i-1),r[o.id]={success:!0,done:!0},n.delete(s)}),t.size!==0&&t.forEach(o=>{var s;o.canStart(r)&&((s=o==null?void 0:o.node)==null?void 0:s.runCallback)&&(n.add(o.node),t.delete(o))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,o){if(r.size!==0&&r.forEach(s=>{var a,u;s.canStart(n)&&(((a=s==null?void 0:s.node)==null?void 0:a.runCallback)?((u=s==null?void 0:s.node)==null||u.runCallback(t,n),i.add(s.node)):n[s.node.id]={success:!0,done:!0},r.delete(s))}),i.forEach((s,a)=>{n[s.id].done&&i.delete(a)}),Object.keys(n).map(s=>{var a,u;return(u=(a=n[s])==null?void 0:a.done)!=null?u:!0}).every(s=>s===!0)){o();return}setTimeout(()=>this.workLoop(t,r,n,i,o),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(o=>{let s=t.dependencies[o];if(i.push(s.id),!n[s.id]&&s.runCallback){n[s.id]=q({},Wn.RunLogInit);let a=this.resolveQueue(s,r,n),u={node:s,canStart:Wn.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]=q({},Wn.RunLogInit);let o={node:t,canStart:Wn.QueueItemCanStart(i)};r.add(o)}return i}},uo=Wn;uo.RunLogInit={success:!1,done:!1},uo.QueueItemCanStart=t=>r=>t.map(n=>{var i,o;return(o=(i=r[n])==null?void 0:i.done)!=null?o:!0}).every(n=>n===!0);var Yn=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,Yn.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},_u=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var gb=x(td()),w1="",ze=w1+"[",sd=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);sd.cursorUp(t)}static cursorUp(t=1){process.stdout.write(ze+`${t}A`)}static cursorSave(){process.stdout.write(ze+"s")}static cursorRestore(){process.stdout.write(ze+"u")}static autoWrap(t){t?process.stdout.write(ze+"?7h"):process.stdout.write(ze+"?7l")}static clearScreenDown(){process.stdout.write(ze+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(ze+"6n")})}static setScrollableRegion(t,r){process.stdout.write(ze+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(ze+"r")}static moveTo(t){process.stdout.write(ze+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(ze+"H")}static alternateScreen(){process.stdout.write(ze+"?1049h")}static mainScreen(){process.stdout.write(ze+"?1049l")}static linesRequired(t,r){var o;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((o=(0,gb.default)(t).match(n))!=null?o:[""]).length-1}},lt=sd;lt.row=0,lt.column=0;var Eb=x(I("child_process")),yb=x(I("util"));var mb=()=>process.platform==="win32"?"windows":"unix";var N1=(0,yb.promisify)(Eb.exec),vb=async e=>{let t=mb(),r=(({platform:i,pid:o})=>{switch(i){case"unix":return`pgrep "-P ${o}"`;case"windows":return`wmic process where (ParentProcessId=${o}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await N1(r);n=i.split(`
`).filter(Boolean).map(o=>parseInt(o,10)).filter(o=>!isNaN(o))}catch(i){}return n};var Kn={hasBeenTerminated:!1,callId:0},gu=async(e=0)=>{if(e!==Kn.callId||Kn.hasBeenTerminated)return;let t=process.pid;(await vb(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(o){}});let n=Kn.callId+1;Kn.callId=n,setTimeout(async()=>{gu(n)},50)};var Cb=x(B());var x1="yarn.build.json",Pb=80,L1="-".repeat(Pb),wt;(function(o){o.pending="pending",o.skipped="skipped",o.inProgress="inProgress",o.failed="failed",o.succeeded="succeeded"})(wt||(wt={}));var oe;(function(l){l.pending="pending",l.start="start",l.info="info",l.error="error",l.skipped="skipped",l.ignored="ignored",l.success="success",l.fail="fail",l.finish="finish",l.forceQuit="force-quit"})(oe||(oe={}));var Ib=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:o,pluginConfiguration:s,dryRun:a,ignoreRunCache:u,verbose:c,concurrency:l,continueOnError:d,excludeWorkspacePredicate:f,ignoreDependencies:h,failFast:_}){this.tracer=new Tt("yarn.build");this.runGraph=new uo;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new Tb.EventEmitter;this.ignoreDependencies=!1;this.failFast=!1;this.runReport={mutex:new ad.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.checkIfRunIsRequiredCache={};this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(oe.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(oe.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(o=>{this.runReport.workspaces[t]=ue(q({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),o()})}),this.runReporter.on(oe.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(oe.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(oe.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=ue(q({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];if(He.default){let o=`\u2705 ${t}`.padEnd(60),s=$r(0,(i=n.runtimeSeconds)!=null?i:0).padStart(19);process.stdout.write(`${o}${s}
`)}r()})}),this.runReporter.on(oe.skipped,t=>{this.runReport.mutex.acquire().then(r=>{if(this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r(),He.default){let n=`\u23E9 ${t} `.padEnd(60),i="--".padStart(19);process.stdout.write(`${n}${i}
`)}})}),this.runReporter.on(oe.ignored,t=>{this.runReport.mutex.acquire().then(r=>{var o;this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r();let n=this.runReport.workspaces[t],i=(o=this.runLog)==null?void 0:o.get(`${t}#${this.runCommand}`);if(He.default){let s=`[IGNORE${(i==null?void 0:i.exitCode)?`: ${i==null?void 0:i.exitCode}`:""}] ${n.name} `.padEnd(60),a="--".padStart(19);process.stdout.write(`${s}${a}
`)}})}),this.runReporter.on(oe.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var s,a;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],o=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);if(He.default){let u=`\u274C ${t}`.padEnd(50),c=`${(o==null?void 0:o.exitCode)?`(exit code: ${o==null?void 0:o.exitCode})`:"\u2192"} ${$r(0,(a=i.runtimeSeconds)!=null?a:0)}`.padStart(29);process.stdout.write(`${u}${c}
`)}})})};this.getDependenciesCount=async t=>{let r=0;for(let n of F.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,s,a,u,c;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");this.runGraph.checkCyclical(t);let n=!1;if(this.runMutexes[r.relativeCwd]=new ad.Mutex,this.ignoreDependencies===!1)for(let l of F.Manifest.hardDependencies)for(let d of r.manifest.getForScope(l).values()){let f=this.project.tryWorkspaceByDescriptor(d);if(f===null||this.excludeWorkspacePredicate(f)||typeof f.manifest.scripts.get(this.runCommand)=="undefined")continue;let h=this.runGraph.addNode(f.relativeCwd);this.runGraph.addRunCallback(h,this.createRunItem(f)),t.addDependency(h),this.runGraph.checkCyclical(h);let _=await this.plan(h,f),g=!1;f!==this.project.topLevelWorkspace&&(g=await this.checkIfRunIsRequired(f)),(g||_)&&(n=!0,this.removeFromExcluded(f))}let i=!1;if(r!==this.project.topLevelWorkspace&&(i=await this.checkIfRunIsRequired(r)),this.runReporter.emit(oe.pending,r.relativeCwd,r.locator),n||i){this.runReporter.emit(oe.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(s=r.manifest.name)==null?void 0:s.scope}/`:""}${(a=r.manifest.name)==null?void 0:a.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);return}else{let l=(u=this.runLog)==null?void 0:u.get(`${r.relativeCwd}#${this.runCommand}`);l&&((c=this.runLog)==null||c.set(`${r.relativeCwd}#${this.runCommand}`,{lastModified:l.lastModified,status:wt.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}))}};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",o={1:[]};this.runGraph.dryRunCallback=(u,c)=>{o[c]?o[c].push(u.id):o[c]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let s=(u,c,l,d)=>{let f=l?"\u2514\u2500":d&&l?"\u2514\u2500\u252C\u2500":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f}[${u}] ${c}`},a=Object.keys(o);return a.forEach((u,c)=>{let l=parseInt(u),d=o[l],f=c==a.length-1;d.forEach((h,_)=>{let g=this.runGraph.getNode(h);i+=s(l,h,_==d.length-1,f),g instanceof Yn&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{var s,a;let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(He.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),He.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;He.default||lt.pad(this.concurrency+3),He.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(a=(s=this.runTargets[0])==null?void 0:s.relativeCwd)!=null?a:"Nothing to run",He.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let o=this.generateFinalReport();return typeof o=="string"&&process.stdout.write(`
${o}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";He.default?this.updateProgressCI(t):(n=this.generateProgressString(t),lt.cursorUp(lt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),lt.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,M1(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>F.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=F.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=F.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),o=F.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${o} ${$r(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var o;He.default||(lt.cursorUp(lt.linesRequired(this.runReport.previousOutput,process.stdout.columns)),lt.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),He.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let a in this.runReport.workspaces){let u=this.runReport.workspaces[a];u.fail&&s.push(a),!(this.runReport.failCount!==0&&u.fail===!1)&&((u.stdout.length!==0||u.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${F.formatUtils.pretty(this.configuration,a,F.FormatType.PATH)}`,2)+`
`}`),u.stdout.length!==0&&u.stdout.forEach(c=>{c.split(`
`).forEach(d=>{typeof d!="undefined"&&d.length!==0&&(r+=`${d+`
`}`)})}),u.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,u.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(h=>{typeof h!="undefined"&&h.length!==0&&(r+=`${h+`
`}`)})})))}s.length>=2&&(r+=`${this.grey(L1)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,s.forEach(u=>{r+=`${`- ${F.formatUtils.pretty(this.configuration,u,F.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${F.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?F.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:a,ignoredCount:u,skipCount:c}=this.runReport,l=this.runGraph.runSize-u,d=l-a-s-c,f=F.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),h=F.formatUtils.pretty(this.configuration,`Fail: ${a}`,"red"),_=F.formatUtils.pretty(this.configuration,`Skipped: ${c}`,"white"),g=F.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),A=F.formatUtils.pretty(this.configuration,`Up to date: ${d}`,"white"),b=F.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=f+`
`,r+=A+`
`,r+=h+`
`,this.verbose&&a>0&&Object.keys(this.runReport.workspaces).forEach(v=>{let C=this.runReport.workspaces[v];C.fail&&(r+=` - ${F.formatUtils.pretty(this.configuration,v,"grey")}${F.formatUtils.pretty(this.configuration,C.locator,"IDENT")}
`)}),r+=_+`
`,this.verbose&&c>0&&Object.keys(this.runReport.workspaces).forEach(v=>{let C=this.runReport.workspaces[v];C.skipped&&(r+=` - ${F.formatUtils.pretty(this.configuration,v,"grey")}${F.formatUtils.pretty(this.configuration,C.locator,"IDENT")}
`)}),r+=g+`
`,this.verbose&&this.excluded.size>0)for(let v of this.excluded)r+=` - ${F.formatUtils.pretty(this.configuration,v.relativeCwd,"grey")}${F.formatUtils.pretty(this.configuration,v.locator,"IDENT")}
`;r+=b+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces)i+=(o=this.runReport.workspaces[s].runtimeSeconds)!=null?o:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,u=Date.now()-this.runReport.runStart,c=$r(u,s);r+=`Cumulative: (cpu): ${$r(0,i)}
`,r+=`Saved: ${c}
`}return this.runReport.runStart&&(r+="Runtime (wall): "+$r(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:o})=>{var l,d,f,h,_,g,A,b;let s=t.relativeCwd,a={[D.PACKAGE_NAME]:t.locator.name,[D.PACKAGE_DIRECTORY]:t.relativeCwd,[D.PACKAGE_COMMAND]:this.runCommand};typeof t.locator.scope=="string"&&(a[D.PACKAGE_SCOPE]=`@${t.locator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[D.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let c=(l=this.runLog)==null?void 0:l.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(oe.start,t.relativeCwd,t.locator,`${((d=t.manifest.name)==null?void 0:d.scope)?`@${(f=t.manifest.name)==null?void 0:f.scope}/`:""}${(h=t.manifest.name)==null?void 0:h.name}`,u),i.addEvent("start"),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit(oe.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(oe.ignored,t.relativeCwd),i.addEvent("ignored"),!0;try{if(this.runReport.failCount!==0&&!this.continueOnError&&(this.runReporter.emit(oe.skipped,t.relativeCwd),i.addEvent("skipped"),(_=this.runLog)==null||_.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.skipped,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let v=await this.cli(o,this.runCommand,t.cwd,this.runReporter,s);if(i.setAttribute(D.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,v),v!==0)return this.runReporter.emit(oe.fail,t.relativeCwd),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand,exitCode:`${v}`}),this.failFast===!0&&(He.default&&process.stdout.write(`--fail-fast is set, terminating all processes
`),gu()),!1;(A=this.runLog)==null||A.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.runReporter.emit(oe.success,t.relativeCwd)}catch(v){return this.runReporter.emit(oe.fail,t.relativeCwd,v),(b=this.runLog)==null||b.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:wt.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),(typeof v=="string"||v instanceof Error)&&i.recordException(v),i.setStatus({code:Cb.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),gu()),!1}return!1}));let g=l!=null?l:(0,Ab.cpus)().length;this.configuration=o,this.pluginConfiguration=s,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=c,this.concurrency=g,this.continueOnError=d,this.limit=(0,Ob.default)(g),this.queue=new Rb.default({concurrency:g,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=we.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"})),this.ignoreDependencies=h,this.failFast=_}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return we.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return we.ppath.resolve(this.project.cwd,".yarn",x1)}async readRunLog(){let t=new Map;try{let r=await we.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{lastModified:r.packages[n].lastModified,status:r.packages[n].status,haveCheckedForRerun:!1,rerun:!0,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await we.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:q({},t&&t.packages)};for(let[n,i]of this.runLog)i.status===wt.succeeded&&(r.packages[n]=q(q({},r.packages[n]),this.runLog.get(n)));await we.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}if(typeof t.manifest.scripts.get(this.runCommand)=="undefined")return;let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}getWorkspaceConfig(t){let r=[],n=ue(q({},this.pluginConfiguration),{folders:q(q({},this.pluginConfiguration.folders),t==null?void 0:t.manifest.raw["yarn.build"])});return Lc(n,{errors:r})?n:(console.warn(r),this.pluginConfiguration)}async checkIfRunIsRequired(t){var c,l,d,f,h,_,g,A,b,v,C,U,H,ee,k,P;if(this.ignoreRunCache===!0)return this.checkIfRunIsRequiredCache[t.relativeCwd]=!0,!0;if(typeof this.checkIfRunIsRequiredCache[t.relativeCwd]!="undefined")return this.checkIfRunIsRequiredCache[t.relativeCwd];if(typeof t.manifest.scripts.get(this.runCommand)!="string")return this.checkIfRunIsRequiredCache[t.relativeCwd]=!1,!1;let r=!1,n=we.ppath.resolve(t.project.cwd,t.relativeCwd),i=this.getWorkspaceConfig(t),o=new Set;Array.isArray(i.folders.input)?i.folders.input.forEach(S=>S&&o.add(S)):o.add(i.folders.input);let s=new Set;Array.isArray(i.folders.output)?i.folders.output.forEach(S=>S&&s.add(S)):s.add(i.folders.output),typeof((l=(c=t==null?void 0:t.manifest)==null?void 0:c.raw)==null?void 0:l.bin)=="string"?s.add(t.manifest.raw.bin):typeof((h=(f=(d=t==null?void 0:t.manifest)==null?void 0:d.raw)==null?void 0:f.directories)==null?void 0:h.bin)=="string"?s.add(t.manifest.raw.directories.bin):typeof((g=(_=t==null?void 0:t.manifest)==null?void 0:_.raw)==null?void 0:g.files)=="string"?s.add(t.manifest.raw.files):Array.isArray((b=(A=t==null?void 0:t.manifest)==null?void 0:A.raw)==null?void 0:b.files)?t.manifest.raw.files.forEach(S=>S&&s.add(S)):typeof((C=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:C.main)=="string"&&s.add(t.manifest.raw.main);try{let S=we.xfs.pathUtils.join(t.relativeCwd,"tsconfig.json");if((await we.xfs.statPromise(S)).isFile()){let m=await we.xfs.readJsonPromise(S);((U=m==null?void 0:m.compilerOptions)==null?void 0:U.outDir)&&s.add(m.compilerOptions.outDir),(m==null?void 0:m.include)&&(Array.isArray(m.include)?m.include.forEach(O=>O&&o.add(O)):o.add(m.include)),(m==null?void 0:m.exclude)&&(Array.isArray(m.exclude)?m.exclude.forEach(O=>O&&s.add(O)):s.add(m.exclude))}}catch(S){console.warn(t.relativeCwd,`
`,S)}let a=[...s].map(S=>`${n}${mu.default.posix.sep}${S}`),u=[...o].map(S=>`${n}${mu.default.posix.sep}${S}`).map(S=>(S==null?void 0:S.endsWith("/."))?S.substring(0,S.length-2):S);{let S=await this.runReport.mutex.acquire();try{let j=(H=this.runLog)==null?void 0:H.get(`${t.relativeCwd}#${this.runCommand}`);if(j==null?void 0:j.haveCheckedForRerun)return(ee=j==null?void 0:j.rerun)!=null?ee:!0;let m=await wb(u!=null?u:[n],a);(j==null?void 0:j.lastModified)!==m&&(r=!0),(k=this.runLog)==null||k.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:m,status:r?wt.succeeded:wt.pending,haveCheckedForRerun:!0,rerun:r,command:this.runCommand})}catch(j){(P=this.runReport.workspaces[t.relativeCwd])==null||P.stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${j})`))}finally{S()}}{let S=[...s].filter(m=>m!=="node_modules");(await Promise.all([...S].map(async m=>{try{let O=await(0,Sb.default)(m,{dot:!0});return(await Promise.all(O.map(async $=>!(await we.xfs.statPromise(we.xfs.pathUtils.join(t.relativeCwd,$))).isDirectory()))).some($=>$===!0)}catch{return!1}}))).some(m=>m===!0)&&(r=!0)}return this.checkIfRunIsRequiredCache[t.relativeCwd]=r,r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,o=(0,Eu.default)(i).length,s=n?"[ yarn.build ]":"",a=Pb-o;return n&&(a-=s.length),i+this.grey("-".repeat(a))+this.grey(s)}generateHeaderString(){return`${F.formatUtils.pretty(this.configuration,`${this.runCommand}`,F.FormatType.CODE)} for ${F.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",F.FormatType.SCOPE)}${this.dryRun?F.formatUtils.pretty(this.configuration," --dry-run",F.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-n.start)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=s=>this.grey(`[${s}]`),i=F.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let o=1;for(let s in this.runReport.workspaces){let a=this.runReport.workspaces[s];if(!a||!a.start||a.done)continue;let u=F.formatUtils.pretty(this.configuration,s,F.FormatType.PATH),c=F.formatUtils.pretty(this.configuration,`(${a.runScript})`,F.FormatType.REFERENCE),l=a.start?F.formatUtils.pretty(this.configuration,$r(a.start,t),F.FormatType.RANGE):"",d=n(o++),f=" ".repeat(d.length-1),h=F.formatUtils.pretty(this.configuration,a.name,F.FormatType.NAME),_=`${d} ${h}${F.formatUtils.pretty(this.configuration,"@","grey")}${u} ${c} ${l}
`,g="",A="",b="";(0,Eu.default)(_).length>=process.stdout.columns&&(g=`${d} ${u}${h}
`,A=`${f} ${c} ${l}
`,(0,Eu.default)(g).length>=process.stdout.columns&&(g=(0,yu.default)(`${d} ${u}
`,0,process.stdout.columns),A=(0,yu.default)(`${f} ${h}
`,0,process.stdout.columns),b=(0,yu.default)(`${f} ${c} ${l}
`,0,process.stdout.columns)),_=g+A+b),r+=_}for(o;o<this.concurrency+1;)r+=`${n(o++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},wb=async(e,t)=>{let r=await Promise.all(e.map(async n=>{if((t==null?void 0:t.some(o=>n.startsWith(o)))||(t==null?void 0:t.some(o=>bb.default.isMatch(n,o))))return 0;let i=await we.xfs.statPromise(n);if(i.isFile())return i.mtimeMs;if(i.isDirectory()){let o=await we.xfs.readdirPromise(n);return await wb(o.map(s=>`${n}${mu.default.posix.sep}${s}`),t)}return 0}));return Math.max(...r)},$r=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function M1(e){return new Promise(t=>setTimeout(t,e))}var Nb=Ib;var xb=x(I("child_process"));async function ud(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,xb.exec)(n,(i,o,s)=>{if(i&&r(i),o){let a=o.split(`
`),c=[...e.root.workspacesCwds].map(l=>{if(a.some(d=>d.startsWith(l.replace(`${e.root.cwd}/`,""))))return l}).filter(l=>!!l).map(l=>!!l&&e.root.project.workspacesByCwd.get(l)).filter(l=>!!l);t(c)}s&&t([])})})}var Vr=x(I("@yarnpkg/core"));var Lb=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...Lb(i,t))}return r},Mb=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=Lb(e,t);for(let i of n)for(let o of Vr.Manifest.hardDependencies){for(let s of i.manifest.getForScope(o).values()){let a=t.tryWorkspaceByDescriptor(s);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof _u){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,o=n.node.length<n.dep.length+4?"\u21B0":"",s=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${Vr.formatUtils.pretty(r.configuration,n.node,"white")} ${o}
 \u21B3 ${Vr.formatUtils.pretty(r.configuration,n.dep,"red")} ${s}

`,i+=Vr.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=Vr.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var lo=x(B());var po=class extends vu.BaseCommand{constructor(){super(...arguments);this.json=le.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=le.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=le.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=le.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=le.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=le.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a job, but not actually run it"});this.ignoreBuildCache=le.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=le.Option.String("-m,--max-concurrency",{description:"is the maximum number of jobs that can run at a time, defaults to the number of logical CPUs on the current machine."});this.continueOnError=le.Option.Boolean("--continue-on-error",!1,{description:"if a job fails, continue with the rest"});this.failFast=le.Option.Boolean("--fail-fast",!1,{description:"if a job fails, terminate other running jobs"});this.exclude=le.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=le.Option.Boolean("--exclude-current",!1,{description:"run for this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=le.Option.Boolean("--changes",!1,{description:"only run for packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=le.Option.String("--since",{description:"only run for packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=le.Option.String("--since-branch",{description:"only run for packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=le.Option.Boolean("--only-current",!1,{description:"only run for the current workspace"});this.ignoreDependencies=le.Option.Boolean("--ignore-dependencies",!1,{description:"when true, don't run for packages this one depends on"});this.buildTargets=le.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.commandType="build"}async execute(){return await new Tt("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:r,ctx:n})=>{var A,b;r.setAttributes({[D.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[D.YARN_BUILD_FLAGS_ALL]:this.all,[D.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[D.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[D.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[D.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[D.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[D.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[D.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[D.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[D.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[D.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[D.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[D.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[D.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[D.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let i=await Be.Configuration.find(this.context.cwd,this.context.plugins),{project:o,workspace:s}=await Be.Project.find(i,this.context.cwd);if(!s)throw new vu.WorkspaceRequiredError(o.cwd,this.context.cwd);let a=this.all?o.topLevelWorkspace:s,u=!1;a==o.topLevelWorkspace&&(u=!0);let c=[a,...this.buildTargets.length>0?a.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?c=await ud({root:o.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(c=await ud({root:o.topLevelWorkspace,commit:(A=this.onlyGitChangesSinceCommit)!=null?A:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(Be.structUtils.stringifyIdent(s.locator)),!u&&this.onlyCurrent&&(this.maxConcurrency="1");let l=v=>{var C,U;return!u&&this.onlyCurrent?v!=s:(U=(C=this.exclude)==null?void 0:C.some(H=>co.default.isMatch(Be.structUtils.stringifyIdent(v.locator),H)||co.default.isMatch(v.cwd,`${i.projectCwd}${cd.default.posix.sep}${H}`)))!=null?U:!1},d=v=>!u&&this.onlyCurrent?v==s:this.buildTargets.some(C=>co.default.isMatch(Be.structUtils.stringifyIdent(v.locator),C)||co.default.isMatch(v.cwd,`${i.projectCwd}${cd.default.posix.sep}${C}`)),f=this.buildTargets.length>0?c.filter(d):c,h=await Hh(i);this.continueOnError=(b=this.continueOnError)!=null?b:!!h.bail;let _=this.maxConcurrency===void 0?(0,Db.cpus)().length:parseInt(this.maxConcurrency);r.setAttributes({[D.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[D.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[D.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[D.YARN_BUILD_CONFIG_BAIL]:h.bail,[D.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[D.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:_,[D.YARN_BUILD_FLAGS_IGNORE_DEPENDENCIES]:this.ignoreDependencies});let g=await Be.StreamReport.start({configuration:i,json:this.json,stdout:this.context.stdout,includeLogs:!0},async v=>{let C=async(ee,k,P,S,j)=>{let m=lo.trace.getSpan(ee),O=new Be.miscUtils.BufferStream;O.on("data",$=>S==null?void 0:S.emit(oe.info,j,$&&$.toString()));let M=new Be.miscUtils.BufferStream;if(M.on("data",$=>S==null?void 0:S.emit(oe.error,j,$&&$.toString())),this.forceQuit)return O.destroy(),M.destroy(),O.end(),M.end(),2;try{let $=await this.cli.run(["run",k],{cwd:P,stdout:O,stderr:M})||0;return O.end(),M.end(),$}catch($){m==null||m.setStatus({code:lo.SpanStatusCode.ERROR,message:$.message}),(typeof $=="string"||$ instanceof Error)&&(m==null||m.recordException($)),O.end(),M.end()}return 2},U=new Nb({project:o,configuration:i,pluginConfiguration:h,report:v,runCommand:this.buildCommand,cli:C,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:_,continueOnError:this.continueOnError,excludeWorkspacePredicate:l,ignoreDependencies:this.ignoreDependencies,failFast:this.failFast});U.runReporter.on(oe.forceQuit,()=>{this.forceQuit=!0}),await U.setup();for(let ee of f)await Mb({targetWorkspace:ee,project:o,supervisor:U});await U.run(n)===!1&&(v.reportError(Be.MessageName.BUILD_FAILED,"Build failed"),r.setStatus({code:lo.SpanStatusCode.ERROR,message:"Build failed"}))});return Kn.hasBeenTerminated=!0,g.exitCode()})}};po.paths=[["build"]],po.usage=le.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var Au=po;var Yb=x(I("@yarnpkg/cli")),Wb=x(I("@yarnpkg/core")),Su=x(I("@yarnpkg/core")),Kb=x(I("clipanion"));var pt=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var Bb=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>pt(i)),n=Array.from(t.workspaces.values()).map(i=>pt(i.manifest.name));return r.filter(i=>n.includes(i))};var Ub=({project:e,workspaceName:t})=>e.workspaces.find(n=>pt(n.manifest.name)===t);var jb=x(I("@yarnpkg/core"));var D1={firstCharacters:"\u27A4 ",tabString:"\u2502 "},Fb="gray",fo=({format:e,padding:t,step:r=5,characters:n=D1})=>{let{firstCharacters:i,tabString:o}=n,s=o.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((c,l)=>l<s.length?s[l]:c).join("");process.stdout.write(e(u,Fb))}process.stdout.write(e(i,Fb))};var B1=jb.FormatType.NAME,kb="red",qb=({format:e,circular:t,dependency:r,parents:n,current:i,project:o,padding:s=0})=>{if(t){fo({format:e,padding:s+1}),process.stdout.write(e(r,B1)),process.stdout.write(e(" -> circular dependency",kb)),process.stdout.write(`
`);return}let a=Ub({project:o,workspaceName:r});if(!a){fo({format:e,padding:s+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",kb)),process.stdout.write(`
`);return}bu({format:e,project:o,parent:i,parents:[...n,i],padding:s+1,workspace:a})};var Gb=({format:e,workspace:t,parent:r,parents:n,project:i,padding:o=0})=>{let s=Bb({workspace:t,project:i});for(let a of s)qb({format:e,workspace:t,project:i,padding:o,parent:r,parents:n,current:pt(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var Hb=x(I("@yarnpkg/core"));var U1=Hb.FormatType.NAME,$b=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=pt(n);fo({format:e,padding:r}),process.stdout.write(e(i,U1)),process.stdout.write(`
`)};var bu=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:o})=>{$b({workspace:t,padding:i,format:e}),Gb({parents:n,workspace:t,project:r,padding:i,parent:o,format:e})};var ho=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var Vb=({workspace:e,format:t})=>{let r=pt(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),ho({padding:1})};var _o=class extends Yb.BaseCommand{async execute(){let t=await Su.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await Su.Project.find(t,this.context.cwd);if(!n)return 0;let i=(o,s)=>Wb.formatUtils.pretty(t,o,s);return ho({padding:1}),Vb({workspace:n,format:i}),bu({parents:[],workspace:n,project:r,format:i}),ho({padding:2}),0}};_o.paths=[["build","query"]],_o.usage=Kb.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var Xb=_o;var go=x(I("clipanion"));var mo=class extends Au{constructor(){super(...arguments);this.buildCommand=go.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=go.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.ignoreDependencies=!0;this.commandType="test"}};mo.paths=[["test"]],mo.usage=go.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var zb=mo;var F1={commands:[uA,Xb,Au,zb]},j1=F1;return k1;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
