/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@ojkelly/plugin-all",
factory: function (require) {
var plugin=(()=>{var Vb=Object.create,Wn=Object.defineProperty,Yb=Object.defineProperties,Wb=Object.getOwnPropertyDescriptor,Kb=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertyNames,sd=Object.getOwnPropertySymbols,zb=Object.getPrototypeOf,ad=Object.prototype.hasOwnProperty,Qb=Object.prototype.propertyIsEnumerable;var ud=(e,t,r)=>t in e?Wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t)=>{for(var r in t||(t={}))ad.call(t,r)&&ud(e,r,t[r]);if(sd)for(var r of sd(t))Qb.call(t,r)&&ud(e,r,t[r]);return e},ce=(e,t)=>Yb(e,Kb(t)),Zb=e=>Wn(e,"__esModule",{value:!0});var I=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var p=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Jb=(e,t)=>{for(var r in t)Wn(e,r,{get:t[r],enumerable:!0})},eS=(e,t,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Xb(t))!ad.call(e,n)&&n!=="default"&&Wn(e,n,{get:()=>t[n],enumerable:!(r=Wb(t,n))||r.enumerable});return e},M=e=>eS(Zb(Wn(e!=null?Vb(zb(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var bd=p((B1,Ad)=>{function fd(e){return Array.isArray(e)?e:[e]}var hd="",_d=" ",vu="\\",tS=/^\s+$/,rS=/^\\!/,nS=/^\\#/,iS=/\r?\n/g,oS=/^\.*\/|^\.+$/,Au="/",gd=typeof Symbol!="undefined"?Symbol.for("node-ignore"):"node-ignore",sS=(e,t,r)=>Object.defineProperty(e,t,{value:r}),aS=/([0-z])-([0-z])/g,uS=e=>e.replace(aS,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:hd),cS=e=>{let{length:t}=e;return e.slice(0,t-t%2)},lS=[[/\\?\s+$/,e=>e.indexOf("\\")===0?_d:hd],[/\\\s/g,()=>_d],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>vu],[/\\\\/g,()=>vu],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===vu?`\\[${r}${cS(n)}${i}`:i==="]"&&n.length%2==0?`[${uS(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],md=Object.create(null),pS=(e,t,r)=>{let n=md[e];if(n)return n;let i=lS.reduce((o,s)=>o.replace(s[0],s[1].bind(e)),e);return md[e]=r?new RegExp(i,"i"):new RegExp(i)},bu=e=>typeof e=="string",dS=e=>e&&bu(e)&&!tS.test(e)&&e.indexOf("#")!==0,fS=e=>e.split(iS),Ed=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},hS=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(rS,"!").replace(nS,"#");let i=pS(e,n,t);return new Ed(r,e,n,i)},_S=(e,t)=>{throw new t(e)},wt=(e,t,r)=>bu(e)?e?wt.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),yd=e=>oS.test(e);wt.isNotRelative=yd;wt.convert=e=>e;var vd=class{constructor({ignorecase:t=!0}={}){this._rules=[],this._ignorecase=t,sS(this,gd,!0),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[gd]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(dS(t)){let r=hS(t,this._ignorecase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,fd(bu(t)?fS(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(o=>{let{negative:s}=o;if(i===s&&n!==i||s&&!n&&!i&&!r)return;o.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let o=t&&wt.convert(t);return wt(o,t,_S),this._t(o,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Au)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let o=this._t(i.join(Au)+Au,r,n,i);return r[t]=o.ignored?o:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return fd(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Eo=e=>new vd(e),gS=()=>!1,mS=e=>wt(e&&wt.convert(e),e,gS);Eo.isPathValid=mS;Eo.default=Eo;Ad.exports=Eo;if(typeof process!="undefined"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");wt.convert=e;let t=/^[a-z]:\//i;wt.isNotRelative=r=>t.test(r)||yd(r)}});var Sd=p(Su=>{var ur=I("path"),Gt=process.platform==="win32",Ht=I("fs"),ES=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function yS(){var e;if(ES){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function vS(e){return typeof e=="function"?e:yS()}var U1=ur.normalize;Gt?Nt=/(.*?)(?:[\/\\]+|$)/g:Nt=/(.*?)(?:[\/]+|$)/g;var Nt;Gt?Kn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Kn=/^[\/]*/;var Kn;Su.realpathSync=function(t,r){if(t=ur.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},o={},s,a,u,c;l();function l(){var v=Kn.exec(t);s=v[0].length,a=v[0],u=v[0],c="",Gt&&!o[u]&&(Ht.lstatSync(u),o[u]=!0)}for(;s<t.length;){Nt.lastIndex=s;var d=Nt.exec(t);if(c=a,a+=d[0],u=c+d[1],s=Nt.lastIndex,!(o[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var h=Ht.lstatSync(u);if(!h.isSymbolicLink()){o[u]=!0,r&&(r[u]=u);continue}var _=null;if(!Gt){var g=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(g)&&(_=i[g])}_===null&&(Ht.statSync(u),_=Ht.readlinkSync(u)),f=ur.resolve(c,_),r&&(r[u]=f),Gt||(i[g]=_)}t=ur.resolve(f,t.slice(s)),l()}}return r&&(r[n]=t),t};Su.realpath=function(t,r,n){if(typeof n!="function"&&(n=vS(r),r=null),t=ur.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,o={},s={},a,u,c,l;d();function d(){var v=Kn.exec(t);a=v[0].length,u=v[0],c=v[0],l="",Gt&&!s[c]?Ht.lstat(c,function(b){if(b)return n(b);s[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=t.length)return r&&(r[i]=t),n(null,t);Nt.lastIndex=a;var v=Nt.exec(t);return l=u,u+=v[0],c=l+v[1],a=Nt.lastIndex,s[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?g(r[c]):Ht.lstat(c,h)}function h(v,b){if(v)return n(v);if(!b.isSymbolicLink())return s[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!Gt){var y=b.dev.toString(32)+":"+b.ino.toString(32);if(o.hasOwnProperty(y))return _(null,o[y],c)}Ht.stat(c,function(C){if(C)return n(C);Ht.readlink(c,function(D,k){Gt||(o[y]=k),_(D,k)})})}function _(v,b,y){if(v)return n(v);var C=ur.resolve(l,b);r&&(r[y]=C),g(C)}function g(v){t=ur.resolve(v,t.slice(a)),d()}}});var Cu=p((k1,Cd)=>{Cd.exports=$t;$t.realpath=$t;$t.sync=Ou;$t.realpathSync=Ou;$t.monkeypatch=bS;$t.unmonkeypatch=SS;var Vr=I("fs"),Tu=Vr.realpath,Ru=Vr.realpathSync,AS=process.version,Td=/^v[0-5]\./.test(AS),Rd=Sd();function Od(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function $t(e,t,r){if(Td)return Tu(e,t,r);typeof t=="function"&&(r=t,t=null),Tu(e,t,function(n,i){Od(n)?Rd.realpath(e,t,r):r(n,i)})}function Ou(e,t){if(Td)return Ru(e,t);try{return Ru(e,t)}catch(r){if(Od(r))return Rd.realpathSync(e,t);throw r}}function bS(){Vr.realpath=$t,Vr.realpathSync=Ou}function SS(){Vr.realpath=Tu,Vr.realpathSync=Ru}});var Id=p((F1,Pd)=>{Pd.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);TS(i)?r.push.apply(r,i):r.push(i)}return r};var TS=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Md=p((q1,Ld)=>{"use strict";Ld.exports=wd;function wd(e,t,r){e instanceof RegExp&&(e=Nd(e,r)),t instanceof RegExp&&(t=Nd(t,r));var n=xd(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function Nd(e,t){var r=t.match(e);return r?r[0]:null}wd.range=xd;function xd(e,t,r){var n,i,o,s,a,u=r.indexOf(e),c=r.indexOf(t,u+1),l=u;if(u>=0&&c>0){if(e===t)return[u,c];for(n=[],o=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(e,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,s=c),c=r.indexOf(t,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[o,s])}return a}});var Gd=p((G1,qd)=>{var RS=Id(),Dd=Md();qd.exports=PS;var Bd="\0SLASH"+Math.random()+"\0",Ud="\0OPEN"+Math.random()+"\0",Pu="\0CLOSE"+Math.random()+"\0",jd="\0COMMA"+Math.random()+"\0",kd="\0PERIOD"+Math.random()+"\0";function Iu(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function OS(e){return e.split("\\\\").join(Bd).split("\\{").join(Ud).split("\\}").join(Pu).split("\\,").join(jd).split("\\.").join(kd)}function CS(e){return e.split(Bd).join("\\").split(Ud).join("{").split(Pu).join("}").split(jd).join(",").split(kd).join(".")}function Fd(e){if(!e)return[""];var t=[],r=Dd("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=Fd(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),t.push.apply(t,s),t}function PS(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Yr(OS(e),!0).map(CS)):[]}function IS(e){return"{"+e+"}"}function wS(e){return/^-?0\d/.test(e)}function NS(e,t){return e<=t}function xS(e,t){return e>=t}function Yr(e,t){var r=[],n=Dd("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Pu+n.post,Yr(e)):[e];var u;if(s)u=n.body.split(/\.\./);else if(u=Fd(n.body),u.length===1&&(u=Yr(u[0],!1).map(IS),u.length===1)){var l=n.post.length?Yr(n.post,!1):[""];return l.map(function(A){return n.pre+u[0]+A})}var c=n.pre,l=n.post.length?Yr(n.post,!1):[""],d;if(s){var f=Iu(u[0]),h=Iu(u[1]),_=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(Iu(u[2])):1,v=NS,b=h<f;b&&(g*=-1,v=xS);var y=u.some(wS);d=[];for(var C=f;v(C,h);C+=g){var D;if(o)D=String.fromCharCode(C),D==="\\"&&(D="");else if(D=String(C),y){var k=_-D.length;if(k>0){var ie=new Array(k+1).join("0");C<0?D="-"+ie+D.slice(1):D=ie+D}}d.push(D)}}else d=RS(u,function(V){return Yr(V,!1)});for(var F=0;F<d.length;F++)for(var O=0;O<l.length;O++){var T=c+d[F]+l[O];(!t||s||T)&&r.push(T)}return r}});var vo=p((H1,Kd)=>{Kd.exports=Xe;Xe.Minimatch=ve;var Xn={sep:"/"};try{Xn=I("path")}catch(e){}var wu=Xe.GLOBSTAR=ve.GLOBSTAR={},LS=Gd(),Hd={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Nu="[^/]",xu=Nu+"*?",MS="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",DS="(?:(?!(?:\\/|^)\\.).)*?",$d=BS("().*{}+?[]^$\\!");function BS(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var Vd=/\/+/;Xe.filter=US;function US(e,t){return t=t||{},function(r,n,i){return Xe(r,e,t)}}function Yd(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Xe.defaults=function(e){if(!e||!Object.keys(e).length)return Xe;var t=Xe,r=function(i,o,s){return t.minimatch(i,o,Yd(e,s))};return r.Minimatch=function(i,o){return new t.Minimatch(i,Yd(e,o))},r};ve.defaults=function(e){return!e||!Object.keys(e).length?ve:Xe.defaults(e).Minimatch};function Xe(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new ve(t,r).match(e)}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),Xn.sep!=="/"&&(e=e.split(Xn.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}ve.prototype.debug=function(){};ve.prototype.make=jS;function jS(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Vd)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}ve.prototype.parseNegate=kS;function kS(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=e.length;i<o&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Xe.braceExpand=function(e,t){return Wd(e,t)};ve.prototype.braceExpand=Wd;function Wd(e,t){if(t||(this instanceof ve?t=this.options:t={}),e=typeof e=="undefined"?this.pattern:e,typeof e=="undefined")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:LS(e)}ve.prototype.parse=FS;var yo={};function FS(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return wu;if(e==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],u,c=!1,l=-1,d=-1,f=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function _(){if(u){switch(u){case"*":n+=xu,i=!0;break;case"?":n+=Nu,i=!0;break;default:n+="\\"+u;break}h.debug("clearStateChar %j %j",u,n),u=!1}}for(var g=0,v=e.length,b;g<v&&(b=e.charAt(g));g++){if(this.debug("%s	%s %s %j",e,g,n,b),o&&$d[b]){n+="\\"+b,o=!1;continue}switch(b){case"/":return!1;case"\\":_(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,g,n,b),c){this.debug("  in class"),b==="!"&&g===d+1&&(b="^"),n+=b;continue}h.debug("call clearStateChar %j",u),_(),u=b,r.noext&&_();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}s.push({type:u,start:g-1,reStart:n.length,open:Hd[u].open,close:Hd[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!s.length){n+="\\)";continue}_(),i=!0;var y=s.pop();n+=y.close,y.type==="!"&&a.push(y),y.reEnd=n.length;continue;case"|":if(c||!s.length||o){n+="\\|",o=!1;continue}_(),n+="|";continue;case"[":if(_(),c){n+="\\"+b;continue}c=!0,d=g,l=n.length,n+=b;continue;case"]":if(g===d+1||!c){n+="\\"+b,o=!1;continue}if(c){var C=e.substring(d+1,g);try{RegExp("["+C+"]")}catch(Ge){var D=this.parse(C,yo);n=n.substr(0,l)+"\\["+D[0]+"\\]",i=i||D[1],c=!1;continue}}i=!0,c=!1,n+=b;continue;default:_(),o?o=!1:$d[b]&&!(b==="^"&&c)&&(n+="\\"),n+=b}}for(c&&(C=e.substr(d+1),D=this.parse(C,yo),n=n.substr(0,l)+"\\["+D[0],i=i||D[1]),y=s.pop();y;y=s.pop()){var k=n.slice(y.reStart+y.open.length);this.debug("setting tail",n,y),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Ge,be,qt){return qt||(qt="\\"),be+be+qt+"|"}),this.debug(`tail=%j
   %s`,k,k,y,n);var ie=y.type==="*"?xu:y.type==="?"?Nu:"\\"+y.type;i=!0,n=n.slice(0,y.reStart)+ie+"\\("+k}_(),o&&(n+="\\\\");var F=!1;switch(n.charAt(0)){case".":case"[":case"(":F=!0}for(var O=a.length-1;O>-1;O--){var T=a[O],V=n.slice(0,T.reStart),A=n.slice(T.reStart,T.reEnd-8),L=n.slice(T.reEnd-8,T.reEnd),N=n.slice(T.reEnd);L+=N;var se=V.split("(").length-1,m=N;for(g=0;g<se;g++)m=m.replace(/\)[+*?]?/,"");N=m;var E="";N===""&&t!==yo&&(E="$");var ae=V+A+N+E+L;n=ae}if(n!==""&&i&&(n="(?=.)"+n),F&&(n=f+n),t===yo)return[n,i];if(!i)return HS(e);var Y=r.nocase?"i":"";try{var Be=new RegExp("^"+n+"$",Y)}catch(Ge){return new RegExp("$.")}return Be._glob=e,Be._src=n,Be}Xe.makeRe=function(e,t){return new ve(e,t||{}).makeRe()};ve.prototype.makeRe=qS;function qS(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?xu:t.dot?MS:DS,n=t.nocase?"i":"",i=e.map(function(o){return o.map(function(s){return s===wu?r:typeof s=="string"?$S(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(o){this.regexp=!1}return this.regexp}Xe.match=function(e,t,r){r=r||{};var n=new ve(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};ve.prototype.match=GS;function GS(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;Xn.sep!=="/"&&(e=e.split(Xn.sep).join("/")),e=e.split(Vd),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=e.length-1;o>=0&&(i=e[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=e;r.matchBase&&s.length===1&&(a=[i]);var u=this.matchOne(a,s,t);if(u)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}ve.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,s=e.length,a=t.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u=t[o],c=e[i];if(this.debug(t,u,c),u===!1)return!1;if(u===wu){this.debug("GLOBSTAR",[t,u,c]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=e[l];if(this.debug(`
globstar while`,e,l,t,d,f),this.matchOne(e.slice(l),t.slice(d),r))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,l,t,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,d),l===s))}var h;if(typeof u=="string"?(n.nocase?h=c.toLowerCase()===u.toLowerCase():h=c===u,this.debug("string match",u,c,h)):(h=c.match(u),this.debug("pattern match",u,c,h)),!h)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a){var _=i===s-1&&e[i]==="";return _}throw new Error("wtf?")};function HS(e){return e.replace(/\\(.)/g,"$1")}function $S(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Xd=p(($1,Lu)=>{typeof Object.create=="function"?Lu.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Lu.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var zd=p((V1,Du)=>{try{if(Mu=I("util"),typeof Mu.inherits!="function")throw"";Du.exports=Mu.inherits}catch(e){Du.exports=Xd()}var Mu});var bo=p((Y1,Ao)=>{"use strict";function Qd(e){return e.charAt(0)==="/"}function Zd(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Ao.exports=process.platform==="win32"?Zd:Qd;Ao.exports.posix=Qd;Ao.exports.win32=Zd});var Uu=p(Vt=>{Vt.setopts=zS;Vt.ownProp=Jd;Vt.makeAbs=zn;Vt.finish=QS;Vt.mark=ZS;Vt.isIgnored=tf;Vt.childrenIgnored=JS;function Jd(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var VS=I("fs"),Wr=I("path"),YS=vo(),ef=bo(),Bu=YS.Minimatch;function WS(e,t){return e.localeCompare(t,"en")}function KS(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(XS))}function XS(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Bu(r,{dot:!0})}return{matcher:new Bu(e,{dot:!0}),gmatcher:t}}function zS(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||VS,e.maxLength=r.maxLength||Infinity,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),KS(e,r),e.changedCwd=!1;var n=process.cwd();Jd(r,"cwd")?(e.cwd=Wr.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||Wr.resolve(e.cwd,"/"),e.root=Wr.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=ef(e.cwd)?e.cwd:zn(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new Bu(t,r),e.options=e.minimatch.options}function QS(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var o=e.matches[n];if(!o||Object.keys(o).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var a=Object.keys(o);t?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(WS)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=e.cache[u]||e.cache[zn(e,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}e.ignore.length&&(r=r.filter(function(u){return!tf(e,u)})),e.found=r}function ZS(e,t){var r=zn(e,t),n=e.cache[r],i=t;if(n){var o=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=zn(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function zn(e,t){var r=t;return t.charAt(0)==="/"?r=Wr.join(e.root,t):ef(t)||t===""?r=t:e.changedCwd?r=Wr.resolve(e.cwd,t):r=Wr.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function tf(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function JS(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var af=p((Q1,sf)=>{sf.exports=of;of.GlobSync=me;var eT=Cu(),rf=vo(),K1=rf.Minimatch,X1=Fu().Glob,z1=I("util"),ju=I("path"),nf=I("assert"),So=bo(),cr=Uu(),tT=cr.setopts,ku=cr.ownProp,rT=cr.childrenIgnored,nT=cr.isIgnored;function of(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new me(e,t).found}function me(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof me))return new me(e,t);if(tT(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}me.prototype._finish=function(){if(nf(this instanceof me),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var o=eT.realpathSync(i,e.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}cr.finish(this)};me.prototype._process=function(e,t,r){nf(this instanceof me);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var o=e.slice(n),s;i===null?s=".":((So(i)||So(e.join("/")))&&(!i||!So(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!rT(this,s)){var u=o[0]===rf.GLOBSTAR;u?this._processGlobStar(i,s,a,o,t,r):this._processReaddir(i,s,a,o,t,r)}};me.prototype._processReaddir=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",d=[],f=0;f<s.length;f++){var h=s[f];if(h.charAt(0)!=="."||l){var _;u&&!e?_=!h.match(a):_=h.match(a),_&&d.push(h)}}var g=d.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<g;f++){var h=d[f];e&&(e.slice(-1)!=="/"?h=e+"/"+h:h=e+h),h.charAt(0)==="/"&&!this.nomount&&(h=ju.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var f=0;f<g;f++){var h=d[f],v;e?v=[e,h]:v=[h],this._process(v.concat(n),i,o)}}}};me.prototype._emitMatch=function(e,t){if(!nT(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};me.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};me.prototype._readdir=function(e,t){var r;if(t&&!ku(this.symlinks,e))return this._readdirInGlobStar(e);if(ku(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};me.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};me.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};me.prototype._processGlobStar=function(e,t,r,n,i,o){var s=this._readdir(r,o);if(!!s){var a=n.slice(1),u=e?[e]:[],c=u.concat(a);this._process(c,i,!1);var l=s.length,d=this.symlinks[r];if(!(d&&o))for(var f=0;f<l;f++){var h=s[f];if(!(h.charAt(0)==="."&&!this.dot)){var _=u.concat(s[f],a);this._process(_,i,!0);var g=u.concat(s[f],n);this._process(g,i,!0)}}}};me.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&So(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=ju.join(this.root,e):(e=ju.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};me.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&ku(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var o;try{o=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(t)}catch(a){i=o}else i=o}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};me.prototype._mark=function(e){return cr.mark(this,e)};me.prototype._makeAbs=function(e){return cr.makeAbs(this,e)}});var qu=p((Z1,cf)=>{cf.exports=uf;function uf(e,t){if(e&&t)return uf(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=e.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Hu=p((J1,Gu)=>{var lf=qu();Gu.exports=lf(To);Gu.exports.strict=lf(pf);To.proto=To(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return To(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return pf(this)},configurable:!0})});function To(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function pf(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var ff=p((eD,df)=>{var iT=qu(),Qn=Object.create(null),oT=Hu();df.exports=iT(sT);function sT(e,t){return Qn[e]?(Qn[e].push(t),null):(Qn[e]=[t],aT(e))}function aT(e){return oT(function t(){var r=Qn[e],n=r.length,i=uT(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Qn[e]}})}function uT(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Fu=p((nD,_f)=>{_f.exports=pr;var cT=Cu(),hf=vo(),tD=hf.Minimatch,lT=zd(),pT=I("events").EventEmitter,$u=I("path"),Vu=I("assert"),Zn=bo(),Yu=af(),lr=Uu(),dT=lr.setopts,Wu=lr.ownProp,Ku=ff(),rD=I("util"),fT=lr.childrenIgnored,hT=lr.isIgnored,_T=Hu();function pr(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return Yu(e,t)}return new K(e,t,r)}pr.sync=Yu;var gT=pr.GlobSync=Yu.GlobSync;pr.glob=pr;function mT(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}pr.hasMagic=function(e,t){var r=mT({},t);r.noprocess=!0;var n=new K(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};pr.Glob=K;lT(K,pT);function K(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new gT(e,t)}if(!(this instanceof K))return new K(e,t,r);dT(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=_T(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}K.prototype._finish=function(){if(Vu(this instanceof K),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();lr.finish(this),this.emit("end",this.found)}};K.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e==0&&t._finish()}};K.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,o=n.length;if(o===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),cT.realpath(a,i.realpathCache,function(c,l){c?c.syscall==="stat"?s[a]=!0:i.emit("error",c):s[l]=!0,--o==0&&(i.matches[e]=s,t())})})};K.prototype._mark=function(e){return lr.mark(this,e)};K.prototype._makeAbs=function(e){return lr.makeAbs(this,e)};K.prototype.abort=function(){this.aborted=!0,this.emit("abort")};K.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};K.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};K.prototype._process=function(e,t,r,n){if(Vu(this instanceof K),Vu(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var o;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:o=null;break;default:o=e.slice(0,i).join("/");break}var s=e.slice(i),a;o===null?a=".":((Zn(o)||Zn(e.join("/")))&&(!o||!Zn(o))&&(o="/"+o),a=o);var u=this._makeAbs(a);if(fT(this,a))return n();var c=s[0]===hf.GLOBSTAR;c?this._processGlobStar(o,a,u,s,t,r,n):this._processReaddir(o,a,u,s,t,r,n)}};K.prototype._processReaddir=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){return a._processReaddir2(e,t,r,n,i,o,c,s)})};K.prototype._processReaddir2=function(e,t,r,n,i,o,s,a){if(!s)return a();for(var u=n[0],c=!!this.minimatch.negate,l=u._glob,d=this.dot||l.charAt(0)===".",f=[],h=0;h<s.length;h++){var _=s[h];if(_.charAt(0)!=="."||d){var g;c&&!e?g=!_.match(u):g=_.match(u),g&&f.push(_)}}var v=f.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<v;h++){var _=f[h];e&&(e!=="/"?_=e+"/"+_:_=e+_),_.charAt(0)==="/"&&!this.nomount&&(_=$u.join(this.root,_)),this._emitMatch(i,_)}return a()}n.shift();for(var h=0;h<v;h++){var _=f[h],b;e&&(e!=="/"?_=e+"/"+_:_=e+_),this._process([_].concat(n),i,o,a)}a()};K.prototype._emitMatch=function(e,t){if(!this.aborted&&!hT(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Zn(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};K.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=Ku(r,o);i&&n.fs.lstat(e,i);function o(s,a){if(s&&s.code==="ENOENT")return t();var u=a&&a.isSymbolicLink();n.symlinks[e]=u,!u&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};K.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=Ku("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Wu(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Wu(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,ET(this,e,r))}};function ET(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}K.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};K.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};K.prototype._processGlobStar=function(e,t,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){a._processGlobStar2(e,t,r,n,i,o,c,s)})};K.prototype._processGlobStar2=function(e,t,r,n,i,o,s,a){if(!s)return a();var u=n.slice(1),c=e?[e]:[],l=c.concat(u);this._process(l,i,!1,a);var d=this.symlinks[r],f=s.length;if(d&&o)return a();for(var h=0;h<f;h++){var _=s[h];if(!(_.charAt(0)==="."&&!this.dot)){var g=c.concat(s[h],u);this._process(g,i,!0,a);var v=c.concat(s[h],n);this._process(v,i,!0,a)}}a()};K.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,o){n._processSimple2(e,t,i,o,r)})};K.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Zn(e)&&!this.nomount){var o=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=$u.join(this.root,e):(e=$u.resolve(this.root,e),o&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};K.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Wu(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,s)}var u=this,c=Ku("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(d,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(h,_){h?u._stat2(e,r,null,f,t):u._stat2(e,r,h,_,t)});u._stat2(e,r,d,f,t)}};K.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var o=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&s==="FILE"?i():i(null,s,n)}});var mf=p((iD,dr)=>{var Jn=Fu(),gf=function(e,t){return new Promise((r,n)=>{Jn(e,t,(i,o)=>i===null?r(o):n(i))})};dr.exports=gf;dr.exports.glob=Jn;dr.exports.Glob=Jn.Glob;dr.exports.hasMagic=Jn.hasMagic;dr.exports.promise=gf;dr.exports.sync=Jn.sync});var Kr=p((gD,fr)=>{"use strict";function Sf(e){return typeof e=="undefined"||e===null}function AT(e){return typeof e=="object"&&e!==null}function bT(e){return Array.isArray(e)?e:Sf(e)?[]:[e]}function ST(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function TT(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function RT(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}fr.exports.isNothing=Sf;fr.exports.isObject=AT;fr.exports.toArray=bT;fr.exports.repeat=TT;fr.exports.isNegativeZero=RT;fr.exports.extend=ST});var Xr=p((mD,Rf)=>{"use strict";function Tf(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function ei(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Tf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ei.prototype=Object.create(Error.prototype);ei.prototype.constructor=ei;ei.prototype.toString=function(t){return this.name+": "+Tf(this,t)};Rf.exports=ei});var Cf=p((ED,Of)=>{"use strict";var ti=Kr();function zu(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function Qu(e,t){return ti.repeat(" ",t-e.length)+e}function OT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",u,c,l=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)c=zu(e.buffer,n[s-u],i[s-u],e.position-(n[s]-n[s-u]),d),a=ti.repeat(" ",t.indent)+Qu((e.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=zu(e.buffer,n[s],i[s],e.position,d),a+=ti.repeat(" ",t.indent)+Qu((e.line+1).toString(),l)+" | "+c.str+`
`,a+=ti.repeat("-",t.indent+l+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)c=zu(e.buffer,n[s+u],i[s+u],e.position-(n[s]-n[s+u]),d),a+=ti.repeat(" ",t.indent)+Qu((e.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}Of.exports=OT});var Se=p((yD,If)=>{"use strict";var Pf=Xr(),CT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],PT=["scalar","sequence","mapping"];function IT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function wT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(CT.indexOf(r)===-1)throw new Pf('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=IT(t.styleAliases||null),PT.indexOf(this.kind)===-1)throw new Pf('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}If.exports=wT});var ec=p((vD,Nf)=>{"use strict";var ri=Xr(),Zu=Se();function wf(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function NT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Ju(e){return this.extend(e)}Ju.prototype.extend=function(t){var r=[],n=[];if(t instanceof Zu)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ri("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Zu))throw new ri("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new ri("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new ri("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Zu))throw new ri("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Ju.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=wf(i,"implicit"),i.compiledExplicit=wf(i,"explicit"),i.compiledTypeMap=NT(i.compiledImplicit,i.compiledExplicit),i};Nf.exports=Ju});var tc=p((AD,xf)=>{"use strict";var xT=Se();xf.exports=new xT("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var rc=p((bD,Lf)=>{"use strict";var LT=Se();Lf.exports=new LT("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var nc=p((SD,Mf)=>{"use strict";var MT=Se();Mf.exports=new MT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var ic=p((TD,Df)=>{"use strict";var DT=ec();Df.exports=new DT({explicit:[tc(),rc(),nc()]})});var oc=p((RD,Bf)=>{"use strict";var BT=Se();function UT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function jT(){return null}function kT(e){return e===null}Bf.exports=new BT("tag:yaml.org,2002:null",{kind:"scalar",resolve:UT,construct:jT,predicate:kT,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var sc=p((OD,Uf)=>{"use strict";var FT=Se();function qT(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function GT(e){return e==="true"||e==="True"||e==="TRUE"}function HT(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Uf.exports=new FT("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qT,construct:GT,predicate:HT,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var ac=p((CD,jf)=>{"use strict";var $T=Kr(),VT=Se();function YT(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function WT(e){return 48<=e&&e<=55}function KT(e){return 48<=e&&e<=57}function XT(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!YT(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!WT(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!KT(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function zT(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function QT(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1==0&&!$T.isNegativeZero(e)}jf.exports=new VT("tag:yaml.org,2002:int",{kind:"scalar",resolve:XT,construct:zT,predicate:QT,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var uc=p((PD,Ff)=>{"use strict";var kf=Kr(),ZT=Se(),JT=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function eR(e){return!(e===null||!JT.test(e)||e[e.length-1]==="_")}function tR(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var rR=/^[-+]?[0-9]+e/;function nR(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(kf.isNegativeZero(e))return"-0.0";return r=e.toString(10),rR.test(r)?r.replace("e",".e"):r}function iR(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!=0||kf.isNegativeZero(e))}Ff.exports=new ZT("tag:yaml.org,2002:float",{kind:"scalar",resolve:eR,construct:tR,predicate:iR,represent:nR,defaultStyle:"lowercase"})});var cc=p((ID,qf)=>{"use strict";qf.exports=ic().extend({implicit:[oc(),sc(),ac(),uc()]})});var lc=p((wD,Gf)=>{"use strict";Gf.exports=cc()});var pc=p((ND,Vf)=>{"use strict";var oR=Se(),Hf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),$f=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sR(e){return e===null?!1:Hf.exec(e)!==null||$f.exec(e)!==null}function aR(e){var t,r,n,i,o,s,a,u=0,c=null,l,d,f;if(t=Hf.exec(e),t===null&&(t=$f.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],d=+(t[11]||0),c=(l*60+d)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(r,n,i,o,s,a,u)),c&&f.setTime(f.getTime()-c),f}function uR(e){return e.toISOString()}Vf.exports=new oR("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sR,construct:aR,instanceOf:Date,represent:uR})});var dc=p((xD,Yf)=>{"use strict";var cR=Se();function lR(e){return e==="<<"||e===null}Yf.exports=new cR("tag:yaml.org,2002:merge",{kind:"scalar",resolve:lR})});var hc=p((LD,Wf)=>{"use strict";var pR=Se(),fc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function dR(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=fc;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8==0}function fR(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=fc,s=0,a=[];for(t=0;t<i;t++)t%4==0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function hR(e){var t="",r=0,n,i,o=e.length,s=fc;for(n=0;n<o;n++)n%3==0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function _R(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}Wf.exports=new pR("tag:yaml.org,2002:binary",{kind:"scalar",resolve:dR,construct:fR,predicate:_R,represent:hR})});var _c=p((MD,Kf)=>{"use strict";var gR=Se(),mR=Object.prototype.hasOwnProperty,ER=Object.prototype.toString;function yR(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,ER.call(i)!=="[object Object]")return!1;for(o in i)if(mR.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function vR(e){return e!==null?e:[]}Kf.exports=new gR("tag:yaml.org,2002:omap",{kind:"sequence",resolve:yR,construct:vR})});var gc=p((DD,Xf)=>{"use strict";var AR=Se(),bR=Object.prototype.toString;function SR(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],bR.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function TR(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}Xf.exports=new AR("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:SR,construct:TR})});var mc=p((BD,zf)=>{"use strict";var RR=Se(),OR=Object.prototype.hasOwnProperty;function CR(e){if(e===null)return!0;var t,r=e;for(t in r)if(OR.call(r,t)&&r[t]!==null)return!1;return!0}function PR(e){return e!==null?e:{}}zf.exports=new RR("tag:yaml.org,2002:set",{kind:"mapping",resolve:CR,construct:PR})});var Oo=p((UD,Qf)=>{"use strict";Qf.exports=lc().extend({implicit:[pc(),dc()],explicit:[hc(),_c(),gc(),mc()]})});var fh=p((jD,Ac)=>{"use strict";var hr=Kr(),Zf=Xr(),IR=Cf(),wR=Oo(),Yt=Object.prototype.hasOwnProperty,Co=1,Jf=2,eh=3,Po=4,Ec=1,NR=2,th=3,xR=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,LR=/[\x85\u2028\u2029]/,MR=/[,\[\]\{\}]/,rh=/^(?:!|!!|![a-z\-]+!)$/i,nh=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ih(e){return Object.prototype.toString.call(e)}function dt(e){return e===10||e===13}function _r(e){return e===9||e===32}function Ue(e){return e===9||e===32||e===10||e===13}function zr(e){return e===44||e===91||e===93||e===123||e===125}function DR(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function BR(e){return e===120?2:e===117?4:e===85?8:0}function UR(e){return 48<=e&&e<=57?e-48:-1}function oh(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function jR(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var sh=new Array(256),ah=new Array(256);for(var Qr=0;Qr<256;Qr++)sh[Qr]=oh(Qr)?1:0,ah[Qr]=oh(Qr);function kR(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||wR,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function uh(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=IR(r),new Zf(t,r)}function x(e,t){throw uh(e,t)}function Io(e,t){e.onWarning&&e.onWarning.call(null,uh(e,t))}var ch={YAML:function(t,r,n){var i,o,s;t.version!==null&&x(t,"duplication of %YAML directive"),n.length!==1&&x(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&x(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&x(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Io(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&x(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],rh.test(i)||x(t,"ill-formed tag handle (first argument) of the TAG directive"),Yt.call(t.tagMap,i)&&x(t,'there is a previously declared suffix for "'+i+'" tag handle'),nh.test(o)||x(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(s){x(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Wt(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||x(e,"expected valid JSON character");else xR.test(a)&&x(e,"the stream contains non-printable characters");e.result+=a}}function lh(e,t,r,n){var i,o,s,a;for(hr.isObject(r)||x(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],Yt.call(t,o)||(t[o]=r[o],n[o]=!0)}function Zr(e,t,r,n,i,o,s,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&x(e,"nested arrays are not supported inside keys"),typeof i=="object"&&ih(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&ih(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)lh(e,t,o[c],r);else lh(e,t,o,r);else!e.json&&!Yt.call(r,i)&&Yt.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,x(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function yc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function pe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;_r(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(dt(i))for(yc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Io(e,"deficient indentation"),n}function wo(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||Ue(r)))}function vc(e,t){t===1?e.result+=" ":t>1&&(e.result+=hr.repeat(`
`,t-1))}function FR(e,t,r){var n,i,o,s,a,u,c,l,d=e.kind,f=e.result,h;if(h=e.input.charCodeAt(e.position),Ue(h)||zr(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),Ue(i)||r&&zr(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),Ue(i)||r&&zr(i))break}else if(h===35){if(n=e.input.charCodeAt(e.position-1),Ue(n))break}else{if(e.position===e.lineStart&&wo(e)||r&&zr(h))break;if(dt(h))if(u=e.line,c=e.lineStart,l=e.lineIndent,pe(e,!1,-1),e.lineIndent>=t){a=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=c,e.lineIndent=l;break}}a&&(Wt(e,o,s,!1),vc(e,e.line-u),o=s=e.position,a=!1),_r(h)||(s=e.position+1),h=e.input.charCodeAt(++e.position)}return Wt(e,o,s,!1),e.result?!0:(e.kind=d,e.result=f,!1)}function qR(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Wt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else dt(r)?(Wt(e,n,i,!0),vc(e,pe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&wo(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function GR(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Wt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Wt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),dt(a))pe(e,!1,t);else if(a<256&&sh[a])e.result+=ah[a],e.position++;else if((s=BR(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=DR(a))>=0?o=(o<<4)+s:x(e,"expected hexadecimal character");e.result+=jR(o),e.position++}else x(e,"unknown escape sequence");r=n=e.position}else dt(a)?(Wt(e,r,n,!0),vc(e,pe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&wo(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function HR(e,t){var r=!0,n,i,o,s=e.tag,a,u=e.anchor,c,l,d,f,h,_=Object.create(null),g,v,b,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,h=!1,a=[];else if(y===123)l=125,h=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(pe(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=s,e.anchor=u,e.kind=h?"mapping":"sequence",e.result=a,!0;r?y===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),v=g=b=null,d=f=!1,y===63&&(c=e.input.charCodeAt(e.position+1),Ue(c)&&(d=f=!0,e.position++,pe(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,Jr(e,t,Co,!1,!0),v=e.tag,g=e.result,pe(e,!0,t),y=e.input.charCodeAt(e.position),(f||e.line===n)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),pe(e,!0,t),Jr(e,t,Co,!1,!0),b=e.result),h?Zr(e,a,_,v,g,b,n,i,o):d?a.push(Zr(e,null,_,v,g,b,n,i,o)):a.push(g),pe(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(r=!0,y=e.input.charCodeAt(++e.position)):r=!1}x(e,"unexpected end of the stream within a flow collection")}function $R(e,t){var r,n,i=Ec,o=!1,s=!1,a=t,u=0,c=!1,l,d;if(d=e.input.charCodeAt(e.position),d===124)n=!1;else if(d===62)n=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Ec===i?i=d===43?th:NR:x(e,"repeat of a chomping mode identifier");else if((l=UR(d))>=0)l===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?x(e,"repeat of an indentation width identifier"):(a=t+l-1,s=!0);else break;if(_r(d)){do d=e.input.charCodeAt(++e.position);while(_r(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!dt(d)&&d!==0)}for(;d!==0;){for(yc(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),dt(d)){u++;continue}if(e.lineIndent<a){i===th?e.result+=hr.repeat(`
`,o?1+u:u):i===Ec&&o&&(e.result+=`
`);break}for(n?_r(d)?(c=!0,e.result+=hr.repeat(`
`,o?1+u:u)):c?(c=!1,e.result+=hr.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=hr.repeat(`
`,u):e.result+=hr.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,r=e.position;!dt(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Wt(e,r,e.position,!1)}return!0}function ph(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Ue(s))));){if(a=!0,e.position++,pe(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,Jr(e,t,eh,!1,!0),o.push(e.result),pe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function VR(e,t,r){var n,i,o,s,a,u,c=e.tag,l=e.anchor,d={},f=Object.create(null),h=null,_=null,g=null,v=!1,b=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!v&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&Ue(n))y===63?(v&&(Zr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,v=!0,i=!0):v?(v=!1,i=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=n;else{if(s=e.line,a=e.lineStart,u=e.position,!Jr(e,r,Jf,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);_r(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Ue(y)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(Zr(e,d,f,h,_,null,s,a,u),h=_=g=null),b=!0,v=!1,i=!1,h=e.tag,_=e.result;else if(b)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=l,!0}else if(b)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=l,!0}if((e.line===o||e.lineIndent>t)&&(v&&(s=e.line,a=e.lineStart,u=e.position),Jr(e,t,Po,!0,i)&&(v?_=e.result:g=e.result),v||(Zr(e,d,f,h,_,g,s,a,u),h=_=g=null),pe(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return v&&Zr(e,d,f,h,_,null,s,a,u),b&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=d),b}function YR(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ue(s);)s===33&&(n?x(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),rh.test(i)||x(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),MR.test(o)&&x(e,"tag suffix cannot contain flow indicator characters")}o&&!nh.test(o)&&x(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch(a){x(e,"tag name is malformed: "+o)}return r?e.tag=o:Yt.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:x(e,'undeclared tag handle "'+i+'"'),!0}function WR(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Ue(r)&&!zr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function KR(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Ue(n)&&!zr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Yt.call(e.anchorMap,r)||x(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],pe(e,!0,-1),!0}function Jr(e,t,r,n,i){var o,s,a,u=1,c=!1,l=!1,d,f,h,_,g,v;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Po===r||eh===r,n&&pe(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;YR(e)||WR(e);)pe(e,!0,-1)?(c=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||Po===r)&&(Co===r||Jf===r?g=t:g=t+1,v=e.position-e.lineStart,u===1?a&&(ph(e,v)||VR(e,v,g))||HR(e,g)?l=!0:(s&&$R(e,g)||qR(e,g)||GR(e,g)?l=!0:KR(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):FR(e,g,Co===r)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&ph(e,v))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,f=e.implicitTypes.length;d<f;d+=1)if(_=e.implicitTypes[d],_.resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Yt.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,h=e.typeMap.multi[e.kind||"fallback"],d=0,f=h.length;d<f;d+=1)if(e.tag.slice(0,h[d].tag.length)===h[d].tag){_=h[d];break}_||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&_.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function XR(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(pe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!Ue(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&x(e,"directive name must not be less than one character in length");s!==0;){for(;_r(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!dt(s));break}if(dt(s))break;for(r=e.position;s!==0&&!Ue(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&yc(e),Yt.call(ch,n)?ch[n](e,n,i):Io(e,'unknown document directive "'+n+'"')}if(pe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,pe(e,!0,-1)):o&&x(e,"directives end mark is expected"),Jr(e,e.lineIndent-1,Po,!1,!0),pe(e,!0,-1),e.checkLineBreaks&&LR.test(e.input.slice(t,e.position))&&Io(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&wo(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,pe(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function dh(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new kR(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,x(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)XR(r);return r.documents}function zR(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=dh(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function QR(e,t){var r=dh(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Zf("expected a single document in the stream, but found more")}}Ac.exports.loadAll=zR;Ac.exports.load=QR});var Mh=p((kD,Lh)=>{"use strict";var No=Kr(),ni=Xr(),ZR=Oo(),hh=Object.prototype.toString,_h=Object.prototype.hasOwnProperty,bc=65279,JR=9,ii=10,eO=13,tO=32,rO=33,nO=34,Sc=35,iO=37,oO=38,sO=39,aO=42,gh=44,uO=45,xo=58,cO=61,lO=62,pO=63,dO=64,mh=91,Eh=93,fO=96,yh=123,hO=124,vh=125,Te={};Te[0]="\\0";Te[7]="\\a";Te[8]="\\b";Te[9]="\\t";Te[10]="\\n";Te[11]="\\v";Te[12]="\\f";Te[13]="\\r";Te[27]="\\e";Te[34]='\\"';Te[92]="\\\\";Te[133]="\\N";Te[160]="\\_";Te[8232]="\\L";Te[8233]="\\P";var _O=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],gO=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function mO(e,t){var r,n,i,o,s,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&_h.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}function EO(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ni("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+No.repeat("0",n-t.length)+t}var yO=1,oi=2;function vO(e){this.schema=e.schema||ZR,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=No.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=mO(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?oi:yO,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ah(e,t){for(var r=No.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function Tc(e,t){return`
`+No.repeat(" ",e.indent*t)}function AO(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Lo(e){return e===tO||e===JR}function si(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==bc||65536<=e&&e<=1114111}function bh(e){return si(e)&&e!==bc&&e!==eO&&e!==ii}function Sh(e,t,r){var n=bh(e),i=n&&!Lo(e);return(r?n:n&&e!==gh&&e!==mh&&e!==Eh&&e!==yh&&e!==vh)&&e!==Sc&&!(t===xo&&!i)||bh(t)&&!Lo(t)&&e===Sc||t===xo&&i}function bO(e){return si(e)&&e!==bc&&!Lo(e)&&e!==uO&&e!==pO&&e!==xo&&e!==gh&&e!==mh&&e!==Eh&&e!==yh&&e!==vh&&e!==Sc&&e!==oO&&e!==aO&&e!==rO&&e!==hO&&e!==cO&&e!==lO&&e!==sO&&e!==nO&&e!==iO&&e!==dO&&e!==fO}function SO(e){return!Lo(e)&&e!==xo}function ai(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Th(e){var t=/^\n* /;return t.test(e)}var Rh=1,Rc=2,Oh=3,Ch=4,en=5;function TO(e,t,r,n,i,o,s,a){var u,c=0,l=null,d=!1,f=!1,h=n!==-1,_=-1,g=bO(ai(e,0))&&SO(ai(e,e.length-1));if(t||s)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ai(e,u),!si(c))return en;g=g&&Sh(c,l,a),l=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=ai(e,u),c===ii)d=!0,h&&(f=f||u-_-1>n&&e[_+1]!==" ",_=u);else if(!si(c))return en;g=g&&Sh(c,l,a),l=c}f=f||h&&u-_-1>n&&e[_+1]!==" "}return!d&&!f?g&&!s&&!i(e)?Rh:o===oi?en:Rc:r>9&&Th(e)?en:s?o===oi?en:Rc:f?Ch:Oh}function RO(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===oi?'""':"''";if(!e.noCompatMode&&(_O.indexOf(t)!==-1||gO.test(t)))return e.quotingType===oi?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function u(c){return AO(e,c)}switch(TO(t,a,e.indent,s,u,e.quotingType,e.forceQuotes&&!n,i)){case Rh:return t;case Rc:return"'"+t.replace(/'/g,"''")+"'";case Oh:return"|"+Ph(t,e.indent)+Ih(Ah(t,o));case Ch:return">"+Ph(t,e.indent)+Ih(Ah(OO(t,s),o));case en:return'"'+CO(t,s)+'"';default:throw new ni("impossible error: invalid scalar style")}}()}function Ph(e,t){var r=Th(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Ih(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function OO(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,wh(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",n+=a+(!i&&!o&&u!==""?`
`:"")+wh(u,t),i=o}return n}function wh(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function CO(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ai(e,i),n=Te[r],!n&&si(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||EO(r);return t}function PO(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(xt(e,t,a,!1,!1)||typeof a=="undefined"&&xt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Nh(e,t,r,n){var i="",o=e.tag,s,a,u;for(s=0,a=r.length;s<a;s+=1)u=r[s],e.replacer&&(u=e.replacer.call(r,String(s),u)),(xt(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&xt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=Tc(e,t)),e.dump&&ii===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function IO(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,u,c,l;for(s=0,a=o.length;s<a;s+=1)l="",n!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=o[s],c=r[u],e.replacer&&(c=e.replacer.call(r,u,c)),!!xt(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!xt(e,t,c,!1,!1)&&(l+=e.dump,n+=l));e.tag=i,e.dump="{"+n+"}"}function wO(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,u,c,l,d,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new ni("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)f="",(!n||i!=="")&&(f+=Tc(e,t)),c=s[a],l=r[c],e.replacer&&(l=e.replacer.call(r,c,l)),!!xt(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&ii===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,d&&(f+=Tc(e,t)),!!xt(e,t+1,l,!0,d)&&(e.dump&&ii===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=o,e.dump=i||"{}"}function xh(e,t,r){var n,i,o,s,a,u;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,hh.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(_h.call(a.represent,u))n=a.represent[u](t,u);else throw new ni("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function xt(e,t,r,n,i,o,s){e.tag=null,e.dump=r,xh(e,r,!1)||xh(e,r,!0);var a=hh.call(e.dump),u=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",d,f;if(l&&(d=e.duplicates.indexOf(r),f=d!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(l&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(wO(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(IO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Nh(e,t-1,e.dump,i):Nh(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(PO(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&RO(e,e.dump,t,o,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ni("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function NO(e,t){var r=[],n=[],i,o;for(Oc(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function Oc(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Oc(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)Oc(e[n[i]],t,r)}function xO(e,t){t=t||{};var r=new vO(t);r.noRefs||NO(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),xt(r,0,n,!0,!0)?r.dump+`
`:""}Lh.exports.dump=xO});var Bh=p((FD,Ne)=>{"use strict";var Dh=fh(),LO=Mh();function Cc(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Ne.exports.Type=Se();Ne.exports.Schema=ec();Ne.exports.FAILSAFE_SCHEMA=ic();Ne.exports.JSON_SCHEMA=cc();Ne.exports.CORE_SCHEMA=lc();Ne.exports.DEFAULT_SCHEMA=Oo();Ne.exports.load=Dh.load;Ne.exports.loadAll=Dh.loadAll;Ne.exports.dump=LO.dump;Ne.exports.YAMLException=Xr();Ne.exports.types={binary:hc(),float:uc(),map:nc(),null:oc(),pairs:gc(),set:mc(),timestamp:pc(),bool:sc(),int:ac(),merge:dc(),omap:_c(),seq:rc(),str:tc()};Ne.exports.safeLoad=Cc("safeLoad","load");Ne.exports.safeLoadAll=Cc("safeLoadAll","loadAll");Ne.exports.safeDump=Cc("safeDump","dump")});var qh=p(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0})});var Gh=p(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do._globalThis=void 0;Do._globalThis=typeof globalThis=="object"?globalThis:global});var Hh=p(gr=>{"use strict";var DO=gr&&gr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BO=gr&&gr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DO(t,e,r)};Object.defineProperty(gr,"__esModule",{value:!0});BO(Gh(),gr)});var $h=p(mr=>{"use strict";var UO=mr&&mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jO=mr&&mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UO(t,e,r)};Object.defineProperty(mr,"__esModule",{value:!0});jO(Hh(),mr)});var Nc=p(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.VERSION=void 0;Bo.VERSION="1.1.0"});var Wh=p(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.isCompatible=tn._makeCompatibilityCheck=void 0;var kO=Nc(),Vh=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Yh(e){var t=new Set([e]),r=new Set,n=e.match(Vh);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(u){return u===e};function o(a){return r.add(a),!1}function s(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(r.has(u))return!1;var c=u.match(Vh);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}tn._makeCompatibilityCheck=Yh;tn.isCompatible=Yh(kO.VERSION)});var rn=p(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.unregisterGlobal=Kt.getGlobal=Kt.registerGlobal=void 0;var FO=$h(),ci=Nc(),qO=Wh(),GO=ci.VERSION.split(".")[0],li=Symbol.for("opentelemetry.js.api."+GO),pi=FO._globalThis;function HO(e,t,r,n){var i;n===void 0&&(n=!1);var o=pi[li]=(i=pi[li])!==null&&i!==void 0?i:{version:ci.VERSION};if(!n&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(o.version!==ci.VERSION){var s=new Error("@opentelemetry/api: All API registration versions must match");return r.error(s.stack||s.message),!1}return o[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+ci.VERSION+"."),!0}Kt.registerGlobal=HO;function $O(e){var t,r,n=(t=pi[li])===null||t===void 0?void 0:t.version;if(!(!n||!qO.isCompatible(n)))return(r=pi[li])===null||r===void 0?void 0:r[e]}Kt.getGlobal=$O;function VO(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+ci.VERSION+".");var r=pi[li];r&&delete r[e]}Kt.unregisterGlobal=VO});var Kh=p(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.DiagComponentLogger=void 0;var YO=rn(),WO=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return di("verbose",this._namespace,t)},e}();Uo.DiagComponentLogger=WO;function di(e,t,r){var n=YO.getGlobal("diag");if(!!n)return r.unshift(t),n[e].apply(n,r)}});var jo=p(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.DiagLogLevel=void 0;var KO;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(KO=fi.DiagLogLevel||(fi.DiagLogLevel={}))});var Xh=p(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.createLogLevelDiagLogger=void 0;var Lt=jo();function XO(e,t){e<Lt.DiagLogLevel.NONE?e=Lt.DiagLogLevel.NONE:e>Lt.DiagLogLevel.ALL&&(e=Lt.DiagLogLevel.ALL),t=t||{};function r(n,i){var o=t[n];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:r("error",Lt.DiagLogLevel.ERROR),warn:r("warn",Lt.DiagLogLevel.WARN),info:r("info",Lt.DiagLogLevel.INFO),debug:r("debug",Lt.DiagLogLevel.DEBUG),verbose:r("verbose",Lt.DiagLogLevel.VERBOSE)}}ko.createLogLevelDiagLogger=XO});var nn=p(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.DiagAPI=void 0;var zO=Kh(),QO=Xh(),ZO=jo(),Fo=rn(),JO="diag",eC=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=Fo.getGlobal("diag");if(!!s)return s[n].apply(s,i)}}var r=this;r.setLogger=function(n,i){var o,s;if(i===void 0&&(i=ZO.DiagLogLevel.INFO),n===r){var a=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((o=a.stack)!==null&&o!==void 0?o:a.message),!1}var u=Fo.getGlobal("diag"),c=QO.createLogLevelDiagLogger(i,n);if(u){var l=(s=new Error().stack)!==null&&s!==void 0?s:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+l),c.warn("Current logger will overwrite one already registered from "+l)}return Fo.registerGlobal("diag",c,r,!0)},r.disable=function(){Fo.unregisterGlobal(JO,r)},r.createComponentLogger=function(n){return new zO.DiagComponentLogger(n)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();qo.DiagAPI=eC});var zh=p(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.BaggageImpl=void 0;var tC=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var r=this._entries.get(t);if(!!r)return Object.assign({},r)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var r=t[0],n=t[1];return[r,n]})},e.prototype.setEntry=function(t,r){var n=new e(this._entries);return n._entries.set(t,r),n},e.prototype.removeEntry=function(t){var r=new e(this._entries);return r._entries.delete(t),r},e.prototype.removeEntries=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=new e(this._entries),i=0,o=t;i<o.length;i++){var s=o[i];n._entries.delete(s)}return n},e.prototype.clear=function(){return new e},e}();Go.BaggageImpl=tC});var Qh=p(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.baggageEntryMetadataSymbol=void 0;Ho.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var xc=p(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.baggageEntryMetadataFromString=on.createBaggage=void 0;var rC=nn(),nC=zh(),iC=Qh(),oC=rC.DiagAPI.instance();function sC(e){return e===void 0&&(e={}),new nC.BaggageImpl(new Map(Object.entries(e)))}on.createBaggage=sC;function aC(e){return typeof e!="string"&&(oC.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:iC.baggageEntryMetadataSymbol,toString:function(){return e}}}on.baggageEntryMetadataFromString=aC});var Jh=p(Zh=>{"use strict";Object.defineProperty(Zh,"__esModule",{value:!0})});var t_=p(e_=>{"use strict";Object.defineProperty(e_,"__esModule",{value:!0})});var n_=p(r_=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0})});var i_=p($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.DiagConsoleLogger=void 0;var Lc=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],uC=function(){function e(){function t(n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[n];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var r=0;r<Lc.length;r++)this[Lc[r].n]=t(Lc[r].c)}return e}();$o.DiagConsoleLogger=uC});var s_=p(Xt=>{"use strict";var cC=Xt&&Xt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),o_=Xt&&Xt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&cC(t,e,r)};Object.defineProperty(Xt,"__esModule",{value:!0});o_(i_(),Xt);o_(jo(),Xt)});var Mc=p(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.defaultTextMapSetter=sn.defaultTextMapGetter=void 0;sn.defaultTextMapGetter={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}};sn.defaultTextMapSetter={set:function(e,t,r){e!=null&&(e[t]=r)}}});var u_=p(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0})});var l_=p(c_=>{"use strict";Object.defineProperty(c_,"__esModule",{value:!0})});var hi=p(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.ROOT_CONTEXT=an.createContextKey=void 0;function lC(e){return Symbol.for(e)}an.createContextKey=lC;var pC=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var o=new e(r._currentContext);return o._currentContext.set(n,i),o},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}();an.ROOT_CONTEXT=new pC});var p_=p(un=>{"use strict";var dC=un&&un.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(un,"__esModule",{value:!0});un.NoopContextManager=void 0;var fC=hi(),hC=function(){function e(){}return e.prototype.active=function(){return fC.ROOT_CONTEXT},e.prototype.with=function(t,r,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return r.call.apply(r,dC([n],i))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();un.NoopContextManager=hC});var Uc=p(cn=>{"use strict";var _C=cn&&cn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(cn,"__esModule",{value:!0});cn.ContextAPI=void 0;var gC=p_(),Dc=rn(),d_=nn(),Bc="context",mC=new gC.NoopContextManager,EC=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Dc.registerGlobal(Bc,t,d_.DiagAPI.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,_C([t,r,n],o))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Dc.getGlobal(Bc)||mC},e.prototype.disable=function(){this._getContextManager().disable(),Dc.unregisterGlobal(Bc,d_.DiagAPI.instance())},e}();cn.ContextAPI=EC});var jc=p(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.TraceFlags=void 0;var yC;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(yC=_i.TraceFlags||(_i.TraceFlags={}))});var Vo=p(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.INVALID_SPAN_CONTEXT=ft.INVALID_TRACEID=ft.INVALID_SPANID=void 0;var vC=jc();ft.INVALID_SPANID="0000000000000000";ft.INVALID_TRACEID="00000000000000000000000000000000";ft.INVALID_SPAN_CONTEXT={traceId:ft.INVALID_TRACEID,spanId:ft.INVALID_SPANID,traceFlags:vC.TraceFlags.NONE}});var Wo=p(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.NonRecordingSpan=void 0;var AC=Vo(),bC=function(){function e(t){t===void 0&&(t=AC.INVALID_SPAN_CONTEXT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();Yo.NonRecordingSpan=bC});var Fc=p(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.getSpanContext=ze.setSpanContext=ze.deleteSpan=ze.setSpan=ze.getSpan=void 0;var SC=hi(),TC=Wo(),kc=SC.createContextKey("OpenTelemetry Context Key SPAN");function f_(e){return e.getValue(kc)||void 0}ze.getSpan=f_;function h_(e,t){return e.setValue(kc,t)}ze.setSpan=h_;function RC(e){return e.deleteValue(kc)}ze.deleteSpan=RC;function OC(e,t){return h_(e,new TC.NonRecordingSpan(t))}ze.setSpanContext=OC;function CC(e){var t;return(t=f_(e))===null||t===void 0?void 0:t.spanContext()}ze.getSpanContext=CC});var Ko=p(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.wrapSpanContext=ht.isSpanContextValid=ht.isValidSpanId=ht.isValidTraceId=void 0;var __=Vo(),PC=Wo(),IC=/^([0-9a-f]{32})$/i,wC=/^[0-9a-f]{16}$/i;function g_(e){return IC.test(e)&&e!==__.INVALID_TRACEID}ht.isValidTraceId=g_;function m_(e){return wC.test(e)&&e!==__.INVALID_SPANID}ht.isValidSpanId=m_;function NC(e){return g_(e.traceId)&&m_(e.spanId)}ht.isSpanContextValid=NC;function xC(e){return new PC.NonRecordingSpan(e)}ht.wrapSpanContext=xC});var Gc=p(Xo=>{"use strict";Object.defineProperty(Xo,"__esModule",{value:!0});Xo.NoopTracer=void 0;var LC=Uc(),E_=Fc(),qc=Wo(),MC=Ko(),y_=LC.ContextAPI.getInstance(),DC=function(){function e(){}return e.prototype.startSpan=function(t,r,n){var i=Boolean(r==null?void 0:r.root);if(i)return new qc.NonRecordingSpan;var o=n&&E_.getSpanContext(n);return BC(o)&&MC.isSpanContextValid(o)?new qc.NonRecordingSpan(o):new qc.NonRecordingSpan},e.prototype.startActiveSpan=function(t,r,n,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);var u=s!=null?s:y_.active(),c=this.startSpan(t,o,u),l=E_.setSpan(u,c);return y_.with(l,a,void 0,c)}},e}();Xo.NoopTracer=DC;function BC(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}});var Hc=p(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.ProxyTracer=void 0;var UC=Gc(),jC=new UC.NoopTracer,kC=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):jC},e}();zo.ProxyTracer=kC});var v_=p(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.NoopTracerProvider=void 0;var FC=Gc(),qC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new FC.NoopTracer},e}();Qo.NoopTracerProvider=qC});var $c=p(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.ProxyTracerProvider=void 0;var GC=Hc(),HC=v_(),$C=new HC.NoopTracerProvider,VC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new GC.ProxyTracer(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:$C},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();Zo.ProxyTracerProvider=VC});var b_=p(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0})});var S_=p(gi=>{"use strict";Object.defineProperty(gi,"__esModule",{value:!0});gi.SamplingDecision=void 0;var YC;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(YC=gi.SamplingDecision||(gi.SamplingDecision={}))});var R_=p(T_=>{"use strict";Object.defineProperty(T_,"__esModule",{value:!0})});var O_=p(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.SpanKind=void 0;var WC;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(WC=mi.SpanKind||(mi.SpanKind={}))});var P_=p(C_=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0})});var w_=p(I_=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0})});var N_=p(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SpanStatusCode=void 0;var KC;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(KC=Ei.SpanStatusCode||(Ei.SpanStatusCode={}))});var L_=p(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0})});var M_=p(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.validateValue=ln.validateKey=void 0;var Vc="[_0-9a-z-*/]",XC="[a-z]"+Vc+"{0,255}",zC="[a-z0-9]"+Vc+"{0,240}@[a-z]"+Vc+"{0,13}",QC=new RegExp("^(?:"+XC+"|"+zC+")$"),ZC=/^[ -~]{0,255}[!-~]$/,JC=/,|=/;function eP(e){return QC.test(e)}ln.validateKey=eP;function tP(e){return ZC.test(e)&&!JC.test(e)}ln.validateValue=tP});var k_=p(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});Jo.TraceStateImpl=void 0;var D_=M_(),B_=32,rP=512,U_=",",j_="=",nP=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,r){var n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n},e.prototype.unset=function(t){var r=this._clone();return r._internalState.delete(t),r},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(r,n){return r.push(n+j_+t.get(n)),r},[]).join(U_)},e.prototype._parse=function(t){t.length>rP||(this._internalState=t.split(U_).reverse().reduce(function(r,n){var i=n.trim(),o=i.indexOf(j_);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,n.length);D_.validateKey(s)&&D_.validateValue(a)&&r.set(s,a)}return r},new Map),this._internalState.size>B_&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,B_))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}();Jo.TraceStateImpl=nP});var F_=p(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.createTraceState=void 0;var iP=k_();function oP(e){return new iP.TraceStateImpl(e)}es.createTraceState=oP});var G_=p(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0})});var $_=p(H_=>{"use strict";Object.defineProperty(H_,"__esModule",{value:!0})});var Y_=p(V_=>{"use strict";Object.defineProperty(V_,"__esModule",{value:!0})});var K_=p(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0})});var Z_=p(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.TraceAPI=void 0;var Yc=rn(),X_=$c(),z_=Ko(),yi=Fc(),Q_=nn(),Wc="trace",sP=function(){function e(){this._proxyTracerProvider=new X_.ProxyTracerProvider,this.wrapSpanContext=z_.wrapSpanContext,this.isSpanContextValid=z_.isSpanContextValid,this.deleteSpan=yi.deleteSpan,this.getSpan=yi.getSpan,this.getSpanContext=yi.getSpanContext,this.setSpan=yi.setSpan,this.setSpanContext=yi.setSpanContext}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=Yc.registerGlobal(Wc,this._proxyTracerProvider,Q_.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Yc.getGlobal(Wc)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Yc.unregisterGlobal(Wc,Q_.DiagAPI.instance()),this._proxyTracerProvider=new X_.ProxyTracerProvider},e}();ts.TraceAPI=sP});var J_=p(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.NoopTextMapPropagator=void 0;var aP=function(){function e(){}return e.prototype.inject=function(t,r){},e.prototype.extract=function(t,r){return t},e.prototype.fields=function(){return[]},e}();rs.NoopTextMapPropagator=aP});var eg=p(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.deleteBaggage=zt.setBaggage=zt.getBaggage=void 0;var uP=hi(),Kc=uP.createContextKey("OpenTelemetry Baggage Key");function cP(e){return e.getValue(Kc)||void 0}zt.getBaggage=cP;function lP(e,t){return e.setValue(Kc,t)}zt.setBaggage=lP;function pP(e){return e.deleteValue(Kc)}zt.deleteBaggage=pP});var ng=p(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.PropagationAPI=void 0;var Xc=rn(),dP=J_(),tg=Mc(),zc=eg(),fP=xc(),rg=nn(),Qc="propagation",hP=new dP.NoopTextMapPropagator,_P=function(){function e(){this.createBaggage=fP.createBaggage,this.getBaggage=zc.getBaggage,this.setBaggage=zc.setBaggage,this.deleteBaggage=zc.deleteBaggage}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return Xc.registerGlobal(Qc,t,rg.DiagAPI.instance())},e.prototype.inject=function(t,r,n){return n===void 0&&(n=tg.defaultTextMapSetter),this._getGlobalPropagator().inject(t,r,n)},e.prototype.extract=function(t,r,n){return n===void 0&&(n=tg.defaultTextMapGetter),this._getGlobalPropagator().extract(t,r,n)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){Xc.unregisterGlobal(Qc,rg.DiagAPI.instance())},e.prototype._getGlobalPropagator=function(){return Xc.getGlobal(Qc)||hP},e}();ns.PropagationAPI=_P});var B=p(w=>{"use strict";var gP=w&&w.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),re=w&&w.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gP(t,e,r)};Object.defineProperty(w,"__esModule",{value:!0});w.diag=w.propagation=w.trace=w.context=w.INVALID_SPAN_CONTEXT=w.INVALID_TRACEID=w.INVALID_SPANID=w.isValidSpanId=w.isValidTraceId=w.isSpanContextValid=w.createTraceState=w.baggageEntryMetadataFromString=void 0;re(qh(),w);var mP=xc();Object.defineProperty(w,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return mP.baggageEntryMetadataFromString}});re(Jh(),w);re(t_(),w);re(n_(),w);re(s_(),w);re(Mc(),w);re(u_(),w);re(l_(),w);re(Hc(),w);re($c(),w);re(b_(),w);re(S_(),w);re(R_(),w);re(O_(),w);re(P_(),w);re(w_(),w);re(N_(),w);re(jc(),w);re(L_(),w);var EP=F_();Object.defineProperty(w,"createTraceState",{enumerable:!0,get:function(){return EP.createTraceState}});re(G_(),w);re($_(),w);re(Y_(),w);var Zc=Ko();Object.defineProperty(w,"isSpanContextValid",{enumerable:!0,get:function(){return Zc.isSpanContextValid}});Object.defineProperty(w,"isValidTraceId",{enumerable:!0,get:function(){return Zc.isValidTraceId}});Object.defineProperty(w,"isValidSpanId",{enumerable:!0,get:function(){return Zc.isValidSpanId}});var Jc=Vo();Object.defineProperty(w,"INVALID_SPANID",{enumerable:!0,get:function(){return Jc.INVALID_SPANID}});Object.defineProperty(w,"INVALID_TRACEID",{enumerable:!0,get:function(){return Jc.INVALID_TRACEID}});Object.defineProperty(w,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return Jc.INVALID_SPAN_CONTEXT}});re(hi(),w);re(K_(),w);var yP=Uc();w.context=yP.ContextAPI.getInstance();var vP=Z_();w.trace=vP.TraceAPI.getInstance();var AP=ng();w.propagation=AP.PropagationAPI.getInstance();var bP=nn();w.diag=bP.DiagAPI.instance();w.default={trace:w.trace,context:w.context,propagation:w.propagation,diag:w.diag}});var is=p(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isTracingSuppressed=Qt.unsuppressTracing=Qt.suppressTracing=void 0;var SP=B(),el=(0,SP.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function TP(e){return e.setValue(el,!0)}Qt.suppressTracing=TP;function RP(e){return e.deleteValue(el)}Qt.unsuppressTracing=RP;function OP(e){return e.getValue(el)===!0}Qt.isTracingSuppressed=OP});var tl=p(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.BAGGAGE_MAX_TOTAL_LENGTH=Re.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Re.BAGGAGE_MAX_NAME_VALUE_PAIRS=Re.BAGGAGE_HEADER=Re.BAGGAGE_ITEMS_SEPARATOR=Re.BAGGAGE_PROPERTIES_SEPARATOR=Re.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;Re.BAGGAGE_KEY_PAIR_SEPARATOR="=";Re.BAGGAGE_PROPERTIES_SEPARATOR=";";Re.BAGGAGE_ITEMS_SEPARATOR=",";Re.BAGGAGE_HEADER="baggage";Re.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;Re.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;Re.BAGGAGE_MAX_TOTAL_LENGTH=8192});var rl=p(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.parseKeyPairsIntoRecord=_t.parsePairKeyValue=_t.getKeyPairs=_t.serializeKeyPairs=void 0;var CP=B(),Er=tl();function PP(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?Er.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>Er.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}_t.serializeKeyPairs=PP;function IP(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=Er.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}_t.getKeyPairs=IP;function ig(e){let t=e.split(Er.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.split(Er.BAGGAGE_KEY_PAIR_SEPARATOR);if(n.length!==2)return;let i=decodeURIComponent(n[0].trim()),o=decodeURIComponent(n[1].trim()),s;return t.length>0&&(s=(0,CP.baggageEntryMetadataFromString)(t.join(Er.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:o,metadata:s}}_t.parsePairKeyValue=ig;function wP(e){return typeof e!="string"||e.length===0?{}:e.split(Er.BAGGAGE_ITEMS_SEPARATOR).map(t=>ig(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}_t.parseKeyPairsIntoRecord=wP});var sg=p(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.W3CBaggagePropagator=void 0;var nl=B(),NP=is(),yr=tl(),il=rl(),og=class{inject(t,r,n){let i=nl.propagation.getBaggage(t);if(!i||(0,NP.isTracingSuppressed)(t))return;let o=(0,il.getKeyPairs)(i).filter(a=>a.length<=yr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,yr.BAGGAGE_MAX_NAME_VALUE_PAIRS),s=(0,il.serializeKeyPairs)(o);s.length>0&&n.set(r,yr.BAGGAGE_HEADER,s)}extract(t,r,n){let i=n.get(r,yr.BAGGAGE_HEADER),o=Array.isArray(i)?i.join(yr.BAGGAGE_ITEMS_SEPARATOR):i;if(!o)return t;let s={};return o.length===0||(o.split(yr.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let c=(0,il.parsePairKeyValue)(u);if(c){let l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0)?t:nl.propagation.setBaggage(t,nl.propagation.createBaggage(s))}fields(){return[yr.BAGGAGE_HEADER]}};os.W3CBaggagePropagator=og});var pg=p(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.isAttributeValue=Zt.isAttributeKey=Zt.sanitizeAttributes=void 0;var ag=B();function xP(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!ug(r)){ag.diag.warn(`Invalid attribute key: ${r}`);continue}if(!cg(n)){ag.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}Zt.sanitizeAttributes=xP;function ug(e){return typeof e=="string"&&e.length>0}Zt.isAttributeKey=ug;function cg(e){return e==null?!0:Array.isArray(e)?LP(e):lg(e)}Zt.isAttributeValue=cg;function LP(e){let t;for(let r of e)if(r!=null){if(!t){if(lg(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}function lg(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}});var ol=p(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.loggingErrorHandler=void 0;var MP=B();function DP(){return e=>{MP.diag.error(BP(e))}}ss.loggingErrorHandler=DP;function BP(e){return typeof e=="string"?e:JSON.stringify(UP(e))}function UP(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let i=r[n];i&&(t[n]=String(i))}),r=Object.getPrototypeOf(r);return t}});var sl=p(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.globalErrorHandler=pn.setGlobalErrorHandler=void 0;var jP=ol(),dg=(0,jP.loggingErrorHandler)();function kP(e){dg=e}pn.setGlobalErrorHandler=kP;function FP(e){try{dg(e)}catch(t){}}pn.globalErrorHandler=FP});var al=p(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.TracesSamplerValues=void 0;var qP;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(qP=vi.TracesSamplerValues||(vi.TracesSamplerValues={}))});var ul=p(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.parseEnvironment=xe.DEFAULT_ENVIRONMENT=xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var Jt=B(),GP=al(),HP=",",$P=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function VP(e){return $P.indexOf(e)>-1}var YP=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function WP(e){return YP.indexOf(e)>-1}xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=Infinity;xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;xe.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Jt.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:xe.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:xe.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:GP.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:""};function KP(e,t,r,n=-Infinity,i=Infinity){if(typeof r[e]!="undefined"){let o=Number(r[e]);isNaN(o)||(o<n?t[e]=n:o>i?t[e]=i:t[e]=o)}}function XP(e,t,r,n=HP){let i=r[e];typeof i=="string"&&(t[e]=i.split(n).map(o=>o.trim()))}var zP={ALL:Jt.DiagLogLevel.ALL,VERBOSE:Jt.DiagLogLevel.VERBOSE,DEBUG:Jt.DiagLogLevel.DEBUG,INFO:Jt.DiagLogLevel.INFO,WARN:Jt.DiagLogLevel.WARN,ERROR:Jt.DiagLogLevel.ERROR,NONE:Jt.DiagLogLevel.NONE};function QP(e,t,r){let n=r[e];if(typeof n=="string"){let i=zP[n.toUpperCase()];i!=null&&(t[e]=i)}}function ZP(e){let t={};for(let r in xe.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":QP(n,t,e);break;default:if(VP(n))KP(n,t,e);else if(WP(n))XP(n,t,e);else{let i=e[n];typeof i!="undefined"&&i!==null&&(t[n]=String(i))}}}return t}xe.parseEnvironment=ZP});var hg=p(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.getEnv=void 0;var JP=I("os"),fg=ul();function eI(){let e=(0,fg.parseEnvironment)(process.env);return Object.assign({HOSTNAME:JP.hostname()},fg.DEFAULT_ENVIRONMENT,e)}as.getEnv=eI});var _g=p(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us._globalThis=void 0;us._globalThis=typeof globalThis=="object"?globalThis:global});var gg=p(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.hexToBase64=void 0;function tI(e){let t=e.length,r="";for(let n=0;n<t;n+=2){let i=e.substring(n,n+2),o=parseInt(i,16);r+=String.fromCharCode(o)}return Buffer.from(r,"ascii").toString("base64")}cs.hexToBase64=tI});var vg=p(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.RandomIdGenerator=void 0;var rI=8,mg=16,Eg=class{constructor(){this.generateTraceId=yg(mg),this.generateSpanId=yg(rI)}};ps.RandomIdGenerator=Eg;var ls=Buffer.allocUnsafe(mg);function yg(e){return function(){for(let r=0;r<e/4;r++)ls.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(ls[r]>0);r++)r===e-1&&(ls[e-1]=1);return ls.toString("hex",0,e)}}});var Ag=p(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.otperformance=void 0;var nI=I("perf_hooks");ds.otperformance=nI.performance});var hs=p(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.VERSION=void 0;fs.VERSION="1.3.1"});var bg=p(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.MessageTypeValues=z.RpcGrpcStatusCodeValues=z.MessagingOperationValues=z.MessagingDestinationKindValues=z.HttpFlavorValues=z.NetHostConnectionSubtypeValues=z.NetHostConnectionTypeValues=z.NetTransportValues=z.FaasInvokedProviderValues=z.FaasDocumentOperationValues=z.FaasTriggerValues=z.DbCassandraConsistencyLevelValues=z.DbSystemValues=z.SemanticAttributes=void 0;z.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};z.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};z.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};z.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};z.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};z.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};z.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};z.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};z.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};z.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};z.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};z.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};z.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};z.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var Sg=p(vr=>{"use strict";var iI=vr&&vr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oI=vr&&vr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iI(t,e,r)};Object.defineProperty(vr,"__esModule",{value:!0});oI(bg(),vr)});var Tg=p(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.TelemetrySdkLanguageValues=Oe.OsTypeValues=Oe.HostArchValues=Oe.AwsEcsLaunchtypeValues=Oe.CloudPlatformValues=Oe.CloudProviderValues=Oe.SemanticResourceAttributes=void 0;Oe.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Oe.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Oe.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Oe.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Oe.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Oe.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Oe.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var Rg=p(Ar=>{"use strict";var sI=Ar&&Ar.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aI=Ar&&Ar.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sI(t,e,r)};Object.defineProperty(Ar,"__esModule",{value:!0});aI(Tg(),Ar)});var gt=p(er=>{"use strict";var uI=er&&er.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Og=er&&er.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uI(t,e,r)};Object.defineProperty(er,"__esModule",{value:!0});Og(Sg(),er);Og(Rg(),er)});var Cg=p(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.SDK_INFO=void 0;var cI=hs(),Ai=gt();_s.SDK_INFO={[Ai.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Ai.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[Ai.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Ai.TelemetrySdkLanguageValues.NODEJS,[Ai.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:cI.VERSION}});var Pg=p(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.unrefTimer=void 0;function lI(e){e.unref()}gs.unrefTimer=lI});var Ig=p(He=>{"use strict";var pI=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),br=He&&He.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pI(t,e,r)};Object.defineProperty(He,"__esModule",{value:!0});br(hg(),He);br(_g(),He);br(gg(),He);br(vg(),He);br(Ag(),He);br(Cg(),He);br(Pg(),He)});var cl=p(Sr=>{"use strict";var dI=Sr&&Sr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fI=Sr&&Sr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&dI(t,e,r)};Object.defineProperty(Sr,"__esModule",{value:!0});fI(Ig(),Sr)});var xg=p(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.isTimeInput=de.isTimeInputHrTime=de.hrTimeToMicroseconds=de.hrTimeToMilliseconds=de.hrTimeToNanoseconds=de.hrTimeToTimeStamp=de.hrTimeDuration=de.timeInputToHrTime=de.hrTime=void 0;var ll=cl(),pl=9,bi=Math.pow(10,pl);function ms(e){let t=e/1e3,r=Math.trunc(t),n=Number((t-r).toFixed(pl))*bi;return[r,n]}function wg(){let e=ll.otperformance.timeOrigin;if(typeof e!="number"){let t=ll.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Ng(e){let t=ms(wg()),r=ms(typeof e=="number"?e:ll.otperformance.now()),n=t[0]+r[0],i=t[1]+r[1];return i>bi&&(i-=bi,n+=1),[n,i]}de.hrTime=Ng;function hI(e){if(dl(e))return e;if(typeof e=="number")return e<wg()?Ng(e):ms(e);if(e instanceof Date)return ms(e.getTime());throw TypeError("Invalid input type")}de.timeInputToHrTime=hI;function _I(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=bi),[r,n]}de.hrTimeDuration=_I;function gI(e){let t=pl,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}de.hrTimeToTimeStamp=gI;function mI(e){return e[0]*bi+e[1]}de.hrTimeToNanoseconds=mI;function EI(e){return Math.round(e[0]*1e3+e[1]/1e6)}de.hrTimeToMilliseconds=EI;function yI(e){return Math.round(e[0]*1e6+e[1]/1e3)}de.hrTimeToMicroseconds=yI;function dl(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}de.isTimeInputHrTime=dl;function vI(e){return dl(e)||typeof e=="number"||e instanceof Date}de.isTimeInput=vI});var Mg=p(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0})});var Dg=p(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.ExportResultCode=void 0;var AI;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(AI=Si.ExportResultCode||(Si.ExportResultCode={}))});var jg=p(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.CompositePropagator=void 0;var Bg=B(),Ug=class{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,i)=>n.concat(i),[])))}inject(t,r,n){for(let i of this._propagators)try{i.inject(t,r,n)}catch(o){Bg.diag.warn(`Failed to inject with ${i.constructor.name}. Err: ${o.message}`)}}extract(t,r,n){return this._propagators.reduce((i,o)=>{try{return o.extract(i,r,n)}catch(s){Bg.diag.warn(`Failed to inject with ${o.constructor.name}. Err: ${s.message}`)}return i},t)}fields(){return this._fields.slice()}};Es.CompositePropagator=Ug});var kg=p(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.validateValue=dn.validateKey=void 0;var fl="[_0-9a-z-*/]",bI=`[a-z]${fl}{0,255}`,SI=`[a-z0-9]${fl}{0,240}@[a-z]${fl}{0,13}`,TI=new RegExp(`^(?:${bI}|${SI})$`),RI=/^[ -~]{0,255}[!-~]$/,OI=/,|=/;function CI(e){return TI.test(e)}dn.validateKey=CI;function PI(e){return RI.test(e)&&!OI.test(e)}dn.validateValue=PI});var hl=p(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.TraceState=void 0;var Fg=kg(),qg=32,II=512,Gg=",",Hg="=",ys=class{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+Hg+this.get(r)),t),[]).join(Gg)}_parse(t){t.length>II||(this._internalState=t.split(Gg).reverse().reduce((r,n)=>{let i=n.trim(),o=i.indexOf(Hg);if(o!==-1){let s=i.slice(0,o),a=i.slice(o+1,n.length);(0,Fg.validateKey)(s)&&(0,Fg.validateValue)(a)&&r.set(s,a)}return r},new Map),this._internalState.size>qg&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,qg))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new ys;return t._internalState=new Map(this._internalState),t}};vs.TraceState=ys});var _l=p(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.W3CTraceContextPropagator=Ce.parseTraceParent=Ce.TRACE_STATE_HEADER=Ce.TRACE_PARENT_HEADER=void 0;var As=B(),wI=is(),NI=hl();Ce.TRACE_PARENT_HEADER="traceparent";Ce.TRACE_STATE_HEADER="tracestate";var xI="00",LI="(?!ff)[\\da-f]{2}",MI="(?![0]{32})[\\da-f]{32}",DI="(?![0]{16})[\\da-f]{16}",BI="[\\da-f]{2}",UI=new RegExp(`^\\s?(${LI})-(${MI})-(${DI})-(${BI})(-.*)?\\s?$`);function $g(e){let t=UI.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}Ce.parseTraceParent=$g;var Vg=class{inject(t,r,n){let i=As.trace.getSpanContext(t);if(!i||(0,wI.isTracingSuppressed)(t)||!(0,As.isSpanContextValid)(i))return;let o=`${xI}-${i.traceId}-${i.spanId}-0${Number(i.traceFlags||As.TraceFlags.NONE).toString(16)}`;n.set(r,Ce.TRACE_PARENT_HEADER,o),i.traceState&&n.set(r,Ce.TRACE_STATE_HEADER,i.traceState.serialize())}extract(t,r,n){let i=n.get(r,Ce.TRACE_PARENT_HEADER);if(!i)return t;let o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return t;let s=$g(o);if(!s)return t;s.isRemote=!0;let a=n.get(r,Ce.TRACE_STATE_HEADER);if(a){let u=Array.isArray(a)?a.join(","):a;s.traceState=new NI.TraceState(typeof u=="string"?u:void 0)}return As.trace.setSpanContext(t,s)}fields(){return[Ce.TRACE_PARENT_HEADER,Ce.TRACE_STATE_HEADER]}};Ce.W3CTraceContextPropagator=Vg});var Wg=p(Yg=>{"use strict";Object.defineProperty(Yg,"__esModule",{value:!0})});var Kg=p(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.getRPCMetadata=it.deleteRPCMetadata=it.setRPCMetadata=it.RPCType=void 0;var jI=B(),gl=(0,jI.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),kI;(function(e){e.HTTP="http"})(kI=it.RPCType||(it.RPCType={}));function FI(e,t){return e.setValue(gl,t)}it.setRPCMetadata=FI;function qI(e){return e.deleteValue(gl)}it.deleteRPCMetadata=qI;function GI(e){return e.getValue(gl)}it.getRPCMetadata=GI});var ml=p(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.AlwaysOffSampler=void 0;var HI=B(),Xg=class{shouldSample(){return{decision:HI.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};bs.AlwaysOffSampler=Xg});var El=p(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.AlwaysOnSampler=void 0;var $I=B(),zg=class{shouldSample(){return{decision:$I.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};Ss.AlwaysOnSampler=zg});var Jg=p(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ParentBasedSampler=void 0;var Ts=B(),VI=sl(),Qg=ml(),yl=El(),Zg=class{constructor(t){var r,n,i,o;this._root=t.root,this._root||((0,VI.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new yl.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new yl.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Qg.AlwaysOffSampler,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new yl.AlwaysOnSampler,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new Qg.AlwaysOffSampler}shouldSample(t,r,n,i,o,s){let a=Ts.trace.getSpanContext(t);return!a||!(0,Ts.isSpanContextValid)(a)?this._root.shouldSample(t,r,n,i,o,s):a.isRemote?a.traceFlags&Ts.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,i,o,s):this._remoteParentNotSampled.shouldSample(t,r,n,i,o,s):a.traceFlags&Ts.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,i,o,s):this._localParentNotSampled.shouldSample(t,r,n,i,o,s)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};Rs.ParentBasedSampler=Zg});var tm=p(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.TraceIdRatioBasedSampler=void 0;var vl=B(),em=class{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,vl.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?vl.SamplingDecision.RECORD_AND_SAMPLED:vl.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let i=n*8,o=parseInt(t.slice(i,i+8),16);r=(r^o)>>>0}return r}};Os.TraceIdRatioBasedSampler=em});var sm=p(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.isPlainObject=void 0;var YI="[object Object]",WI="[object Null]",KI="[object Undefined]",XI=Function.prototype,rm=XI.toString,zI=rm.call(Object),QI=ZI(Object.getPrototypeOf,Object),nm=Object.prototype,im=nm.hasOwnProperty,Tr=Symbol?Symbol.toStringTag:void 0,om=nm.toString;function ZI(e,t){return function(r){return e(t(r))}}function JI(e){if(!ew(e)||tw(e)!==YI)return!1;let t=QI(e);if(t===null)return!0;let r=im.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&rm.call(r)===zI}Cs.isPlainObject=JI;function ew(e){return e!=null&&typeof e=="object"}function tw(e){return e==null?e===void 0?KI:WI:Tr&&Tr in Object(e)?rw(e):nw(e)}function rw(e){let t=im.call(e,Tr),r=e[Tr],n=!1;try{e[Tr]=void 0,n=!0}catch(o){}let i=om.call(e);return n&&(t?e[Tr]=r:delete e[Tr]),i}function nw(e){return om.call(e)}});var pm=p(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.merge=void 0;var am=sm(),iw=20;function ow(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=um(t,e.shift(),0,r);return t}ws.merge=ow;function Al(e){return Ps(e)?e.slice():e}function um(e,t,r=0,n){let i;if(!(r>iw)){if(r++,Is(e)||Is(t)||lm(t))i=Al(t);else if(Ps(e)){if(i=e.slice(),Ps(t))for(let o=0,s=t.length;o<s;o++)i.push(Al(t[o]));else if(Ti(t)){let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s];i[u]=Al(t[u])}}}else if(Ti(e))if(Ti(t)){if(!sw(e,t))return t;i=Object.assign({},e);let o=Object.keys(t);for(let s=0,a=o.length;s<a;s++){let u=o[s],c=t[u];if(Is(c))typeof c=="undefined"?delete i[u]:i[u]=c;else{let l=i[u],d=c;if(cm(e,u,n)||cm(t,u,n))delete i[u];else{if(Ti(l)&&Ti(d)){let f=n.get(l)||[],h=n.get(d)||[];f.push({obj:e,key:u}),h.push({obj:t,key:u}),n.set(l,f),n.set(d,h)}i[u]=um(i[u],c,r,n)}}}}else i=t;return i}}function cm(e,t,r){let n=r.get(e[t])||[];for(let i=0,o=n.length;i<o;i++){let s=n[i];if(s.key===t&&s.obj===e)return!0}return!1}function Ps(e){return Array.isArray(e)}function lm(e){return typeof e=="function"}function Ti(e){return!Is(e)&&!Ps(e)&&!lm(e)&&typeof e=="object"}function Is(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="undefined"||e instanceof Date||e instanceof RegExp||e===null}function sw(e,t){return!(!(0,am.isPlainObject)(e)||!(0,am.isPlainObject)(t))}});var fm=p(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.isUrlIgnored=fn.urlMatches=void 0;function dm(e,t){return typeof t=="string"?e===t:!!e.match(t)}fn.urlMatches=dm;function aw(e,t){if(!t)return!1;for(let r of t)if(dm(e,r))return!0;return!1}fn.isUrlIgnored=aw});var hm=p(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.isWrapped=void 0;function uw(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}Ns.isWrapped=uw});var gm=p(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.Deferred=void 0;var _m=class{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};xs.Deferred=_m});var Em=p(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.BindOnceFuture=void 0;var cw=gm(),mm=class{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new cw.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};Ls.BindOnceFuture=mm});var J=p(W=>{"use strict";var lw=W&&W.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Z=W&&W.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lw(t,e,r)};Object.defineProperty(W,"__esModule",{value:!0});W.baggageUtils=void 0;Z(sg(),W);Z(pg(),W);Z(sl(),W);Z(ol(),W);Z(xg(),W);Z(Mg(),W);Z(Dg(),W);Z(hs(),W);W.baggageUtils=rl();Z(cl(),W);Z(jg(),W);Z(_l(),W);Z(Wg(),W);Z(Kg(),W);Z(ml(),W);Z(El(),W);Z(Jg(),W);Z(tm(),W);Z(is(),W);Z(hl(),W);Z(ul(),W);Z(pm(),W);Z(al(),W);Z(fm(),W);Z(hm(),W);Z(Em(),W);Z(hs(),W)});var ym=p(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.ExceptionEventName=void 0;Ms.ExceptionEventName="exception"});var bl=p(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.Span=void 0;var mt=B(),ot=J(),Rr=gt(),pw=ym(),vm=class{constructor(t,r,n,i,o,s,a=[],u=(0,ot.hrTime)()){this.attributes={},this.links=[],this.events=[],this.status={code:mt.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a,this.startTime=(0,ot.timeInputToHrTime)(u),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(mt.diag.warn(`Invalid attribute key: ${t}`),this):(0,ot.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(r),this):(mt.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return mt.diag.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(mt.diag.warn("Dropping extra events."),this.events.shift()),(0,ot.isTimeInput)(r)&&(typeof n=="undefined"&&(n=r),r=void 0),typeof n=="undefined"&&(n=(0,ot.hrTime)());let i=(0,ot.sanitizeAttributes)(r);return this.events.push({name:t,attributes:i,time:(0,ot.timeInputToHrTime)(n)}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t=(0,ot.hrTime)()){if(this._isSpanEnded()){mt.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=(0,ot.timeInputToHrTime)(t),this._duration=(0,ot.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&mt.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(t,r=(0,ot.hrTime)()){let n={};typeof t=="string"?n[Rr.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Rr.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Rr.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Rr.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Rr.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Rr.SemanticAttributes.EXCEPTION_TYPE]||n[Rr.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(pw.ExceptionEventName,n,r):mt.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&mt.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(mt.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};Ds.Span=vm});var Sl=p(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.buildSamplerFromEnv=_n.DEFAULT_CONFIG=void 0;var Bs=B(),te=J(),dw=(0,te.getEnv)(),fw=te.TracesSamplerValues.AlwaysOn,hn=1;_n.DEFAULT_CONFIG={sampler:Am(dw),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,te.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,te.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,te.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,te.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,te.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,te.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT}};function Am(e=(0,te.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case te.TracesSamplerValues.AlwaysOn:return new te.AlwaysOnSampler;case te.TracesSamplerValues.AlwaysOff:return new te.AlwaysOffSampler;case te.TracesSamplerValues.ParentBasedAlwaysOn:return new te.ParentBasedSampler({root:new te.AlwaysOnSampler});case te.TracesSamplerValues.ParentBasedAlwaysOff:return new te.ParentBasedSampler({root:new te.AlwaysOffSampler});case te.TracesSamplerValues.TraceIdRatio:return new te.TraceIdRatioBasedSampler(bm(e));case te.TracesSamplerValues.ParentBasedTraceIdRatio:return new te.ParentBasedSampler({root:new te.TraceIdRatioBasedSampler(bm(e))});default:return Bs.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${fw}".`),new te.AlwaysOnSampler}}_n.buildSamplerFromEnv=Am;function bm(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Bs.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${hn}.`),hn;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Bs.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${hn}.`),hn):t<0||t>1?(Bs.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${hn}.`),hn):t}});var Tl=p(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.reconfigureLimits=gn.mergeConfig=void 0;var Us=Sl();function hw(e){let t={sampler:(0,Us.buildSamplerFromEnv)()},r=Object.assign({},Us.DEFAULT_CONFIG,t,e);return r.generalLimits=Object.assign({},Us.DEFAULT_CONFIG.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},Us.DEFAULT_CONFIG.spanLimits,e.spanLimits||{}),r}gn.mergeConfig=hw;function _w(e){var t,r;let n=Object.assign({},e.spanLimits);return n.attributeCountLimit==null&&((t=e.generalLimits)===null||t===void 0?void 0:t.attributeCountLimit)!=null&&(n.attributeCountLimit=e.generalLimits.attributeCountLimit),n.attributeValueLengthLimit==null&&((r=e.generalLimits)===null||r===void 0?void 0:r.attributeValueLengthLimit)!=null&&(n.attributeValueLengthLimit=e.generalLimits.attributeValueLengthLimit),Object.assign({},e,{spanLimits:n})}gn.reconfigureLimits=_w});var Tm=p(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.Tracer=void 0;var Ae=B(),Ri=J(),gw=bl(),mw=Tl(),Sm=class{constructor(t,r,n){this._tracerProvider=n;let i=(0,mw.mergeConfig)(r);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=r.idGenerator||new Ri.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=Ae.context.active()){var i,o;if((0,Ri.isTracingSuppressed)(n))return Ae.diag.debug("Instrumentation suppressed, returning Noop Span"),Ae.trace.wrapSpanContext(Ae.INVALID_SPAN_CONTEXT);r.root&&(n=Ae.trace.deleteSpan(n));let s=Ae.trace.getSpanContext(n),a=this._idGenerator.generateSpanId(),u,c,l;!s||!Ae.trace.isSpanContextValid(s)?u=this._idGenerator.generateTraceId():(u=s.traceId,c=s.traceState,l=s.spanId);let d=(i=r.kind)!==null&&i!==void 0?i:Ae.SpanKind.INTERNAL,f=((o=r.links)!==null&&o!==void 0?o:[]).map(C=>({context:C.context,attributes:(0,Ri.sanitizeAttributes)(C.attributes)})),h=(0,Ri.sanitizeAttributes)(r.attributes),_=this._sampler.shouldSample(n,u,t,d,h,f),g=_.decision===Ae.SamplingDecision.RECORD_AND_SAMPLED?Ae.TraceFlags.SAMPLED:Ae.TraceFlags.NONE,v={traceId:u,spanId:a,traceFlags:g,traceState:c};if(_.decision===Ae.SamplingDecision.NOT_RECORD)return Ae.diag.debug("Recording is off, propagating context in a non-recording span"),Ae.trace.wrapSpanContext(v);let b=new gw.Span(this,n,t,v,d,l,f,r.startTime),y=(0,Ri.sanitizeAttributes)(Object.assign(h,_.attributes));return b.setAttributes(y),b}startActiveSpan(t,r,n,i){let o,s,a;if(arguments.length<2)return;arguments.length===2?a=r:arguments.length===3?(o=r,a=n):(o=r,s=n,a=i);let u=s!=null?s:Ae.context.active(),c=this.startSpan(t,o,u),l=Ae.trace.setSpan(u,c);return Ae.context.with(l,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};js.Tracer=Sm});var Rm=p(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.defaultServiceName=void 0;function Ew(){return`unknown_service:${process.argv0}`}ks.defaultServiceName=Ew});var Cm=p(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.detectResources=void 0;var Om=Or(),Rl=B(),yw=I("util"),vw=async(e={})=>{let t=Object.assign(e),r=await Promise.all((t.detectors||[]).map(async n=>{try{let i=await n.detect(t);return Rl.diag.debug(`${n.constructor.name} found resource.`,i),i}catch(i){return Rl.diag.debug(`${n.constructor.name} failed: ${i.message}`),Om.Resource.empty()}}));return Aw(r),r.reduce((n,i)=>n.merge(i),Om.Resource.empty())};Fs.detectResources=vw;var Aw=e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=yw.inspect(t.attributes,{depth:2,breakLength:Infinity,sorted:!0,compact:!1});Rl.diag.verbose(r)}})}});var Nm=p(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.hostDetector=void 0;var Pm=gt(),bw=Or(),Im=I("os"),wm=class{async detect(t){let r={[Pm.SemanticResourceAttributes.HOST_NAME]:(0,Im.hostname)(),[Pm.SemanticResourceAttributes.HOST_ARCH]:this._normalizeArch((0,Im.arch)())};return new bw.Resource(r)}_normalizeArch(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}}};qs.hostDetector=new wm});var Dm=p(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.osDetector=void 0;var xm=gt(),Sw=Or(),Lm=I("os"),Mm=class{async detect(t){let r={[xm.SemanticResourceAttributes.OS_TYPE]:this._normalizeType((0,Lm.platform)()),[xm.SemanticResourceAttributes.OS_VERSION]:(0,Lm.release)()};return new Sw.Resource(r)}_normalizeType(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}}};Gs.osDetector=new Mm});var Bm=p(Et=>{"use strict";var Tw=Et&&Et.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hs=Et&&Et.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Tw(t,e,r)};Object.defineProperty(Et,"__esModule",{value:!0});Hs(Rm(),Et);Hs(Cm(),Et);Hs(Nm(),Et);Hs(Dm(),Et)});var Ol=p(Cr=>{"use strict";var Rw=Cr&&Cr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ow=Cr&&Cr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rw(t,e,r)};Object.defineProperty(Cr,"__esModule",{value:!0});Ow(Bm(),Cr)});var Or=p($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.Resource=void 0;var Pr=gt(),Cl=J(),Cw=Ol(),tr=class{constructor(t){this.attributes=t}static empty(){return tr.EMPTY}static default(){return new tr({[Pr.SemanticResourceAttributes.SERVICE_NAME]:(0,Cw.defaultServiceName)(),[Pr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Cl.SDK_INFO[Pr.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Pr.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:Cl.SDK_INFO[Pr.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Pr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Cl.SDK_INFO[Pr.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(t){if(!t||!Object.keys(t.attributes).length)return this;let r=Object.assign({},this.attributes,t.attributes);return new tr(r)}};$s.Resource=tr;tr.EMPTY=new tr({})});var jm=p(Um=>{"use strict";Object.defineProperty(Um,"__esModule",{value:!0})});var Fm=p(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0})});var Gm=p(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.browserDetector=void 0;var Pw=B(),Vs=gt(),Pl=Oi(),qm=class{async detect(t){if(!(typeof navigator!="undefined"))return Pl.Resource.empty();let n={[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[Vs.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Pw.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),Pl.Resource.empty()):new Pl.Resource(Object.assign({},t))}};Ys.browserDetector=new qm});var $m=p(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.envDetector=void 0;var Iw=B(),ww=J(),Nw=gt(),xw=Or(),Hm=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(t){let r={},n=(0,ww.getEnv)(),i=n.OTEL_RESOURCE_ATTRIBUTES,o=n.OTEL_SERVICE_NAME;if(i)try{let s=this._parseResourceAttributes(i);Object.assign(r,s)}catch(s){Iw.diag.debug(`EnvDetector failed: ${s.message}`)}return o&&(r[Nw.SemanticResourceAttributes.SERVICE_NAME]=o),new xw.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let i of n){let o=i.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(o.length!==2)continue;let[s,a]=o;if(s=s.trim(),a=a.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(s))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(a))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[s]=a}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isPrintableString(t)}_isPrintableString(t){for(let r=0;r<t.length;r++){let n=t.charAt(r);if(n<=" "||n>="~")return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};Ws.envDetector=new Hm});var Ym=p(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.processDetector=void 0;var Lw=B(),Qe=gt(),Il=Or(),Vm=class{async detect(t){if(typeof process!="object")return Il.Resource.empty();let r={[Qe.SemanticResourceAttributes.PROCESS_PID]:process.pid,[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[Qe.SemanticResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[Qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||"",[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};return this._getResourceAttributes(r,t)}_getResourceAttributes(t,r){return t[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||t[Qe.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||t[Qe.SemanticResourceAttributes.PROCESS_COMMAND]===""||t[Qe.SemanticResourceAttributes.PROCESS_COMMAND_LINE]===""||t[Qe.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(Lw.diag.debug("ProcessDetector failed: Unable to find required process resources. "),Il.Resource.empty()):new Il.Resource(Object.assign({},t))}};Ks.processDetector=new Vm});var Wm=p(Mt=>{"use strict";var Mw=Mt&&Mt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wl=Mt&&Mt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Mw(t,e,r)};Object.defineProperty(Mt,"__esModule",{value:!0});wl(Gm(),Mt);wl($m(),Mt);wl(Ym(),Mt)});var Oi=p(st=>{"use strict";var Dw=st&&st.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ci=st&&st.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Dw(t,e,r)};Object.defineProperty(st,"__esModule",{value:!0});Ci(Or(),st);Ci(Ol(),st);Ci(jm(),st);Ci(Fm(),st);Ci(Wm(),st)});var Xm=p(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.MultiSpanProcessor=void 0;var Bw=J(),Km=class{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,Bw.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};Xs.MultiSpanProcessor=Km});var Nl=p(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.NoopSpanProcessor=void 0;var zm=class{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};zs.NoopSpanProcessor=zm});var Zm=p(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.BatchSpanProcessorBase=void 0;var xl=B(),mn=J(),Qm=class{constructor(t,r){this._exporter=t,this._finishedSpans=[];let n=(0,mn.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new mn.BindOnceFuture(this._shutdown,this)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&xl.TraceFlags.SAMPLED)!=0&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())}_flushAll(){return new Promise((t,r)=>{let n=[],i=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let o=0,s=i;o<s;o++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);xl.context.with((0,mn.suppressTracing)(xl.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),i=>{var o;clearTimeout(n),i.code===mn.ExportResultCode.SUCCESS?t():r((o=i.error)!==null&&o!==void 0?o:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,mn.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,mn.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};Qs.BatchSpanProcessorBase=Qm});var eE=p(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.BatchSpanProcessor=void 0;var Uw=Zm(),Jm=class extends Uw.BatchSpanProcessorBase{onShutdown(){}};Zs.BatchSpanProcessor=Jm});var tE=p(Ir=>{"use strict";var jw=Ir&&Ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kw=Ir&&Ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jw(t,e,r)};Object.defineProperty(Ir,"__esModule",{value:!0});kw(eE(),Ir)});var Ll=p(wr=>{"use strict";var Fw=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qw=wr&&wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fw(t,e,r)};Object.defineProperty(wr,"__esModule",{value:!0});qw(tE(),wr)});var nE=p(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.BasicTracerProvider=xr.ForceFlushState=void 0;var En=B(),yn=J(),rE=Oi(),Gw=Js(),Hw=Sl(),$w=Xm(),Vw=Nl(),Yw=Ll(),Ww=Tl(),vn;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(vn=xr.ForceFlushState||(xr.ForceFlushState={}));var Nr=class{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,yn.merge)({},Hw.DEFAULT_CONFIG,(0,Ww.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:rE.Resource.empty(),this.resource=rE.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let i=this._buildExporterFromEnv();if(i!==void 0){let o=new Yw.BatchSpanProcessor(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new Vw.NoopSpanProcessor}getTracer(t,r,n){let i=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(i)||this._tracers.set(i,new Gw.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(i)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>En.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new $w.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){En.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&En.context.setGlobalContextManager(t.contextManager),t.propagator&&En.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(i=>{let o,s=setTimeout(()=>{i(new Error(`Span processor did not completed within timeout period of ${t} ms`)),o=vn.timeout},t);n.forceFlush().then(()=>{clearTimeout(s),o!==vn.timeout&&(o=vn.resolved,i(o))}).catch(a=>{clearTimeout(s),o=vn.error,i(a)})}));return new Promise((n,i)=>{Promise.all(r).then(o=>{let s=o.filter(a=>a!==vn.resolved);s.length>0?i(s):n()}).catch(o=>i([o]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=Nr._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=Nr._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,yn.getEnv)().OTEL_PROPAGATORS)),n=t.map(i=>{let o=this._getPropagator(i);return o||En.diag.warn(`Propagator "${i}" requested through environment variable is unavailable.`),o}).reduce((i,o)=>(o&&i.push(o),i),[]);if(n.length!==0)return t.length===1?n[0]:new yn.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,yn.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none")return;let r=this._getSpanExporter(t);return r||En.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};xr.BasicTracerProvider=Nr;Nr._registeredPropagators=new Map([["tracecontext",()=>new yn.W3CTraceContextPropagator],["baggage",()=>new yn.W3CBaggagePropagator]]);Nr._registeredExporters=new Map});var oE=p(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.ConsoleSpanExporter=void 0;var Ml=J(),iE=class{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,Ml.hrTimeToMicroseconds)(t.startTime),duration:(0,Ml.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:Ml.ExportResultCode.SUCCESS})}};ea.ConsoleSpanExporter=iE});var uE=p(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.InMemorySpanExporter=void 0;var sE=J(),aE=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:sE.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:sE.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};ta.InMemorySpanExporter=aE});var lE=p(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0})});var dE=p(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.SimpleSpanProcessor=void 0;var Dl=B(),ra=J(),pE=class{constructor(t){this._exporter=t,this._shutdownOnce=new ra.BindOnceFuture(this._shutdown,this)}forceFlush(){return Promise.resolve()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||(t.spanContext().traceFlags&Dl.TraceFlags.SAMPLED)!=0&&Dl.context.with((0,ra.suppressTracing)(Dl.context.active()),()=>{this._exporter.export([t],r=>{var n;r.code!==ra.ExportResultCode.SUCCESS&&(0,ra.globalErrorHandler)((n=r.error)!==null&&n!==void 0?n:new Error(`SimpleSpanProcessor: span export failed (status ${r})`))})})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};na.SimpleSpanProcessor=pE});var hE=p(fE=>{"use strict";Object.defineProperty(fE,"__esModule",{value:!0})});var gE=p(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0})});var EE=p(mE=>{"use strict";Object.defineProperty(mE,"__esModule",{value:!0})});var vE=p(yE=>{"use strict";Object.defineProperty(yE,"__esModule",{value:!0})});var Js=p(Ee=>{"use strict";var Kw=Ee&&Ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),$e=Ee&&Ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Kw(t,e,r)};Object.defineProperty(Ee,"__esModule",{value:!0});$e(Tm(),Ee);$e(nE(),Ee);$e(Ll(),Ee);$e(oE(),Ee);$e(uE(),Ee);$e(lE(),Ee);$e(dE(),Ee);$e(hE(),Ee);$e(Nl(),Ee);$e(bl(),Ee);$e(gE(),Ee);$e(EE(),Ee);$e(vE(),Ee)});var Pi=p(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.invalidTimeout=Ze.configureExporterTimeout=Ze.appendRootPathToUrlIfNeeded=Ze.appendResourcePathToUrl=Ze.parseHeaders=void 0;var AE=B(),bE=J(),SE=1e4;function Xw(e={}){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n!="undefined"?t[r]=String(n):AE.diag.warn(`Header "${r}" has wrong value and will be ignored`)}),t}Ze.parseHeaders=Xw;function zw(e,t){return e.endsWith("/")||(e=e+"/"),e+t}Ze.appendResourcePathToUrl=zw;function Qw(e,t){return!e.includes(t)&&!e.endsWith("/")&&(e=e+"/"),e}Ze.appendRootPathToUrlIfNeeded=Qw;function Zw(e){return typeof e=="number"?e<=0?Bl(e,SE):e:Jw()}Ze.configureExporterTimeout=Zw;function Jw(){var e;let t=Number((e=(0,bE.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)!==null&&e!==void 0?e:(0,bE.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return t<=0?Bl(t,SE):t}function Bl(e,t){return AE.diag.warn("Timeout must be greater than 0",e),t}Ze.invalidTimeout=Bl});var oa=p(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.OTLPExporterBase=void 0;var TE=B(),Ii=J(),eN=Pi(),RE=class{constructor(t={}){this._sendingPromises=[],this.url=this.getDefaultUrl(t),typeof t.hostname=="string"&&(this.hostname=t.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new Ii.BindOnceFuture(this._shutdown,this),this._concurrencyLimit=typeof t.concurrencyLimit=="number"?t.concurrencyLimit:Infinity,this.timeoutMillis=(0,eN.configureExporterTimeout)(t.timeoutMillis),this.onInit(t)}export(t,r){if(this._shutdownOnce.isCalled){r({code:Ii.ExportResultCode.FAILED,error:new Error("Exporter has been shutdown")});return}if(this._sendingPromises.length>=this._concurrencyLimit){r({code:Ii.ExportResultCode.FAILED,error:new Error("Concurrent export limit reached")});return}this._export(t).then(()=>{r({code:Ii.ExportResultCode.SUCCESS})}).catch(n=>{r({code:Ii.ExportResultCode.FAILED,error:n})})}_export(t){return new Promise((r,n)=>{try{TE.diag.debug("items to be sent",t),this.send(t,r,n)}catch(i){n(i)}})}shutdown(){return this._shutdownOnce.call()}_shutdown(){return TE.diag.debug("shutdown started"),this.onShutdown(),Promise.all(this._sendingPromises).then(()=>{})}};ia.OTLPExporterBase=RE});var Ul=p(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.CompressionAlgorithm=void 0;var tN;(function(e){e.NONE="none",e.GZIP="gzip"})(tN=wi.CompressionAlgorithm||(wi.CompressionAlgorithm={}))});var aa=p(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.OTLPExporterError=void 0;var OE=class extends Error{constructor(t,r,n){super(t);this.name="OTLPExporterError",this.data=n,this.code=r}};sa.OTLPExporterError=OE});var ql=p(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.configureCompression=rr.createHttpAgent=rr.sendWithHttp=void 0;var CE=I("url"),PE=I("http"),IE=I("https"),rN=I("zlib"),nN=I("stream"),jl=B(),ua=Ul(),wE=J(),kl=aa(),Fl;function iN(e,t,r,n,i){let o=e.timeoutMillis,s=new CE.URL(e.url),a,u=Number(process.versions.node.split(".")[0]),c=setTimeout(()=>{a=!0,u>=14?f.destroy():f.abort()},o),l={hostname:s.hostname,port:s.port,path:s.pathname,method:"POST",headers:Object.assign({"Content-Type":r},e.headers),agent:e.agent},f=(s.protocol==="http:"?PE.request:IE.request)(l,h=>{let _="";h.on("data",g=>_+=g),h.on("aborted",()=>{if(a){let g=new kl.OTLPExporterError("Request Timeout");i(g)}}),h.on("end",()=>{if(!a){if(h.statusCode&&h.statusCode<299)jl.diag.debug(`statusCode: ${h.statusCode}`,_),n();else{let g=new kl.OTLPExporterError(h.statusMessage,h.statusCode,_);i(g)}clearTimeout(c)}})});switch(f.on("error",h=>{if(a){let _=new kl.OTLPExporterError("Request Timeout",h.code);i(_)}else clearTimeout(c),i(h)}),e.compression){case ua.CompressionAlgorithm.GZIP:{Fl||(Fl=rN.createGzip()),f.setHeader("Content-Encoding","gzip"),oN(t).on("error",i).pipe(Fl).on("error",i).pipe(f);break}default:f.end(t);break}}rr.sendWithHttp=iN;function oN(e){let t=new nN.Readable;return t.push(e),t.push(null),t}function sN(e){if(e.httpAgentOptions&&e.keepAlive===!1){jl.diag.warn("httpAgentOptions is used only when keepAlive is true");return}if(!(e.keepAlive===!1||!e.url))try{let r=new CE.URL(e.url).protocol==="http:"?PE.Agent:IE.Agent;return new r(Object.assign({keepAlive:!0},e.httpAgentOptions))}catch(t){jl.diag.error(`collector exporter failed to create http agent. err: ${t.message}`);return}}rr.createHttpAgent=sN;function aN(e){return e||(((0,wE.getEnv)().OTEL_EXPORTER_OTLP_TRACES_COMPRESSION||(0,wE.getEnv)().OTEL_EXPORTER_OTLP_COMPRESSION)===ua.CompressionAlgorithm.GZIP?ua.CompressionAlgorithm.GZIP:ua.CompressionAlgorithm.NONE)}rr.configureCompression=aN});var ME=p(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.OTLPExporterNodeBase=void 0;var uN=oa(),cN=Pi(),Gl=ql(),NE=B(),xE=J(),LE=class extends uN.OTLPExporterBase{constructor(t={}){super(t);this.DEFAULT_HEADERS={},t.metadata&&NE.diag.warn("Metadata cannot be set when using http"),this.headers=Object.assign(this.DEFAULT_HEADERS,(0,cN.parseHeaders)(t.headers),xE.baggageUtils.parseKeyPairsIntoRecord((0,xE.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)),this.agent=(0,Gl.createHttpAgent)(t),this.compression=(0,Gl.configureCompression)(t.compression)}onInit(t){}send(t,r,n){if(this._shutdownOnce.isCalled){NE.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=new Promise((a,u)=>{(0,Gl.sendWithHttp)(this,JSON.stringify(i),"application/json",a,u)}).then(r,n);this._sendingPromises.push(o);let s=()=>{let a=this._sendingPromises.indexOf(o);this._sendingPromises.splice(a,1)};o.then(s,s)}onShutdown(){}};ca.OTLPExporterNodeBase=LE});var DE=p(Dt=>{"use strict";var lN=Dt&&Dt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hl=Dt&&Dt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lN(t,e,r)};Object.defineProperty(Dt,"__esModule",{value:!0});Hl(ME(),Dt);Hl(ql(),Dt);Hl(Ul(),Dt)});var UE=p(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.sendWithXhr=An.sendWithBeacon=void 0;var BE=B(),$l=aa();function pN(e,t,r,n,i){if(navigator.sendBeacon(t,new Blob([e],r)))BE.diag.debug("sendBeacon - can send",e),n();else{let o=new $l.OTLPExporterError(`sendBeacon - cannot send ${e}`);i(o)}}An.sendWithBeacon=pN;function dN(e,t,r,n,i,o){let s,a=setTimeout(()=>{s=!0,u.abort()},n),u=new XMLHttpRequest;u.open("POST",t),Object.entries(Object.assign(Object.assign({},{Accept:"application/json","Content-Type":"application/json"}),r)).forEach(([l,d])=>{u.setRequestHeader(l,d)}),u.send(e),u.onreadystatechange=()=>{if(u.readyState===XMLHttpRequest.DONE)if(u.status>=200&&u.status<=299)clearTimeout(a),BE.diag.debug("xhr success",e),i();else if(s){let l=new $l.OTLPExporterError("Request Timeout",u.status);o(l)}else{let l=new $l.OTLPExporterError(`Failed to export with XHR (status: ${u.status})`,u.status);clearTimeout(a),o(l)}}}An.sendWithXhr=dN});var qE=p(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.OTLPExporterBrowserBase=void 0;var fN=oa(),hN=Pi(),jE=UE(),_N=B(),kE=J(),FE=class extends fN.OTLPExporterBase{constructor(t={}){super(t);this._useXHR=!1,this._useXHR=!!t.headers||typeof navigator.sendBeacon!="function",this._useXHR?this._headers=Object.assign({},(0,hN.parseHeaders)(t.headers),kE.baggageUtils.parseKeyPairsIntoRecord((0,kE.getEnv)().OTEL_EXPORTER_OTLP_HEADERS)):this._headers={}}onInit(){window.addEventListener("unload",this.shutdown)}onShutdown(){window.removeEventListener("unload",this.shutdown)}send(t,r,n){if(this._shutdownOnce.isCalled){_N.diag.debug("Shutdown already started. Cannot send objects");return}let i=this.convert(t),o=JSON.stringify(i),s=new Promise((u,c)=>{this._useXHR?(0,jE.sendWithXhr)(o,this.url,this._headers,this.timeoutMillis,u,c):(0,jE.sendWithBeacon)(o,this.url,{type:"application/json"},u,c)}).then(r,n);this._sendingPromises.push(s);let a=()=>{let u=this._sendingPromises.indexOf(s);this._sendingPromises.splice(u,1)};s.then(a,a)}};la.OTLPExporterBrowserBase=FE});var GE=p(Lr=>{"use strict";var gN=Lr&&Lr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mN=Lr&&Lr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gN(t,e,r)};Object.defineProperty(Lr,"__esModule",{value:!0});mN(qE(),Lr)});var HE=p(Bt=>{"use strict";var EN=Bt&&Bt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yN=Bt&&Bt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&EN(t,e,r)};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.OTLPExporterBrowserBase=void 0;yN(DE(),Bt);var vN=GE();Object.defineProperty(Bt,"OTLPExporterBrowserBase",{enumerable:!0,get:function(){return vN.OTLPExporterBrowserBase}})});var Vl=p(yt=>{"use strict";var AN=yt&&yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pa=yt&&yt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&AN(t,e,r)};Object.defineProperty(yt,"__esModule",{value:!0});pa(oa(),yt);pa(HE(),yt);pa(aa(),yt);pa(Pi(),yt)});var VE=p($E=>{"use strict";Object.defineProperty($E,"__esModule",{value:!0})});var WE=p(YE=>{"use strict";Object.defineProperty(YE,"__esModule",{value:!0})});var XE=p(KE=>{"use strict";Object.defineProperty(KE,"__esModule",{value:!0})});var zE=p(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.ESpanKind=void 0;var bN;(function(e){e[e.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",e[e.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",e[e.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",e[e.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",e[e.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",e[e.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"})(bN=Ni.ESpanKind||(Ni.ESpanKind={}))});var da=p(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.bufToHex=Je.hexToBuf=Je.toAnyValue=Je.toKeyValue=Je.toAttributes=void 0;function SN(e){return Object.keys(e).map(t=>Yl(t,e[t]))}Je.toAttributes=SN;function Yl(e,t){return{key:e,value:Wl(t)}}Je.toKeyValue=Yl;function Wl(e){let t=typeof e;return t==="string"?{stringValue:e}:t==="number"?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:t==="boolean"?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(Wl)}}:t==="object"&&e!=null?{kvlistValue:{values:Object.entries(e).map(([r,n])=>Yl(r,n))}}:{}}Je.toAnyValue=Wl;function TN(e){var t;let r=(t=e.match(/[\da-f]{2}/gi))===null||t===void 0?void 0:t.map(n=>parseInt(n,16));return r&&new Uint8Array(r)}Je.hexToBuf=TN;function RN(e){return("0"+e.toString(16)).slice(-2)}function ON(e){if(!(e==null||e.length===0))return Array.from(e).map(RN).join("")}Je.bufToHex=ON});var JE=p(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.toOtlpSpanEvent=nr.toOtlpLink=nr.sdkSpanToOtlpSpan=void 0;var Kl=J(),Xl=da(),xi=J();function CN(e,t){let r=e.spanContext(),n=e.status,i=t?e.parentSpanId:e.parentSpanId!=null?xi.hexToBase64(e.parentSpanId):void 0;return{traceId:t?r.traceId:xi.hexToBase64(r.traceId),spanId:t?r.spanId:xi.hexToBase64(r.spanId),parentSpanId:i,name:e.name,kind:e.kind==null?0:e.kind+1,startTimeUnixNano:(0,Kl.hrTimeToNanoseconds)(e.startTime),endTimeUnixNano:(0,Kl.hrTimeToNanoseconds)(e.endTime),attributes:(0,Xl.toAttributes)(e.attributes),droppedAttributesCount:0,events:e.events.map(ZE),droppedEventsCount:0,status:{code:n.code,message:n.message},links:e.links.map(o=>QE(o,t)),droppedLinksCount:0}}nr.sdkSpanToOtlpSpan=CN;function QE(e,t){return{attributes:e.attributes?(0,Xl.toAttributes)(e.attributes):[],spanId:t?e.context.spanId:xi.hexToBase64(e.context.spanId),traceId:t?e.context.traceId:xi.hexToBase64(e.context.traceId),droppedAttributesCount:0}}nr.toOtlpLink=QE;function ZE(e){return{attributes:e.attributes?(0,Xl.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:(0,Kl.hrTimeToNanoseconds)(e.time),droppedAttributesCount:0}}nr.toOtlpSpanEvent=ZE});var ey=p(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.createExportTraceServiceRequest=void 0;var PN=da(),IN=JE();function wN(e,t){return{resourceSpans:xN(e,t)}}fa.createExportTraceServiceRequest=wN;function NN(e){let t=new Map;for(let r of e){let n=t.get(r.resource);n||(n=new Map,t.set(r.resource,n));let i=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`,o=n.get(i);o||(o=[],n.set(i,o)),o.push(r)}return t}function xN(e,t){let r=NN(e),n=[],i=r.entries(),o=i.next();for(;!o.done;){let[s,a]=o.value,u=[],c=a.values(),l=c.next();for(;!l.done;){let f=l.value;if(f.length>0){let{name:h,version:_,schemaUrl:g}=f[0].instrumentationLibrary,v=f.map(b=>(0,IN.sdkSpanToOtlpSpan)(b,t));u.push({scope:{name:h,version:_},spans:v,schemaUrl:g})}l=c.next()}let d={resource:{attributes:(0,PN.toAttributes)(s.attributes),droppedAttributesCount:0},scopeSpans:u,schemaUrl:void 0};n.push(d),o=i.next()}return n}});var np=p(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=G.NOOP_OBSERVABLE_GAUGE_METRIC=G.NOOP_OBSERVABLE_COUNTER_METRIC=G.NOOP_UP_DOWN_COUNTER_METRIC=G.NOOP_HISTOGRAM_METRIC=G.NOOP_COUNTER_METRIC=G.NOOP_METER=G.NoopObservableUpDownCounterMetric=G.NoopObservableGaugeMetric=G.NoopObservableCounterMetric=G.NoopObservableMetric=G.NoopHistogramMetric=G.NoopUpDownCounterMetric=G.NoopCounterMetric=G.NoopMetric=G.NoopMeter=void 0;var zl=class{constructor(){}createHistogram(t,r){return G.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return G.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return G.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return G.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return G.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};G.NoopMeter=zl;var Li=class{};G.NoopMetric=Li;var Ql=class extends Li{add(t,r){}};G.NoopCounterMetric=Ql;var Zl=class extends Li{add(t,r){}};G.NoopUpDownCounterMetric=Zl;var Jl=class extends Li{record(t,r){}};G.NoopHistogramMetric=Jl;var Mi=class{addCallback(t){}removeCallback(t){}};G.NoopObservableMetric=Mi;var ep=class extends Mi{};G.NoopObservableCounterMetric=ep;var tp=class extends Mi{};G.NoopObservableGaugeMetric=tp;var rp=class extends Mi{};G.NoopObservableUpDownCounterMetric=rp;G.NOOP_METER=new zl;G.NOOP_COUNTER_METRIC=new Ql;G.NOOP_HISTOGRAM_METRIC=new Jl;G.NOOP_UP_DOWN_COUNTER_METRIC=new Zl;G.NOOP_OBSERVABLE_COUNTER_METRIC=new ep;G.NOOP_OBSERVABLE_GAUGE_METRIC=new tp;G.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new rp});var op=p(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.NOOP_METER_PROVIDER=bn.NoopMeterProvider=void 0;var LN=np(),ip=class{getMeter(t,r,n){return LN.NOOP_METER}};bn.NoopMeterProvider=ip;bn.NOOP_METER_PROVIDER=new ip});var ry=p(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0})});var iy=p(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0})});var oy=p(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.ValueType=void 0;var MN;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(MN=Di.ValueType||(Di.ValueType={}))});var ay=p(sy=>{"use strict";Object.defineProperty(sy,"__esModule",{value:!0})});var uy=p(ha=>{"use strict";Object.defineProperty(ha,"__esModule",{value:!0});ha._globalThis=void 0;ha._globalThis=typeof globalThis=="object"?globalThis:global});var cy=p(Mr=>{"use strict";var DN=Mr&&Mr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BN=Mr&&Mr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DN(t,e,r)};Object.defineProperty(Mr,"__esModule",{value:!0});BN(uy(),Mr)});var ly=p(Dr=>{"use strict";var UN=Dr&&Dr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jN=Dr&&Dr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UN(t,e,r)};Object.defineProperty(Dr,"__esModule",{value:!0});jN(cy(),Dr)});var py=p(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.API_BACKWARDS_COMPATIBILITY_VERSION=vt.makeGetter=vt._global=vt.GLOBAL_METRICS_API_KEY=void 0;var kN=ly();vt.GLOBAL_METRICS_API_KEY=Symbol.for("io.opentelemetry.js.api.metrics");vt._global=kN._globalThis;function FN(e,t,r){return n=>n===e?t:r}vt.makeGetter=FN;vt.API_BACKWARDS_COMPATIBILITY_VERSION=4});var fy=p(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});ga.MetricsAPI=void 0;var dy=op(),et=py(),_a=class{constructor(){}static getInstance(){return this._instance||(this._instance=new _a),this._instance}setGlobalMeterProvider(t){return et._global[et.GLOBAL_METRICS_API_KEY]?this.getMeterProvider():(et._global[et.GLOBAL_METRICS_API_KEY]=(0,et.makeGetter)(et.API_BACKWARDS_COMPATIBILITY_VERSION,t,dy.NOOP_METER_PROVIDER),t)}getMeterProvider(){var t,r;return(r=(t=et._global[et.GLOBAL_METRICS_API_KEY])===null||t===void 0?void 0:t.call(et._global,et.API_BACKWARDS_COMPATIBILITY_VERSION))!==null&&r!==void 0?r:dy.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){delete et._global[et.GLOBAL_METRICS_API_KEY]}};ga.MetricsAPI=_a});var Tn=p(je=>{"use strict";var qN=je&&je.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sn=je&&je.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&qN(t,e,r)};Object.defineProperty(je,"__esModule",{value:!0});je.metrics=void 0;Sn(np(),je);Sn(op(),je);Sn(ry(),je);Sn(iy(),je);Sn(oy(),je);Sn(ay(),je);var GN=fy();je.metrics=GN.MetricsAPI.getInstance()});var ma=p(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.AggregationTemporality=void 0;var HN;(function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"})(HN=Bi.AggregationTemporality||(Bi.AggregationTemporality={}))});var ji=p(Ui=>{"use strict";Object.defineProperty(Ui,"__esModule",{value:!0});Ui.DataPointType=void 0;var $N;(function(e){e[e.SINGULAR=0]="SINGULAR",e[e.HISTOGRAM=1]="HISTOGRAM",e[e.EXPONENTIAL_HISTOGRAM=2]="EXPONENTIAL_HISTOGRAM"})($N=Ui.DataPointType||(Ui.DataPointType={}))});var _y=p(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0});Ea.ConsoleMetricExporter=void 0;var VN=ma(),YN=J(),hy=class{constructor(t){this._shutdown=!0,this._aggregationTemporality=t!=null?t:VN.AggregationTemporality.CUMULATIVE}export(t,r){return r({code:YN.ExportResultCode.FAILED,error:new Error("Method not implemented")})}selectAggregationTemporality(t){return this._aggregationTemporality}async forceFlush(){}async shutdown(){this._shutdown=!0}};Ea.ConsoleMetricExporter=hy});var my=p(gy=>{"use strict";Object.defineProperty(gy,"__esModule",{value:!0})});var Ut=p(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.setEquals=fe.FlatMap=fe.isPromiseAllSettledRejectionResult=fe.PromiseAllSettled=fe.callWithTimeout=fe.TimeoutError=fe.instrumentationScopeId=fe.hashAttributes=fe.isNotNullish=void 0;function WN(e){return e!=null}fe.isNotNullish=WN;function KN(e){let t=Object.keys(e);return t.length===0?"":(t=t.sort(),t.reduce((r,n)=>(r.length>2&&(r+=","),r+=n+":"+e[n]),"|#"))}fe.hashAttributes=KN;function XN(e){var t,r;return`${e.name}:${(t=e.version)!==null&&t!==void 0?t:""}:${(r=e.schemaUrl)!==null&&r!==void 0?r:""}`}fe.instrumentationScopeId=XN;var ki=class extends Error{constructor(t){super(t);Object.setPrototypeOf(this,ki.prototype)}};fe.TimeoutError=ki;function zN(e,t){let r,n=new Promise(function(o,s){r=setTimeout(function(){s(new ki("Operation timed out."))},t)});return Promise.race([e,n]).then(i=>(clearTimeout(r),i),i=>{throw clearTimeout(r),i})}fe.callWithTimeout=zN;async function QN(e){return Promise.all(e.map(async t=>{try{let r=await t;return{status:"fulfilled",value:r}}catch(r){return{status:"rejected",reason:r}}}))}fe.PromiseAllSettled=QN;function ZN(e){return e.status==="rejected"}fe.isPromiseAllSettledRejectionResult=ZN;function JN(e,t){let r=[];return e.forEach(n=>{r.push(...t(n))}),r}fe.FlatMap=JN;function ex(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}fe.setEquals=ex});var sp=p(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.MetricReader=void 0;var Ey=B(),yy=Ut(),vy=class{constructor(){this._shutdown=!1}setMetricProducer(t){if(this._metricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._metricProducer=t,this.onInitialized()}onInitialized(){}async collect(t){if(this._metricProducer===void 0)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");return this._metricProducer.collect({timeoutMillis:t==null?void 0:t.timeoutMillis})}async shutdown(t){if(this._shutdown){Ey.diag.error("Cannot call shutdown twice.");return}(t==null?void 0:t.timeoutMillis)==null?await this.onShutdown():await(0,yy.callWithTimeout)(this.onShutdown(),t.timeoutMillis),this._shutdown=!0}async forceFlush(t){if(this._shutdown){Ey.diag.warn("Cannot forceFlush on already shutdown MetricReader.");return}if((t==null?void 0:t.timeoutMillis)==null){await this.onForceFlush();return}await(0,yy.callWithTimeout)(this.onForceFlush(),t.timeoutMillis)}};ya.MetricReader=vy});var Ry=p(va=>{"use strict";Object.defineProperty(va,"__esModule",{value:!0});va.PeriodicExportingMetricReader=void 0;var Ay=B(),by=J(),tx=sp(),Sy=Ut(),Ty=class extends tx.MetricReader{constructor(t){var r,n;super();if(t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(t.exportTimeoutMillis!==void 0&&t.exportIntervalMillis!==void 0&&t.exportIntervalMillis<t.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=(r=t.exportIntervalMillis)!==null&&r!==void 0?r:6e4,this._exportTimeout=(n=t.exportTimeoutMillis)!==null&&n!==void 0?n:3e4,this._exporter=t.exporter}async _runOnce(){let{resourceMetrics:t,errors:r}=await this.collect({});return r.length>0&&Ay.diag.error("PeriodicExportingMetricReader: metrics collection errors",...r),new Promise((n,i)=>{this._exporter.export(t,o=>{var s;o.code!==by.ExportResultCode.SUCCESS?i((s=o.error)!==null&&s!==void 0?s:new Error(`PeriodicExportingMetricReader: metrics export failed (error ${o.error})`)):n()})})}onInitialized(){this._interval=setInterval(async()=>{try{await(0,Sy.callWithTimeout)(this._runOnce(),this._exportTimeout)}catch(t){if(t instanceof Sy.TimeoutError){Ay.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);return}(0,by.globalErrorHandler)(t)}},this._exportInterval)}async onForceFlush(){await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}selectAggregationTemporality(t){return this._exporter.selectAggregationTemporality(t)}};va.PeriodicExportingMetricReader=Ty});var Br=p(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.isDescriptorCompatibleWith=at.createInstrumentDescriptorWithView=at.createInstrumentDescriptor=at.InstrumentType=void 0;var rx=Tn(),nx;(function(e){e.COUNTER="COUNTER",e.HISTOGRAM="HISTOGRAM",e.UP_DOWN_COUNTER="UP_DOWN_COUNTER",e.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",e.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",e.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"})(nx=at.InstrumentType||(at.InstrumentType={}));function ix(e,t,r){var n,i,o;return{name:e,type:t,description:(n=r==null?void 0:r.description)!==null&&n!==void 0?n:"",unit:(i=r==null?void 0:r.unit)!==null&&i!==void 0?i:"",valueType:(o=r==null?void 0:r.valueType)!==null&&o!==void 0?o:rx.ValueType.DOUBLE}}at.createInstrumentDescriptor=ix;function ox(e,t){var r,n;return{name:(r=e.name)!==null&&r!==void 0?r:t.name,description:(n=e.description)!==null&&n!==void 0?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType}}at.createInstrumentDescriptorWithView=ox;function sx(e,t){return e.name===t.name&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType}at.isDescriptorCompatibleWith=sx});var ba=p(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.isObservableInstrument=he.ObservableUpDownCounterInstrument=he.ObservableGaugeInstrument=he.ObservableCounterInstrument=he.ObservableInstrument=he.HistogramInstrument=he.CounterInstrument=he.UpDownCounterInstrument=he.SyncInstrument=void 0;var Aa=B(),ax=Tn(),Fi=class{constructor(t,r){this._writableMetricStorage=t,this._descriptor=r}_record(t,r={},n=Aa.context.active()){this._descriptor.valueType===ax.ValueType.INT&&!Number.isInteger(t)&&(Aa.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._writableMetricStorage.record(t,r,n)}};he.SyncInstrument=Fi;var Oy=class extends Fi{add(t,r,n){this._record(t,r,n)}};he.UpDownCounterInstrument=Oy;var Cy=class extends Fi{add(t,r,n){if(t<0){Aa.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.CounterInstrument=Cy;var Py=class extends Fi{record(t,r,n){if(t<0){Aa.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${t}`);return}this._record(t,r,n)}};he.HistogramInstrument=Py;var Rn=class{constructor(t,r,n){this._observableRegistry=n,this._descriptor=t,this._metricStorages=r}addCallback(t){this._observableRegistry.addCallback(t,this)}removeCallback(t){this._observableRegistry.removeCallback(t,this)}};he.ObservableInstrument=Rn;var Iy=class extends Rn{};he.ObservableCounterInstrument=Iy;var wy=class extends Rn{};he.ObservableGaugeInstrument=wy;var Ny=class extends Rn{};he.ObservableUpDownCounterInstrument=Ny;function ux(e){return e instanceof Rn}he.isObservableInstrument=ux});var ap=p(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Meter=void 0;var tt=Br(),On=ba(),xy=class{constructor(t){this._meterSharedState=t}createHistogram(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.HISTOGRAM,r),i=this._meterSharedState.registerMetricStorage(n);return new On.HistogramInstrument(i,n)}createCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new On.CounterInstrument(i,n)}createUpDownCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.UP_DOWN_COUNTER,r),i=this._meterSharedState.registerMetricStorage(n);return new On.UpDownCounterInstrument(i,n)}createObservableGauge(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_GAUGE,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableGaugeInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableCounterInstrument(n,i,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(t,r){let n=(0,tt.createInstrumentDescriptor)(t,tt.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,r),i=this._meterSharedState.registerAsyncMetricStorage(n);return new On.ObservableUpDownCounterInstrument(n,i,this._meterSharedState.observableRegistry)}addBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.addBatchCallback(t,r)}removeBatchObservableCallback(t,r){this._meterSharedState.observableRegistry.removeBatchCallback(t,r)}};Sa.Meter=xy});var Ra=p(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.ExactPredicate=Cn.PatternPredicate=void 0;var cx=/[\^$\\.+?()[\]{}|]/g,Ta=class{constructor(t){t==="*"?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(Ta.escapePattern(t)))}match(t){return this._matchAll?!0:this._regexp.test(t)}static escapePattern(t){return`^${t.replace(cx,"\\$&").replace("*",".*")}$`}static hasWildcard(t){return t.includes("*")}};Cn.PatternPredicate=Ta;var Ly=class{constructor(t){this._matchAll=t===void 0,this._pattern=t}match(t){return!!(this._matchAll||t===this._pattern)}};Cn.ExactPredicate=Ly});var up=p(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.InstrumentSelector=void 0;var lx=Ra(),My=class{constructor(t){var r;this._nameFilter=new lx.PatternPredicate((r=t==null?void 0:t.name)!==null&&r!==void 0?r:"*"),this._type=t==null?void 0:t.type}getType(){return this._type}getNameFilter(){return this._nameFilter}};Oa.InstrumentSelector=My});var lp=p(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});Ca.MeterSelector=void 0;var cp=Ra(),Dy=class{constructor(t){this._nameFilter=new cp.ExactPredicate(t==null?void 0:t.name),this._versionFilter=new cp.ExactPredicate(t==null?void 0:t.version),this._schemaUrlFilter=new cp.ExactPredicate(t==null?void 0:t.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}};Ca.MeterSelector=Dy});var Gi=p(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.AggregatorKind=void 0;var px;(function(e){e[e.DROP=0]="DROP",e[e.SUM=1]="SUM",e[e.LAST_VALUE=2]="LAST_VALUE",e[e.HISTOGRAM=3]="HISTOGRAM"})(px=qi.AggregatorKind||(qi.AggregatorKind={}))});var Uy=p(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});Pa.DropAggregator=void 0;var dx=Gi(),By=class{constructor(){this.kind=dx.AggregatorKind.DROP}createAccumulation(){}merge(t,r){}diff(t,r){}toMetricData(t,r,n,i,o){}};Pa.DropAggregator=By});var ky=p(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.HistogramAggregator=Pn.HistogramAccumulation=void 0;var fx=Gi(),hx=ji();function _x(e){let t=e.map(()=>0);return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0}}var Hi=class{constructor(t,r=_x(t)){this._boundaries=t,this._current=r}record(t){this._current.count+=1,this._current.sum+=t;for(let r=0;r<this._boundaries.length;r++)if(t<this._boundaries[r]){this._current.buckets.counts[r]+=1;return}this._current.buckets.counts[this._boundaries.length]+=1}toPointValue(){return this._current}};Pn.HistogramAccumulation=Hi;var jy=class{constructor(t){this._boundaries=t,this.kind=fx.AggregatorKind.HISTOGRAM}createAccumulation(){return new Hi(this._boundaries)}merge(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=o[u]+s[u];return new Hi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:n.count+i.count,sum:n.sum+i.sum})}diff(t,r){let n=t.toPointValue(),i=r.toPointValue(),o=n.buckets.counts,s=i.buckets.counts,a=new Array(o.length);for(let u=0;u<o.length;u++)a[u]=s[u]-o[u];return new Hi(n.buckets.boundaries,{buckets:{boundaries:n.buckets.boundaries,counts:a},count:i.count-n.count,sum:i.sum-n.sum})}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:hx.DataPointType.HISTOGRAM,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};Pn.HistogramAggregator=jy});var qy=p(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.LastValueAggregator=In.LastValueAccumulation=void 0;var gx=Gi(),$i=J(),mx=ji(),Vi=class{constructor(t=0,r=[0,0]){this._current=t,this.sampleTime=r}record(t){this._current=t,this.sampleTime=(0,$i.hrTime)()}toPointValue(){return this._current}};In.LastValueAccumulation=Vi;var Fy=class{constructor(){this.kind=gx.AggregatorKind.LAST_VALUE}createAccumulation(){return new Vi}merge(t,r){let n=(0,$i.hrTimeToMicroseconds)(r.sampleTime)>=(0,$i.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Vi(n.toPointValue(),n.sampleTime)}diff(t,r){let n=(0,$i.hrTimeToMicroseconds)(r.sampleTime)>=(0,$i.hrTimeToMicroseconds)(t.sampleTime)?r:t;return new Vi(n.toPointValue(),n.sampleTime)}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:mx.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};In.LastValueAggregator=Fy});var Hy=p(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.SumAggregator=wn.SumAccumulation=void 0;var Ex=Gi(),yx=ji(),Yi=class{constructor(t=0){this._current=t}record(t){this._current+=t}toPointValue(){return this._current}};wn.SumAccumulation=Yi;var Gy=class{constructor(){this.kind=Ex.AggregatorKind.SUM}createAccumulation(){return new Yi}merge(t,r){return new Yi(t.toPointValue()+r.toPointValue())}diff(t,r){return new Yi(r.toPointValue()-t.toPointValue())}toMetricData(t,r,n,i,o){return{descriptor:t,aggregationTemporality:r,dataPointType:yx.DataPointType.SINGULAR,dataPoints:n.map(([s,a])=>({attributes:s,startTime:i,endTime:o,value:a.toPointValue()}))}}};wn.SumAggregator=Gy});var $y=p(At=>{"use strict";var vx=At&&At.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ia=At&&At.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&vx(t,e,r)};Object.defineProperty(At,"__esModule",{value:!0});Ia(Uy(),At);Ia(ky(),At);Ia(qy(),At);Ia(Hy(),At)});var dp=p(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.DefaultAggregation=Pe.ExplicitBucketHistogramAggregation=Pe.HistogramAggregation=Pe.LastValueAggregation=Pe.SumAggregation=Pe.DropAggregation=Pe.Aggregation=void 0;var Ax=B(),Wi=$y(),Nn=Br(),ir=class{static Drop(){return Yy}static Sum(){return Wy}static LastValue(){return Ky}static Histogram(){return Xy}static Default(){return bx}};Pe.Aggregation=ir;var xn=class extends ir{createAggregator(t){return xn.DEFAULT_INSTANCE}};Pe.DropAggregation=xn;xn.DEFAULT_INSTANCE=new Wi.DropAggregator;var Ln=class extends ir{createAggregator(t){return Ln.DEFAULT_INSTANCE}};Pe.SumAggregation=Ln;Ln.DEFAULT_INSTANCE=new Wi.SumAggregator;var Mn=class extends ir{createAggregator(t){return Mn.DEFAULT_INSTANCE}};Pe.LastValueAggregation=Mn;Mn.DEFAULT_INSTANCE=new Wi.LastValueAggregator;var Dn=class extends ir{createAggregator(t){return Dn.DEFAULT_INSTANCE}};Pe.HistogramAggregation=Dn;Dn.DEFAULT_INSTANCE=new Wi.HistogramAggregator([0,5,10,25,50,75,100,250,500,1e3]);var Vy=class extends ir{constructor(t){super();if(t===void 0||t.length===0)throw new Error("HistogramAggregator should be created with boundaries.");t=t.concat(),t=t.sort((i,o)=>i-o);let r=t.lastIndexOf(-Infinity),n=t.indexOf(Infinity);n===-1&&(n=void 0),this._boundaries=t.slice(r+1,n)}createAggregator(t){return new Wi.HistogramAggregator(this._boundaries)}};Pe.ExplicitBucketHistogramAggregation=Vy;var pp=class extends ir{_resolve(t){switch(t.type){case Nn.InstrumentType.COUNTER:case Nn.InstrumentType.UP_DOWN_COUNTER:case Nn.InstrumentType.OBSERVABLE_COUNTER:case Nn.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return Wy;case Nn.InstrumentType.OBSERVABLE_GAUGE:return Ky;case Nn.InstrumentType.HISTOGRAM:return Xy}return Ax.diag.warn(`Unable to recognize instrument type: ${t.type}`),Yy}createAggregator(t){return this._resolve(t).createAggregator(t)}};Pe.DefaultAggregation=pp;var Yy=new xn,Wy=new Ln,Ky=new Mn,Xy=new Dn,bx=new pp});var hp=p(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.FilteringAttributesProcessor=or.NoopAttributesProcessor=or.AttributesProcessor=void 0;var wa=class{static Noop(){return Sx}};or.AttributesProcessor=wa;var fp=class extends wa{process(t,r){return t}};or.NoopAttributesProcessor=fp;var zy=class extends wa{constructor(t){super();this._allowedAttributeNames=t}process(t,r){let n={};return Object.keys(t).filter(i=>this._allowedAttributeNames.includes(i)).forEach(i=>n[i]=t[i]),n}};or.FilteringAttributesProcessor=zy;var Sx=new fp});var _p=p(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.View=void 0;var Tx=dp(),Rx=hp(),Qy=class{constructor(t){var r,n;this.name=t==null?void 0:t.name,this.description=t==null?void 0:t.description,this.aggregation=(r=t==null?void 0:t.aggregation)!==null&&r!==void 0?r:Tx.Aggregation.Default(),this.attributesProcessor=(n=t==null?void 0:t.attributesProcessor)!==null&&n!==void 0?n:Rx.AttributesProcessor.Noop()}};Na.View=Qy});var Zy=p(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.ViewRegistry=void 0;var Ox=up(),Cx=lp(),Px=_p(),Ki=class{constructor(){this._registeredViews=[]}addView(t,r=new Ox.InstrumentSelector,n=new Cx.MeterSelector){this._registeredViews.push({instrumentSelector:r,meterSelector:n,view:t})}findViews(t,r){let n=this._registeredViews.filter(i=>this._matchInstrument(i.instrumentSelector,t)&&this._matchMeter(i.meterSelector,r)).map(i=>i.view);return n.length===0?[Ki.DEFAULT_VIEW]:n}_matchInstrument(t,r){return(t.getType()===void 0||r.type===t.getType())&&t.getNameFilter().match(r.name)}_matchMeter(t,r){return t.getNameFilter().match(r.name)&&(r.version===void 0||t.getVersionFilter().match(r.version))&&(r.schemaUrl===void 0||t.getSchemaUrlFilter().match(r.schemaUrl))}};xa.ViewRegistry=Ki;Ki.DEFAULT_VIEW=new Px.View});var gp=p(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});La.MetricStorage=void 0;var Ix=Br(),Jy=class{constructor(t){this._instrumentDescriptor=t}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(t){this._instrumentDescriptor=(0,Ix.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:t,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit})}};La.MetricStorage=Jy});var Xi=p(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.AttributeHashMap=Bn.HashMap=void 0;var wx=Ut(),mp=class{constructor(t){this._hash=t,this._valueMap=new Map,this._keyMap=new Map}get(t,r){return r!=null||(r=this._hash(t)),this._valueMap.get(r)}getOrDefault(t,r){let n=this._hash(t);if(this._valueMap.has(n))return this._valueMap.get(n);let i=r();return this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,i),i}set(t,r,n){n!=null||(n=this._hash(t)),this._keyMap.has(n)||this._keyMap.set(n,t),this._valueMap.set(n,r)}has(t,r){return r!=null||(r=this._hash(t)),this._valueMap.has(r)}*entries(){let t=this._valueMap.entries(),r=t.next();for(;r.done!==!0;)yield[this._keyMap.get(r.value[0]),r.value[1],r.value[0]],r=t.next()}get size(){return this._valueMap.size}};Bn.HashMap=mp;var ev=class extends mp{constructor(){super(wx.hashAttributes)}};Bn.AttributeHashMap=ev});var yp=p(Ma=>{"use strict";Object.defineProperty(Ma,"__esModule",{value:!0});Ma.DeltaMetricProcessor=void 0;var Ep=Xi(),tv=class{constructor(t){this._aggregator=t,this._activeCollectionStorage=new Ep.AttributeHashMap,this._cumulativeMemoStorage=new Ep.AttributeHashMap}bind(t){return this._activeCollectionStorage.getOrDefault(t,()=>this._aggregator.createAccumulation())}record(t,r,n){let i=this.bind(r);i==null||i.record(t)}batchCumulate(t){Array.from(t.entries()).forEach(([r,n,i])=>{let o=this._aggregator.createAccumulation();if(o==null||o.record(n),this._cumulativeMemoStorage.has(r,i)){let s=this._cumulativeMemoStorage.get(r,i);o=this._aggregator.diff(s,o)}this._cumulativeMemoStorage.set(r,o,i),this._activeCollectionStorage.set(r,o,i)})}collect(){let t=this._activeCollectionStorage;return this._activeCollectionStorage=new Ep.AttributeHashMap,t}};Ma.DeltaMetricProcessor=tv});var vp=p(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.TemporalMetricProcessor=void 0;var rv=ma(),Nx=Xi(),zi=class{constructor(t){this._aggregator=t,this._unreportedAccumulations=new Map,this._reportHistory=new Map}buildMetrics(t,r,n,i,o,s){let a=o;this._stashAccumulations(r,i);let u=this._getMergedUnreportedAccumulations(t),c=u,l;if(this._reportHistory.has(t)){let d=this._reportHistory.get(t);a=d.collectionTime,l=d.aggregationTemporality,l===rv.AggregationTemporality.CUMULATIVE&&(c=zi.merge(d.accumulations,u,this._aggregator))}else l=t.selectAggregationTemporality(n.type);return this._reportHistory.set(t,{accumulations:c,collectionTime:s,aggregationTemporality:l}),this._aggregator.toMetricData(n,l,xx(c),l===rv.AggregationTemporality.CUMULATIVE?o:a,s)}_stashAccumulations(t,r){t.forEach(n=>{let i=this._unreportedAccumulations.get(n);i===void 0&&(i=[],this._unreportedAccumulations.set(n,i)),i.push(r)})}_getMergedUnreportedAccumulations(t){let r=new Nx.AttributeHashMap,n=this._unreportedAccumulations.get(t);if(this._unreportedAccumulations.set(t,[]),n===void 0)return r;for(let i of n)r=zi.merge(r,i,this._aggregator);return r}static merge(t,r,n){var i;let o=t,s=r.entries(),a=s.next();for(;a.done!==!0;){let[u,c,l]=a.value,d=(i=t.get(u,l))!==null&&i!==void 0?i:n.createAccumulation();o.set(u,n.merge(d,c),l),a=s.next()}return o}};Da.TemporalMetricProcessor=zi;function xx(e){return Array.from(e.entries())}});var iv=p(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.AsyncMetricStorage=void 0;var Lx=gp(),Mx=yp(),Dx=vp(),Bx=Xi(),nv=class extends Lx.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Mx.DeltaMetricProcessor(r),this._temporalMetricStorage=new Dx.TemporalMetricProcessor(r)}record(t){let r=new Bx.AttributeHashMap;Array.from(t.entries()).forEach(([n,i])=>{r.set(this._attributesProcessor.process(n),i)}),this._deltaMetricStorage.batchCumulate(r)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};Ba.AsyncMetricStorage=nv});var cv=p(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.getConflictResolutionRecipe=ke.getDescriptionResolutionRecipe=ke.getTypeConflictResolutionRecipe=ke.getUnitConflictResolutionRecipe=ke.getValueTypeConflictResolutionRecipe=ke.getIncompatibilityDetails=void 0;function Ux(e,t){let r="";return e.unit!==t.unit&&(r+=`	- Unit '${e.unit}' does not match '${t.unit}'
`),e.type!==t.type&&(r+=`	- Type '${e.type}' does not match '${t.type}'
`),e.valueType!==t.valueType&&(r+=`	- Value Type '${e.valueType}' does not match '${t.valueType}'
`),e.description!==t.description&&(r+=`	- Description '${e.description}' does not match '${t.description}'
`),r}ke.getIncompatibilityDetails=Ux;function ov(e,t){return`	- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getValueTypeConflictResolutionRecipe=ov;function sv(e,t){return`	- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}ke.getUnitConflictResolutionRecipe=sv;function av(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}ke.getTypeConflictResolutionRecipe=av;function uv(e,t){let r={name:t.name,type:t.type},n=JSON.stringify(r);return`	- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'
    	- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}
    	- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}ke.getDescriptionResolutionRecipe=uv;function jx(e,t){return e.valueType!==t.valueType?ov(e,t):e.unit!==t.unit?sv(e,t):e.type!==t.type?av(e,t):e.description!==t.description?uv(e,t):""}ke.getConflictResolutionRecipe=jx});var pv=p(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.MetricStorageRegistry=void 0;var kx=Br(),lv=B(),Ua=cv(),ja=class{constructor(){this._metricStorageRegistry=new Map}static create(){return new ja}getStorages(){let t=[];for(let r of this._metricStorageRegistry.values())t=t.concat(r);return t}register(t){let r=t.getInstrumentDescriptor(),n=this._metricStorageRegistry.get(r.name);if(n===void 0)return this._metricStorageRegistry.set(r.name,[t]),t;let i=null;for(let o of n){let s=o.getInstrumentDescriptor();(0,kx.isDescriptorCompatibleWith)(s,r)?(s.description!==r.description&&(r.description.length>s.description.length&&o.updateDescription(r.description),lv.diag.warn("A view or instrument with the name ",r.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,Ua.getIncompatibilityDetails)(s,r),`The longer description will be used.
To resolve the conflict:`,(0,Ua.getConflictResolutionRecipe)(s,r))),i=o):lv.diag.warn("A view or instrument with the name ",r.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,Ua.getIncompatibilityDetails)(s,r),`To resolve the conflict:
`,(0,Ua.getConflictResolutionRecipe)(s,r))}return i!=null?i:(n.push(t),t)}};ka.MetricStorageRegistry=ja});var fv=p(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.MultiMetricStorage=void 0;var dv=class{constructor(t){this._backingStorages=t}record(t,r,n){this._backingStorages.forEach(i=>{i.record(t,r,n)})}};Fa.MultiMetricStorage=dv});var Ap=p(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.BatchObservableResultImpl=Un.ObservableResultImpl=void 0;var hv=B(),_v=Tn(),gv=Xi(),Fx=ba(),mv=class{constructor(t){this._descriptor=t,this._buffer=new gv.AttributeHashMap}observe(t,r={}){this._descriptor.valueType===_v.ValueType.INT&&!Number.isInteger(t)&&(hv.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t)),this._buffer.set(r,t)}};Un.ObservableResultImpl=mv;var Ev=class{constructor(){this._buffer=new Map}observe(t,r,n={}){if(!(0,Fx.isObservableInstrument)(t))return;let i=this._buffer.get(t);i==null&&(i=new gv.AttributeHashMap,this._buffer.set(t,i)),t._descriptor.valueType===_v.ValueType.INT&&!Number.isInteger(r)&&(hv.diag.warn(`INT value type cannot accept a floating-point value for ${t._descriptor.name}, ignoring the fractional digits.`),r=Math.trunc(r)),i.set(n,r)}};Un.BatchObservableResultImpl=Ev});var bv=p(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.ObservableRegistry=void 0;var qx=B(),yv=ba(),vv=Ap(),Qi=Ut(),Av=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(t,r){this._findCallback(t,r)>=0||this._callbacks.push({callback:t,instrument:r})}removeCallback(t,r){let n=this._findCallback(t,r);n<0||this._callbacks.splice(n,1)}addBatchCallback(t,r){let n=new Set(r.filter(yv.isObservableInstrument));if(n.size===0){qx.diag.error("BatchObservableCallback is not associated with valid instruments",r);return}this._findBatchCallback(t,n)>=0||this._batchCallbacks.push({callback:t,instruments:n})}removeBatchCallback(t,r){let n=new Set(r.filter(yv.isObservableInstrument)),i=this._findBatchCallback(t,n);i<0||this._batchCallbacks.splice(i,1)}async observe(t){let r=this._observeCallbacks(t),n=this._observeBatchCallbacks(t);return(await(0,Qi.PromiseAllSettled)([...r,...n])).filter(Qi.isPromiseAllSettledRejectionResult).map(s=>s.reason)}_observeCallbacks(t){return this._callbacks.map(async({callback:r,instrument:n})=>{let i=new vv.ObservableResultImpl(n._descriptor),o=Promise.resolve(r(i));t!=null&&(o=(0,Qi.callWithTimeout)(o,t)),await o,n._metricStorages.forEach(s=>{s.record(i._buffer)})})}_observeBatchCallbacks(t){return this._batchCallbacks.map(async({callback:r,instruments:n})=>{let i=new vv.BatchObservableResultImpl,o=Promise.resolve(r(i));t!=null&&(o=(0,Qi.callWithTimeout)(o,t)),await o,n.forEach(s=>{let a=i._buffer.get(s);a!=null&&s._metricStorages.forEach(u=>{u.record(a)})})})}_findCallback(t,r){return this._callbacks.findIndex(n=>n.callback===t&&n.instrument===r)}_findBatchCallback(t,r){return this._batchCallbacks.findIndex(n=>n.callback===t&&(0,Qi.setEquals)(n.instruments,r))}};qa.ObservableRegistry=Av});var Tv=p(Ga=>{"use strict";Object.defineProperty(Ga,"__esModule",{value:!0});Ga.SyncMetricStorage=void 0;var Gx=gp(),Hx=yp(),$x=vp(),Sv=class extends Gx.MetricStorage{constructor(t,r,n){super(t);this._attributesProcessor=n,this._deltaMetricStorage=new Hx.DeltaMetricProcessor(r),this._temporalMetricStorage=new $x.TemporalMetricProcessor(r)}record(t,r,n){r=this._attributesProcessor.process(r,n),this._deltaMetricStorage.record(t,r,n)}collect(t,r,n,i){let o=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(t,r,this._instrumentDescriptor,o,n,i)}};Ga.SyncMetricStorage=Sv});var Cv=p($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.MeterSharedState=void 0;var Rv=Br(),Vx=ap(),Ha=Ut(),Yx=iv(),Wx=pv(),Kx=fv(),Xx=bv(),zx=Tv(),Ov=class{constructor(t,r){this._meterProviderSharedState=t,this._instrumentationScope=r,this._metricStorageRegistry=new Wx.MetricStorageRegistry,this.observableRegistry=new Xx.ObservableRegistry,this.meter=new Vx.Meter(this)}registerMetricStorage(t){let n=this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Rv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new zx.SyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Ha.isNotNullish);return n.length===1?n[0]:new Kx.MultiMetricStorage(n)}registerAsyncMetricStorage(t){return this._meterProviderSharedState.viewRegistry.findViews(t,this._instrumentationScope).map(i=>{let o=(0,Rv.createInstrumentDescriptorWithView)(i,t),s=i.aggregation.createAggregator(o),a=new Yx.AsyncMetricStorage(o,s,i.attributesProcessor);return this._metricStorageRegistry.register(a)}).filter(Ha.isNotNullish)}async collect(t,r,n){let i=await this.observableRegistry.observe(n==null?void 0:n.timeoutMillis),o=Array.from(this._metricStorageRegistry.getStorages()).map(s=>s.collect(t,this._meterProviderSharedState.metricCollectors,this._meterProviderSharedState.sdkStartTime,r)).filter(Ha.isNotNullish);return{scopeMetrics:{scope:this._instrumentationScope,metrics:o.filter(Ha.isNotNullish)},errors:i}}};$a.MeterSharedState=Ov});var Iv=p(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.MeterProviderSharedState=void 0;var Qx=J(),Zx=Ut(),Jx=Zy(),eL=Cv(),Pv=class{constructor(t){this.resource=t,this.viewRegistry=new Jx.ViewRegistry,this.sdkStartTime=(0,Qx.hrTime)(),this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(t){let r=(0,Zx.instrumentationScopeId)(t),n=this.meterSharedStates.get(r);return n==null&&(n=new eL.MeterSharedState(this,t),this.meterSharedStates.set(r,n)),n}};Va.MeterProviderSharedState=Pv});var Nv=p(Ya=>{"use strict";Object.defineProperty(Ya,"__esModule",{value:!0});Ya.MetricCollector=void 0;var tL=J(),rL=Ut(),wv=class{constructor(t,r){this._sharedState=t,this._metricReader=r}async collect(t){let r=(0,tL.hrTime)(),n=Array.from(this._sharedState.meterSharedStates.values()).map(o=>o.collect(this,r,t)),i=await Promise.all(n);return{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:i.map(o=>o.scopeMetrics)},errors:(0,rL.FlatMap)(i,o=>o.errors)}}async forceFlush(t){await this._metricReader.forceFlush(t)}async shutdown(t){await this._metricReader.shutdown(t)}selectAggregationTemporality(t){return this._metricReader.selectAggregationTemporality(t)}};Ya.MetricCollector=wv});var Lv=p(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.MeterProvider=void 0;var bp=B(),nL=Tn(),iL=Oi(),oL=Iv(),sL=up(),aL=lp(),uL=_p(),cL=Nv(),lL=hp(),pL=Ra();function dL(e){return e.name==null&&e.aggregation==null&&e.attributeKeys==null&&e.description==null}var xv=class{constructor(t){var r;this._shutdown=!1,this._sharedState=new oL.MeterProviderSharedState((r=t==null?void 0:t.resource)!==null&&r!==void 0?r:iL.Resource.empty())}getMeter(t,r="",n={}){return this._shutdown?(bp.diag.warn("A shutdown MeterProvider cannot provide a Meter"),nL.NOOP_METER):this._sharedState.getMeterSharedState({name:t,version:r,schemaUrl:n.schemaUrl}).meter}addMetricReader(t){let r=new cL.MetricCollector(this._sharedState,t);t.setMetricProducer(r),this._sharedState.metricCollectors.push(r)}addView(t,r){var n;if(dL(t))throw new Error("Cannot create view with no view arguments supplied");if(t.name!=null&&(((n=r==null?void 0:r.instrument)===null||n===void 0?void 0:n.name)==null||pL.PatternPredicate.hasWildcard(r.instrument.name)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");let i;t.attributeKeys!=null&&(i=new lL.FilteringAttributesProcessor(t.attributeKeys));let o=new uL.View({name:t.name,description:t.description,aggregation:t.aggregation,attributesProcessor:i}),s=new sL.InstrumentSelector(r==null?void 0:r.instrument),a=new aL.MeterSelector(r==null?void 0:r.meter);this._sharedState.viewRegistry.addView(o,s,a)}async shutdown(t){if(this._shutdown){bp.diag.warn("shutdown may only be called once per MeterProvider");return}this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(r=>r.shutdown(t)))}async forceFlush(t){if(this._shutdown){bp.diag.warn("invalid attempt to force flush after MeterProvider shutdown");return}await Promise.all(this._sharedState.metricCollectors.map(r=>r.forceFlush(t)))}};Wa.MeterProvider=xv});var Mv=p(_e=>{"use strict";var fL=_e&&_e.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bt=_e&&_e.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fL(t,e,r)};Object.defineProperty(_e,"__esModule",{value:!0});_e.TimeoutError=_e.InstrumentType=void 0;bt(ma(),_e);bt(ji(),_e);bt(_y(),_e);bt(my(),_e);bt(sp(),_e);bt(Ry(),_e);var hL=Br();Object.defineProperty(_e,"InstrumentType",{enumerable:!0,get:function(){return hL.InstrumentType}});bt(ap(),_e);bt(Lv(),_e);bt(Ap(),_e);var _L=Ut();Object.defineProperty(_e,"TimeoutError",{enumerable:!0,get:function(){return _L.TimeoutError}});bt(dp(),_e)});var jv=p(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.toMetric=sr.toScopeMetrics=sr.toResourceMetrics=void 0;var Dv=Tn(),Ka=J(),St=Mv(),Sp=da();function gL(e){return{resource:{attributes:(0,Sp.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:Bv(e.scopeMetrics)}}sr.toResourceMetrics=gL;function Bv(e){return Array.from(e.map(t=>({scope:{name:t.scope.name,version:t.scope.version},metrics:t.metrics.map(n=>Uv(n)),schemaUrl:t.scope.schemaUrl})))}sr.toScopeMetrics=Bv;function Uv(e){let t={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},r=bL(e.aggregationTemporality);if(e.dataPointType===St.DataPointType.SINGULAR){let n=EL(e),i=e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER;vL(e)?t.sum={aggregationTemporality:r,isMonotonic:i,dataPoints:n}:t.gauge={dataPoints:n}}else AL(e)&&(t.histogram={aggregationTemporality:r,dataPoints:yL(e)});return t}sr.toMetric=Uv;function mL(e,t){let r={attributes:(0,Sp.toAttributes)(e.attributes),startTimeUnixNano:(0,Ka.hrTimeToNanoseconds)(e.startTime),timeUnixNano:(0,Ka.hrTimeToNanoseconds)(e.endTime)};return t===Dv.ValueType.INT?r.asInt=e.value:t===Dv.ValueType.DOUBLE&&(r.asDouble=e.value),r}function EL(e){return e.dataPoints.map(t=>mL(t,e.descriptor.valueType))}function yL(e){return e.dataPoints.map(t=>{let r=t.value;return{attributes:(0,Sp.toAttributes)(t.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,startTimeUnixNano:(0,Ka.hrTimeToNanoseconds)(t.startTime),timeUnixNano:(0,Ka.hrTimeToNanoseconds)(t.endTime)}})}function vL(e){return e.descriptor.type===St.InstrumentType.COUNTER||e.descriptor.type===St.InstrumentType.UP_DOWN_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_COUNTER||e.descriptor.type===St.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER}function AL(e){return e.dataPointType===St.DataPointType.HISTOGRAM}function bL(e){return e===St.AggregationTemporality.DELTA?1:e===St.AggregationTemporality.CUMULATIVE?2:0}});var kv=p(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.createExportMetricsServiceRequest=void 0;var SL=jv();function TL(e){return{resourceMetrics:e.map(t=>(0,SL.toResourceMetrics)(t))}}Xa.createExportMetricsServiceRequest=TL});var Fv=p(Fe=>{"use strict";var RL=Fe&&Fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),za=Fe&&Fe.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RL(t,e,r)};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.createExportMetricsServiceRequest=Fe.createExportTraceServiceRequest=void 0;za(VE(),Fe);za(WE(),Fe);za(XE(),Fe);za(zE(),Fe);var OL=ey();Object.defineProperty(Fe,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return OL.createExportTraceServiceRequest}});var CL=kv();Object.defineProperty(Fe,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return CL.createExportMetricsServiceRequest}})});var Hv=p(Qa=>{"use strict";Object.defineProperty(Qa,"__esModule",{value:!0});Qa.OTLPTraceExporter=void 0;var jn=J(),PL=Vl(),qv=Vl(),IL=Fv(),Tp="v1/traces",wL=`http://localhost:4318/${Tp}`,Gv=class extends PL.OTLPExporterNodeBase{constructor(t={}){super(t);this.headers=Object.assign(this.headers,jn.baggageUtils.parseKeyPairsIntoRecord((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_HEADERS))}convert(t){return(0,IL.createExportTraceServiceRequest)(t,!0)}getDefaultUrl(t){return typeof t.url=="string"?t.url:(0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT.length>0?(0,qv.appendRootPathToUrlIfNeeded)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_TRACES_ENDPOINT,Tp):(0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT.length>0?(0,qv.appendResourcePathToUrl)((0,jn.getEnv)().OTEL_EXPORTER_OTLP_ENDPOINT,Tp):wL}};Qa.OTLPTraceExporter=Gv});var $v=p(Ur=>{"use strict";var NL=Ur&&Ur.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xL=Ur&&Ur.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NL(t,e,r)};Object.defineProperty(Ur,"__esModule",{value:!0});xL(Hv(),Ur)});var Vv=p(jr=>{"use strict";var LL=jr&&jr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ML=jr&&jr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&LL(t,e,r)};Object.defineProperty(jr,"__esModule",{value:!0});ML($v(),jr)});var Yv=p(kr=>{"use strict";var DL=kr&&kr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),BL=kr&&kr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&DL(t,e,r)};Object.defineProperty(kr,"__esModule",{value:!0});BL(Vv(),kr)});var Za=p(rt=>{"use strict";rt.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;rt.find=(e,t)=>e.nodes.find(r=>r.type===t);rt.exceedsLimit=(e,t,r=1,n)=>n===!1||!rt.isInteger(e)||!rt.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;rt.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};rt.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0==0?(e.invalid=!0,!0):!1;rt.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0==0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;rt.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;rt.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);rt.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var Ja=p((J2,sA)=>{"use strict";var oA=Za();sA.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&oA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||s)&&oA.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(e)}});var uA=p((ek,aA)=>{"use strict";aA.exports=function(e){return typeof e=="number"?e-e==0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var mA=p((tk,gA)=>{"use strict";var cA=uA(),qr=(e,t,r)=>{if(cA(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(cA(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=q({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),u=e+":"+t+"="+i+o+s+a;if(qr.cache.hasOwnProperty(u))return qr.cache[u].result;let c=Math.min(e,t),l=Math.max(e,t);if(Math.abs(c-l)===1){let g=e+"|"+t;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let d=_A(e)||_A(t),f={min:e,max:t,a:c,b:l},h=[],_=[];if(d&&(f.isPadded=d,f.maxLen=String(f.max).length),c<0){let g=l<0?Math.abs(l):1;_=lA(g,Math.abs(c),f,n),c=f.a=0}return l>=0&&(h=lA(c,l,f,n)),f.negatives=_,f.positives=h,f.result=jL(_,h,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&h.length+_.length>1&&(f.result=`(?:${f.result})`),qr.cache[u]=f,f.result};function jL(e,t,r){let n=Op(e,t,"-",!1,r)||[],i=Op(t,e,"",!1,r)||[],o=Op(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function kL(e,t){let r=1,n=1,i=dA(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=dA(e,r);for(i=fA(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=fA(t+1,n)-1;return o=[...o],o.sort(GL),o}function FL(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=qL(e,t),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?o+=u:u!=="0"||c!=="9"?o+=HL(u,c,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function lA(e,t,r,n){let i=kL(e,t),o=[],s=e,a;for(let u=0;u<i.length;u++){let c=i[u],l=FL(String(s),String(c),n),d="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+hA(a.count),s=c+1;continue}r.isPadded&&(d=$L(c,r,n)),l.string=d+l.pattern+hA(l.count),o.push(l),s=c+1,a=l}return o}function Op(e,t,r,n,i){let o=[];for(let s of e){let{string:a}=s;!n&&!pA(t,"string",a)&&o.push(r+a),n&&pA(t,"string",a)&&o.push(r+a)}return o}function qL(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function GL(e,t){return e>t?1:t>e?-1:0}function pA(e,t,r){return e.some(n=>n[t]===r)}function dA(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function fA(e,t){return e-e%Math.pow(10,t)}function hA(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function HL(e,t,r){return`[${e}${t-e==1?"":"-"}${t}]`}function _A(e){return/^-?(0+)\d/.test(e)}function $L(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}qr.cache={};qr.clearCache=()=>qr.cache={};gA.exports=qr});var Ip=p((rk,RA)=>{"use strict";var VL=I("util"),EA=mA(),yA=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),YL=e=>t=>e===!0?Number(t):String(t),Cp=e=>typeof e=="number"||typeof e=="string"&&e!=="",Ji=e=>Number.isInteger(+e),Pp=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},WL=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,KL=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},vA=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},XL=(e,t)=>{e.negatives.sort((s,a)=>s<a?-1:s>a?1:0),e.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},AA=(e,t,r,n)=>{if(r)return EA(e,t,q({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},bA=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return EA(e,t,r)},SA=(...e)=>new RangeError("Invalid range arguments: "+VL.inspect(...e)),TA=(e,t,r)=>{if(r.strictRanges===!0)throw SA([e,t]);return[]},zL=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},QL=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw SA([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(e),u=String(t),c=String(r);r=Math.max(Math.abs(r),1);let l=Pp(a)||Pp(u)||Pp(c),d=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&WL(e,t,n)===!1,h=n.transform||YL(f);if(n.toRegex&&r===1)return AA(vA(e,d),vA(t,d),!0,n);let _={negatives:[],positives:[]},g=y=>_[y<0?"negatives":"positives"].push(Math.abs(y)),v=[],b=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?g(i):v.push(KL(h(i,b),d,f)),i=s?i-r:i+r,b++;return n.toRegex===!0?r>1?XL(_,n):bA(v,null,q({wrap:!1},n)):v},ZL=(e,t,r=1,n={})=>{if(!Ji(e)&&e.length>1||!Ji(t)&&t.length>1)return TA(e,t,n);let i=n.transform||(f=>String.fromCharCode(f)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=o>s,u=Math.min(o,s),c=Math.max(o,s);if(n.toRegex&&r===1)return AA(u,c,!1,n);let l=[],d=0;for(;a?o>=s:o<=s;)l.push(i(o,d)),o=a?o-r:o+r,d++;return n.toRegex===!0?bA(l,null,{wrap:!1,options:n}):l},eu=(e,t,r,n={})=>{if(t==null&&Cp(e))return[e];if(!Cp(e)||!Cp(t))return TA(e,t,n);if(typeof r=="function")return eu(e,t,1,{transform:r});if(yA(r))return eu(e,t,0,r);let i=q({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Ji(r)?Ji(e)&&Ji(t)?QL(e,t,r,i):ZL(e,t,Math.max(Math.abs(r),1),i):r!=null&&!yA(r)?zL(r,i):eu(e,t,1,r)};RA.exports=eu});var PA=p((nk,CA)=>{"use strict";var JL=Ip(),OA=Za(),eM=(e,t={})=>{let r=(n,i={})=>{let o=OA.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||s===!0,u=t.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=OA.reduce(n.nodes),d=JL(...l,ce(q({},t),{wrap:!1,toRegex:!0}));if(d.length!==0)return l.length>1&&d.length>1?`(${d})`:d}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(e)};CA.exports=eM});var NA=p((ik,wA)=>{"use strict";var tM=Ip(),IA=Ja(),kn=Za(),Gr=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?kn.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push(Gr(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Gr(i,o,r):i+o);return kn.flatten(n)},rM=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Gr(a.pop(),IA(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Gr(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let d=kn.reduce(i.nodes);if(kn.exceedsLimit(...d,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=tM(...d,t);f.length===0&&(f=IA(i,t)),a.push(Gr(a.pop(),f)),i.nodes=[];return}let u=kn.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let d=0;d<i.nodes.length;d++){let f=i.nodes[d];if(f.type==="comma"&&i.type==="brace"){d===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(Gr(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(Gr(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return kn.flatten(n(e))};wA.exports=rM});var LA=p((ok,xA)=>{"use strict";xA.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var jA=p((sk,UA)=>{"use strict";var nM=Ja(),{MAX_LENGTH:MA,CHAR_BACKSLASH:wp,CHAR_BACKTICK:iM,CHAR_COMMA:oM,CHAR_DOT:sM,CHAR_LEFT_PARENTHESES:aM,CHAR_RIGHT_PARENTHESES:uM,CHAR_LEFT_CURLY_BRACE:cM,CHAR_RIGHT_CURLY_BRACE:lM,CHAR_LEFT_SQUARE_BRACKET:DA,CHAR_RIGHT_SQUARE_BRACKET:BA,CHAR_DOUBLE_QUOTE:pM,CHAR_SINGLE_QUOTE:dM,CHAR_NO_BREAK_SPACE:fM,CHAR_ZERO_WIDTH_NOBREAK_SPACE:hM}=LA(),_M=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(MA,r.maxLength):MA;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,a=i,u=0,c=e.length,l=0,d=0,f,h={},_=()=>e[l++],g=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return s.nodes.push(v),v.parent=s,v.prev=a,a=v,v};for(g({type:"bos"});l<c;)if(s=o[o.length-1],f=_(),!(f===hM||f===fM)){if(f===wp){g({type:"text",value:(t.keepEscaping?f:"")+_()});continue}if(f===BA){g({type:"text",value:"\\"+f});continue}if(f===DA){u++;let v=!0,b;for(;l<c&&(b=_());){if(f+=b,b===DA){u++;continue}if(b===wp){f+=_();continue}if(b===BA&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===aM){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:f});continue}if(f===uM){if(s.type!=="paren"){g({type:"text",value:f});continue}s=o.pop(),g({type:"text",value:f}),s=o[o.length-1];continue}if(f===pM||f===dM||f===iM){let v=f,b;for(t.keepQuotes!==!0&&(f="");l<c&&(b=_());){if(b===wp){f+=b+_();continue}if(b===v){t.keepQuotes===!0&&(f+=b);break}f+=b}g({type:"text",value:f});continue}if(f===cM){d++;let v=a.value&&a.value.slice(-1)==="$"||s.dollar===!0;s=g({type:"brace",open:!0,close:!1,dollar:v,depth:d,commas:0,ranges:0,nodes:[]}),o.push(s),g({type:"open",value:f});continue}if(f===lM){if(s.type!=="brace"){g({type:"text",value:f});continue}let v="close";s=o.pop(),s.close=!0,g({type:v,value:f}),d--,s=o[o.length-1];continue}if(f===oM&&d>0){if(s.ranges>0){s.ranges=0;let v=s.nodes.shift();s.nodes=[v,{type:"text",value:nM(s)}]}g({type:"comma",value:f}),s.commas++;continue}if(f===sM&&d>0&&s.commas===0){let v=s.nodes;if(d===0||v.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(s.range=[],a.value+=f,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){v.pop();let b=v[v.length-1];b.value+=a.value+f,a=b,s.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(y=>{y.nodes||(y.type==="open"&&(y.isOpen=!0),y.type==="close"&&(y.isClose=!0),y.nodes||(y.type="text"),y.invalid=!0)});let v=o[o.length-1],b=v.nodes.indexOf(s);v.nodes.splice(b,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};UA.exports=_M});var qA=p((ak,FA)=>{"use strict";var kA=Ja(),gM=PA(),mM=NA(),EM=jA(),Ve=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=Ve.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ve.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Ve.parse=(e,t={})=>EM(e,t);Ve.stringify=(e,t={})=>typeof e=="string"?kA(Ve.parse(e,t),t):kA(e,t);Ve.compile=(e,t={})=>(typeof e=="string"&&(e=Ve.parse(e,t)),gM(e,t));Ve.expand=(e,t={})=>{typeof e=="string"&&(e=Ve.parse(e,t));let r=mM(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Ve.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Ve.compile(e,t):Ve.expand(e,t);FA.exports=Ve});var eo=p((uk,YA)=>{"use strict";var yM=I("path"),Ot="\\\\/",GA=`[^${Ot}]`,Ft="\\.",vM="\\+",AM="\\?",tu="\\/",bM="(?=.)",HA="[^/]",Np=`(?:${tu}|$)`,$A=`(?:^|${tu})`,xp=`${Ft}{1,2}${Np}`,SM=`(?!${Ft})`,TM=`(?!${$A}${xp})`,RM=`(?!${Ft}{0,1}${Np})`,OM=`(?!${xp})`,CM=`[^.${tu}]`,PM=`${HA}*?`,VA={DOT_LITERAL:Ft,PLUS_LITERAL:vM,QMARK_LITERAL:AM,SLASH_LITERAL:tu,ONE_CHAR:bM,QMARK:HA,END_ANCHOR:Np,DOTS_SLASH:xp,NO_DOT:SM,NO_DOTS:TM,NO_DOT_SLASH:RM,NO_DOTS_SLASH:OM,QMARK_NO_DOT:CM,STAR:PM,START_ANCHOR:$A},IM=ce(q({},VA),{SLASH_LITERAL:`[${Ot}]`,QMARK:GA,STAR:`${GA}*?`,DOTS_SLASH:`${Ft}{1,2}(?:[${Ot}]|$)`,NO_DOT:`(?!${Ft})`,NO_DOTS:`(?!(?:^|[${Ot}])${Ft}{1,2}(?:[${Ot}]|$))`,NO_DOT_SLASH:`(?!${Ft}{0,1}(?:[${Ot}]|$))`,NO_DOTS_SLASH:`(?!${Ft}{1,2}(?:[${Ot}]|$))`,QMARK_NO_DOT:`[^.${Ot}]`,START_ANCHOR:`(?:^|[${Ot}])`,END_ANCHOR:`(?:[${Ot}]|$)`}),wM={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};YA.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:wM,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:yM.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?IM:VA}}});var to=p(qe=>{"use strict";var NM=I("path"),xM=process.platform==="win32",{REGEX_BACKSLASH:LM,REGEX_REMOVE_BACKSLASH:MM,REGEX_SPECIAL_CHARS:DM,REGEX_SPECIAL_CHARS_GLOBAL:BM}=eo();qe.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);qe.hasRegexChars=e=>DM.test(e);qe.isRegexChar=e=>e.length===1&&qe.hasRegexChars(e);qe.escapeRegex=e=>e.replace(BM,"\\$1");qe.toPosixSlashes=e=>e.replace(LM,"/");qe.removeBackslashes=e=>e.replace(MM,t=>t==="\\"?"":t);qe.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};qe.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:xM===!0||NM.sep==="\\";qe.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?qe.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};qe.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};qe.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var e0=p((lk,JA)=>{"use strict";var WA=to(),{CHAR_ASTERISK:Lp,CHAR_AT:UM,CHAR_BACKWARD_SLASH:ro,CHAR_COMMA:jM,CHAR_DOT:Mp,CHAR_EXCLAMATION_MARK:Dp,CHAR_FORWARD_SLASH:KA,CHAR_LEFT_CURLY_BRACE:Bp,CHAR_LEFT_PARENTHESES:Up,CHAR_LEFT_SQUARE_BRACKET:kM,CHAR_PLUS:FM,CHAR_QUESTION_MARK:XA,CHAR_RIGHT_CURLY_BRACE:qM,CHAR_RIGHT_PARENTHESES:zA,CHAR_RIGHT_SQUARE_BRACKET:GM}=eo(),QA=e=>e===KA||e===ro,ZA=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?Infinity:1)},HM=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],u=e,c=-1,l=0,d=0,f=!1,h=!1,_=!1,g=!1,v=!1,b=!1,y=!1,C=!1,D=!1,k=!1,ie=0,F,O,T={value:"",depth:0,isGlob:!1},V=()=>c>=n,A=()=>u.charCodeAt(c+1),L=()=>(F=O,u.charCodeAt(++c));for(;c<n;){O=L();let ae;if(O===ro){y=T.backslashes=!0,O=L(),O===Bp&&(b=!0);continue}if(b===!0||O===Bp){for(ie++;V()!==!0&&(O=L());){if(O===ro){y=T.backslashes=!0,L();continue}if(O===Bp){ie++;continue}if(b!==!0&&O===Mp&&(O=L())===Mp){if(f=T.isBrace=!0,_=T.isGlob=!0,k=!0,i===!0)continue;break}if(b!==!0&&O===jM){if(f=T.isBrace=!0,_=T.isGlob=!0,k=!0,i===!0)continue;break}if(O===qM&&(ie--,ie===0)){b=!1,f=T.isBrace=!0,k=!0;break}}if(i===!0)continue;break}if(O===KA){if(o.push(c),s.push(T),T={value:"",depth:0,isGlob:!1},k===!0)continue;if(F===Mp&&c===l+1){l+=2;continue}d=c+1;continue}if(r.noext!==!0&&(O===FM||O===UM||O===Lp||O===XA||O===Dp)===!0&&A()===Up){if(_=T.isGlob=!0,g=T.isExtglob=!0,k=!0,O===Dp&&c===l&&(D=!0),i===!0){for(;V()!==!0&&(O=L());){if(O===ro){y=T.backslashes=!0,O=L();continue}if(O===zA){_=T.isGlob=!0,k=!0;break}}continue}break}if(O===Lp){if(F===Lp&&(v=T.isGlobstar=!0),_=T.isGlob=!0,k=!0,i===!0)continue;break}if(O===XA){if(_=T.isGlob=!0,k=!0,i===!0)continue;break}if(O===kM){for(;V()!==!0&&(ae=L());){if(ae===ro){y=T.backslashes=!0,L();continue}if(ae===GM){h=T.isBracket=!0,_=T.isGlob=!0,k=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&O===Dp&&c===l){C=T.negated=!0,l++;continue}if(r.noparen!==!0&&O===Up){if(_=T.isGlob=!0,i===!0){for(;V()!==!0&&(O=L());){if(O===Up){y=T.backslashes=!0,O=L();continue}if(O===zA){k=!0;break}}continue}break}if(_===!0){if(k=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,_=!1);let N=u,se="",m="";l>0&&(se=u.slice(0,l),u=u.slice(l),d-=l),N&&_===!0&&d>0?(N=u.slice(0,d),m=u.slice(d)):_===!0?(N="",m=u):N=u,N&&N!==""&&N!=="/"&&N!==u&&QA(N.charCodeAt(N.length-1))&&(N=N.slice(0,-1)),r.unescape===!0&&(m&&(m=WA.removeBackslashes(m)),N&&y===!0&&(N=WA.removeBackslashes(N)));let E={prefix:se,input:e,start:l,base:N,glob:m,isBrace:f,isBracket:h,isGlob:_,isExtglob:g,isGlobstar:v,negated:C,negatedExtglob:D};if(r.tokens===!0&&(E.maxDepth=0,QA(O)||s.push(T),E.tokens=s),r.parts===!0||r.tokens===!0){let ae;for(let Y=0;Y<o.length;Y++){let Be=ae?ae+1:l,Ge=o[Y],be=e.slice(Be,Ge);r.tokens&&(Y===0&&l!==0?(s[Y].isPrefix=!0,s[Y].value=se):s[Y].value=be,ZA(s[Y]),E.maxDepth+=s[Y].depth),(Y!==0||be!=="")&&a.push(be),ae=Ge}if(ae&&ae+1<e.length){let Y=e.slice(ae+1);a.push(Y),r.tokens&&(s[s.length-1].value=Y,ZA(s[s.length-1]),E.maxDepth+=s[s.length-1].depth)}E.slashes=o,E.parts=a}return E};JA.exports=HM});var i0=p((pk,n0)=>{"use strict";var ru=eo(),Ye=to(),{MAX_LENGTH:nu,POSIX_REGEX_SOURCE:$M,REGEX_NON_SPECIAL_CHARS:VM,REGEX_SPECIAL_CHARS_BACKREF:YM,REPLACEMENTS:t0}=ru,WM=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(n){return e.map(i=>Ye.escapeRegex(i)).join("..")}return r},Fn=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,r0=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=t0[e]||e;let r=q({},t),n=typeof r.maxLength=="number"?Math.min(nu,r.maxLength):nu,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=Ye.isWindows(t),c=ru.globChars(u),l=ru.extglobChars(c),{DOT_LITERAL:d,PLUS_LITERAL:f,SLASH_LITERAL:h,ONE_CHAR:_,DOTS_SLASH:g,NO_DOT:v,NO_DOT_SLASH:b,NO_DOTS_SLASH:y,QMARK:C,QMARK_NO_DOT:D,STAR:k,START_ANCHOR:ie}=c,F=R=>`(${a}(?:(?!${ie}${R.dot?g:d}).)*?)`,O=r.dot?"":v,T=r.dot?C:D,V=r.bash===!0?F(r):k;r.capture&&(V=`(${V})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let A={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=Ye.removePrefix(e,A),i=e.length;let L=[],N=[],se=[],m=o,E,ae=()=>A.index===i-1,Y=A.peek=(R=1)=>e[A.index+R],Be=A.advance=()=>e[++A.index]||"",Ge=()=>e.slice(A.index+1),be=(R="",ee=0)=>{A.consumed+=R,A.index+=ee},qt=R=>{A.output+=R.output!=null?R.output:R.value,be(R.value)},Hb=()=>{let R=1;for(;Y()==="!"&&(Y(2)!=="("||Y(3)==="?");)Be(),A.start++,R++;return R%2==0?!1:(A.negated=!0,A.start++,!0)},_o=R=>{A[R]++,se.push(R)},ar=R=>{A[R]--,se.pop()},$=R=>{if(m.type==="globstar"){let ee=A.braces>0&&(R.type==="comma"||R.type==="brace"),S=R.extglob===!0||L.length&&(R.type==="pipe"||R.type==="paren");R.type!=="slash"&&R.type!=="paren"&&!ee&&!S&&(A.output=A.output.slice(0,-m.output.length),m.type="star",m.value="*",m.output=V,A.output+=m.output)}if(L.length&&R.type!=="paren"&&(L[L.length-1].inner+=R.value),(R.value||R.output)&&qt(R),m&&m.type==="text"&&R.type==="text"){m.value+=R.value,m.output=(m.output||"")+R.value;return}R.prev=m,s.push(R),m=R},go=(R,ee)=>{let S=ce(q({},l[ee]),{conditions:1,inner:""});S.prev=m,S.parens=A.parens,S.output=A.output;let H=(r.capture?"(":"")+S.open;_o("parens"),$({type:R,value:ee,output:A.output?"":_}),$({type:"paren",extglob:!0,value:Be(),output:H}),L.push(S)},$b=R=>{let ee=R.close+(r.capture?")":""),S;if(R.type==="negate"){let H=V;R.inner&&R.inner.length>1&&R.inner.includes("/")&&(H=F(r)),(H!==V||ae()||/^\)+$/.test(Ge()))&&(ee=R.close=`)$))${H}`),R.inner.includes("*")&&(S=Ge())&&/^\.[^\\/.]+$/.test(S)&&(ee=R.close=`)${S})${H})`),R.prev.type==="bos"&&(A.negatedExtglob=!0)}$({type:"paren",extglob:!0,value:E,output:ee}),ar("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let R=!1,ee=e.replace(YM,(S,H,ue,we,ge,yu)=>we==="\\"?(R=!0,S):we==="?"?H?H+we+(ge?C.repeat(ge.length):""):yu===0?T+(ge?C.repeat(ge.length):""):C.repeat(ue.length):we==="."?d.repeat(ue.length):we==="*"?H?H+we+(ge?V:""):V:H?S:`\\${S}`);return R===!0&&(r.unescape===!0?ee=ee.replace(/\\/g,""):ee=ee.replace(/\\+/g,S=>S.length%2==0?"\\\\":S?"\\":"")),ee===e&&r.contains===!0?(A.output=e,A):(A.output=Ye.wrapOutput(ee,A,t),A)}for(;!ae();){if(E=Be(),E==="\0")continue;if(E==="\\"){let S=Y();if(S==="/"&&r.bash!==!0||S==="."||S===";")continue;if(!S){E+="\\",$({type:"text",value:E});continue}let H=/^\\+/.exec(Ge()),ue=0;if(H&&H[0].length>2&&(ue=H[0].length,A.index+=ue,ue%2!=0&&(E+="\\")),r.unescape===!0?E=Be():E+=Be(),A.brackets===0){$({type:"text",value:E});continue}}if(A.brackets>0&&(E!=="]"||m.value==="["||m.value==="[^")){if(r.posix!==!1&&E===":"){let S=m.value.slice(1);if(S.includes("[")&&(m.posix=!0,S.includes(":"))){let H=m.value.lastIndexOf("["),ue=m.value.slice(0,H),we=m.value.slice(H+2),ge=$M[we];if(ge){m.value=ue+ge,A.backtrack=!0,Be(),!o.output&&s.indexOf(m)===1&&(o.output=_);continue}}}(E==="["&&Y()!==":"||E==="-"&&Y()==="]")&&(E=`\\${E}`),E==="]"&&(m.value==="["||m.value==="[^")&&(E=`\\${E}`),r.posix===!0&&E==="!"&&m.value==="["&&(E="^"),m.value+=E,qt({value:E});continue}if(A.quotes===1&&E!=='"'){E=Ye.escapeRegex(E),m.value+=E,qt({value:E});continue}if(E==='"'){A.quotes=A.quotes===1?0:1,r.keepQuotes===!0&&$({type:"text",value:E});continue}if(E==="("){_o("parens"),$({type:"paren",value:E});continue}if(E===")"){if(A.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Fn("opening","("));let S=L[L.length-1];if(S&&A.parens===S.parens+1){$b(L.pop());continue}$({type:"paren",value:E,output:A.parens?")":"\\)"}),ar("parens");continue}if(E==="["){if(r.nobracket===!0||!Ge().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Fn("closing","]"));E=`\\${E}`}else _o("brackets");$({type:"bracket",value:E});continue}if(E==="]"){if(r.nobracket===!0||m&&m.type==="bracket"&&m.value.length===1){$({type:"text",value:E,output:`\\${E}`});continue}if(A.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Fn("opening","["));$({type:"text",value:E,output:`\\${E}`});continue}ar("brackets");let S=m.value.slice(1);if(m.posix!==!0&&S[0]==="^"&&!S.includes("/")&&(E=`/${E}`),m.value+=E,qt({value:E}),r.literalBrackets===!1||Ye.hasRegexChars(S))continue;let H=Ye.escapeRegex(m.value);if(A.output=A.output.slice(0,-m.value.length),r.literalBrackets===!0){A.output+=H,m.value=H;continue}m.value=`(${a}${H}|${m.value})`,A.output+=m.value;continue}if(E==="{"&&r.nobrace!==!0){_o("braces");let S={type:"brace",value:E,output:"(",outputIndex:A.output.length,tokensIndex:A.tokens.length};N.push(S),$(S);continue}if(E==="}"){let S=N[N.length-1];if(r.nobrace===!0||!S){$({type:"text",value:E,output:E});continue}let H=")";if(S.dots===!0){let ue=s.slice(),we=[];for(let ge=ue.length-1;ge>=0&&(s.pop(),ue[ge].type!=="brace");ge--)ue[ge].type!=="dots"&&we.unshift(ue[ge].value);H=WM(we,r),A.backtrack=!0}if(S.comma!==!0&&S.dots!==!0){let ue=A.output.slice(0,S.outputIndex),we=A.tokens.slice(S.tokensIndex);S.value=S.output="\\{",E=H="\\}",A.output=ue;for(let ge of we)A.output+=ge.output||ge.value}$({type:"brace",value:E,output:H}),ar("braces"),N.pop();continue}if(E==="|"){L.length>0&&L[L.length-1].conditions++,$({type:"text",value:E});continue}if(E===","){let S=E,H=N[N.length-1];H&&se[se.length-1]==="braces"&&(H.comma=!0,S="|"),$({type:"comma",value:E,output:S});continue}if(E==="/"){if(m.type==="dot"&&A.index===A.start+1){A.start=A.index+1,A.consumed="",A.output="",s.pop(),m=o;continue}$({type:"slash",value:E,output:h});continue}if(E==="."){if(A.braces>0&&m.type==="dot"){m.value==="."&&(m.output=d);let S=N[N.length-1];m.type="dots",m.output+=E,m.value+=E,S.dots=!0;continue}if(A.braces+A.parens===0&&m.type!=="bos"&&m.type!=="slash"){$({type:"text",value:E,output:d});continue}$({type:"dot",value:E,output:d});continue}if(E==="?"){if(!(m&&m.value==="(")&&r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){go("qmark",E);continue}if(m&&m.type==="paren"){let H=Y(),ue=E;if(H==="<"&&!Ye.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(m.value==="("&&!/[!=<:]/.test(H)||H==="<"&&!/<([!=]|\w+>)/.test(Ge()))&&(ue=`\\${E}`),$({type:"text",value:E,output:ue});continue}if(r.dot!==!0&&(m.type==="slash"||m.type==="bos")){$({type:"qmark",value:E,output:D});continue}$({type:"qmark",value:E,output:C});continue}if(E==="!"){if(r.noextglob!==!0&&Y()==="("&&(Y(2)!=="?"||!/[!=<:]/.test(Y(3)))){go("negate",E);continue}if(r.nonegate!==!0&&A.index===0){Hb();continue}}if(E==="+"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){go("plus",E);continue}if(m&&m.value==="("||r.regex===!1){$({type:"plus",value:E,output:f});continue}if(m&&(m.type==="bracket"||m.type==="paren"||m.type==="brace")||A.parens>0){$({type:"plus",value:E});continue}$({type:"plus",value:f});continue}if(E==="@"){if(r.noextglob!==!0&&Y()==="("&&Y(2)!=="?"){$({type:"at",extglob:!0,value:E,output:""});continue}$({type:"text",value:E});continue}if(E!=="*"){(E==="$"||E==="^")&&(E=`\\${E}`);let S=VM.exec(Ge());S&&(E+=S[0],A.index+=S[0].length),$({type:"text",value:E});continue}if(m&&(m.type==="globstar"||m.star===!0)){m.type="star",m.star=!0,m.value+=E,m.output=V,A.backtrack=!0,A.globstar=!0,be(E);continue}let R=Ge();if(r.noextglob!==!0&&/^\([^?]/.test(R)){go("star",E);continue}if(m.type==="star"){if(r.noglobstar===!0){be(E);continue}let S=m.prev,H=S.prev,ue=S.type==="slash"||S.type==="bos",we=H&&(H.type==="star"||H.type==="globstar");if(r.bash===!0&&(!ue||R[0]&&R[0]!=="/")){$({type:"star",value:E,output:""});continue}let ge=A.braces>0&&(S.type==="comma"||S.type==="brace"),yu=L.length&&(S.type==="pipe"||S.type==="paren");if(!ue&&S.type!=="paren"&&!ge&&!yu){$({type:"star",value:E,output:""});continue}for(;R.slice(0,3)==="/**";){let mo=e[A.index+4];if(mo&&mo!=="/")break;R=R.slice(3),be("/**",3)}if(S.type==="bos"&&ae()){m.type="globstar",m.value+=E,m.output=F(r),A.output=m.output,A.globstar=!0,be(E);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&!we&&ae()){A.output=A.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=F(r)+(r.strictSlashes?")":"|$)"),m.value+=E,A.globstar=!0,A.output+=S.output+m.output,be(E);continue}if(S.type==="slash"&&S.prev.type!=="bos"&&R[0]==="/"){let mo=R[1]!==void 0?"|$":"";A.output=A.output.slice(0,-(S.output+m.output).length),S.output=`(?:${S.output}`,m.type="globstar",m.output=`${F(r)}${h}|${h}${mo})`,m.value+=E,A.output+=S.output+m.output,A.globstar=!0,be(E+Be()),$({type:"slash",value:"/",output:""});continue}if(S.type==="bos"&&R[0]==="/"){m.type="globstar",m.value+=E,m.output=`(?:^|${h}|${F(r)}${h})`,A.output=m.output,A.globstar=!0,be(E+Be()),$({type:"slash",value:"/",output:""});continue}A.output=A.output.slice(0,-m.output.length),m.type="globstar",m.output=F(r),m.value+=E,A.output+=m.output,A.globstar=!0,be(E);continue}let ee={type:"star",value:E,output:V};if(r.bash===!0){ee.output=".*?",(m.type==="bos"||m.type==="slash")&&(ee.output=O+ee.output),$(ee);continue}if(m&&(m.type==="bracket"||m.type==="paren")&&r.regex===!0){ee.output=E,$(ee);continue}(A.index===A.start||m.type==="slash"||m.type==="dot")&&(m.type==="dot"?(A.output+=b,m.output+=b):r.dot===!0?(A.output+=y,m.output+=y):(A.output+=O,m.output+=O),Y()!=="*"&&(A.output+=_,m.output+=_)),$(ee)}for(;A.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Fn("closing","]"));A.output=Ye.escapeLast(A.output,"["),ar("brackets")}for(;A.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Fn("closing",")"));A.output=Ye.escapeLast(A.output,"("),ar("parens")}for(;A.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Fn("closing","}"));A.output=Ye.escapeLast(A.output,"{"),ar("braces")}if(r.strictSlashes!==!0&&(m.type==="star"||m.type==="bracket")&&$({type:"maybe_slash",value:"",output:`${h}?`}),A.backtrack===!0){A.output="";for(let R of A.tokens)A.output+=R.output!=null?R.output:R.value,R.suffix&&(A.output+=R.suffix)}return A};r0.fastpaths=(e,t)=>{let r=q({},t),n=typeof r.maxLength=="number"?Math.min(nu,r.maxLength):nu,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=t0[e]||e;let o=Ye.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:h,START_ANCHOR:_}=ru.globChars(o),g=r.dot?d:l,v=r.dot?f:l,b=r.capture?"":"?:",y={negated:!1,prefix:""},C=r.bash===!0?".*?":h;r.capture&&(C=`(${C})`);let D=O=>O.noglobstar===!0?C:`(${b}(?:(?!${_}${O.dot?c:s}).)*?)`,k=O=>{switch(O){case"*":return`${g}${u}${C}`;case".*":return`${s}${u}${C}`;case"*.*":return`${g}${C}${s}${u}${C}`;case"*/*":return`${g}${C}${a}${u}${v}${C}`;case"**":return g+D(r);case"**/*":return`(?:${g}${D(r)}${a})?${v}${u}${C}`;case"**/*.*":return`(?:${g}${D(r)}${a})?${v}${C}${s}${u}${C}`;case"**/.*":return`(?:${g}${D(r)}${a})?${s}${u}${C}`;default:{let T=/^(.*?)\.(\w+)$/.exec(O);if(!T)return;let V=k(T[1]);return V?V+s+T[2]:void 0}}},ie=Ye.removePrefix(e,y),F=k(ie);return F&&r.strictSlashes!==!0&&(F+=`${a}?`),F};n0.exports=r0});var s0=p((dk,o0)=>{"use strict";var KM=I("path"),XM=e0(),jp=i0(),kp=to(),zM=eo(),QM=e=>e&&typeof e=="object"&&!Array.isArray(e),le=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(f=>le(f,t,r));return f=>{for(let h of l){let _=h(f);if(_)return _}return!1}}let n=QM(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=kp.isWindows(t),s=n?le.compileRe(e,t):le.makeRe(e,t,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(i.ignore){let l=ce(q({},t),{ignore:null,onMatch:null,onResult:null});u=le(i.ignore,l,r)}let c=(l,d=!1)=>{let{isMatch:f,match:h,output:_}=le.test(l,s,t,{glob:e,posix:o}),g={glob:e,state:a,regex:s,posix:o,input:l,output:_,match:h,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,d?g:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,d?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),d?g:!0)};return r&&(c.state=a),c};le.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?kp.toPosixSlashes:null),a=e===n,u=a&&s?s(e):e;return a===!1&&(u=s?s(e):e,a=u===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=le.matchBase(e,t,r,i):a=t.exec(u)),{isMatch:Boolean(a),match:a,output:u}};le.matchBase=(e,t,r,n=kp.isWindows(r))=>(t instanceof RegExp?t:le.makeRe(t,r)).test(KM.basename(e));le.isMatch=(e,t,r)=>le(t,r)(e);le.parse=(e,t)=>Array.isArray(e)?e.map(r=>le.parse(r,t)):jp(e,ce(q({},t),{fastpaths:!1}));le.scan=(e,t)=>XM(e,t);le.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let u=le.toRegex(a,t);return n===!0&&(u.state=e),u};le.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=jp.fastpaths(e,t)),i.output||(i=jp(e,t)),le.compileRe(i,t,r,n)};le.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};le.constants=zM;o0.exports=le});var u0=p((fk,a0)=>{"use strict";a0.exports=s0()});var qp=p((hk,d0)=>{"use strict";var c0=I("util"),l0=qA(),Ct=u0(),Fp=to(),p0=e=>e===""||e==="./",ne=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let d=Ct(String(t[l]),ce(q({},r),{onResult:a}),!0),f=d.state.negated||d.state.negatedExtglob;f&&s++;for(let h of e){let _=d(h,!0);!(f?!_.isMatch:_.isMatch)||(f?n.add(_.output):(n.delete(_.output),i.add(_.output)))}}let c=(s===t.length?[...o]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return c};ne.match=ne;ne.matcher=(e,t)=>Ct(e,t);ne.isMatch=(e,t,r)=>Ct(t,r)(e);ne.any=ne.isMatch;ne.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=ne(e,t,ce(q({},r),{onResult:o}));for(let a of i)s.includes(a)||n.add(a);return[...n]};ne.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${c0.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ne.contains(e,n,r));if(typeof t=="string"){if(p0(e)||p0(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ne.isMatch(e,t,ce(q({},r),{contains:!0}))};ne.matchKeys=(e,t,r)=>{if(!Fp.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ne(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};ne.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Ct(String(i),r);if(n.some(s=>o(s)))return!0}return!1};ne.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=Ct(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};ne.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${c0.inspect(e)}"`);return[].concat(t).every(n=>Ct(n,r)(e))};ne.capture=(e,t,r)=>{let n=Fp.isWindows(r),o=Ct.makeRe(String(e),ce(q({},r),{capture:!0})).exec(n?Fp.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};ne.makeRe=(...e)=>Ct.makeRe(...e);ne.scan=(...e)=>Ct.scan(...e);ne.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of l0(String(n),t))r.push(Ct.parse(i,t));return r};ne.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:l0(e,t)};ne.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ne.braces(e,ce(q({},t),{expand:!0}))};d0.exports=ne});var f0=p((_k,ZM)=>{ZM.exports=[{name:"AppVeyor",constant:"APPVEYOR",env:"APPVEYOR",pr:"APPVEYOR_PULL_REQUEST_NUMBER"},{name:"Azure Pipelines",constant:"AZURE_PIPELINES",env:"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI",pr:"SYSTEM_PULLREQUEST_PULLREQUESTID"},{name:"Bamboo",constant:"BAMBOO",env:"bamboo_planKey"},{name:"Bitbucket Pipelines",constant:"BITBUCKET",env:"BITBUCKET_COMMIT",pr:"BITBUCKET_PR_ID"},{name:"Bitrise",constant:"BITRISE",env:"BITRISE_IO",pr:"BITRISE_PULL_REQUEST"},{name:"Buddy",constant:"BUDDY",env:"BUDDY_WORKSPACE_ID",pr:"BUDDY_EXECUTION_PULL_REQUEST_ID"},{name:"Buildkite",constant:"BUILDKITE",env:"BUILDKITE",pr:{env:"BUILDKITE_PULL_REQUEST",ne:"false"}},{name:"CircleCI",constant:"CIRCLE",env:"CIRCLECI",pr:"CIRCLE_PULL_REQUEST"},{name:"Cirrus CI",constant:"CIRRUS",env:"CIRRUS_CI",pr:"CIRRUS_PR"},{name:"AWS CodeBuild",constant:"CODEBUILD",env:"CODEBUILD_BUILD_ARN"},{name:"Codeship",constant:"CODESHIP",env:{CI_NAME:"codeship"}},{name:"Drone",constant:"DRONE",env:"DRONE",pr:{DRONE_BUILD_EVENT:"pull_request"}},{name:"dsari",constant:"DSARI",env:"DSARI"},{name:"GitLab CI",constant:"GITLAB",env:"GITLAB_CI"},{name:"GoCD",constant:"GOCD",env:"GO_PIPELINE_LABEL"},{name:"Hudson",constant:"HUDSON",env:"HUDSON_URL"},{name:"Jenkins",constant:"JENKINS",env:["JENKINS_URL","BUILD_ID"],pr:{any:["ghprbPullId","CHANGE_ID"]}},{name:"Magnum CI",constant:"MAGNUM",env:"MAGNUM"},{name:"Netlify CI",constant:"NETLIFY",env:"NETLIFY_BUILD_BASE",pr:{env:"PULL_REQUEST",ne:"false"}},{name:"Sail CI",constant:"SAIL",env:"SAILCI",pr:"SAIL_PULL_REQUEST_NUMBER"},{name:"Semaphore",constant:"SEMAPHORE",env:"SEMAPHORE",pr:"PULL_REQUEST_NUMBER"},{name:"Shippable",constant:"SHIPPABLE",env:"SHIPPABLE",pr:{IS_PULL_REQUEST:"true"}},{name:"Solano CI",constant:"SOLANO",env:"TDDIUM",pr:"TDDIUM_PR_ID"},{name:"Strider CD",constant:"STRIDER",env:"STRIDER"},{name:"TaskCluster",constant:"TASKCLUSTER",env:["TASK_ID","RUN_ID"]},{name:"TeamCity",constant:"TEAMCITY",env:"TEAMCITY_VERSION"},{name:"Travis CI",constant:"TRAVIS",env:"TRAVIS",pr:{env:"TRAVIS_PULL_REQUEST",ne:"false"}}]});var g0=p(We=>{"use strict";var h0=f0(),Pt=process.env;Object.defineProperty(We,"_vendors",{value:h0.map(function(e){return e.constant})});We.name=null;We.isPR=null;h0.forEach(function(e){var t=Array.isArray(e.env)?e.env:[e.env],r=t.every(function(n){return _0(n)});if(We[e.constant]=r,r)switch(We.name=e.name,typeof e.pr){case"string":We.isPR=!!Pt[e.pr];break;case"object":"env"in e.pr?We.isPR=e.pr.env in Pt&&Pt[e.pr.env]!==e.pr.ne:"any"in e.pr?We.isPR=e.pr.any.some(function(n){return!!Pt[n]}):We.isPR=_0(e.pr);break;default:We.isPR=null}});We.isCI=!!(Pt.CI||Pt.CONTINUOUS_INTEGRATION||Pt.BUILD_NUMBER||Pt.RUN_ID||We.name);function _0(e){return typeof e=="string"?!!Pt[e]:Object.keys(e).every(function(t){return Pt[t]===e[t]})}});var E0=p((mk,m0)=>{"use strict";m0.exports=g0().isCI});var v0=p((Ek,Gp)=>{"use strict";var JM=Object.prototype.hasOwnProperty,Me="~";function no(){}Object.create&&(no.prototype=Object.create(null),new no().__proto__||(Me=!1));function e1(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function y0(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new e1(r,n||e,i),s=Me?Me+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function iu(e,t){--e._eventsCount==0?e._events=new no:delete e._events[t]}function Ie(){this._events=new no,this._eventsCount=0}Ie.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)JM.call(r,n)&&t.push(Me?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};Ie.prototype.listeners=function(t){var r=Me?Me+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};Ie.prototype.listenerCount=function(t){var r=Me?Me+t:t,n=this._events[r];return n?n.fn?1:n.length:0};Ie.prototype.emit=function(t,r,n,i,o,s){var a=Me?Me+t:t;if(!this._events[a])return!1;var u=this._events[a],c=arguments.length,l,d;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,r),!0;case 3:return u.fn.call(u.context,r,n),!0;case 4:return u.fn.call(u.context,r,n,i),!0;case 5:return u.fn.call(u.context,r,n,i,o),!0;case 6:return u.fn.call(u.context,r,n,i,o,s),!0}for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];u.fn.apply(u.context,l)}else{var f=u.length,h;for(d=0;d<f;d++)switch(u[d].once&&this.removeListener(t,u[d].fn,void 0,!0),c){case 1:u[d].fn.call(u[d].context);break;case 2:u[d].fn.call(u[d].context,r);break;case 3:u[d].fn.call(u[d].context,r,n);break;case 4:u[d].fn.call(u[d].context,r,n,i);break;default:if(!l)for(h=1,l=new Array(c-1);h<c;h++)l[h-1]=arguments[h];u[d].fn.apply(u[d].context,l)}}return!0};Ie.prototype.on=function(t,r,n){return y0(this,t,r,n,!1)};Ie.prototype.once=function(t,r,n){return y0(this,t,r,n,!0)};Ie.prototype.removeListener=function(t,r,n,i){var o=Me?Me+t:t;if(!this._events[o])return this;if(!r)return iu(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&iu(this,o);else{for(var a=0,u=[],c=s.length;a<c;a++)(s[a].fn!==r||i&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=u.length===1?u[0]:u:iu(this,o)}return this};Ie.prototype.removeAllListeners=function(t){var r;return t?(r=Me?Me+t:t,this._events[r]&&iu(this,r)):(this._events=new no,this._eventsCount=0),this};Ie.prototype.off=Ie.prototype.removeListener;Ie.prototype.addListener=Ie.prototype.on;Ie.prefixed=Me;Ie.EventEmitter=Ie;typeof Gp!="undefined"&&(Gp.exports=Ie)});var b0=p((yk,A0)=>{"use strict";A0.exports=(e,t)=>(t=t||(()=>{}),e.then(r=>new Promise(n=>{n(t())}).then(()=>r),r=>new Promise(n=>{n(t())}).then(()=>{throw r})))});var T0=p((vk,ou)=>{"use strict";var t1=b0(),Hp=class extends Error{constructor(t){super(t);this.name="TimeoutError"}},S0=(e,t,r)=>new Promise((n,i)=>{if(typeof t!="number"||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===Infinity){n(e);return}let o=setTimeout(()=>{if(typeof r=="function"){try{n(r())}catch(u){i(u)}return}let s=typeof r=="string"?r:`Promise timed out after ${t} milliseconds`,a=r instanceof Error?r:new Hp(s);typeof e.cancel=="function"&&e.cancel(),i(a)},t);t1(e.then(n,i),()=>{clearTimeout(o)})});ou.exports=S0;ou.exports.default=S0;ou.exports.TimeoutError=Hp});var R0=p($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});function r1(e,t,r){let n=0,i=e.length;for(;i>0;){let o=i/2|0,s=n+o;r(e[s],t)<=0?(n=++s,i-=o+1):i=o}return n}$p.default=r1});var C0=p(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});var n1=R0(),O0=class{constructor(){this._queue=[]}enqueue(t,r){r=Object.assign({priority:0},r);let n={priority:r.priority,run:t};if(this.size&&this._queue[this.size-1].priority>=r.priority){this._queue.push(n);return}let i=n1.default(this._queue,n,(o,s)=>s.priority-o.priority);this._queue.splice(i,0,n)}dequeue(){let t=this._queue.shift();return t==null?void 0:t.run}filter(t){return this._queue.filter(r=>r.priority===t.priority).map(r=>r.run)}get size(){return this._queue.length}};Vp.default=O0});var w0=p(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});var i1=v0(),P0=T0(),o1=C0(),su=()=>{},s1=new P0.TimeoutError,I0=class extends i1{constructor(t){var r,n,i,o;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=su,this._resolveIdle=su,t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:o1.default},t),!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(n=(r=t.intervalCap)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(o=(i=t.interval)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===Infinity||t.interval===0,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=t.throwOnTimeout===!0,this._isPaused=t.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=su,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=su,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let t=Date.now();if(this._intervalId===void 0){let r=this._intervalEnd-t;if(r<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},r)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let r=this._queue.dequeue();return r?(this.emit("active"),r(),t&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,r={}){return new Promise((n,i)=>{let o=async()=>{this._pendingCount++,this._intervalCount++;try{let s=this._timeout===void 0&&r.timeout===void 0?t():P0.default(Promise.resolve(t()),r.timeout===void 0?this._timeout:r.timeout,()=>{(r.throwOnTimeout===void 0?this._throwOnTimeout:r.throwOnTimeout)&&i(s1)});n(await s)}catch(s){i(s)}this._next()};this._queue.enqueue(o,r),this._tryToStartAnother(),this.emit("add")})}async addAll(t,r){return Promise.all(t.map(async n=>this.add(n,r)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(t=>{let r=this._resolveEmpty;this._resolveEmpty=()=>{r(),t()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(t=>{let r=this._resolveIdle;this._resolveIdle=()=>{r(),t()}})}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}};Yp.default=I0});var x0=p((Tk,Wp)=>{"use strict";var N0=(e,...t)=>new Promise(r=>{r(e(...t))});Wp.exports=N0;Wp.exports.default=N0});var M0=p((Rk,Kp)=>{"use strict";var a1=x0(),L0=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let t=[],r=0,n=()=>{r--,t.length>0&&t.shift()()},i=(a,u,...c)=>{r++;let l=a1(a,...c);u(l),l.then(n,n)},o=(a,u,...c)=>{r<e?i(a,u,...c):t.push(i.bind(null,a,u,...c))},s=(a,...u)=>new Promise(c=>o(a,c,...u));return Object.defineProperties(s,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),s};Kp.exports=L0;Kp.exports.default=L0});var B0=p(zp=>{"use strict";var Xp=class{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(t===void 0)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((t,r)=>{var n=()=>{var i=!1;t(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(t){return this.acquire().then(r=>t().then(n=>(r(),n)).catch(n=>{throw r(),n}))}};zp.Semaphore=Xp;var D0=class extends Xp{constructor(){super(1)}};zp.Mutex=D0});var j0=p((Ck,U0)=>{"use strict";U0.exports=({onlyFirst:e=!1}={})=>{let t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var Qp=p((Pk,k0)=>{"use strict";var u1=j0();k0.exports=e=>typeof e=="string"?e.replace(u1(),""):e});var q0=p((Ik,Zp)=>{"use strict";var F0=e=>Number.isNaN(e)?!1:e>=4352&&(e<=4447||e===9001||e===9002||11904<=e&&e<=12871&&e!==12351||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);Zp.exports=F0;Zp.exports.default=F0});var $0=p((wk,H0)=>{"use strict";var G0="[\uD800-\uDBFF][\uDC00-\uDFFF]",c1=e=>e&&e.exact?new RegExp(`^${G0}$`):new RegExp(G0,"g");H0.exports=c1});var Y0=p((Nk,V0)=>{"use strict";V0.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Jp=p((xk,K0)=>{var io=Y0(),W0={};for(let e of Object.keys(io))W0[io[e]]=e;var P={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};K0.exports=P;for(let e of Object.keys(P)){if(!("channels"in P[e]))throw new Error("missing channels property: "+e);if(!("labels"in P[e]))throw new Error("missing channel labels property: "+e);if(P[e].labels.length!==P[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=P[e];delete P[e].channels,delete P[e].labels,Object.defineProperty(P[e],"channels",{value:t}),Object.defineProperty(P[e],"labels",{value:r})}P.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,a,u;o===i?a=0:t===o?a=(r-n)/s:r===o?a=2+(n-t)/s:n===o&&(a=4+(t-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+o)/2;return o===i?u=0:c<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,c*100]};P.rgb.hsv=function(e){let t,r,n,i,o,s=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(s,a,u),l=c-Math.min(s,a,u),d=function(f){return(c-f)/6/l+1/2};return l===0?(i=0,o=0):(o=l/c,t=d(s),r=d(a),n=d(u),s===c?i=n-r:a===c?i=1/3+t-n:u===c&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,c*100]};P.rgb.hwb=function(e){let t=e[0],r=e[1],n=e[2],i=P.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};P.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),o=(1-t-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function l1(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}P.rgb.keyword=function(e){let t=W0[e];if(t)return t;let r=Infinity,n;for(let i of Object.keys(io)){let o=io[i],s=l1(e,o);s<r&&(r=s,n=i)}return n};P.keyword.rgb=function(e){return io[e]};P.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};P.rgb.lab=function(e){let t=P.rgb.xyz(e),r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};P.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,u[c]=s*255;return u};P.hsl.hsv=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[t,a*100,s*100]};P.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};P.hsv.hsl=function(e){let t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[t,o*100,s*100]};P.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*t),a=1-n;o=6*t-s,(s&1)!=0&&(o=1-o);let u=r+o*(a-r),c,l,d;switch(s){default:case 6:case 0:c=a,l=u,d=r;break;case 1:c=u,l=a,d=r;break;case 2:c=r,l=a,d=u;break;case 3:c=r,l=u,d=a;break;case 4:c=u,l=r,d=a;break;case 5:c=a,l=r,d=u;break}return[c*255,l*255,d*255]};P.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};P.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};P.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(t-r),s=200*(r-n);return[i,o,s]};P.lab.xyz=function(e){let t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;let a=o**3,u=i**3,c=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};P.lab.lch=function(e){let t=e[0],r=e[1],n=e[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[t,s,i]};P.lch.lab=function(e){let t=e[0],r=e[1],i=e[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[t,o,s]};P.rgb.ansi16=function(e,t=null){let[r,n,i]=e,o=t===null?P.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};P.hsv.ansi16=function(e){return P.rgb.ansi16(P.hsv.rgb(e),e[2])};P.rgb.ansi256=function(e){let t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};P.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};P.ansi256.rgb=function(e){if(e>=232){let o=(e-232)*10+8;return[o,o,o]}e-=16;let t,r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};P.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};P.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};P.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===t?u=(r-n)/s%6:i===r?u=2+(n-t)/s:u=4+(t-r)/s,u/=6,u%=1,[u*360,s*100,a*100]};P.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};P.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};P.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=t%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};P.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};P.hcg.hsl=function(e){let t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};P.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};P.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};P.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};P.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};P.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};P.gray.hsl=function(e){return[0,0,e[0]]};P.gray.hsv=P.gray.hsl;P.gray.hwb=function(e){return[0,100,e[0]]};P.gray.cmyk=function(e){return[0,0,0,e[0]]};P.gray.lab=function(e){return[e[0],0,0]};P.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n};P.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var z0=p((Lk,X0)=>{var au=Jp();function p1(){let e={},t=Object.keys(au);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function d1(e){let t=p1(),r=[e];for(t[e].distance=0;r.length;){let n=r.pop(),i=Object.keys(au[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}}return t}function f1(e,t){return function(r){return t(e(r))}}function h1(e,t){let r=[t[e].parent,e],n=au[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=f1(au[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}X0.exports=function(e){let t=d1(e),r={},n=Object.keys(t);for(let i=n.length,o=0;o<i;o++){let s=n[o];t[s].parent!==null&&(r[s]=h1(s,t))}return r}});var Z0=p((Mk,Q0)=>{var ed=Jp(),_1=z0(),qn={},g1=Object.keys(ed);function m1(e){let t=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function E1(e){let t=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=e(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}g1.forEach(e=>{qn[e]={},Object.defineProperty(qn[e],"channels",{value:ed[e].channels}),Object.defineProperty(qn[e],"labels",{value:ed[e].labels});let t=_1(e);Object.keys(t).forEach(n=>{let i=t[n];qn[e][n]=E1(i),qn[e][n].raw=m1(i)})});Q0.exports=qn});var ib=p((Dk,nb)=>{"use strict";var J0=(e,t)=>(...r)=>`[${e(...r)+t}m`,eb=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};5;${n}m`},tb=(e,t)=>(...r)=>{let n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},uu=e=>e,rb=(e,t,r)=>[e,t,r],Gn=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},td,Hn=(e,t,r,n)=>{td===void 0&&(td=Z0());let i=n?10:0,o={};for(let[s,a]of Object.entries(td)){let u=s==="ansi16"?"ansi":s;s===t?o[u]=e(r,i):typeof a=="object"&&(o[u]=e(a[t],i))}return o};function y1(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,n]of Object.entries(t)){for(let[i,o]of Object.entries(n))t[i]={open:`[${o[0]}m`,close:`[${o[1]}m`},n[i]=t[i],e.set(o[0],o[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",Gn(t.color,"ansi",()=>Hn(J0,"ansi16",uu,!1)),Gn(t.color,"ansi256",()=>Hn(eb,"ansi256",uu,!1)),Gn(t.color,"ansi16m",()=>Hn(tb,"rgb",rb,!1)),Gn(t.bgColor,"ansi",()=>Hn(J0,"ansi16",uu,!0)),Gn(t.bgColor,"ansi256",()=>Hn(eb,"ansi256",uu,!0)),Gn(t.bgColor,"ansi16m",()=>Hn(tb,"rgb",rb,!0)),t}Object.defineProperty(nb,"exports",{enumerable:!0,get:y1})});var cb=p((Bk,ub)=>{"use strict";var v1=q0(),A1=$0(),ob=ib(),sb=["","\x9B"],cu=e=>`${sb[0]}[${e}m`,ab=(e,t,r)=>{let n=[];e=[...e];for(let i of e){let o=i;i.includes(";")&&(i=i.split(";")[0][0]+"0");let s=ob.codes.get(Number.parseInt(i,10));if(s){let a=e.indexOf(s.toString());a===-1?n.push(cu(t?s:o)):e.splice(a,1)}else if(t){n.push(cu(0));break}else n.push(cu(o))}if(t&&(n=n.filter((i,o)=>n.indexOf(i)===o),r!==void 0)){let i=cu(ob.codes.get(Number.parseInt(r,10)));n=n.reduce((o,s)=>s===i?[s,...o]:[...o,s],[])}return n.join("")};ub.exports=(e,t,r)=>{let n=[...e],i=[],o=typeof r=="number"?r:n.length,s=!1,a,u=0,c="";for(let[l,d]of n.entries()){let f=!1;if(sb.includes(d)){let h=/\d[^m]*/.exec(e.slice(l,l+18));a=h&&h.length>0?h[0]:void 0,u<o&&(s=!0,a!==void 0&&i.push(a))}else s&&d==="m"&&(s=!1,f=!0);if(!s&&!f&&u++,!A1({exact:!0}).test(d)&&v1(d.codePointAt())&&(u++,typeof r!="number"&&o++),u>t&&u<=o)c+=d;else if(u===t&&!s&&a!==void 0)c=ab(i);else if(u>=o){c+=ab(i,!0,a);break}}return c}});var x1={};Jb(x1,{default:()=>N1});var Fr=M(I("@yarnpkg/cli")),Le=M(I("@yarnpkg/core")),tA=M(I("@yarnpkg/libzip")),Q=M(I("@yarnpkg/fslib")),ut=M(I("clipanion")),Rp=M(I("path"));var cd=M(I("fs")),ld=async e=>{try{return(0,cd.readFileSync)(e,"utf-8").split(`
`)}catch(t){return[]}};var pd=M(I("path")),dd=({ignoreFile:e,cwd:t})=>(0,pd.join)(t,e);var vf=M(bd());var Ef=M(mf()),yf=async({cwd:e})=>{try{return(await(0,Ef.default)(`${e}/**/*`,{dot:!0})).map(r=>{var n;return(n=r.split(`${e}/`)[1])!=null?n:""}).filter(Boolean)}catch(t){return[]}};var Xu=async({exclude:e,ignoreFile:t,cwd:r})=>{let n=dd({ignoreFile:t,cwd:r}),i=(0,vf.default)().add([...e,...await ld(n)]);return(await yf({cwd:r})).filter(a=>i.ignores(a)).map(a=>`${r}/${a}`)};var Af=["package.json","package.yaml","package.yml"];var Ro=M(I("path")),yT={directory:({cwd:e})=>[e],parentDirectories:({cwd:e,rootDir:t})=>{if(!e.startsWith(t))throw new Error("Package directory not in rootDir. This should never happen");let r=e,n=[];for(;;){if(r===t||r.length<t.length)return n;r=(0,Ro.dirname)(r),n=[...n,r]}},packageFiles:({cwd:e})=>Af.map(t=>(0,Ro.join)(e,t))},vT=({cwd:e,rootDir:t})=>[...new Set(...[Object.values(yT).map(r=>r({cwd:e,rootDir:t})).flat()])],bf=({workspaces:e,rootDir:t})=>Array.from(e).map(({cwd:r})=>vT({cwd:r,rootDir:t})).flat();var ui=M(I("@yarnpkg/fslib")),X=M(I("typanion")),Mo=M(Bh()),MO=".yarnbuildrc.yml",Pc=".bundleignore",Ic=X.isObject({folders:X.isObject({input:X.isOneOf([X.isString(),X.isArray(X.isString())]),output:X.isOneOf([X.isString(),X.isArray(X.isString())])}),exclude:X.isArray(X.isString()),bail:X.isBoolean(),hideYarnBuildBadge:X.isBoolean(),ignoreFile:X.isString(),maxConcurrency:X.isOptional(X.applyCascade(X.isNumber(),[X.isInteger(),X.isInInclusiveRange(1,128)]))}),wc={folders:{input:".",output:["build","node_modules"]},exclude:[],bail:!0,hideYarnBuildBadge:!1,ignoreFile:Pc,maxConcurrency:8};async function Uh(e){let t=MO,r=ui.ppath.join(e.projectCwd||e.startingCwd,t);if(ui.xfs.existsSync(r)){let n=await ui.xfs.readFilePromise(r,"utf8"),i=[];try{let o=(0,Mo.load)(n,{schema:Mo.JSON_SCHEMA});if(Ic(o,{errors:i}))return o;console.warn(i)}catch(o){let s="";throw n.match(/^\s+(?!-)[^:]+\s+\S+/m)&&(s=" (config is corrupted, please check it matches the shape in the yarn.build readme."),new Error(`Parse error when loading ${r}; please check it's proper Yaml${s}`)}}return wc}async function jh(e){return await Uh(e)}async function kh(e){var r;let t=await Uh(e);return ce(q(q({},wc),t),{folders:q(q({},wc.folders),(r=t.folders)!=null?r:{})})}var Wv=M(Js()),Kv=M(Oi()),Xv=M(gt()),zv=M(Yv()),Qv=M(B()),Zv=M(Js()),Jv=M(_l()),jt=M(B()),eA=class{static getInstance(){return this._instance||(this._instance=new this().start())}static provider(){return this._instance||(this._instance=new this().start())}start(){let t=new zv.OTLPTraceExporter,r=new Wv.BasicTracerProvider({resource:new Kv.Resource({[Xv.SemanticResourceAttributes.SERVICE_NAME]:"yarn.build"})});r.addSpanProcessor(new Zv.BatchSpanProcessor(t));async function n(i){try{await r.shutdown()}finally{process.exit(isNaN(+i)?1:+i)}}return["beforeExit","exit","uncaughtException","unhandledRejection","SIGHUP","SIGINT","SIGQUIT","SIGILL","SIGTRAP","SIGABRT","SIGBUS","SIGFPE","SIGUSR1","SIGSEGV","SIGUSR2","SIGTERM"].forEach(i=>process.on(i,n)),r}},kt=class{constructor(t){this.name=t,this._tracer=eA.getInstance().getTracer(t)}recordException(t,r){(typeof typeof r=="string"||r instanceof Error)&&(t.recordException(r),t.setStatus({code:Qv.SpanStatusCode.ERROR,message:r instanceof Error?r.message:r}))}async startSpan(t,r){var s;let n;if(typeof t.ctx=="undefined"?n=jt.context.active():n=t.ctx,!!t.propegateFromEnv||((s=t==null?void 0:t.spanOptions)==null?void 0:s.kind)==4){let a=process.env.TRACEPARENT;if(typeof a=="string"){let u=(0,Jv.parseTraceParent)(a!=null?a:"");u&&(n=jt.trace.setSpanContext(jt.context.active(),u))}}let i=this._tracer.startSpan(t.name,t.spanOptions,n),o=jt.trace.setSpan(n,i);try{return r.constructor.name==="AsyncFunction"?await r({span:i,ctx:o}):r({span:i,ctx:o})}catch(a){if((typeof a=="string"||a instanceof Error)&&this.recordException(i,a),!t.supressExceptions)throw a}finally{i.end()}throw new Error("Unknown error")}async wrap(t,r,...n){let i;return typeof t.ctx=="undefined"?i=jt.context.active():i=t.ctx,await(async()=>await this.startSpan({name:t.name,ctx:i},async()=>await r(...n)))()}async testSpans(){await this.startSpan({name:"test span 1"},async({span:t,ctx:r})=>{t.addEvent("test span event"),await this.startSpan({name:"test span 1.1",ctx:r},async({ctx:n})=>{await this.startSpan({name:"test span 1.2",ctx:n},async({ctx:i})=>await Promise.all([await this.startSpan({name:"test span 1.2.1",ctx:i},async({span:o})=>{o.addEvent(`math: ${1+2+1}`),console.warn("test spans 1.2.1")}),await this.startSpan({name:"test span 1.2.2",ctx:i},async({span:o})=>{throw o.addEvent(`math: ${1+2+2}`),console.warn("test spans 1.2.2"),new Error("test 1.2.2 error")}),await this.startSpan({name:"test span 1.2.3",ctx:i},async({span:o})=>{o.addEvent(`math: ${1+2+3}`),console.warn("test spans 1.2.3")})]))})})}};var U={PACKAGE_NAME:"package.name",PACKAGE_SCOPE:"package.scope",PACKAGE_DIRECTORY:"package.directory",PACKAGE_COMMAND:"package.command",GIT_BRANCH:"git.branch",GIT_COMMIT:"git.commit",YARN_BUILD_MESSAGE_CODE:"yarn.build.message.code",YARN_BUILD_CONFIG_FOLDERS_INPUT:"yarn.build.config.folders.input",YARN_BUILD_CONFIG_FOLDERS_OUTPUT:"yarn.build.config.folders.output",YARN_BUILD_CONFIG_EXCLUDE:"yarn.build.config.exclude",YARN_BUILD_CONFIG_BAIL:"yarn.build.config.bail",YARN_BUILD_CONFIG_HIDE_BADGE:"yarn.build.config.hide-badge",YARN_BUILD_CONFIG_MAX_CONCURRENCY:"yarn.build.config.max-concurrency",YARN_BUILD_FLAGS_OUTPUT_JSON:"yarn.build.flags.output.json",YARN_BUILD_FLAGS_ALL:"yarn.build.flags.all",YARN_BUILD_FLAGS_TARGETS:"yarn.build.flags.targets",YARN_BUILD_FLAGS_COMMAND:"yarn.build.flags.command",YARN_BUILD_FLAGS_INTERLACED:"yarn.build.flags.interlaced",YARN_BUILD_FLAGS_VERBOSE:"yarn.build.flags.verbose",YARN_BUILD_FLAGS_DRY_RUN:"yarn.build.flags.dry-run",YARN_BUILD_FLAGS_IGNORE_CACHE:"yarn.build.flags.ignore-cache",YARN_BUILD_FLAGS_MAX_CONCURRENCY:"yarn.build.flags.max-concurrency",YARN_BUILD_FLAGS_CONTINUE_ON_ERROR:"yarn.build.flags.continue-on-error",YARN_BUILD_FLAGS_EXCLUDE:"yarn.build.flags.exclude",YARN_BUILD_FLAGS_EXCLUDE_CURRENT:"yarn.build.flags.exclude.current",YARN_BUILD_FLAGS_CHANGES:"yarn.build.flags.changes",YARN_BUILD_FLAGS_SINCE:"yarn.build.flags.since",YARN_BUILD_FLAGS_SINCE_BRANCH:"yarn.build.flags.since-branch",YARN_BUILD_FLAGS_ONLY_CURRENT:"yarn.build.flags.only-current",YARN_BUILD_FLAGS_BUNDLE_QUIET:"yarn.build.flags.bundle.quiet",YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY:"yarn.build.flags.bundle.temporary-directory",YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY:"yarn.build.flags.bundle.output-directory",YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS:"yarn.build.flags.bundle.no-compress",YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME:"yarn.build.flags.bundle.archive-name",YARN_BUILD_FLAGS_BUNDLE_EXCLUDE:"yarn.build.flags.bundle.exclude",YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE:"yarn.build.flags.bundle.ignore-file",YARN_BUILD_PACKAGE_NEEDS_RUN:"yarn.build.package.needs-run",YARN_BUILD_PACKAGE_RUN_COMMAND:"yarn.build.package.run.command",YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT:"yarn.build.package.run.command.exit"};var rA=M(B()),Tt;(function(o){o.Info="YB1000",o.RemoveUnusedPackages="YB1001",o.RemoveEmptyDirectories="YB1002",o.RemoveExcluded="YB1003",o.AddedEntryPoint="YB1004"})(Tt||(Tt={}));var Rt;(function(n){n.Start=" \u250C ",n.Progress=" \u2502 ",n.End=" \u2514 "})(Rt||(Rt={}));var Zi=class extends Fr.BaseCommand{constructor(){super(...arguments);this.tracer=new kt("yarn.build");this.json=ut.Option.Boolean("--json",!1,{description:"flag is set the output will follow a JSON-stream output also known as NDJSON (https://github.com/ndjson/ndjson-spec)"});this.quiet=ut.Option.Boolean("-q,--quiet",!1,{description:"suppress progess messages"});this.temporaryDirectory=ut.Option.String("--temporary-directory",{description:"superseeds --output-directory and --no-compress, when set the temporary directory used for bundling is written to a file you pass here "});this.outputDirectory=ut.Option.String("-o,--output-directory",{description:"sets the output directory, this should be outside your source input directory."});this.noCompress=ut.Option.Boolean("--no-compress",!1,{description:"set this with --output-directory to skip zipping your bundle, when this is set your output directory must be outside your project root"});this.archiveName=ut.Option.String("-a,--archive-name","bundle.zip",{description:"sets the name of the archive. Any files matching this, will be excluded from subsequent archives. Defaults to ./bundle.zip"});this.exclude=ut.Option.Array("--exclude",[],{arity:1,description:"Exclude specific paths from the final bundle."});this.ignoreFile=ut.Option.String("--ignore-file",Pc,{description:"set the name of ignore file. Files matching this in workspace root and package root will be used to indicate which files will be excluded from bundle."})}progress({code:t,group:r,msg:n,span:i}){this.quiet!==!0&&console.info(`\u27A4 ${t}:${r}${n}`),typeof i!="undefined"&&i.addEvent(n,{[U.YARN_BUILD_MESSAGE_CODE]:t})}async removeUnusedPackages(t,r,n,i){return await this.tracer.startSpan({name:"remove unused packages",ctx:t},async({span:o})=>{var d;let{project:s,workspace:a}=await Le.Project.find(i,n);if(!a)throw new Fr.WorkspaceRequiredError(s.cwd,n);let u=await Le.Project.find(i,r);if(!u.workspace)throw new Fr.WorkspaceRequiredError(u.project.cwd,r);let c=new Set([a,u.workspace]),l=await jh(i);this.exclude=l.exclude?[...this.exclude,...l.exclude]:this.exclude,this.ignoreFile=(d=l==null?void 0:l.ignoreFile)!=null?d:this.ignoreFile;for(let f of c)for(let h of Le.Manifest.allDependencies)for(let _ of f.manifest.getForScope(h).values()){let g=s.tryWorkspaceByDescriptor(_);g!==null&&(c.add(g),this.progress({code:Tt.RemoveUnusedPackages,group:Rt.Progress,msg:`required:	${g.relativeCwd}`,span:o}))}for(let f of s.workspaces)c.has(f)||f.cwd!==r&&(await Q.xfs.removePromise(f.cwd),this.progress({code:Tt.RemoveUnusedPackages,group:Rt.Progress,msg:`unused:	${f.relativeCwd}`,span:o}))})}async removeEmptyDirectories(t,{tmpDir:r,cwd:n}){let i=rA.trace.getSpan(t);if(!Q.xfs.statSync(n).isDirectory())return!1;let s=await Q.xfs.readdirPromise(n);for(let a of s)await this.removeEmptyDirectories(t,{tmpDir:r,cwd:Q.ppath.join(n,a)});return s=await Q.xfs.readdirPromise(n),s.length===0?(await Q.xfs.removePromise(n),this.progress({code:Tt.RemoveEmptyDirectories,group:Rt.Progress,msg:`empty:	${n.replace(r+"/","")}`,span:i}),!0):!1}async removeExcluded(t,{tmpDir:r,excluded:n,nonRemovableFiles:i,yarnDirectory:o,cacheDirectory:s,shouldRemoveEmptyDirectories:a=!1}){let u=`${r}/.git`;try{await Q.xfs.lstatPromise(u)&&await Q.xfs.removePromise(u)}catch(c){}await Promise.all(n.map(async c=>{if(!c.startsWith(o)&&!c.startsWith(s)&&!i.includes(c)&&!!c.startsWith(r))try{await Q.xfs.lstatPromise(c)&&await Q.xfs.removePromise(c)}catch(l){}})),a&&await this.removeEmptyDirectories(t,{tmpDir:r,cwd:r})}async execute(){return await this.tracer.startSpan({name:"yarn bundle",propegateFromEnv:!0},async({span:t,ctx:r})=>{this.progress({code:Tt.Info,group:Rt.Start,msg:`Prepare ${this.context.cwd} for bundling`,span:t}),this.progress({code:Tt.Info,group:Rt.Progress,msg:"Preparing temporary directory",span:t});let n=async i=>await this.tracer.startSpan({name:"prepare for bundle",ctx:r},async({span:o,ctx:s})=>{let a=`${this.context.cwd}`,u=Q.ppath.join(a,this.archiveName),c={[U.YARN_BUILD_FLAGS_BUNDLE_QUIET]:this.quiet,[U.YARN_BUILD_FLAGS_BUNDLE_TEMPORARY_DIRECTORY]:this.temporaryDirectory,[U.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY]:i,[U.YARN_BUILD_FLAGS_BUNDLE_NO_COMPRESS]:this.noCompress,[U.YARN_BUILD_FLAGS_BUNDLE_ARCHIVE_NAME]:this.archiveName,[U.YARN_BUILD_FLAGS_BUNDLE_EXCLUDE]:this.exclude,[U.YARN_BUILD_FLAGS_BUNDLE_IGNORE_FILE]:this.ignoreFile};if(o.setAttributes(c),typeof this.outputDirectory=="string"){let L=nA(this.outputDirectory);if(o.setAttribute(U.YARN_BUILD_FLAGS_BUNDLE_OUTPUT_DIRECTORY,L),Q.xfs.existsSync(L)||await Q.xfs.mkdirPromise(L),Q.xfs.readdirSync(L).length!=0)throw new Error(" --output-directory is not empty");u=Q.ppath.join(L,this.archiveName)}let l=await Le.Configuration.find(this.context.cwd,this.context.plugins);if(l.projectCwd===null)throw new Error("Can't find project directory");let d=a.replace(l.projectCwd,""),f=!1,h;if(this.noCompress===!0){if(typeof this.outputDirectory!="string")throw new Error("ERROR: you set --no-compress, but did not specify --output-directory");if(h=nA(this.outputDirectory),h.startsWith(l.projectCwd))throw new Error(`ERROR: --output-directory is inside project root with --no-compress set.
This is no allowed to prevent you destroying your project`);f=!0}let _=new Q.NodeFS;this.progress({code:Tt.Info,group:Rt.Progress,msg:"Copying repo to temporary directory",span:o}),await this.tracer.wrap({name:"copy to tmp dir",ctx:s},async L=>Q.xfs.copyPromise(i,L,{baseFs:_}),l.projectCwd);let g=`${i}${d}`,v=`${g}/${this.archiveName}`,b=this.exclude;try{await Q.xfs.lstatPromise(v)&&b.push(v)}catch(L){}let y=await Le.Configuration.find(g,this.context.plugins);y.use("<custom>",{enableNetwork:!1},g);let C=await Le.Cache.find(y),D=`${i}/.yarn`,k=C.cwd;this.progress({code:Tt.Info,group:Rt.Progress,msg:"Removing unused and excluded workspaces, folders and files",span:o}),await this.removeUnusedPackages(s,i,g,y);let{project:ie,workspace:F}=await Le.Project.find(y,g);if(!F)throw new Fr.WorkspaceRequiredError(ie.cwd,g);o.setAttributes({[U.PACKAGE_DIRECTORY]:d,[U.PACKAGE_NAME]:F.locator.name}),typeof F.locator.scope=="string"&&o.setAttribute(U.PACKAGE_SCOPE,`@${F.locator.scope}`);let O=await Le.Project.find(y,i);if(!O.workspace)throw new Fr.WorkspaceRequiredError(O.project.cwd,i);let T=new Set([F,O.workspace]),V=bf({workspaces:T,rootDir:i});b=await Xu({cwd:i,ignoreFile:this.ignoreFile,exclude:b});for(let L of T)for(let N of Le.Manifest.allDependencies)for(let se of L.manifest.getForScope(N).values()){let m=ie.tryWorkspaceByDescriptor(se);m!==null&&T.add(m)}return await this.tracer.wrap({name:"remove unused workspaces",ctx:s},async()=>{for(let L of T){let N=await Xu({cwd:L.cwd,ignoreFile:this.ignoreFile,exclude:b});await this.removeExcluded(s,{tmpDir:i,excluded:N,nonRemovableFiles:V,yarnDirectory:D,cacheDirectory:k,shouldRemoveEmptyDirectories:!1})}}),await this.tracer.wrap({name:"remove excluded files",ctx:s},async()=>{await this.removeExcluded(s,{tmpDir:i,excluded:b,nonRemovableFiles:V,yarnDirectory:D,cacheDirectory:k,shouldRemoveEmptyDirectories:!0})}),await this.tracer.wrap({name:"add entrypoint.js",ctx:s},async()=>{var L,N,se,m;for(let E of ie.workspaces)E.manifest.devDependencies.clear(),!T.has(E)&&(E.manifest.dependencies.clear(),E.manifest.peerDependencies.clear());if((N=(L=F==null?void 0:F.manifest)==null?void 0:L.raw)==null?void 0:N.main){let E=F.relativeCwd+Rp.default.posix.sep+((m=(se=F==null?void 0:F.manifest)==null?void 0:se.raw)==null?void 0:m.main),ae=".pnp.cjs";Q.xfs.writeFilePromise(`${i}${Rp.default.posix.sep}entrypoint.js`,UL(E,ae))}this.progress({code:Tt.Info,group:Rt.End,msg:"Completed",span:o})}),(await this.tracer.startSpan({name:"bundle",ctx:s},async({ctx:L})=>await Le.StreamReport.start({configuration:y,json:this.json,stdout:this.context.stdout,includeLogs:!0},async N=>{if(await this.tracer.wrap({name:"yarn install",ctx:L},async({cache:se,report:m})=>await ie.install({cache:se,report:m}),{cache:C,report:N}),typeof this.temporaryDirectory=="undefined")if(f&&typeof h!="undefined")N.reportInfo(null,"Moving build to output directory"),await this.tracer.wrap({name:"copy to output directory",ctx:L},async({outputPath:se,tmpDir:m})=>_.copyPromise(se,m),{outputPath:h,tmpDir:i});else{let se=await(0,tA.getLibzipPromise)();N.reportInfo(null,"Creating archive");let m=new Q.ZipFS(u,{create:!0,libzip:se});N.reportInfo(null,"Copying files to archive"),await this.tracer.wrap({name:"copy to zip",ctx:L},async({tmpDir:E,baseFs:ae})=>await m.copyPromise("/",E,{baseFs:ae}),{tmpDir:i,baseFs:_}),await this.tracer.wrap({name:"save zip",ctx:L},async()=>m.saveAndClose()),N.reportJson({name:"ArchiveSuccess",message:"Archive created successfuly at ",outputArchive:u})}}))).exitCode()});return typeof this.temporaryDirectory!="undefined"?await n(this.temporaryDirectory):await Q.xfs.mktempPromise(n)})}};Zi.paths=[["bundle"]],Zi.usage=ut.Command.Usage({category:"Bundle commands",description:"bundle a workspace package into a deployable archive",details:`
      This command will bundle up the source of the target package along with
      its dependencies into an archive.

      This is designed to be used for deployment, not for publishing, so
      everything to run except for a runtime (ie node) is bundled into
      the archive.

      Call this after you have run your build step (if any).

      This is designed to work best with zero-install configurations. If you
      don't have that, run \`yarn install\` before this command.

      Why not just compile like we do on the front-end?
      Some dependencies may use require in interesting ways, or be or call
      binaries. It's safest not to transpile them.
    `});var iA=Zi,UL=(e,t)=>`
"use strict";

const path = require("path");

const pnp = require(path.normalize(path.resolve( __dirname, "${t}"))).setup();

const index = require(path.normalize(path.resolve( __dirname,"${e}")));

Object.defineProperty(exports, "__esModule", { value: true });

exports.default = index;
`;function nA(e){let t=Q.npath.toPortablePath(e);return Q.ppath.resolve(t)}var _u=M(I("@yarnpkg/cli")),De=M(I("@yarnpkg/core")),ye=M(I("clipanion")),od=M(I("path")),so=M(qp());var j=M(I("@yarnpkg/core")),nt=M(E0()),_b=M(I("os")),lt=M(I("@yarnpkg/fslib"));var gb=M(qp()),mb=M(I("events")),Eb=M(w0()),du=M(I("path")),yb=M(M0()),nd=M(B0()),fu=M(Qp()),hu=M(cb());var Vn=class{constructor(){this.tracer=new kt("yarn.build");this.nodes={};this.size=0;this.runSize=0;this.ran=new Set;this.dryRunCallback=()=>{}}addNode(t){if(this.nodes[t])return this.nodes[t];let r=new $n(t);return this.nodes[t]=r,this.size=Object.keys(this.nodes).length,this.checkCyclical(r),r}addRunCallback(t,r){let n=t;this.nodes[t.id]||(n=this.addNode(t.id)),n.runCallback||(n.addRunCallback(r),this.runSize++)}getNode(t){if(this.nodes[t])return this.nodes[t]}resetRuns(){this.ran=new Set}checkCyclical(t){let r=new Set,n=new Set;this.resolveNode(t,r,n)}resolveNode(t,r,n){n.add(t.id),Object.keys(t.dependencies).forEach(i=>{let o=t.dependencies[i];if(!r.has(o.id)){if(n.has(o.id))throw new lu(t.id,o.id);this.resolveNode(o,r,n)}}),r.add(t.id),n.delete(t.id)}async run(t,r,n=!1){return await this.tracer.startSpan({name:"run commands",ctx:t},async({ctx:i})=>{let o=new Set,s=new Set,a={};for(let u of r)this.resolveQueue(u,o,a);return n?(await this.dryRunLoop(o,a,s,0),a):(await new Promise(u=>{this.workLoop(i,o,a,s,u)}),a)})}async dryRunLoop(t,r,n,i=0){if(n.forEach((o,s)=>{this.dryRunCallback(o,i-1),r[o.id]={success:!0,done:!0},n.delete(s)}),t.size!==0&&t.forEach(o=>{var s;o.canStart(r)&&((s=o==null?void 0:o.node)==null?void 0:s.runCallback)&&(n.add(o.node),t.delete(o))}),n.size!=0)return await this.dryRunLoop(t,r,n,i+1)}workLoop(t,r,n,i,o){if(r.size!==0&&r.forEach(s=>{var a,u;s.canStart(n)&&(((a=s==null?void 0:s.node)==null?void 0:a.runCallback)?((u=s==null?void 0:s.node)==null||u.runCallback(t,n),i.add(s.node)):n[s.node.id]={success:!0,done:!0},r.delete(s))}),i.forEach((s,a)=>{n[s.id].done&&i.delete(a)}),Object.keys(n).map(s=>{var a,u;return(u=(a=n[s])==null?void 0:a.done)!=null?u:!0}).every(s=>s===!0)){o();return}setTimeout(()=>this.workLoop(t,r,n,i,o),30)}resolveQueue(t,r,n){let i=[];if(Object.keys(t.dependencies).forEach(o=>{let s=t.dependencies[o];if(i.push(s.id),!n[s.id]&&s.runCallback){n[s.id]=q({},Vn.RunLogInit);let a=this.resolveQueue(s,r,n),u={node:s,canStart:Vn.QueueItemCanStart(a)};r.add(u)}}),!n[t.id]&&t.runCallback){n[t.id]=q({},Vn.RunLogInit);let o={node:t,canStart:Vn.QueueItemCanStart(i)};r.add(o)}return i}},oo=Vn;oo.RunLogInit={success:!1,done:!1},oo.QueueItemCanStart=t=>r=>t.map(n=>{var i,o;return(o=(i=r[n])==null?void 0:i.done)!=null?o:!0}).every(n=>n===!0);var $n=class{constructor(t){this.cancelled=!1;this.skip=!1;this.id=t,this.dependencies={}}addDependency(t){return this.dependencies[t.id]||(this.dependencies[t.id]=t),this}addRunCallback(t){return this.runCallback?this:(this.runCallback=(r,n)=>{if(!this.cancelled)return t(r,$n.cancelDependentJobs(this)).then(i=>{n[this.id]={done:!0,success:i}})},this)}static cancelDependentJobs(t){return()=>{typeof t.dependencies!="undefined"&&Object.keys(t.dependencies).forEach(r=>{let n=t.dependencies[r];n.cancelled=!0})}}},lu=class extends Error{constructor(t,r){super("");this.name="CyclicDependencyError",this.code="YN0003",this.node=t,this.dep=r}};var lb=M(Qp()),b1="",Ke=b1+"[",rd=class{static pad(t=1){for(let r=0;r<t;r++)process.stdout.write(`
`);rd.cursorUp(t)}static cursorUp(t=1){process.stdout.write(Ke+`${t}A`)}static cursorSave(){process.stdout.write(Ke+"s")}static cursorRestore(){process.stdout.write(Ke+"u")}static autoWrap(t){t?process.stdout.write(Ke+"?7h"):process.stdout.write(Ke+"?7l")}static clearScreenDown(){process.stdout.write(Ke+"J")}static async cursorPositionReport(){return new Promise(t=>{process.stdin.setRawMode(!0),process.stdin.once("data",r=>{process.stdin.setRawMode(!1),process.stdin.pause();let[n,i]=r.slice(2,r.length-1).toString().split(";").map(Number);t({x:i,y:n})}),process.stdout.write(Ke+"6n")})}static setScrollableRegion(t,r){process.stdout.write(Ke+`${t};${r}r`)}static resetScrollableRegion(){process.stdout.write(Ke+"r")}static moveTo(t){process.stdout.write(Ke+`${t.y};${t.x}H`)}static cursorHome(){process.stdout.write(Ke+"H")}static alternateScreen(){process.stdout.write(Ke+"?1049h")}static mainScreen(){process.stdout.write(Ke+"?1049l")}static linesRequired(t,r){var o;let n=new RegExp(`([^
]{0,${r}})(
)?`,"gm");return((o=(0,lb.default)(t).match(n))!=null?o:[""]).length-1}},ct=rd;ct.row=0,ct.column=0;var db=M(I("child_process")),fb=M(I("util"));var pb=()=>process.platform==="win32"?"windows":"unix";var S1=(0,fb.promisify)(db.exec),hb=async e=>{let t=pb(),r=(({platform:i,pid:o})=>{switch(i){case"unix":return`pgrep "-P ${o}"`;case"windows":return`wmic process where (ParentProcessId=${o}) get ProcessId`;default:throw new Error("Unable to find parent process")}})({platform:t,pid:e}),n=[];try{let{stdout:i}=await S1(r);n=i.split(`
`).filter(Boolean).map(o=>parseInt(o,10)).filter(o=>!isNaN(o))}catch(i){}return n};var Yn={hasBeenTerminated:!1,callId:0},pu=async(e=0)=>{if(e!==Yn.callId||Yn.hasBeenTerminated)return;let t=process.pid;(await hb(t)).forEach(i=>{try{process.kill(i,"SIGKILL")}catch(o){}});let n=Yn.callId+1;Yn.callId=n,setTimeout(async()=>{pu(n)},50)};var vb=M(B());var T1="yarn.build.json",Ab=80,R1="-".repeat(Ab),It;(function(o){o.pending="pending",o.skipped="skipped",o.inProgress="inProgress",o.failed="failed",o.succeeded="succeeded"})(It||(It={}));var oe;(function(l){l.pending="pending",l.start="start",l.info="info",l.error="error",l.skipped="skipped",l.ignored="ignored",l.success="success",l.fail="fail",l.finish="finish",l.forceQuit="force-quit"})(oe||(oe={}));var bb=class{constructor({project:t,report:r,runCommand:n,cli:i,configuration:o,pluginConfiguration:s,dryRun:a,ignoreRunCache:u,verbose:c,concurrency:l,continueOnError:d,excludeWorkspacePredicate:f}){this.tracer=new kt("yarn.build");this.runGraph=new oo;this.runLength=0;this.runTargets=[];this.runMutexes={};this.dryRun=!1;this.ignoreRunCache=!1;this.verbose=!1;this.continueOnError=!1;this.entrypoints=new Set;this.excluded=new Set;this.runReporter=new mb.EventEmitter;this.runReport={mutex:new nd.Mutex,totalJobs:0,skipCount:0,previousOutput:"",successCount:0,failCount:0,ignoredCount:0,workspaces:{},done:!1};this.header="";this.nextUnitOfWork=[];this.hasSetup=!1;this.setupRunReporter=()=>{this.runReporter.on(oe.pending,(t,r,n)=>{this.runReport.mutex.acquire().then(i=>{this.runReport.workspaces[t]={name:n,stdout:[],stderr:[],done:!1,fail:!1,locator:r},i()})}),this.runReporter.on(oe.start,(t,r,n,i)=>{this.runReport.mutex.acquire().then(o=>{this.runReport.workspaces[t]=ce(q({},this.runReport.workspaces[t]),{start:Date.now(),runScript:i,name:n,locator:r}),o()})}),this.runReporter.on(oe.info,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stdout.push(r),n()})}),this.runReporter.on(oe.error,(t,r)=>{this.runReport.mutex.acquire().then(n=>{typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),n()})}),this.runReporter.on(oe.success,t=>{this.runReport.mutex.acquire().then(r=>{var i;this.runReport.workspaces[t]=ce(q({},this.runReport.workspaces[t]),{done:!0}),this.runReport.successCount++;let n=this.runReport.workspaces[t];nt.default&&process.stdout.write(`[success] ${n.name.padEnd(60," ")}${Hr(0,(i=n.runtimeSeconds)!=null?i:0).padStart(10)}
`),r()})}),this.runReporter.on(oe.skipped,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].skipped=!0,this.runReport.skipCount++,r()})}),this.runReporter.on(oe.ignored,t=>{this.runReport.mutex.acquire().then(r=>{this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].ignored=!0,this.runReport.ignoredCount++,r()})}),this.runReporter.on(oe.fail,(t,r)=>{this.runReport.mutex.acquire().then(n=>{var s,a;typeof r!="undefined"&&this.runReport.workspaces[t].stderr.push(r),this.runReport.workspaces[t].done=!0,this.runReport.workspaces[t].fail=!0,this.runReport.failCount++,n();let i=this.runReport.workspaces[t],o=(s=this.runLog)==null?void 0:s.get(`${t}#${this.runCommand}`);nt.default&&process.stdout.write(`=> [fail${(o==null?void 0:o.exitCode)?`: ${o==null?void 0:o.exitCode}`:""}] ${i.name.padEnd(60," ")}${Hr(0,(a=i.runtimeSeconds)!=null?a:0).padStart(10)}
`)})})};this.getDependenciesCount=async t=>{let r=0;for(let n of j.Manifest.hardDependencies)for(let i of t.manifest.getForScope(n).values())this.project.tryWorkspaceByDescriptor(i)!==null&&(r+=1);return r};this.plan=async(t,r)=>{var o,s,a,u,c;if(!t)throw new Error("Internal error: lost reference to parent workspace. Please open an issue.");this.runGraph.checkCyclical(t);let n=!1;this.runMutexes[r.relativeCwd]=new nd.Mutex;for(let l of j.Manifest.hardDependencies)for(let d of r.manifest.getForScope(l).values()){let f=this.project.tryWorkspaceByDescriptor(d);if(f===null||this.excludeWorkspacePredicate(f))continue;let h=this.runGraph.addNode(f.relativeCwd);this.runGraph.addRunCallback(h,this.createRunItem(f)),t.addDependency(h),this.runGraph.checkCyclical(h);let _=await this.plan(h,f),g=!1;f!==this.project.topLevelWorkspace&&(g=await this.checkIfRunIsRequired(f)),(g||_)&&(n=!0,this.removeFromExcluded(f))}let i=!1;if(r!==this.project.topLevelWorkspace&&(i=await this.checkIfRunIsRequired(r)),this.runReporter.emit(oe.pending,r.relativeCwd,r.locator),n||i){this.runReporter.emit(oe.pending,r.relativeCwd,r.locator,`${((o=r.manifest.name)==null?void 0:o.scope)?`@${(s=r.manifest.name)==null?void 0:s.scope}/`:""}${(a=r.manifest.name)==null?void 0:a.name}`),this.runGraph.addRunCallback(t,this.createRunItem(r)),this.removeFromExcluded(r),this.entrypoints.add(t),this.runTargets.push(r);return}else{let l=(u=this.runLog)==null?void 0:u.get(`${r.relativeCwd}#${this.runCommand}`);l&&((c=this.runLog)==null||c.set(`${r.relativeCwd}#${this.runCommand}`,{lastModified:l.lastModified,status:It.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}))}};this.performDryRun=async t=>await this.tracer.startSpan({name:"performDryRun",ctx:t},async({ctx:r})=>{let n=this.concurrency;this.concurrency=1;let i="",o={1:[]};this.runGraph.dryRunCallback=(u,c)=>{o[c]?o[c].push(u.id):o[c]=[u.id]},await this.runGraph.run(r,Array.from(this.entrypoints),!0);let s=(u,c,l,d)=>{let f=d&&l?"\u2514\u2500":l?"\u2514\u2500\u252C":"\u251C\u2500";return`${u==0?"":"  ".repeat(u)}${f} ${c}`},a=Object.keys(o);return a.forEach((u,c)=>{let l=parseInt(u),d=o[l],f=c==a.length-1;d.forEach((h,_)=>{let g=this.runGraph.getNode(h);i+=s(l,h,_==d.length-1,f),g instanceof $n&&g.skip&&(i+="(skip)"),i+=`
`})}),this.concurrency=n,i});this.run=async t=>await this.tracer.startSpan({name:"command supervisor run",ctx:t},async({ctx:r})=>{var s,a;let n="";if(this.hasSetup===!1)throw new Error("RunSupervisor is not setup, you need to call await supervisor.setup()");if(this.runReport.runStart=Date.now(),(nt.default||this.dryRun)&&(n+=`${this.formatHeader("Run Order")+`
`}`,n+=await this.performDryRun(r),nt.default||(n+=`${this.formatHeader(`Dry Run / Command: ${this.runCommand} / Total: ${this.runGraph.runSize}`,0,!0)+`
`}`),process.stdout.write(n),n="",this.dryRun))return!0;nt.default||ct.pad(this.concurrency+3),nt.default&&process.stdout.write(`
${this.formatHeader(`Run / Command: ${this.runCommand} / Concurrency: ${this.concurrency}`,0,!1)+`
`}`),this.raf(this.waitUntilDone),this.currentRunTarget=this.runTargets.length>1?"All":(a=(s=this.runTargets[0])==null?void 0:s.relativeCwd)!=null?a:"Nothing to run",nt.default||process.stderr.write(`
`),this.header=this.generateHeaderString(),await this.runGraph.run(r,Array.from(this.entrypoints));let i=await this.runReport.mutex.acquire();this.runReport.done=!0,i();let o=this.generateFinalReport();return typeof o=="string"&&process.stdout.write(`
${o}
`),await this.saveRunLog(),this.runReport.failCount===0});this.raf=t=>{setImmediate(()=>t(Date.now()))};this.waitUntilDone=t=>{if(this.runReport.done)return;let r=90,n="";nt.default?this.updateProgressCI(t):(n=this.generateProgressString(t),ct.cursorUp(ct.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ct.clearScreenDown()),typeof n!="undefined"&&typeof n=="string"&&process.stdout.write(n),this.runReport.previousOutput=n,O1(r).then(()=>{this.raf(this.waitUntilDone)})};this.grey=t=>j.formatUtils.pretty(this.configuration,t,"grey");this.generateRunCountString=t=>{let r="";if(this.runReport.runStart){let n=j.formatUtils.pretty(this.configuration,`${this.runReport.successCount}`,"green"),i=j.formatUtils.pretty(this.configuration,`${this.runReport.failCount}`,"red"),o=j.formatUtils.pretty(this.configuration,`${this.runGraph.runSize}`,"white");r+=this.formatHeader(`${n}:${i}/${o} ${Hr(this.runReport.runStart,t)}`,0,!0)+`
`}return r};this.generateFinalReport=()=>{var o;nt.default||(ct.cursorUp(ct.linesRequired(this.runReport.previousOutput,process.stdout.columns)),ct.clearScreenDown());let t=!1,r="";if(this.runReport.failCount!==0&&(t=!0),this.verbose&&(t=!0),nt.default&&(t=!0),t){let s=[];r+=`${this.formatHeader(this.header)+`
`}`;for(let a in this.runReport.workspaces){let u=this.runReport.workspaces[a];u.fail&&s.push(a),!(this.runReport.failCount!==0&&u.fail===!1)&&((u.stdout.length!==0||u.stderr.length!==0)&&(r+=`
${this.formatHeader(`Output: ${j.formatUtils.pretty(this.configuration,a,j.FormatType.PATH)}`,2)+`
`}`),u.stdout.length!==0&&u.stdout.forEach(c=>{c.split(`
`).forEach(d=>{typeof d!="undefined"&&d.length!==0&&(r+=`${d+`
`}`)})}),u.stderr.length!==0&&(r+=`
${"[stderr]"+`
`}`,u.stderr.forEach(l=>{(l instanceof Error?l.toString():`${l}`).split(`
`).forEach(h=>{typeof h!="undefined"&&h.length!==0&&(r+=`${h+`
`}`)})})))}s.length>=2&&(r+=`${this.grey(R1)+`
`}`,r+=`${this.grey(`ERROR for script ${this.header}
The following packages returned an error.
`)}`,s.forEach(u=>{r+=`${`- ${j.formatUtils.pretty(this.configuration,u,j.FormatType.PATH)}`+`
`}`}))}let n=this.formatHeader(`${j.formatUtils.pretty(this.configuration,`${this.runCommand} finished`,this.runReport.failCount===0?"green":"red")}${this.runReport.failCount!=0?j.formatUtils.pretty(this.configuration,` with ${this.runReport.failCount} errors`,"red"):""}`,0,!0)+`
`;if(r+=`
`+this.formatHeader("Summary")+`
`,this.runReport.runStart){let{successCount:s,failCount:a,ignoredCount:u,skipCount:c}=this.runReport,l=this.runGraph.runSize-u,d=l-a-s-c,f=j.formatUtils.pretty(this.configuration,`Success: ${s}`,"green"),h=j.formatUtils.pretty(this.configuration,`Fail: ${a}`,"red"),_=j.formatUtils.pretty(this.configuration,`Skipped: ${c}`,"white"),g=j.formatUtils.pretty(this.configuration,`Excluded: ${this.excluded.size}`,"white"),v=j.formatUtils.pretty(this.configuration,`Up to date: ${d}`,"white"),b=j.formatUtils.pretty(this.configuration,`Total: ${l}`,"white");if(r+=f+`
`,r+=v+`
`,r+=h+`
`,this.verbose&&a>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let C=this.runReport.workspaces[y];C.fail&&(r+=` - ${j.formatUtils.pretty(this.configuration,y,"grey")}${j.formatUtils.pretty(this.configuration,C.locator,"IDENT")}
`)}),r+=_+`
`,this.verbose&&c>0&&Object.keys(this.runReport.workspaces).forEach(y=>{let C=this.runReport.workspaces[y];C.skipped&&(r+=` - ${j.formatUtils.pretty(this.configuration,y,"grey")}${j.formatUtils.pretty(this.configuration,C.locator,"IDENT")}
`)}),r+=g+`
`,this.verbose&&this.excluded.size>0)for(let y of this.excluded)r+=` - ${j.formatUtils.pretty(this.configuration,y.relativeCwd,"grey")}${j.formatUtils.pretty(this.configuration,y.locator,"IDENT")}
`;r+=b+`
`+this.grey("---")+`
`}let i=50;for(let s in this.runReport.workspaces)i+=(o=this.runReport.workspaces[s].runtimeSeconds)!=null?o:0;if(!!this.runReport.runStart&&this.runGraph.runSize>1){let s=i,u=Date.now()-this.runReport.runStart,c=Hr(u,s);nt.default||(r+=`Cumulative: (cpu): ${Hr(0,i)}
`,r+=`Saved: ${c}
`)}return this.runReport.runStart&&(r+="Runtime (wall): "+Hr(Date.now(),this.runReport.runStart)+`
`),r+=n,r+=`
`,r};this.createRunItem=t=>async(r,n)=>await this.limit(async()=>this.tracer.startSpan({name:"command",ctx:r},async({span:i,ctx:o})=>{var l,d,f,h,_,g,v,b;let s=t.relativeCwd,a={[U.PACKAGE_NAME]:t.locator.name,[U.PACKAGE_DIRECTORY]:t.relativeCwd,[U.PACKAGE_COMMAND]:this.runCommand};typeof t.locator.scope=="string"&&(a[U.PACKAGE_SCOPE]=`@${t.locator.scope}`);let u=t.manifest.scripts.get(this.runCommand);typeof u=="string"&&(a[U.YARN_BUILD_PACKAGE_RUN_COMMAND]=u);let c=(l=this.runLog)==null?void 0:l.get(`${t.relativeCwd}#${this.runCommand}`);if(this.runReporter.emit(oe.start,t.relativeCwd,t.locator,`${((d=t.manifest.name)==null?void 0:d.scope)?`@${(f=t.manifest.name)==null?void 0:f.scope}/`:""}${(h=t.manifest.name)==null?void 0:h.name}`,u),i.setAttributes(a),!u)return this.verbose&&this.runReporter.emit(oe.info,t.relativeCwd,`[skip] No \`${this.runCommand}\` script in manifest.`),this.runReporter.emit(oe.ignored,t.relativeCwd),!0;try{if(this.runReport.failCount!==0&&(this.runReporter.emit(oe.skipped,t.relativeCwd),(_=this.runLog)==null||_.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.skipped,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),i.addEvent("runReport failcount is not 0, exiting early"),this.continueOnError===!1))return!1;let y=await this.cli(o,this.runCommand,t.cwd,this.runReporter,s);if(i.setAttribute(U.YARN_BUILD_PACKAGE_RUN_COMMAND_EXIT,y),y!==0)return this.runReporter.emit(oe.fail,t.relativeCwd),(g=this.runLog)==null||g.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand,exitCode:`${y}`}),this.continueOnError===!1&&pu(),!1;(v=this.runLog)==null||v.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.succeeded,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),this.runReporter.emit(oe.success,t.relativeCwd)}catch(y){return this.runReporter.emit(oe.fail,t.relativeCwd,y),(b=this.runLog)==null||b.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:c==null?void 0:c.lastModified,status:It.failed,haveCheckedForRerun:!0,rerun:!1,command:this.runCommand}),(typeof y=="string"||y instanceof Error)&&i.recordException(y),i.setStatus({code:vb.SpanStatusCode.ERROR,message:"Command failed"}),this.continueOnError===!1&&(n(),pu()),!1}return!1}));let h=l!=null?l:Math.max(1,(0,_b.cpus)().length);this.configuration=o,this.pluginConfiguration=s,this.project=t,this.report=r,this.runCommand=n,this.cli=i,this.dryRun=a,this.ignoreRunCache=u,this.verbose=c,this.concurrency=h,this.continueOnError=d,this.limit=(0,yb.default)(h),this.queue=new Eb.default({concurrency:h,carryoverConcurrencyCount:!0,timeout:5e4,throwOnTimeout:!0,autoStart:!0}),this.excludeWorkspacePredicate=f,this.verbose&&(this.errorLogFile=lt.xfs.createWriteStream(this.getRunErrorPath(),{flags:"a"}))}async setup(){this.runLog=await this.readRunLog(),this.setupRunReporter(),this.hasSetup=!0}getRunErrorPath(){return lt.ppath.resolve(this.project.cwd,"yarn.build-error.log")}getRunLogPath(){return lt.ppath.resolve(this.project.cwd,".yarn",T1)}async readRunLog(){let t=new Map;try{let r=await lt.xfs.readJsonPromise(this.getRunLogPath());if(r&&r.packages)for(let n in r.packages)t.set(n,{lastModified:r.packages[n].lastModified,status:r.packages[n].status,haveCheckedForRerun:!1,rerun:!0,command:this.runCommand})}catch{}return t}async saveRunLog(){if(!this.runLog)return;let t;try{t=await lt.xfs.readJsonPromise(this.getRunLogPath())}catch{}let r={comment:"This is an auto-generated file, it keeps track of whats been built. This is a local file, don't store this in version control.",packages:q({},t&&t.packages)};for(let[n,i]of this.runLog)i.status===It.succeeded&&(r.packages[n]=q(q({},r.packages[n]),this.runLog.get(n)));await lt.xfs.writeJsonPromise(this.getRunLogPath(),r)}removeFromExcluded(t){this.excluded.has(t)&&this.excluded.delete(t)}async addRunTarget(t){if(this.excluded.has(t))return;if(this.excludeWorkspacePredicate(t)){this.excluded.add(t);return}let r=this.runGraph.addNode(t.relativeCwd);await this.plan(r,t)}getWorkspaceConfig(t){let r=[],n=ce(q({},this.pluginConfiguration),{folders:q(q({},this.pluginConfiguration.folders),t==null?void 0:t.manifest.raw["yarn.build"])});return Ic(n,{errors:r})?n:(console.warn(r),this.pluginConfiguration)}async checkIfRunIsRequired(t){var d,f,h,_,g,v,b,y,C,D,k,ie,F,O;if(this.ignoreRunCache===!0)return!0;if(typeof t.manifest.scripts.get(this.runCommand)!="string")return!1;let r=!1,n=lt.ppath.resolve(t.project.cwd,t.relativeCwd),i=this.getWorkspaceConfig(t),o=Array.isArray(i.folders.output)?[...i.folders.output]:[i.folders.output];typeof((f=(d=t==null?void 0:t.manifest)==null?void 0:d.raw)==null?void 0:f.bin)=="string"?o.push(t.manifest.raw.bin):typeof((g=(_=(h=t==null?void 0:t.manifest)==null?void 0:h.raw)==null?void 0:_.directories)==null?void 0:g.bin)=="string"?o.push(t.manifest.raw.directories.bin):typeof((b=(v=t==null?void 0:t.manifest)==null?void 0:v.raw)==null?void 0:b.files)=="string"?o.push(t.manifest.raw.files):Array.isArray((C=(y=t==null?void 0:t.manifest)==null?void 0:y.raw)==null?void 0:C.files)?o.push(...t.manifest.raw.files):typeof((k=(D=t==null?void 0:t.manifest)==null?void 0:D.raw)==null?void 0:k.main)=="string"&&o.push(t.manifest.raw.main);let s=o.map(T=>`${n}${du.default.posix.sep}${T}`),a=i.folders.input,u=typeof a=="string"?[a]:a,c=u==null?void 0:u.map(T=>`${n}${du.default.posix.sep}${T}`).map(T=>(T==null?void 0:T.endsWith("/."))?T.substring(0,T.length-2):T),l=await this.runReport.mutex.acquire();try{let T=(ie=this.runLog)==null?void 0:ie.get(`${t.relativeCwd}#${this.runCommand}`);if(T==null?void 0:T.haveCheckedForRerun)return(F=T==null?void 0:T.rerun)!=null?F:!0;let V=await Sb(c!=null?c:[n],s);(T==null?void 0:T.lastModified)!==V&&(r=!0),(O=this.runLog)==null||O.set(`${t.relativeCwd}#${this.runCommand}`,{lastModified:V,status:r?It.succeeded:It.pending,haveCheckedForRerun:!0,rerun:r,command:this.runCommand})}catch(T){this.runReport.workspaces[t.relativeCwd].stderr.push(new Error(`${t.relativeCwd}: failed to get lastModified (${T})`))}finally{l()}return r}formatHeader(t,r=0,n=!1){let i=`${this.grey("-".repeat(r)+"[")} ${t} ${this.grey("]")}`,o=(0,fu.default)(i).length,s=n?"[ yarn.build ]":"",a=Ab-o;return n&&(a-=s.length),i+this.grey("-".repeat(a))+this.grey(s)}generateHeaderString(){return`${j.formatUtils.pretty(this.configuration,`${this.runCommand}`,j.FormatType.CODE)} for ${j.formatUtils.pretty(this.configuration,this.currentRunTarget?this.currentRunTarget:"",j.FormatType.SCOPE)}${this.dryRun?j.formatUtils.pretty(this.configuration," --dry-run",j.FormatType.NAME):""}`}updateRuntime(t){for(let r in this.runReport.workspaces){let n=this.runReport.workspaces[r];!n||!n.start||n.done||this.runReport.runStart&&(this.runReport.workspaces[r].runtimeSeconds=t-this.runReport.runStart)}}updateProgressCI(t){this.updateRuntime(t)}generateProgressString(t){let r="",n=s=>this.grey(`[${s}]`),i=j.formatUtils.pretty(this.configuration,"IDLE","grey");r+=this.formatHeader(this.generateHeaderString())+`
`,this.updateRuntime(t);let o=1;for(let s in this.runReport.workspaces){let a=this.runReport.workspaces[s];if(!a||!a.start||a.done)continue;let u=j.formatUtils.pretty(this.configuration,s,j.FormatType.PATH),c=j.formatUtils.pretty(this.configuration,`(${a.runScript})`,j.FormatType.REFERENCE),l=a.start?j.formatUtils.pretty(this.configuration,Hr(a.start,t),j.FormatType.RANGE):"",d=n(o++),f=" ".repeat(d.length-1),h=j.formatUtils.pretty(this.configuration,a.name,j.FormatType.NAME),_=`${d} ${h}${j.formatUtils.pretty(this.configuration,"@","grey")}${u} ${c} ${l}
`,g="",v="",b="";(0,fu.default)(_).length>=process.stdout.columns&&(g=`${d} ${u}${h}
`,v=`${f} ${c} ${l}
`,(0,fu.default)(g).length>=process.stdout.columns&&(g=(0,hu.default)(`${d} ${u}
`,0,process.stdout.columns),v=(0,hu.default)(`${f} ${h}
`,0,process.stdout.columns),b=(0,hu.default)(`${f} ${c} ${l}
`,0,process.stdout.columns)),_=g+v+b),r+=_}for(o;o<this.concurrency+1;)r+=`${n(o++)} ${i}
`;return this.runReport.runStart&&(r+=this.generateRunCountString(t)),r}},Sb=async(e,t)=>{let r=await Promise.all(e.map(async n=>{if((t==null?void 0:t.some(o=>n.startsWith(o)))||(t==null?void 0:t.some(o=>gb.default.isMatch(n,o))))return 0;let i=await lt.xfs.statPromise(n);if(i.isFile())return i.mtimeMs;if(i.isDirectory()){let o=await lt.xfs.readdirPromise(n);return await Sb(o.map(s=>`${n}${du.default.posix.sep}${s}`),t)}return 0}));return Math.max(...r)},Hr=(e,t)=>{let r=Math.abs(t-e),n="",i=Math.trunc(r/6e4);return i&&(n+=`${i}m`,r-=i*6e4),r&&(i&&(n+=" "),n+=`${(r/1e3).toFixed(2)}s`),n};function O1(e){return new Promise(t=>setTimeout(t,e))}var Tb=bb;var Rb=M(I("child_process"));async function id(e){return new Promise((t,r)=>{let n="";if(e.commit&&(n=`git diff --name-only ..${e.commit}`),e.sinceBranch&&e.sinceBranch.length>0&&(n=`git diff --name-only ${e.sinceBranch}...`),n.length===0)throw new Error("Unable to determine how to detect changes.");(0,Rb.exec)(n,(i,o,s)=>{if(i&&r(i),o){let a=o.split(`
`),c=[...e.root.workspacesCwds].map(l=>{if(a.some(d=>d.startsWith(l.replace(`${e.root.cwd}/`,""))))return l}).filter(l=>!!l).map(l=>!!l&&e.root.project.workspacesByCwd.get(l)).filter(l=>!!l);t(c)}s&&t([])})})}var $r=M(I("@yarnpkg/core"));var Ob=(e,t)=>{let r=[];for(let n of e.workspacesCwds){let i=t.workspacesByCwd.get(n);i&&r.push(i,...Ob(i,t))}return r},Cb=async({targetWorkspace:e,project:t,supervisor:r})=>{try{if(e.workspacesCwds.size!==0){let n=Ob(e,t);for(let i of n)for(let o of $r.Manifest.hardDependencies){for(let s of i.manifest.getForScope(o).values()){let a=t.tryWorkspaceByDescriptor(s);a!==null&&await r.addRunTarget(a)}await r.addRunTarget(i)}await r.addRunTarget(e)}else await r.addRunTarget(e)}catch(n){if(n instanceof lu){let i=`${r.formatHeader("FATAL")}

You have a cyclic dependency.`,o=n.node.length<n.dep.length+4?"\u21B0":"",s=n.node.length>n.dep.length+4?"\u2934":"";i+=`

${$r.formatUtils.pretty(r.configuration,n.node,"white")} ${o}
 \u21B3 ${$r.formatUtils.pretty(r.configuration,n.dep,"red")} ${s}

`,i+=$r.formatUtils.pretty(r.configuration,`
---

To fix this error you must remove the cyclic dependency.

Workspaces cannot directly or indirectly depend on each other. When running
the provided command yarn.build uses a parallelsied topological sort. This
maximises throughput (saving you time) while ensuring dependencies are run in
the order declared.

In a cyclic dependency A depends on B, which depends on A. Or in an indirect cyclic
dependency, A depends on B, which depends on C, and C depends on A.

In both cases A cannot be built, because to we cannot determine which one goes
first.

---
While some tooling may adapt to cyclic dependencies yarn.build cannot. Doing so
is unsound and unpredictable which goes against the stated goals of the tool.

In most cases this issue occurs by accident when you delcare a dependency on the
wrong package.

In some cases yuo may actually want the cyclic dependency. As that's not
possible, find the parts that are shared and move them to their own package
that both packages can depend on.
---

`,"grey"),i+=$r.formatUtils.pretty(r.configuration,"FATAL: You have a cyclic dependency.","red"),console.error(i),process.exit(2)}else console.error("An error occured in yarn.build.",n)}};var ao=M(B());var uo=class extends _u.BaseCommand{constructor(){super(...arguments);this.json=ye.Option.Boolean("--json",!1,{description:`flag is set the output will follow a JSON-stream output
      also known as NDJSON (https://github.com/ndjson/ndjson-spec).`});this.all=ye.Option.Boolean("-A,--all",!1,{description:"run for all workspaces of a project"});this.buildCommand=ye.Option.String("-c,--build-command","build",{description:'the command to be run in each package (if available), defaults to "build"'});this.interlaced=ye.Option.Boolean("-i,--interlaced",!0,{description:"If false it will instead buffer the output from each process and print the resulting buffers only after their source processes have exited. Defaults to false."});this.verbose=ye.Option.Boolean("-v,--verbose",!1,{description:"more information will be logged to stdout than normal."});this.dryRun=ye.Option.Boolean("-d,--dry-run",!1,{description:"simulate running a build, but not actually run it"});this.ignoreBuildCache=ye.Option.Boolean("-r,--ignore-cache",!1,{description:"every package will be built, regardless of whether is has changed or not."});this.maxConcurrency=ye.Option.String("-m,--max-concurrency",{description:"is the maximum number of builds that can run at a time, defaults to the number of logical CPUs on the current machine. Will override the global config option."});this.continueOnError=ye.Option.Boolean("--continue-on-error",!1,{description:"if a build fails, continue with the rest"});this.exclude=ye.Option.Array("--exclude",{description:"exclude specifc packages or glob paths from being built, including their dependencies."});this.excludeCurrent=ye.Option.Boolean("--exclude-current",!1,{description:"build this workspaces dependencies, but not this workspace. Useful for running as part of a `dev` command."});this.onlyGitChanges=ye.Option.Boolean("--changes",!1,{description:"only build packages that were changed in the last commit"});this.onlyGitChangesSinceCommit=ye.Option.String("--since",{description:"only build packages that were changed since the given commit"});this.onlyGitChangesSinceBranch=ye.Option.String("--since-branch",{description:"only build packages that have changes compared to the give branch. Uses 'git diff --name-only branch...'",arity:1});this.onlyCurrent=ye.Option.Boolean("--only-current",!1,{description:"only build the current workspace"});this.buildTargets=ye.Option.Rest({name:"workspaceNames"});this.forceQuit=!1;this.buildLog={};this.commandType="build"}async execute(){return await new kt("yarn.build").startSpan({name:`yarn ${this.commandType}`,propegateFromEnv:!0},async({span:r,ctx:n})=>{var v,b;r.setAttributes({[U.YARN_BUILD_FLAGS_OUTPUT_JSON]:this.json,[U.YARN_BUILD_FLAGS_ALL]:this.all,[U.YARN_BUILD_FLAGS_TARGETS]:this.buildTargets,[U.YARN_BUILD_FLAGS_COMMAND]:this.buildCommand,[U.YARN_BUILD_FLAGS_INTERLACED]:this.interlaced,[U.YARN_BUILD_FLAGS_VERBOSE]:this.verbose,[U.YARN_BUILD_FLAGS_DRY_RUN]:this.dryRun,[U.YARN_BUILD_FLAGS_IGNORE_CACHE]:this.ignoreBuildCache,[U.YARN_BUILD_FLAGS_MAX_CONCURRENCY]:this.maxConcurrency,[U.YARN_BUILD_FLAGS_CONTINUE_ON_ERROR]:this.continueOnError,[U.YARN_BUILD_FLAGS_EXCLUDE]:this.exclude,[U.YARN_BUILD_FLAGS_EXCLUDE_CURRENT]:this.excludeCurrent,[U.YARN_BUILD_FLAGS_CHANGES]:this.onlyGitChanges,[U.YARN_BUILD_FLAGS_SINCE]:this.onlyGitChangesSinceCommit,[U.YARN_BUILD_FLAGS_SINCE_BRANCH]:this.onlyGitChangesSinceBranch,[U.YARN_BUILD_FLAGS_ONLY_CURRENT]:this.onlyCurrent});let i=await De.Configuration.find(this.context.cwd,this.context.plugins),{project:o,workspace:s}=await De.Project.find(i,this.context.cwd);if(!s)throw new _u.WorkspaceRequiredError(o.cwd,this.context.cwd);let a=this.all?o.topLevelWorkspace:s,u=!1;a==o.topLevelWorkspace&&(u=!0);let c=[a,...this.buildTargets.length>0?a.getRecursiveWorkspaceChildren():[]];typeof this.onlyGitChangesSinceBranch=="string"?c=await id({root:o.topLevelWorkspace,sinceBranch:this.onlyGitChangesSinceBranch}):(this.onlyGitChanges||this.onlyGitChangesSinceCommit)&&(c=await id({root:o.topLevelWorkspace,commit:(v=this.onlyGitChangesSinceCommit)!=null?v:"1"})),Array.isArray(this.exclude)||(this.exclude=[]),this.excludeCurrent&&this.exclude.push(De.structUtils.stringifyIdent(s.locator)),!u&&this.onlyCurrent&&(this.maxConcurrency="1");let l=y=>{var C,D;return!u&&this.onlyCurrent?y!=s:(D=(C=this.exclude)==null?void 0:C.some(k=>so.default.isMatch(De.structUtils.stringifyIdent(y.locator),k)||so.default.isMatch(y.cwd,`${i.projectCwd}${od.default.posix.sep}${k}`)))!=null?D:!1},d=y=>!u&&this.onlyCurrent?y==s:this.buildTargets.some(C=>so.default.isMatch(De.structUtils.stringifyIdent(y.locator),C)||so.default.isMatch(y.cwd,`${i.projectCwd}${od.default.posix.sep}${C}`)),f=this.buildTargets.length>0?c.filter(d):c,h=await kh(i);this.continueOnError=(b=this.continueOnError)!=null?b:!!h.bail;let _=this.maxConcurrency===void 0?h.maxConcurrency:parseInt(this.maxConcurrency);r.setAttributes({[U.YARN_BUILD_CONFIG_FOLDERS_INPUT]:h.folders.input,[U.YARN_BUILD_CONFIG_FOLDERS_OUTPUT]:h.folders.output,[U.YARN_BUILD_CONFIG_EXCLUDE]:h.exclude,[U.YARN_BUILD_CONFIG_BAIL]:h.bail,[U.YARN_BUILD_CONFIG_HIDE_BADGE]:h.hideYarnBuildBadge,[U.YARN_BUILD_CONFIG_MAX_CONCURRENCY]:h.maxConcurrency});let g=await De.StreamReport.start({configuration:i,json:this.json,stdout:this.context.stdout,includeLogs:!0},async y=>{let C=async(k,ie,F,O,T)=>{let V=ao.trace.getSpan(k),A=new De.miscUtils.BufferStream;A.on("data",N=>O==null?void 0:O.emit(oe.info,T,N&&N.toString()));let L=new De.miscUtils.BufferStream;if(L.on("data",N=>O==null?void 0:O.emit(oe.error,T,N&&N.toString())),this.forceQuit)return A.destroy(),L.destroy(),A.end(),L.end(),2;try{let N=await this.cli.run(["run",ie],{cwd:F,stdout:A,stderr:L})||0;return A.end(),L.end(),N}catch(N){V==null||V.setStatus({code:ao.SpanStatusCode.ERROR,message:N.message}),(typeof N=="string"||N instanceof Error)&&(V==null||V.recordException(N)),A.end(),L.end()}return 2},D=new Tb({project:o,configuration:i,pluginConfiguration:h,report:y,runCommand:this.buildCommand,cli:C,dryRun:this.dryRun,ignoreRunCache:this.ignoreBuildCache,verbose:this.verbose,concurrency:_,continueOnError:this.continueOnError,excludeWorkspacePredicate:l});D.runReporter.on(oe.forceQuit,()=>{this.forceQuit=!0}),await D.setup();for(let k of f)await Cb({targetWorkspace:k,project:o,supervisor:D});try{await D.run(n)===!1&&(y.reportError(De.MessageName.BUILD_FAILED,"Build failed"),r.setStatus({code:ao.SpanStatusCode.ERROR,message:"Build failed"}))}finally{r.end()}});return Yn.hasBeenTerminated=!0,g.exitCode()})}};uo.paths=[["build"]],uo.usage=ye.Command.Usage({category:"Build commands",description:"build a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are built in the right order.

    `});var gu=uo;var jb=M(I("@yarnpkg/cli")),kb=M(I("@yarnpkg/core")),Eu=M(I("@yarnpkg/core")),Fb=M(I("clipanion"));var pt=e=>{if(e==null)throw new Error("Invalid name");return e.scope?`@${e.scope}/${e.name}`:e.name};var Pb=({workspace:e,project:t})=>{let r=Array.from(e.manifest.dependencies.values()).map(i=>pt(i)),n=Array.from(t.workspaces.values()).map(i=>pt(i.manifest.name));return r.filter(i=>n.includes(i))};var Ib=({project:e,workspaceName:t})=>e.workspaces.find(n=>pt(n.manifest.name)===t);var Nb=M(I("@yarnpkg/core"));var C1={firstCharacters:"\u27A4 ",tabString:"\u2502 "},wb="gray",co=({format:e,padding:t,step:r=5,characters:n=C1})=>{let{firstCharacters:i,tabString:o}=n,s=o.split("");for(let a=0;a<t;a++){let u=Array(r).fill(" ").map((c,l)=>l<s.length?s[l]:c).join("");process.stdout.write(e(u,wb))}process.stdout.write(e(i,wb))};var P1=Nb.FormatType.NAME,xb="red",Lb=({format:e,circular:t,dependency:r,parents:n,current:i,project:o,padding:s=0})=>{if(t){co({format:e,padding:s+1}),process.stdout.write(e(r,P1)),process.stdout.write(e(" -> circular dependency",xb)),process.stdout.write(`
`);return}let a=Ib({project:o,workspaceName:r});if(!a){co({format:e,padding:s+1}),process.stdout.write(r),process.stdout.write(e("-> incorrect dependency",xb)),process.stdout.write(`
`);return}mu({format:e,project:o,parent:i,parents:[...n,i],padding:s+1,workspace:a})};var Mb=({format:e,workspace:t,parent:r,parents:n,project:i,padding:o=0})=>{let s=Pb({workspace:t,project:i});for(let a of s)Lb({format:e,workspace:t,project:i,padding:o,parent:r,parents:n,current:pt(t.manifest.name),circular:r===a||n.includes(a),dependency:a})};var Db=M(I("@yarnpkg/core"));var I1=Db.FormatType.NAME,Bb=({format:e,workspace:t,padding:r=0})=>{let{name:n}=t.manifest,i=pt(n);co({format:e,padding:r}),process.stdout.write(e(i,I1)),process.stdout.write(`
`)};var mu=({format:e,workspace:t,project:r,parents:n,padding:i=0,parent:o})=>{Bb({workspace:t,padding:i,format:e}),Mb({parents:n,workspace:t,project:r,padding:i,parent:o,format:e})};var lo=({padding:e})=>{for(let t=0;t<e;t++)process.stdout.write(`
`)};var Ub=({workspace:e,format:t})=>{let r=pt(e.manifest.name);process.stdout.write(`Build query for package: ${t(r,"bold")}`),lo({padding:1})};var po=class extends jb.BaseCommand{async execute(){let t=await Eu.Configuration.find(this.context.cwd,this.context.plugins),{project:r,workspace:n}=await Eu.Project.find(t,this.context.cwd);if(!n)return 0;let i=(o,s)=>kb.formatUtils.pretty(t,o,s);return lo({padding:1}),Ub({workspace:n,format:i}),mu({parents:[],workspace:n,project:r,format:i}),lo({padding:2}),0}};po.paths=[["build","query"]],po.usage=Fb.Command.Usage({category:"Build commands",description:"prints out dependency graph for current package",details:`
          In a monorepo with internal packages that depend on others, this command
          will traverse the dependency graph and efficiently ensure, the packages
          are built in the right order.

        `});var qb=po;var fo=M(I("clipanion"));var ho=class extends gu{constructor(){super(...arguments);this.buildCommand=fo.Option.String("-c,--command","test",{description:'the command to be run in each package (if available), defaults to "test"'});this.onlyCurrent=fo.Option.Boolean("--only-current",!0,{description:"only test the current workspace"});this.commandType="test"}};ho.paths=[["test"]],ho.usage=fo.Command.Usage({category:"Test commands",description:"test a package and all its dependencies",details:`
      In a monorepo with internal packages that depend on others, this command
      will traverse the dependency graph and efficiently ensure, the packages
      are tested in the right order.
      `});var Gb=ho;var w1={commands:[iA,qb,gu,Gb]},N1=w1;return x1;})();
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
return plugin;
}
};
